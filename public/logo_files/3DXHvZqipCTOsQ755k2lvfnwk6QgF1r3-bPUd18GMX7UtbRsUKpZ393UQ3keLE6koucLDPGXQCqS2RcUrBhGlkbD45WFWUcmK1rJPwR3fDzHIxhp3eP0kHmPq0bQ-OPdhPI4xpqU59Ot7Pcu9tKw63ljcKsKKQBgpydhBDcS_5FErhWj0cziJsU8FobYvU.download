;/*FB_PKG_DELIM*/

__d("BizInboxUnifiedThreadsQuery.graphql",["relay-runtime"],(function(aa,ba,ca,da,ea,fa){"use strict";aa=function(){var aa={defaultValue:null,kind:"LocalArgument",name:"before"},ba={defaultValue:[],kind:"LocalArgument",name:"businessAssets"},ca={defaultValue:!1,kind:"LocalArgument",name:"getShouldUnifyConfigQueries"},da={defaultValue:480,kind:"LocalArgument",name:"height"},ea={defaultValue:null,kind:"LocalArgument",name:"ig_params"},fa={defaultValue:!0,kind:"LocalArgument",name:"includeDeliveryReceipts"},ga={defaultValue:!1,kind:"LocalArgument",name:"includeSeqID"},ha={defaultValue:!1,kind:"LocalArgument",name:"isDependencyOfRemovePageDependencyEnabledTool"},ia={defaultValue:!1,kind:"LocalArgument",name:"isWorkUser"},ja={defaultValue:!1,kind:"LocalArgument",name:"is_work_teamwork_not_putting_muted_in_unreads"},ka={defaultValue:null,kind:"LocalArgument",name:"item_after"},la={defaultValue:null,kind:"LocalArgument",name:"item_limit"},ma={defaultValue:!1,kind:"LocalArgument",name:"loadThreadItems"},na={defaultValue:!0,kind:"LocalArgument",name:"loadThreads"},oa={defaultValue:!1,kind:"LocalArgument",name:"load_delivery_receipts"},pa={defaultValue:!0,kind:"LocalArgument",name:"load_items"},qa={defaultValue:!0,kind:"LocalArgument",name:"load_messages"},ra={defaultValue:!0,kind:"LocalArgument",name:"load_read_receipts"},sa={defaultValue:null,kind:"LocalArgument",name:"message_limit"},ta={defaultValue:null,kind:"LocalArgument",name:"msgr_params"},ua={defaultValue:null,kind:"LocalArgument",name:"msgr_pending_params"},va={defaultValue:null,kind:"LocalArgument",name:"page_id"},wa={defaultValue:null,kind:"LocalArgument",name:"selected_item_id"},xa={defaultValue:!1,kind:"LocalArgument",name:"should3DContextCardSections"},ya={defaultValue:!1,kind:"LocalArgument",name:"shouldSkipMessage"},za={defaultValue:!1,kind:"LocalArgument",name:"shouldSkipPageQuery"},Aa={defaultValue:!1,kind:"LocalArgument",name:"shouldUnifyContextCardQueries"},Ba={defaultValue:null,kind:"LocalArgument",name:"source"},Ca={defaultValue:!1,kind:"LocalArgument",name:"threadlistViewFieldsOnly"},Da={defaultValue:null,kind:"LocalArgument",name:"wa_params"},Ea={defaultValue:null,kind:"LocalArgument",name:"wa_pending_params"},Fa={defaultValue:480,kind:"LocalArgument",name:"width"},Ga={alias:"unused",args:[{kind:"Variable",name:"string",variableName:"source"}],kind:"ScalarField",name:"xfb_returns_zero_make_parameter_used",storageKey:null},Ha=[{kind:"Variable",name:"ig_params",variableName:"ig_params"},{kind:"Variable",name:"msgr_params",variableName:"msgr_params"},{kind:"Variable",name:"selected_item_id",variableName:"selected_item_id"},{kind:"Variable",name:"wa_params",variableName:"wa_params"}],Ia={alias:null,args:null,kind:"ScalarField",name:"sync_sequence_id",storageKey:null},Ja={condition:"includeSeqID",kind:"Condition",passingValue:!0,selections:[Ia]},a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},Ka={alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null},La={alias:null,args:null,concreteType:"MessageThreadKey",kind:"LinkedField",name:"thread_key",plural:!1,selections:[Ka,{alias:null,args:null,kind:"ScalarField",name:"other_user_id",storageKey:null}],storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},Ma=[{kind:"Literal",name:"last",value:1}],c={alias:null,args:null,kind:"ScalarField",name:"snippet",storageKey:null},d=[a],Na={alias:null,args:null,kind:"ScalarField",name:"timestamp_precise",storageKey:null},Oa={alias:null,args:null,kind:"ScalarField",name:"commerce_message_type",storageKey:null},Pa={alias:null,args:null,kind:"ScalarField",name:"legacy_attachment_id",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},f=[e],Qa={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"description",plural:!1,selections:f,storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},Ra={alias:null,args:null,kind:"ScalarField",name:"action_url",storageKey:null},Sa={alias:null,args:null,kind:"ScalarField",name:"native_url",storageKey:null},i=[g,h,Ra,Sa,{alias:null,args:null,kind:"ScalarField",name:"target_id",storageKey:null}];i={alias:null,args:null,concreteType:"MessengerGenericXMATemplateExtraFields",kind:"LinkedField",name:"messenger_generic_xma_template_extra_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"media_owner_profile_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"media_owner_profile_pic_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"favicon_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"favicon_url_fallback",storageKey:null},{alias:null,args:null,concreteType:"MessengerGenericXMATemplateCTA",kind:"LinkedField",name:"default_cta",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"MessengerGenericXMATemplateCTA",kind:"LinkedField",name:"cta1",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"MessengerGenericXMATemplateCTA",kind:"LinkedField",name:"cta2",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"MessengerGenericXMATemplateCTA",kind:"LinkedField",name:"cta3",plural:!1,selections:i,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"list_item_id_1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"list_item_contact_url_list_1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"list_item_contact_url_expiration_timestamp_list_1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"list_item_contact_url_fallback_list_1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"list_item_title_text_1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"list_item_accessibility_text_1",storageKey:null}],storageKey:null};var j={alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},k=[{kind:"Literal",name:"height",value:240},{kind:"Literal",name:"width",value:240}],l={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},m=[l],Ta=[{kind:"Literal",name:"height",value:120},{kind:"Literal",name:"width",value:120}],n={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null};k=[a,{alias:null,args:null,concreteType:"StickerPack",kind:"LinkedField",name:"pack",plural:!1,selections:d,storageKey:null},j,{alias:null,args:null,kind:"ScalarField",name:"frame_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frame_rate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frames_per_row",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frames_per_column",storageKey:null},{alias:"sprite_image_2x",args:k,concreteType:"Image",kind:"LinkedField",name:"sprite_image",plural:!1,selections:m,storageKey:"sprite_image(height:240,width:240)"},{alias:null,args:Ta,concreteType:"Image",kind:"LinkedField",name:"sprite_image",plural:!1,selections:m,storageKey:"sprite_image(height:120,width:120)"},{alias:null,args:Ta,concreteType:"Image",kind:"LinkedField",name:"padded_sprite_image",plural:!1,selections:m,storageKey:"padded_sprite_image(height:120,width:120)"},{alias:"padded_sprite_image_2x",args:k,concreteType:"Image",kind:"LinkedField",name:"padded_sprite_image",plural:!1,selections:m,storageKey:"padded_sprite_image(height:240,width:240)"},n,o,p];var Ua={kind:"InlineFragment",selections:k,type:"Sticker",abstractKey:null},q=[l,o,p],Va={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"animated_image",plural:!1,selections:q,storageKey:null},Wa={kind:"Literal",name:"sizing",value:"contain-fit"},Xa=[Wa],Ya={alias:null,args:Xa,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:q,storageKey:'image(sizing:"contain-fit")'},r={alias:null,args:null,kind:"ScalarField",name:"playable_duration_in_ms",storageKey:null},Za={alias:null,args:null,kind:"ScalarField",name:"is_playable",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"playable_url",storageKey:null},t={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[Ua,Va,Ya,r,Za,s],storageKey:null},$a={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"source",plural:!1,selections:f,storageKey:null},ab={alias:null,args:null,kind:"ScalarField",name:"style_list",storageKey:null},bb={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title_with_entities",plural:!1,selections:f,storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},cb={alias:null,args:null,concreteType:"AttachmentProperty",kind:"LinkedField",name:"properties",plural:!0,selections:[u,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"value",plural:!1,selections:f,storageKey:null}],storageKey:null},db={alias:"url",args:null,kind:"ScalarField",name:"messenger_dot_com_url",storageKey:null},eb={alias:null,args:null,kind:"ScalarField",name:"deduplication_key",storageKey:null},fb={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action_links",plural:!0,selections:[h,n],storageKey:null},gb={alias:null,args:null,concreteType:"MessagingAttribution",kind:"LinkedField",name:"messaging_attribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"attribution_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attribution_id",storageKey:null},b,{alias:null,args:null,kind:"ScalarField",name:"icon_url",storageKey:null}],storageKey:null},hb={alias:"action_link",args:null,kind:"ScalarField",name:"action_url",storageKey:null},ib={alias:null,args:null,kind:"ScalarField",name:"action_open_type",storageKey:null},jb={alias:null,args:null,kind:"ScalarField",name:"preview_title",storageKey:null},kb={alias:null,args:null,kind:"ScalarField",name:"preview_subtitle",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"target_display",storageKey:null},lb={alias:null,args:null,kind:"ScalarField",name:"image_url",storageKey:null},w={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action_objects",plural:!0,selections:[{kind:"InlineFragment",selections:[a,jb,kb,v,lb],type:"MessengerPlatformEntPreview",abstractKey:"__isMessengerPlatformEntPreview"}],storageKey:null},mb={alias:"title",args:null,kind:"ScalarField",name:"action_title",storageKey:null},nb={alias:null,args:null,concreteType:"MessengerCTAUserConfirmation",kind:"LinkedField",name:"user_confirmation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"cancel_button_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"continue_button_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"confirmation_message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"confirmation_title",storageKey:null}],storageKey:null},ob={alias:null,args:null,kind:"ScalarField",name:"is_disabled",storageKey:null},pb={alias:null,args:null,kind:"ScalarField",name:"is_mutable_by_server",storageKey:null},qb={alias:null,args:null,kind:"ScalarField",name:"logging_token",storageKey:null},rb={alias:"render_style",args:null,kind:"ScalarField",name:"cta_render_style",storageKey:null},sb={alias:null,args:null,concreteType:"MessengerPlatformWebviewMetadata",kind:"LinkedField",name:"webview_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fallback_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"messenger_extensions",storageKey:null},{alias:"webview_height_ratio",args:null,kind:"ScalarField",name:"height_ratio",storageKey:null},{alias:"webview_share_button",args:null,kind:"ScalarField",name:"hide_share_button",storageKey:null}],storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"page_id",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"placeholder",storageKey:null},tb={alias:null,args:null,kind:"ScalarField",name:"subtitle",storageKey:null},z={alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},ub={alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null},vb={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"form_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"form_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"form_num_screens",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"form_current_screen_index",storageKey:null},{alias:null,args:null,concreteType:"MessengerPIIFormScreenObject",kind:"LinkedField",name:"form_first_screen",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"screen_title",storageKey:null},{alias:null,args:null,concreteType:"MessengerPIIQuestionObject",kind:"LinkedField",name:"questions",plural:!0,selections:[a,g,h,y,tb,z,ub,{alias:null,args:null,kind:"ScalarField",name:"mask",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MessengerPIIBusinessPrivacyObject",kind:"LinkedField",name:"business_privacy",plural:!1,selections:[e,n],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"form_color_theme",storageKey:null}],type:"MessengerDirectSendCallToActionData",abstractKey:null};y={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"feedback_form_current_screen_index",storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedbackFormScreenObject",kind:"LinkedField",name:"feedback_form_first_screen",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerFeedbackQuestionObject",kind:"LinkedField",name:"feedback_questions",plural:!0,selections:[a,h,g,{alias:null,args:null,kind:"ScalarField",name:"score_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"left_score_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"right_score_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"score_option",storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedBackQuestionFollowup",kind:"LinkedField",name:"follow_up",plural:!1,selections:[g,y],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feedback_form_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feedback_form_num_screens",storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedbackBusinessPrivacyObject",kind:"LinkedField",name:"feedback_form_privacy_policy",plural:!1,selections:[e,j,n],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feedback_form_state",storageKey:null}],type:"MessengerFeedbackFormOpenCallToActionData",abstractKey:null};var A={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"cta_data",plural:!1,selections:[vb,y],storageKey:null},wb={alias:null,args:null,kind:"ScalarField",name:"is_high_confidence",storageKey:null},xb={alias:null,args:null,concreteType:"MessengerCallToAction",kind:"LinkedField",name:"messenger_call_to_actions",plural:!0,selections:[hb,ib,w,mb,nb,a,ob,pb,qb,rb,sb,x,A,wb,Sa],storageKey:null},yb={alias:null,args:null,concreteType:"XMALayoutInfo",kind:"LinkedField",name:"xma_layout_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout_type",storageKey:null}],storageKey:null},B={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},zb={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"listing_type",storageKey:null},{alias:null,args:null,concreteType:"CrisisListingCategoryWrapper",kind:"LinkedField",name:"listing_category",plural:!1,selections:[{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"offer_image",plural:!1,selections:m,storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"request_image",plural:!1,selections:m,storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:315},{kind:"Literal",name:"width",value:851}],concreteType:"Image",kind:"LinkedField",name:"map_image",plural:!1,selections:m,storageKey:"map_image(height:315,width:851)"}],type:"CrisisListing",abstractKey:null},Ab={alias:null,args:null,kind:"ScalarField",name:"filename",storageKey:null},Bb={alias:null,args:null,kind:"ScalarField",name:"url_shimhash",storageKey:null},Cb={alias:null,args:null,kind:"ScalarField",name:"extension",storageKey:null},Db={alias:null,args:null,kind:"ScalarField",name:"filesize",storageKey:null},Eb={alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},C={alias:"transfer_id",args:null,kind:"ScalarField",name:"id",storageKey:null},D={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:m,storageKey:null},E=[a,{alias:"name",args:null,kind:"ScalarField",name:"short_name",storageKey:null},{alias:"full_name",args:null,kind:"ScalarField",name:"name",storageKey:null},D,n],Fb={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:E,storageKey:null};E={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"receiver",plural:!1,selections:E,storageKey:null};var Gb={alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null};u={alias:"actionDatas",args:null,concreteType:"PaymentActivityActionData",kind:"LinkedField",name:"action_datas",plural:!0,selections:[B,{alias:"additionalInfo",args:null,concreteType:"PaymentActivityActionDataAdditionalInfo",kind:"LinkedField",name:"additional_info",plural:!0,selections:[u,Gb],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"identifier",storageKey:null},{alias:"inputType",args:null,kind:"ScalarField",name:"input_type",storageKey:null},z,{alias:null,args:null,kind:"ScalarField",name:"optional",storageKey:null},{alias:"placeholderText",args:null,kind:"ScalarField",name:"placeholder_text",storageKey:null}],storageKey:null};var Hb={alias:"actionIdentifier",args:null,kind:"ScalarField",name:"action_identifier",storageKey:null},Ib={alias:null,args:null,kind:"ScalarField",name:"style",storageKey:null},Jb={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:f,storageKey:null},Kb={kind:"InlineFragment",selections:[{alias:"receiptView",args:null,concreteType:"PaymentReceiptView",kind:"LinkedField",name:"receipt_view",plural:!1,selections:[{alias:"additionalInstruction",args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"additional_instruction",plural:!1,selections:f,storageKey:null},a,{alias:"otherParticipant",args:null,concreteType:"PaymentActivityParticipantView",kind:"LinkedField",name:"other_participant",plural:!1,selections:[{alias:"imageUrl",args:null,kind:"ScalarField",name:"image_url",storageKey:null},tb,h],storageKey:null},{alias:null,args:null,concreteType:"PaymentActivityViewSection",kind:"LinkedField",name:"sections",plural:!0,selections:[{alias:"preferredPosition",args:null,kind:"ScalarField",name:"preferred_position",storageKey:null}],storageKey:null},Jb],storageKey:null}],type:"P2POpenReceiptActionButton",abstractKey:null},F={alias:null,args:null,kind:"ScalarField",name:"amount",storageKey:null},Lb={alias:null,args:null,kind:"ScalarField",name:"currency",storageKey:null},G=[F,Lb,{alias:"formattedAmount",args:null,kind:"ScalarField",name:"formatted_amount",storageKey:null}],Mb={alias:"amount",args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"currency_amount",plural:!1,selections:G,storageKey:null},H=[B,u,Hb,Ib,h,Kb,{kind:"InlineFragment",selections:[{alias:"moneyTransfer",args:null,concreteType:null,kind:"LinkedField",name:"generic_money_transfer",plural:!1,selections:[C,Fb,E,Mb],storageKey:null}],type:"P2PPaymentActionButtonWithTransfer",abstractKey:null}],Nb={alias:"componentType",args:null,kind:"ScalarField",name:"component_type",storageKey:null},Ob={alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null};G={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"amount",plural:!1,selections:G,storageKey:null},Ob],type:"P2PBubbleAmountComponent",abstractKey:null};var I=[{alias:"dimensionlessCacheKey",args:null,kind:"ScalarField",name:"dimensionless_cache_key",storageKey:null},o,{alias:"isSilhouette",args:null,kind:"ScalarField",name:"is_silhouette",storageKey:null},{alias:"mimeType",args:null,kind:"ScalarField",name:"mime_type",storageKey:null},b,{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},l,p],Pb={kind:"InlineFragment",selections:[{alias:"aspectRatio",args:null,kind:"ScalarField",name:"aspect_ratio",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:I,storageKey:null}],type:"P2PBubbleImageComponent",abstractKey:null};I={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"alignment",storageKey:null},Ob,{alias:"facepileUsers",args:null,concreteType:"User",kind:"LinkedField",name:"facepile_users",plural:!0,selections:[a,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:I,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"images",plural:!0,selections:I,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null},e],type:"P2PBubbleTextComponent",abstractKey:null};var Qb={alias:"iconCurrencyCode",args:null,kind:"ScalarField",name:"icon_currency_code",storageKey:null};H={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"P2PBubbleView",kind:"LinkedField",name:"bubble_view",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actions",plural:!0,selections:H,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"components",plural:!0,selections:[Nb,G,Pb,I],storageKey:null},{alias:null,args:null,concreteType:"P2PBubbleRobotext",kind:"LinkedField",name:"robotext",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action",plural:!1,selections:H,storageKey:null},Ob,Qb,e],storageKey:null},{alias:"rootAction",args:null,concreteType:null,kind:"LinkedField",name:"root_action",plural:!1,selections:H,storageKey:null}],storageKey:null}],type:"PaymentViewData",abstractKey:"__isPaymentViewData"};var Rb={alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null},Sb={kind:"InlineFragment",selections:[Rb,n],type:"User",abstractKey:null},Tb={alias:null,args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"transaction_amount",plural:!1,selections:[F,{alias:null,args:null,kind:"ScalarField",name:"formatted_amount",storageKey:null}],storageKey:null},Ub={alias:null,args:null,kind:"ScalarField",name:"transfer_status",storageKey:null},Vb={alias:"completedTime",args:null,kind:"ScalarField",name:"completed_time",storageKey:null},Wb={alias:"updatedTime",args:null,kind:"ScalarField",name:"updated_time",storageKey:null},Xb={alias:"creationTime",args:null,kind:"ScalarField",name:"creation_time",storageKey:null},J={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:m,storageKey:null},Yb=[J],Zb={alias:null,args:null,concreteType:"MessengerPayTheme",kind:"LinkedField",name:"transfer_theme",plural:!1,selections:d,storageKey:null},K={alias:null,args:null,kind:"ScalarField",name:"formatted",storageKey:null},$b=[K],ac={alias:null,args:null,concreteType:"CurrencyQuantity",kind:"LinkedField",name:"amount_fb_discount",plural:!1,selections:$b,storageKey:null},bc={alias:null,args:null,kind:"ScalarField",name:"funds_availability",storageKey:null},L={alias:null,args:null,kind:"ScalarField",name:"group_thread_fbid",storageKey:null},M={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},N={alias:null,args:null,kind:"ScalarField",name:"status_description",storageKey:null},cc={alias:null,args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"currency_amount",plural:!1,selections:[Lb],storageKey:null},dc={alias:null,args:null,kind:"ScalarField",name:"memo_text",storageKey:null},ec=[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"P2PSenderReceiver"}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"receiver_profile",plural:!1,selections:[a,b,D,Sb],storageKey:null},Tb,Ub,C,Vb,Wb,Xb,{alias:null,args:null,concreteType:"PeerToPeerTransferContext",kind:"LinkedField",name:"transfer_context",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageImage",kind:"LinkedField",name:"memo_images",plural:!0,selections:Yb,storageKey:null},Zb],storageKey:null},ac,bc,L,{alias:null,args:null,concreteType:"PeerToPeerPlatformSoldItemDetail",kind:"LinkedField",name:"platform_item",plural:!1,selections:[b,M,{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photos",plural:!0,selections:Yb,storageKey:null},n],storageKey:null},a,N,cc,dc,H];K={alias:null,args:null,concreteType:"CurrencyQuantity",kind:"LinkedField",name:"amount",plural:!1,selections:[K,Lb],storageKey:null};var fc={alias:null,args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"transaction_amount",plural:!1,selections:[F],storageKey:null},O=[b,a,D,Sb],P={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"requester",plural:!1,selections:O,storageKey:null};O={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"requestee",plural:!1,selections:O,storageKey:null};var gc={alias:null,args:null,kind:"ScalarField",name:"request_status",storageKey:null},hc={alias:null,args:null,concreteType:"MessengerPayTheme",kind:"LinkedField",name:"request_theme",plural:!1,selections:d,storageKey:null},Q={alias:null,args:null,concreteType:"PeerToPeerTransfer",kind:"LinkedField",name:"transfer",plural:!1,selections:ec,storageKey:null},ic={alias:null,args:null,kind:"ScalarField",name:"creation_time",storageKey:null},R={alias:null,args:null,kind:"ScalarField",name:"updated_time",storageKey:null},jc={alias:"message",args:null,kind:"ScalarField",name:"snippet",storageKey:null};w=[hb,ib,w,mb,nb,a,ob,pb,qb,rb,sb,x,A];A={alias:null,args:null,concreteType:"MessengerCallToAction",kind:"LinkedField",name:"call_to_actions",plural:!0,selections:w,storageKey:null};var kc={alias:null,args:null,kind:"ScalarField",name:"image_aspect_ratio",storageKey:null},lc={alias:null,args:null,kind:"ScalarField",name:"first_metaline",storageKey:null},mc={alias:null,args:null,kind:"ScalarField",name:"source_name",storageKey:null},nc={alias:null,args:null,kind:"ScalarField",name:"target_url",storageKey:null};w={alias:null,args:null,concreteType:"MessengerCallToAction",kind:"LinkedField",name:"default_action",plural:!1,selections:w,storageKey:null};var oc=[a,{alias:"large_preview",args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:q,storageKey:null}],pc={kind:"InlineFragment",selections:oc,type:"MessageImage",abstractKey:null};oc={kind:"InlineFragment",selections:oc,type:"Photo",abstractKey:null};var qc={kind:"Literal",name:"media_type",value:"image/gif"},rc={alias:null,args:[qc],concreteType:"Image",kind:"LinkedField",name:"animated_image",plural:!1,selections:q,storageKey:'animated_image(media_type:"image/gif")'};qc={alias:"preview_image",args:[{kind:"Literal",name:"height",value:206},qc,{kind:"Literal",name:"width",value:206}],concreteType:"Image",kind:"LinkedField",name:"animated_image",plural:!1,selections:q,storageKey:'animated_image(height:206,media_type:"image/gif",width:206)'};var sc={kind:"InlineFragment",selections:[rc,qc,{alias:"large_preview",args:[{kind:"Literal",name:"height",value:420},Wa,{kind:"Literal",name:"width",value:420}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:q,storageKey:'image(height:420,sizing:"contain-fit",width:420)'}],type:"MessageAnimatedImage",abstractKey:null},tc={alias:null,args:null,concreteType:"Application",kind:"LinkedField",name:"attribution_app",plural:!1,selections:[a,b,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"square_logo",plural:!1,selections:m,storageKey:null}],storageKey:null},uc={alias:null,args:null,kind:"ScalarField",name:"attribution_metadata",storageKey:null},vc=[o,p,l],wc=[{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],xc={alias:null,args:null,concreteType:"Vect2",kind:"LinkedField",name:"original_dimensions",plural:!1,selections:wc,storageKey:null};vc={kind:"InlineFragment",selections:[tc,uc,Ab,s,{alias:"chat_image",args:[{kind:"Literal",name:"height",value:200},Wa,{kind:"Literal",name:"width",value:168}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:vc,storageKey:'image(height:200,sizing:"contain-fit",width:168)'},Pa,{alias:null,args:null,kind:"ScalarField",name:"video_type",storageKey:null},xc,r,{alias:"large_image",args:[{kind:"Literal",name:"height",value:640},Wa,{kind:"Literal",name:"width",value:640}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:vc,storageKey:'image(height:640,sizing:"contain-fit",width:640)'},{alias:"inbox_image",args:[{kind:"Literal",name:"height",value:450},Wa,{kind:"Literal",name:"width",value:450}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:vc,storageKey:'image(height:450,sizing:"contain-fit",width:450)'}],type:"MessageVideo",abstractKey:null};var yc={kind:"InlineFragment",selections:[p,o,a,s],type:"Video",abstractKey:null},S=[{alias:null,args:null,concreteType:"MessengerRetailItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,M,kc,lb,lc,b,mc,nc,w,A,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_blob_attachments",plural:!0,selections:[B,pc,oc,sc,vc,yc],storageKey:null}],storageKey:null}],zc={kind:"InlineFragment",selections:[{alias:"video_id",args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Video",abstractKey:null},Ac={alias:null,args:null,kind:"ScalarField",name:"expiration_time",storageKey:null},Bc={alias:null,args:null,kind:"ScalarField",name:"latitude",storageKey:null},Cc={alias:null,args:null,kind:"ScalarField",name:"longitude",storageKey:null},Dc=[Bc,Cc],Ec={kind:"InlineFragment",selections:[{alias:"live_location_id",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_expired",storageKey:null},Ac,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:"Coordinate",kind:"LinkedField",name:"coordinate",plural:!1,selections:Dc,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"location_title",storageKey:null},{alias:null,args:null,concreteType:"LiveLocationDestination",kind:"LinkedField",name:"sender_destination",plural:!1,selections:[Bc,Cc,j],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"stop_reason",storageKey:null}],type:"MessageLiveLocation",abstractKey:null},Fc={alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"kept_by",plural:!1,selections:d,storageKey:null},Gc={alias:null,args:null,kind:"ScalarField",name:"kept_at",storageKey:null},Hc={alias:null,args:null,kind:"ScalarField",name:"is_keep_disabled",storageKey:null},Ic={alias:null,args:null,kind:"ScalarField",name:"blob_media_type",storageKey:null},Jc=[s,n,J],Kc={kind:"InlineFragment",selections:Jc,type:"MessageVideo",abstractKey:null};Jc={kind:"InlineFragment",selections:Jc,type:"MessageImage",abstractKey:null};var Lc={alias:null,args:null,kind:"ScalarField",name:"montage_container_id",storageKey:null},Mc={alias:null,args:null,kind:"ScalarField",name:"story_id",storageKey:null},Nc={alias:null,args:null,kind:"ScalarField",name:"calendar_sync_type",storageKey:null},Oc={alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[a,Nc,{alias:null,args:null,concreteType:"ServicesVerticalPageBasedInfo",kind:"LinkedField",name:"services_vertical_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_eligible_for_appointment_calendar",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_eligible_for_mbs_calendar",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_page_sp_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"time_zone_name",storageKey:null}],storageKey:null}],storageKey:null},Pc={alias:null,args:null,kind:"ScalarField",name:"message_bubble_type",storageKey:null},Qc={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:d,storageKey:null},Rc={alias:null,args:null,kind:"ScalarField",name:"ls_xma_title",storageKey:null},Sc={alias:null,args:null,kind:"ScalarField",name:"ls_xma_subtitle",storageKey:null},Tc={alias:"availability",args:null,kind:"ScalarField",name:"user_availability",storageKey:null},Uc={alias:null,args:null,kind:"ScalarField",name:"request_flow_type",storageKey:null},Vc={alias:null,args:null,kind:"ScalarField",name:"service_general_info",storageKey:null},Wc={alias:null,args:null,kind:"ScalarField",name:"has_saved_to_calendar",storageKey:null},Xc=[a,b,D],Yc={alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:Xc,storageKey:null},Zc={alias:null,args:null,kind:"ScalarField",name:"start",storageKey:null},$c={alias:null,args:null,kind:"ScalarField",name:"end",storageKey:null},ad=[Zc,$c],bd={alias:null,args:null,concreteType:"TimeRange",kind:"LinkedField",name:"suggested_time_range",plural:!1,selections:ad,storageKey:null},cd={alias:"duration",args:null,kind:"ScalarField",name:"duration_in_seconds",storageKey:null},dd={alias:null,args:null,kind:"ScalarField",name:"duration_type",storageKey:null},ed=[{kind:"Literal",name:"first",value:1}],fd={alias:null,args:[{kind:"Literal",name:"sizing",value:"cover-fill-cropped"}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:m,storageKey:'image(sizing:"cover-fill-cropped")'},gd={alias:"price",args:null,kind:"ScalarField",name:"display_price",storageKey:null},hd={alias:null,args:null,kind:"ScalarField",name:"requested_time",storageKey:null},id={alias:null,args:null,kind:"ScalarField",name:"special_request",storageKey:null},jd={alias:null,args:null,kind:"ScalarField",name:"booking_status_value",storageKey:null},kd={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},ld={alias:null,args:null,kind:"ScalarField",name:"archived_status",storageKey:null},md={alias:null,args:null,kind:"ScalarField",name:"reminder_bubble_text",storageKey:null},nd={alias:null,args:null,kind:"ScalarField",name:"request_admin_approval_type",storageKey:null},od={alias:null,args:null,concreteType:"JobApplication",kind:"LinkedField",name:"job_application",plural:!1,selections:d,storageKey:null},pd={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[a,Rb,D],storageKey:null},qd={alias:null,args:null,concreteType:"ServicesNativeBookingRequestAdditionalInfoField",kind:"LinkedField",name:"additional_info",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"field_key",storageKey:null},Gb,j],storageKey:null},rd={alias:null,args:null,concreteType:"PhoneNumber",kind:"LinkedField",name:"consumer_phone_number",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"display_number",storageKey:null}],storageKey:null},sd={alias:null,args:null,kind:"ScalarField",name:"recur_message",storageKey:null},td={alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:d,storageKey:null},ud={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"consumer",plural:!1,selections:d,storageKey:null},vd={alias:null,args:null,concreteType:"TimeRange",kind:"LinkedField",name:"formatted_available_time_ranges",plural:!0,selections:ad,storageKey:null},wd={alias:null,args:null,kind:"ScalarField",name:"has_booking_request_created",storageKey:null},xd={alias:null,args:null,kind:"ScalarField",name:"cta_click_events",storageKey:null},yd={alias:null,args:null,kind:"ScalarField",name:"cta_texts",storageKey:null},zd={alias:null,args:null,concreteType:"ServicesWWWURL",kind:"LinkedField",name:"www_url",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_async",storageKey:null},l],storageKey:null},Ad={alias:null,args:null,kind:"ScalarField",name:"render_template",storageKey:null},Bd={alias:null,args:null,kind:"ScalarField",name:"primary_text",storageKey:null},Cd={alias:null,args:null,kind:"ScalarField",name:"visible_on_platforms",storageKey:null},Dd=[a,b],Ed=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:Dd,storageKey:null}],Fd={alias:"eventID",args:null,kind:"ScalarField",name:"id",storageKey:null},Gd={alias:"guestStatus",args:null,kind:"ScalarField",name:"viewer_guest_status",storageKey:null},Hd={alias:"canViewerJoin",args:null,kind:"ScalarField",name:"can_viewer_join",storageKey:null},Id={alias:"timeString",args:null,kind:"ScalarField",name:"start_time_sentence",storageKey:null},Jd=[b],Kd={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"social_context",plural:!1,selections:f,storageKey:null},Ld={alias:"watchStatus",args:null,kind:"ScalarField",name:"viewer_watch_status",storageKey:null},Md={alias:null,args:null,kind:"ScalarField",name:"connection_style",storageKey:null},Nd={alias:"canViewerWatch",args:null,kind:"ScalarField",name:"can_viewer_watch",storageKey:null},Od={alias:null,args:[{kind:"Literal",name:"width",value:300}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:m,storageKey:"profile_picture(width:300)"},Pd={alias:null,args:null,kind:"ScalarField",name:"start_timestamp",storageKey:null},Qd={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"application_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"artist_names",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"audio_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"duration_ms",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"music_title",storageKey:null}],type:"ExternalSong",abstractKey:null},Rd={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"lwa_state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lwa_type",storageKey:null}],type:"LightweightAction",abstractKey:null},Sd={alias:"desc",args:null,kind:"ScalarField",name:"description",storageKey:null},Td={alias:"thumb_url",args:null,kind:"ScalarField",name:"image_url",storageKey:null},Ud={alias:"item_url",args:null,kind:"ScalarField",name:"target_url",storageKey:null},Vd={alias:"source",args:null,kind:"ScalarField",name:"source_name",storageKey:null},Wd={alias:null,args:null,kind:"ScalarField",name:"second_metaline",storageKey:null},Xd={alias:null,args:null,kind:"ScalarField",name:"third_metaline",storageKey:null},Yd={alias:"total_cost",args:null,kind:"ScalarField",name:"formated_price",storageKey:null},Zd={alias:"merchant_name",args:null,kind:"ScalarField",name:"seller_info",storageKey:null},$d={alias:"raw_amount",args:null,kind:"ScalarField",name:"price_amount",storageKey:null},ae={alias:null,args:null,concreteType:"MessengerCommercePayment",kind:"LinkedField",name:"payment",plural:!1,selections:d,storageKey:null},be={alias:null,args:null,kind:"ScalarField",name:"price_currency",storageKey:null},ce={alias:null,args:null,kind:"ScalarField",name:"price_amount",storageKey:null},de={alias:null,args:null,kind:"ScalarField",name:"can_donate",storageKey:null},ee={alias:null,args:null,kind:"ScalarField",name:"has_viewer_donated",storageKey:null},fe={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"fundraiser_detailed_progress_text",plural:!1,selections:f,storageKey:null},ge={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"fundraiser_subtitle_text",plural:!1,selections:f,storageKey:null},T=[l,p,o],he={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:T,storageKey:null},ie={alias:null,args:null,kind:"ScalarField",name:"recipient_name",storageKey:null},je={alias:null,args:null,kind:"ScalarField",name:"merchant_name",storageKey:null},ke={alias:null,args:null,kind:"ScalarField",name:"account_holder_name",storageKey:null},le={alias:null,args:null,kind:"ScalarField",name:"receipt_id",storageKey:null},me={alias:null,args:null,kind:"ScalarField",name:"shipping_method",storageKey:null},ne={alias:null,args:null,kind:"ScalarField",name:"order_payment_method",storageKey:null},oe={alias:null,args:null,kind:"ScalarField",name:"receipt_url",storageKey:null},pe={alias:null,args:null,kind:"ScalarField",name:"cancellation_url",storageKey:null},qe={alias:null,args:null,kind:"ScalarField",name:"receipient_address",storageKey:null},re={alias:null,args:null,kind:"ScalarField",name:"streets",storageKey:null},se={alias:null,args:null,kind:"ScalarField",name:"city",storageKey:null},U={alias:null,args:null,kind:"ScalarField",name:"country",storageKey:null},te={alias:null,args:null,kind:"ScalarField",name:"postal_code",storageKey:null},ue={alias:null,args:null,kind:"ScalarField",name:"state",storageKey:null},ve={alias:null,args:null,concreteType:"MessengerCommerceBusinessLocation",kind:"LinkedField",name:"structured_address",plural:!1,selections:[re,se,U,te,ue],storageKey:null},we={alias:null,args:null,kind:"ScalarField",name:"total",storageKey:null},xe={alias:null,args:null,kind:"ScalarField",name:"tax",storageKey:null},ye={alias:null,args:null,kind:"ScalarField",name:"shipping_cost",storageKey:null},ze={alias:null,args:null,kind:"ScalarField",name:"subtotal",storageKey:null},Ae={alias:null,args:null,kind:"ScalarField",name:"bubble_type",storageKey:null},Be={alias:null,args:null,kind:"ScalarField",name:"order_time_for_display",storageKey:null},Ce={alias:null,args:null,concreteType:"RetailReceiptAdjustment",kind:"LinkedField",name:"retail_adjustments",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"adjustment_amount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adjustment_type",storageKey:null}],storageKey:null},De={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"partner_logo",plural:!1,selections:m,storageKey:null},Ee={alias:null,args:null,kind:"ScalarField",name:"payment_modules_client",storageKey:null},Fe={alias:null,args:null,kind:"ScalarField",name:"is_viewer_seller",storageKey:null},Ge={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"payment_snippet",plural:!1,selections:f,storageKey:null},He={alias:null,args:null,kind:"ScalarField",name:"item_id",storageKey:null},Ie={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"subtitle",plural:!1,selections:f,storageKey:null};F=[F,Lb];Lb={alias:null,args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"unit_price",plural:!1,selections:F,storageKey:null};var Je={alias:null,args:Ta,concreteType:"Image",kind:"LinkedField",name:"images",plural:!0,selections:m,storageKey:"images(height:120,width:120)"},Ke={alias:null,args:null,kind:"ScalarField",name:"quantity",storageKey:null};Ta={alias:null,args:null,concreteType:"PaymentPlatformAttachmentComponent",kind:"LinkedField",name:"components",plural:!0,selections:[Jb,Ie,{alias:null,args:Ta,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:m,storageKey:"image(height:120,width:120)"}],storageKey:null};var Le=[ue,{alias:null,args:null,kind:"ScalarField",name:"action_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"action_detail",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"label",plural:!1,selections:f,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"checkmark",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"extra_data",storageKey:null}],Me={alias:null,args:null,concreteType:"PaymentPlatformAttachmentCallToAction",kind:"LinkedField",name:"payment_call_to_actions",plural:!0,selections:Le,storageKey:null},Ne={alias:null,args:null,concreteType:"PaymentPlatformAttachmentCallToAction",kind:"LinkedField",name:"click_action",plural:!1,selections:Le,storageKey:null};Le={alias:null,args:null,concreteType:"PaymentPlatformAttachmentCallToAction",kind:"LinkedField",name:"summary_action",plural:!1,selections:Le,storageKey:null};var Oe={alias:null,args:null,kind:"ScalarField",name:"invoicer_id",storageKey:null},Pe={alias:null,args:null,kind:"ScalarField",name:"is_last_attachment",storageKey:null};F={alias:null,args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"payment_total",plural:!1,selections:F,storageKey:null};var Qe={alias:null,args:null,kind:"ScalarField",name:"product_detail",storageKey:null},Re={alias:null,args:null,concreteType:"PaymentPlatformAttachmentIcon",kind:"LinkedField",name:"payment_status_icon",plural:!1,selections:[kd],storageKey:null},Se={alias:null,args:null,kind:"ScalarField",name:"user_facing_payment_status",storageKey:null},Te={alias:null,args:null,kind:"ScalarField",name:"payment_sub_statuses",storageKey:null},Ue={alias:null,args:null,kind:"ScalarField",name:"should_show_new_xma",storageKey:null},Ve={alias:null,args:null,kind:"ScalarField",name:"buyer_name",storageKey:null},We={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"group_commerce_item_description",plural:!1,selections:f,storageKey:null},Xe={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"formatted_price",plural:!1,selections:f,storageKey:null},Ye={alias:null,args:null,kind:"ScalarField",name:"group_commerce_item_title",storageKey:null};Xa={alias:null,args:Xa,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:m,storageKey:'image(sizing:"contain-fit")'};var Ze={alias:"primary_photo",args:null,concreteType:null,kind:"LinkedField",name:"primary_listing_photo",plural:!1,selections:[Xa],storageKey:null},$e={alias:null,args:null,concreteType:"StreetAddress",kind:"LinkedField",name:"address",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"single_line_full_address",storageKey:null}],storageKey:null},af={alias:null,args:null,kind:"ScalarField",name:"top_category_name",storageKey:null};Wa={alias:null,args:null,concreteType:"FocusedPhoto",kind:"LinkedField",name:"cover_photo",plural:!1,selections:[{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:[a,{alias:null,args:[{kind:"Literal",name:"height",value:720},Wa,{kind:"Literal",name:"width",value:720}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:T,storageKey:'image(height:720,sizing:"contain-fit",width:720)'}],storageKey:null}],storageKey:null};var bf={alias:null,args:null,concreteType:"Location",kind:"LinkedField",name:"location",plural:!1,selections:Dc,storageKey:null};Gb={alias:null,args:null,concreteType:"Rating",kind:"LinkedField",name:"overall_star_rating",plural:!1,selections:[Gb],storageKey:null};var cf={alias:null,args:null,kind:"ScalarField",name:"price_range_description",storageKey:null},df={alias:null,args:null,kind:"ScalarField",name:"event_title",storageKey:null},ef={alias:null,args:null,kind:"ScalarField",name:"time",storageKey:null},ff={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_active",storageKey:null},df,ef],type:"MessengerEventReminder",abstractKey:null},gf={alias:null,args:null,kind:"ScalarField",name:"tracking_number",storageKey:null},hf={alias:null,args:null,kind:"ScalarField",name:"shipdate_for_display",storageKey:null},jf={alias:null,args:null,kind:"ScalarField",name:"estimated_delivery_time_for_display",storageKey:null},kf={alias:null,args:null,kind:"ScalarField",name:"timezone",storageKey:null};U=[U,se,te,Cc,Bc,ue,re,kf];te={alias:null,args:null,concreteType:"MessengerCommerceBusinessLocation",kind:"LinkedField",name:"commerce_origin",plural:!1,selections:U,storageKey:null};Cc={alias:null,args:null,concreteType:"MessengerCommerceBusinessLocation",kind:"LinkedField",name:"commerce_destination",plural:!1,selections:U,storageKey:null};Bc={alias:null,args:null,concreteType:"RetailShipmentItemsConnection",kind:"LinkedField",name:"retail_shipment_items",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerRetailItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,b,Sd,Td,Ud,Vd,kc,lc,Wd,Xd,A],storageKey:null}],storageKey:null};re={alias:null,args:null,kind:"ScalarField",name:"carrier_tracking_url",storageKey:null};var lf=[p,o,l],mf={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"logo",plural:!1,selections:lf,storageKey:null},nf={alias:null,args:null,concreteType:"MessengerRetailCarrier",kind:"LinkedField",name:"retail_carrier",plural:!1,selections:[b,re,mf],storageKey:null};U={alias:null,args:null,concreteType:"MessengerCommerceBusinessLocation",kind:"LinkedField",name:"messenger_commerce_location",plural:!1,selections:U,storageKey:null};var of={alias:null,args:null,concreteType:"RetailShipmentTrackingEventsConnection",kind:"LinkedField",name:"shipment_tracking_events",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerRetailShipmentTrackingEvent",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,U],storageKey:null}],storageKey:null},pf={alias:null,args:null,kind:"ScalarField",name:"tracking_event_time_for_display",storageKey:null},qf={alias:null,args:null,kind:"ScalarField",name:"shipment_tracking_event_type",storageKey:null},rf={alias:null,args:null,kind:"ScalarField",name:"tracking_event_description",storageKey:null};re={alias:null,args:null,concreteType:"MessengerRetailCarrier",kind:"LinkedField",name:"retail_carrier",plural:!1,selections:[b,re,mf,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"legal_terms_of_service_text",plural:!1,selections:f,storageKey:null}],storageKey:null};mf={alias:null,args:null,concreteType:"RetailShipmentTrackingEventsConnection",kind:"LinkedField",name:"shipment_tracking_events",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerRetailShipmentTrackingEvent",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,qf,U],storageKey:null}],storageKey:null};var sf={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"cover_image",plural:!1,selections:T,storageKey:null},tf={alias:null,args:null,kind:"ScalarField",name:"headline",storageKey:null},uf={alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:Dd,storageKey:null},vf={alias:null,args:null,concreteType:"LeadGenUserInfoField",kind:"LinkedField",name:"field_data",plural:!0,selections:[j,b,{alias:null,args:null,kind:"ScalarField",name:"values",storageKey:null}],storageKey:null},wf=[e,g];wf={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"sender_wec_number",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sender_wec_number_formated",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sender_wec_number_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sender_wec_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wec_referral_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wec_referral_body",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wec_referral_headline",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wec_referral_media",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wec_referral_media_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wec_referral_has_admin_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wec_sticker_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_body",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_footer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_header_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_header_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_header_media",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_btn1_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_btn1_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_btn2_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_btn2_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_btn3_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_btn3_text",storageKey:null},{alias:null,args:null,concreteType:"XFBWATemplatedMessageButtonShape",kind:"LinkedField",name:"templated_message_buttons",plural:!0,selections:wf,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_offer_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_offer_has_expiration",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_offer_expiration_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_offer_is_offer_code_personalized",storageKey:null},{alias:null,args:null,concreteType:"XFBWATemplatedMessageCardShape",kind:"LinkedField",name:"templated_message_cards",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"title_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sample_handle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"body",storageKey:null},{alias:null,args:null,concreteType:"XFBWATemplatedMessageButtonShape",kind:"LinkedField",name:"button",plural:!1,selections:wf,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_name",storageKey:null}],type:"WECMessage",abstractKey:null};var xf={alias:null,args:null,kind:"ScalarField",name:"is_malicious",storageKey:null},yf={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"thumbnail_image",plural:!1,selections:q,storageKey:null},zf={alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},Af={alias:null,args:null,kind:"ScalarField",name:"ad_id",storageKey:null},Bf={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"ice_breaker_title",storageKey:null},{alias:null,args:null,concreteType:"IceBreakerMessage",kind:"LinkedField",name:"ice_breaker_messages",plural:!0,selections:[zf,{alias:null,args:null,kind:"ScalarField",name:"message_key",storageKey:null}],storageKey:null},Af],type:"IceBreakerMessageAttachment",abstractKey:null},Cf={kind:"Literal",name:"height",value:280},Df={kind:"Literal",name:"width",value:280},Ef=[Cf,Df],Ff={alias:"preview",args:Ef,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:q,storageKey:"image(height:280,width:280)"},Gf={kind:"Literal",name:"height",value:480},Hf={kind:"Literal",name:"width",value:480},If={alias:"large_preview",args:[Gf,Hf],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:q,storageKey:"image(height:480,width:480)"},Jf={alias:null,args:null,kind:"ScalarField",name:"module_name",storageKey:null},Kf={alias:null,args:null,kind:"ScalarField",name:"program_name",storageKey:null},Lf={alias:null,args:null,kind:"ScalarField",name:"curriculum_message",storageKey:null},Mf={alias:null,args:null,kind:"ScalarField",name:"prompt",storageKey:null},Nf={alias:null,args:null,kind:"ScalarField",name:"step_count",storageKey:null},Of={alias:null,args:null,kind:"ScalarField",name:"total_steps",storageKey:null},Pf={alias:null,args:null,concreteType:"MentorshipProgram",kind:"LinkedField",name:"mentorship_program",plural:!1,selections:[a,{alias:null,args:null,concreteType:"MentorshipCurriculum",kind:"LinkedField",name:"curriculum",plural:!1,selections:d,storageKey:null}],storageKey:null},Qf={alias:null,args:null,kind:"ScalarField",name:"topics",storageKey:null},Rf=[Rb],Sf={alias:null,args:null,kind:"ScalarField",name:"xma_type",storageKey:null},Tf={alias:null,args:null,kind:"ScalarField",name:"xma_title",storageKey:null},Uf={alias:null,args:null,kind:"ScalarField",name:"xma_body",storageKey:null},Vf={alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},Wf={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:[e,{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[z,Vf],storageKey:null}],storageKey:null},Xf={alias:null,args:null,kind:"ScalarField",name:"block_type",storageKey:null},Yf={alias:null,args:null,kind:"ScalarField",name:"data",storageKey:null},Zf={alias:null,args:null,kind:"ScalarField",name:"depth",storageKey:null},$f={alias:null,args:null,concreteType:"InlineStyleAtRange",kind:"LinkedField",name:"inline_style_ranges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"inline_style",storageKey:null},z,Vf],storageKey:null},ag={alias:null,args:null,kind:"ScalarField",name:"comment_count_reduced",storageKey:null},bg={alias:null,args:null,concreteType:"TopLevelCommentsConnection",kind:"LinkedField",name:"top_level_comments",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"total_count",storageKey:null}],storageKey:null},cg={alias:null,args:null,kind:"ScalarField",name:"reaction_count_reduced",storageKey:null},dg={kind:"Literal",name:"first",value:3},eg=[dg,{kind:"Literal",name:"orderby",value:["COUNT_DESC","REACTION_TYPE"]}],fg={alias:null,args:null,kind:"ScalarField",name:"reaction_type",storageKey:null},gg={alias:null,args:null,kind:"ScalarField",name:"post_id",storageKey:null},hg={alias:"description",args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:f,storageKey:null},ig={kind:"InlineFragment",selections:Rf,type:"User",abstractKey:null},jg=[n],kg={kind:"InlineFragment",selections:jg,type:"Entity",abstractKey:"__isEntity"},lg={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actors",plural:!0,selections:[B,b,a,ig,kg,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:q,storageKey:null}],storageKey:null},mg={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:q,storageKey:null},ng={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[Za,mg],storageKey:null},og={alias:"title",args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title_with_entities",plural:!1,selections:f,storageKey:null};dg=[dg];var pg={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},qg=[{kind:"Literal",name:"if_style",value:"file_upload"}],rg={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:Yb,storageKey:null},sg=[{kind:"Literal",name:"if_style",value:"photo"}],tg={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:f,storageKey:null},ug={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actors",plural:!0,selections:[B,b,a,ig,kg],storageKey:null},vg={alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:Yb,storageKey:null},wg={alias:null,args:null,concreteType:"FocusedPhoto",kind:"LinkedField",name:"cover_photo",plural:!1,selections:[vg],storageKey:null},xg={alias:null,args:null,kind:"ScalarField",name:"job_title",storageKey:null},yg={alias:null,args:null,concreteType:"WorkUserInfo",kind:"LinkedField",name:"work_info",plural:!1,selections:[xg],storageKey:null},zg={alias:null,args:null,kind:"ScalarField",name:"subscribe_status",storageKey:null},Ag={alias:null,args:null,kind:"ScalarField",name:"visibility",storageKey:null},Bg={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"visibility_sentence",plural:!1,selections:f,storageKey:null},Cg={alias:null,args:null,kind:"ScalarField",name:"viewer_join_state",storageKey:null},Dg={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"group_general_chat",plural:!1,selections:d,storageKey:null},Eg={alias:null,args:null,kind:"ScalarField",name:"attachment_type_name",storageKey:null},Fg={alias:null,args:null,kind:"ScalarField",name:"privacy_status",storageKey:null},Gg={alias:null,args:null,kind:"ScalarField",name:"file_type_category",storageKey:null},Hg={alias:null,args:null,kind:"ScalarField",name:"app_integration_type",storageKey:null},Ig={alias:null,args:[{kind:"Literal",name:"size",value:"D32"}],concreteType:"Image",kind:"LinkedField",name:"logo",plural:!1,selections:m,storageKey:'logo(size:"D32")'},Jg={alias:null,args:null,kind:"ScalarField",name:"viewer_auth_link",storageKey:null},Kg={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"attachment_icon",plural:!1,selections:m,storageKey:null},Lg={alias:null,args:null,kind:"ScalarField",name:"content_uri",storageKey:null},Mg={alias:null,args:null,kind:"ScalarField",name:"timestamp",storageKey:null},Ng={alias:null,args:null,kind:"ScalarField",name:"referral_offer_link",storageKey:null},Og={alias:null,args:null,kind:"ScalarField",name:"cta_title",storageKey:null},Pg={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"action_prefill",storageKey:null},Af,Og,{alias:null,args:null,kind:"ScalarField",name:"customer_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},x,{alias:null,args:null,kind:"ScalarField",name:"reply_image_uri",storageKey:null}],type:"InThreadMultiphotoItemCTAData",abstractKey:null},Qg={alias:null,args:null,kind:"ScalarField",name:"viewer_id",storageKey:null},Rg={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"payment_confirmation_status",storageKey:null}],type:"XFBPaymentInvoiceMediaMessageDetection",abstractKey:null};ec={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"target",plural:!1,selections:[B,zb,{kind:"InlineFragment",selections:[a,Ab,s,Bb,Cb,Db,Eb],type:"WECMessageAudio",abstractKey:null},{kind:"InlineFragment",selections:[C,Fb,E,H],type:"MoneyTransfer",abstractKey:null},{kind:"InlineFragment",selections:ec,type:"PeerToPeerTransfer",abstractKey:null},{kind:"InlineFragment",selections:[K,fc,P,O,gc,hc,a,dc,Q,ic,L,R,N,H,{alias:null,args:null,concreteType:"PeerToPeerPaymentRequest",kind:"LinkedField",name:"individual_requests",plural:!0,selections:[K,fc,P,O,gc,hc,a,dc,Q,ic,L,R,N,H],storageKey:null}],type:"PeerToPeerPaymentRequest",abstractKey:null},H,{kind:"InlineFragment",selections:[jc,A,{alias:null,args:null,concreteType:"RetailPromotionItemsConnection",kind:"LinkedField",name:"promotion_items",plural:!1,selections:S,storageKey:null}],type:"MessengerRetailPromotion",abstractKey:null},{kind:"InlineFragment",selections:[jc,A,{alias:null,args:null,concreteType:"MessengerBusinessMessageItemsConnection",kind:"LinkedField",name:"business_items",plural:!1,selections:S,storageKey:null}],type:"MessengerBusinessMessage",abstractKey:null},zc,Ec,{kind:"InlineFragment",selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"invite_sender",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"invite_recipient",plural:!1,selections:d,storageKey:null}],type:"QuickInvite",abstractKey:null},{kind:"InlineFragment",selections:[Fc,Gc,Hc,Ic,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blob_media",plural:!1,selections:[Kc,Jc],storageKey:null}],type:"MontageDirect",abstractKey:null},{kind:"InlineFragment",selections:[a,Lc,c,Mc],type:"MontageShare",abstractKey:null},{kind:"InlineFragment",selections:[a,Oc,Pc,Qc,Rc,Sc,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"native_component_flow_request",plural:!1,selections:[{kind:"InlineFragment",selections:[Tc,Uc,Vc,a,Nc,Wc,Yc,bd,{alias:null,args:null,concreteType:"NativeComponentFlowBookingRequestServicesProductItemsConnection",kind:"LinkedField",name:"services_product_items",plural:!1,selections:[{alias:null,args:null,concreteType:"ServicesProductItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,b,M,cd,dd,{alias:null,args:ed,concreteType:"ProductImage",kind:"LinkedField",name:"images",plural:!0,selections:[fd],storageKey:"images(first:1)"},gd],storageKey:null}],storageKey:null},hd,id,jd,kd,ld,md,nd,od,pd,qd,rd,Rc,Sc,sd],type:"NativeComponentFlowBookingRequest",abstractKey:null}],storageKey:null}],type:"PagesPlatformBookingMessage",abstractKey:null},{kind:"InlineFragment",selections:[a,td,ud,vd,wd],type:"ServicesAppointmentAvailability",abstractKey:null},{kind:"InlineFragment",selections:[a,xd,yd,zd,Ad,Bd,Cd],type:"ServicesGenericAdminText",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"genie_sender",plural:!1,selections:Ed,storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[Qa,i,t,$a,ab,bb,cb,db,eb,fb,gb,xb,yb],storageKey:null}],type:"GenieMessage",abstractKey:null},{kind:"InlineFragment",selections:[Fd,Gd,Hd,Id,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"event_place",plural:!1,selections:Jd,storageKey:null},Kd,Ld,Md,Nd,Od,b,Pd],type:"Event",abstractKey:null},Qd,Rd,{kind:"InlineFragment",selections:[a,b,Sd,Td,Ud,Vd,kc,lc,Wd,Xd,w,A],type:"MessengerRetailItem",abstractKey:null},{kind:"InlineFragment",selections:[a,Sd,Yd,Zd,nc,Td,$d,ae,be,ce,b],type:"AgentItemSuggestion",abstractKey:null},{kind:"InlineFragment",selections:[a,de,ee,fe,ge,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"FundraiserCoverPhoto",kind:"LinkedField",name:"focused_cover_photo",plural:!1,selections:[{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:[he],storageKey:null}],storageKey:null}],type:"FundraiserWithPresence",abstractKey:"__isFundraiserWithPresence"}],type:"Fundraiser",abstractKey:"__isFundraiser"},{kind:"InlineFragment",selections:[a,ie,je,ke,le,me,ne,oe,pe,qe,ve,kd,we,xe,ye,ze,{alias:null,args:null,concreteType:"RetailReceiptItemsConnection",kind:"LinkedField",name:"retail_items",plural:!1,selections:S,storageKey:null},Ae,Be,Ce,De],type:"MessengerRetailReceipt",abstractKey:null},{kind:"InlineFragment",selections:[Ee,Fe,Ge,{alias:null,args:null,concreteType:"PaymentInvoiceProduct",kind:"LinkedField",name:"item_list",plural:!0,selections:[He,b,Ie,M,Lb,Je,Ke],storageKey:null},Ta,Me,Ne,Le,Oe,Pe,F,Qe,Re,Se,Te,Ue,Ve],type:"PaymentPlatformAttachment",abstractKey:null},{kind:"InlineFragment",selections:d,type:"JobApplication",abstractKey:null},{kind:"InlineFragment",selections:[We,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"group_commerce_item_seller",plural:!1,selections:d,storageKey:null},Xe,Ye,Ze,n],type:"GroupCommerceProductItem",abstractKey:null},{kind:"InlineFragment",selections:[Xe,Ze],type:"MarketplaceListingRenderable",abstractKey:"__isMarketplaceListingRenderable"},{kind:"InlineFragment",selections:[$e,af,Wa,bf,b,Gb,a,cf],type:"Page",abstractKey:null},ff,{kind:"InlineFragment",selections:[a,{alias:null,args:null,concreteType:"MessengerRetailShipment",kind:"LinkedField",name:"shipment",plural:!1,selections:[a,gf,hf,jf,te,Cc,Bc,nf,of],storageKey:null},pf,qf,U,rf,Ae],type:"MessengerRetailShipmentTrackingEvent",abstractKey:null},{kind:"InlineFragment",selections:[a,gf,hf,jf,te,Cc,Bc,re,mf,{alias:null,args:null,concreteType:"MessengerRetailReceipt",kind:"LinkedField",name:"receipt",plural:!1,selections:[le],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"recipient",plural:!1,selections:Jd,storageKey:null},Ae],type:"MessengerRetailShipment",abstractKey:null},{kind:"InlineFragment",selections:[a,sf,tf,b,uf],type:"LeadGenDeepLinkData",abstractKey:null},{kind:"InlineFragment",selections:[a,vf],type:"UserLeadGenInfo",abstractKey:null},wf,{kind:"InlineFragment",selections:[a,b,xf,l,Cb,Db],type:"WECMessageFile",abstractKey:null},{kind:"InlineFragment",selections:[a,s,Bb,Cb,Db,Ab,o,yf,p],type:"WECMessageVideo",abstractKey:null},Bf,{kind:"InlineFragment",selections:[a,Cb,Ff,If],type:"WECMessageImage",abstractKey:null},{kind:"InlineFragment",selections:[a,Jf,Kf,Lf,Mf,Nf,Of,Pf],type:"MentorshipMessengerCurriculumStep",abstractKey:null},{kind:"InlineFragment",selections:[a,Qf],type:"MentorshipMessengerDiscussionTopicSet",abstractKey:null},{kind:"InlineFragment",selections:[a,{alias:null,args:null,concreteType:"MentorshipProgram",kind:"LinkedField",name:"mentorship_program",plural:!1,selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"other_member",plural:!1,selections:Rf,storageKey:null}],storageKey:null},Sf],type:"MentorshipMessengerLeavePrompt",abstractKey:null},{kind:"InlineFragment",selections:[a,Sf],type:"MentorshipMessengerReminder",abstractKey:null},{kind:"InlineFragment",selections:[a,Sf,Tf,Uf],type:"MentorshipMessengerProgressTracker",abstractKey:null},{kind:"InlineFragment",selections:[Wf,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"message_richtext",plural:!0,selections:[Xf,Yf,Zf,{alias:null,args:null,concreteType:"ComposedEntityAtRange",kind:"LinkedField",name:"entity_ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[B],storageKey:null},z,Vf],storageKey:null},$f,e],storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[ag,bg,cg,{alias:null,args:eg,concreteType:"TopReactionsConnection",kind:"LinkedField",name:"top_reactions",plural:!1,selections:[{alias:null,args:null,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"nodes",plural:!0,selections:[fg],storageKey:null}],storageKey:'top_reactions(first:3,orderby:["COUNT_DESC","REACTION_TYPE"])'}],storageKey:null},gg,ic,hg,lg,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"to",plural:!1,selections:[B,b,ig,kg],storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[ab,n,$a,Qa,ng,og,{alias:null,args:dg,concreteType:"SubattachmentsConnection",kind:"LinkedField",name:"all_subattachments",plural:!1,selections:[pg,{alias:"files",args:qg,concreteType:"StoryAttachment",kind:"LinkedField",name:"nodes",plural:!0,selections:[og,rg],storageKey:'nodes(if_style:"file_upload")'},{alias:"images",args:sg,concreteType:"StoryAttachment",kind:"LinkedField",name:"nodes",plural:!0,selections:[rg],storageKey:'nodes(if_style:"photo")'}],storageKey:"all_subattachments(first:3)"}],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"attached_story",plural:!1,selections:[tg,ug,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[ng],storageKey:null}],storageKey:null}],type:"Story",abstractKey:null},{kind:"InlineFragment",selections:[a,b,D,wg,yg,zg],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[a,b,Ag,Bg,Cg,wg,Dg,{alias:null,args:null,concreteType:"GroupsSyncMetadata",kind:"LinkedField",name:"work_groups_sync_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messenger_group",plural:!1,selections:d,storageKey:null}],storageKey:null}],type:"Group",abstractKey:null},{kind:"InlineFragment",selections:[a,Eg,Fg,Gg,{alias:null,args:null,concreteType:"AppIntegration",kind:"LinkedField",name:"app_integration",plural:!1,selections:[Hg,b,Ig,Jg],storageKey:null},Kg,Lg,{alias:null,args:null,concreteType:"AppContentAdditionalData",kind:"LinkedField",name:"link_preview_additional_data",plural:!0,selections:[h,e,Ob,ub,Mg,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"profiles",plural:!0,selections:[D,b],storageKey:null}],storageKey:null}],type:"AppContent",abstractKey:null},{kind:"InlineFragment",selections:d,type:"OfferItem",abstractKey:null},{kind:"InlineFragment",selections:[w],type:"CommerceProductItemShare",abstractKey:null},{kind:"InlineFragment",selections:[a,Ng],type:"ApplicationReferralXMA",abstractKey:null},Pg,{kind:"InlineFragment",selections:[a,Qg],type:"XFBP2MXMA",abstractKey:null},Rg],storageKey:null};P={alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[Qa,i,t,$a,ab,bb,cb,db,eb,fb,gb,xb,yb,ec,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"subattachments",plural:!0,selections:[Qa,i,t,$a,ab,bb,cb,db,eb,fb,gb,xb,yb,ec],storageKey:null}],storageKey:null};O={kind:"InlineFragment",selections:d,type:"Node",abstractKey:"__isNode"};Q={alias:null,args:null,concreteType:"ExtensibleMessageAttachment",kind:"LinkedField",name:"extensible_attachment",plural:!1,selections:[Pa,P,{alias:"genie_attachment",args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[{alias:"genie_message",args:null,concreteType:null,kind:"LinkedField",name:"target",plural:!1,selections:[{kind:"InlineFragment",selections:[a,{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"genie_sender",plural:!1,selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[O,b],storageKey:null}],storageKey:null},P],type:"GenieMessage",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null};H={alias:null,args:null,concreteType:"Sticker",kind:"LinkedField",name:"sticker",plural:!1,selections:k,storageKey:null};A={kind:"Literal",name:"sizing",value:"cover-fill"};S={alias:null,args:null,kind:"ScalarField",name:"projection_type",storageKey:null};Ze={kind:"InlineFragment",selections:[tc,uc,Ab,{alias:"preview",args:[Cf,A,Df],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:q,storageKey:'image(height:280,sizing:"cover-fill",width:280)'},{alias:"large_preview",args:[Gf,A,Hf],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:q,storageKey:'image(height:480,sizing:"cover-fill",width:480)'},{alias:"thumbnail",args:[{kind:"Literal",name:"height",value:38},{kind:"Literal",name:"width",value:58}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:m,storageKey:"image(height:38,width:58)"},{alias:null,args:null,concreteType:"PhotoEncoding",kind:"LinkedField",name:"photo_encodings",plural:!0,selections:[a,p,o,S,{alias:null,args:null,kind:"ScalarField",name:"cdn_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max_tile_level",storageKey:null},{alias:null,args:[{kind:"Literal",name:"thumbnail_dimensions",value:[{height:280,width:280},{height:480,width:480}]}],concreteType:"SphericalPhotoThumbnail",kind:"LinkedField",name:"thumbnails",plural:!0,selections:lf,storageKey:'thumbnails(thumbnail_dimensions:[{"height":280,"width":280},{"height":480,"width":480}])'},{alias:null,args:[{kind:"Literal",name:"tile_levels",value:[0]}],concreteType:"PhotoTile",kind:"LinkedField",name:"tiles",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"level",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"face",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"col",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"row",storageKey:null},l],storageKey:"tiles(tile_levels:[0])"},{alias:null,args:null,concreteType:"PhotosphereMetadata",kind:"LinkedField",name:"spherical_metadata",plural:!1,selections:[S,{alias:null,args:null,kind:"ScalarField",name:"full_pano_width_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"full_pano_height_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cropped_area_image_width_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cropped_area_image_height_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cropped_area_left_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cropped_area_top_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"initial_view_heading_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"initial_view_pitch_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"initial_view_vertical_fov_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"initial_view_roll_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pose_heading_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pose_pitch_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pose_roll_degrees",storageKey:null}],storageKey:null}],storageKey:null},Pa,xc,{alias:null,args:null,kind:"ScalarField",name:"original_extension",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"render_as_sticker",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"blurred_image_uri",storageKey:null}],type:"MessageImage",abstractKey:null};Bc={kind:"InlineFragment",selections:[tc,uc,Ab,rc,{alias:null,args:null,kind:"ScalarField",name:"animated_image_caption",storageKey:null},Pa,qc,xc],type:"MessageAnimatedImage",abstractKey:null};Rf={alias:null,args:null,kind:"ScalarField",name:"url_skipshim",storageKey:null};rg={kind:"InlineFragment",selections:[tc,uc,Ab,s,r,{alias:null,args:null,kind:"ScalarField",name:"is_voicemail",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"audio_type",storageKey:null},Bb,Rf],type:"MessageAudio",abstractKey:null};ng={alias:null,args:null,kind:"ScalarField",name:"content_type",storageKey:null};wg={kind:"InlineFragment",selections:[tc,uc,Ab,n,{alias:null,args:null,kind:"ScalarField",name:"mimetype",storageKey:null},ng,xf,{alias:null,args:null,kind:"ScalarField",name:"message_file_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"preview_url",storageKey:null},Bb,Rf,{alias:"preview",args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:m,storageKey:null}],type:"MessageFile",abstractKey:null};w=[B,Ze,Bc,rg,vc,wg];t={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blob_attachments",plural:!0,selections:w,storageKey:null};fb={alias:null,args:null,kind:"ScalarField",name:"extensible_message_admin_text_type",storageKey:null};xb={alias:null,args:null,concreteType:"Application",kind:"LinkedField",name:"game",plural:!1,selections:d,storageKey:null};ec={kind:"InlineFragment",selections:[xb],type:"InstantGameUpdateExtensibleMessageAdminText",abstractKey:null};P={alias:null,args:null,kind:"ScalarField",name:"platform_xmd_encoded",storageKey:null};k={alias:null,args:null,kind:"ScalarField",name:"message_unsendability_status",storageKey:null};Cf={alias:"last_message",args:Ma,concreteType:"MessagesOfThreadConnection",kind:"LinkedField",name:"messages",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[c,{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"message_sender",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:d,storageKey:null}],storageKey:null},Na,Oa,{kind:"InlineFragment",selections:[Q,H,t],type:"UserMessage",abstractKey:null},{kind:"InlineFragment",selections:[fb,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"extensible_message_admin_text",plural:!1,selections:[ec],storageKey:null}],type:"GenericAdminTextMessage",abstractKey:null},P,k],storageKey:null}],storageKey:"messages(last:1)"};Df={alias:null,args:null,concreteType:"ThreadConnectivityData",kind:"LinkedField",name:"thread_connectivity_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"connectivity_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"first_sender_id",storageKey:null}],storageKey:null};Gf={alias:null,args:null,kind:"ScalarField",name:"job_status",storageKey:null};A={alias:null,args:null,kind:"ScalarField",name:"should_show_jobs_feature",storageKey:null};Hf={alias:null,args:null,kind:"ScalarField",name:"should_show_schdule_interview_dialog",storageKey:null};q={alias:null,args:null,concreteType:"JobApplicationsFromThreadConnection",kind:"LinkedField",name:"thread_associated_job_applications",plural:!1,selections:[{alias:null,args:null,concreteType:"JobApplication",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,{alias:null,args:null,concreteType:"JobOpening",kind:"LinkedField",name:"job_opening",plural:!1,selections:[Gf,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"employer",plural:!1,selections:[A,Hf],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null};S={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"thread_associated_page_admin",plural:!1,selections:Xc,storageKey:null};rc={alias:null,args:null,kind:"ScalarField",name:"unread_count",storageKey:null};qc={condition:"is_work_teamwork_not_putting_muted_in_unreads",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"unread_mentions_count",storageKey:null}]};tc={alias:null,args:null,kind:"ScalarField",name:"messages_count",storageKey:null};uc={alias:null,args:[{kind:"Literal",name:"size",value:60}],concreteType:"Image",kind:"LinkedField",name:"square_image",plural:!1,selections:m,storageKey:"square_image(size:60)"};Rf={alias:null,args:null,kind:"ScalarField",name:"updated_time_precise",storageKey:null};Xc={alias:null,args:null,kind:"ScalarField",name:"mute_until",storageKey:null};var Sg={alias:null,args:null,kind:"ScalarField",name:"is_pin_protected",storageKey:null},Tg={alias:null,args:null,kind:"ScalarField",name:"is_pinned",storageKey:null},Ug={alias:null,args:null,kind:"ScalarField",name:"is_viewer_subscribed",storageKey:null},Vg={alias:null,args:null,kind:"ScalarField",name:"is_other_recipient_page",storageKey:null},Wg={alias:null,args:null,kind:"ScalarField",name:"thread_queue_enabled",storageKey:null},Xg={alias:null,args:null,kind:"ScalarField",name:"folder",storageKey:null},Yg={alias:null,args:null,kind:"ScalarField",name:"has_viewer_archived",storageKey:null},Zg={alias:null,args:null,kind:"ScalarField",name:"is_page_follow_up",storageKey:null},$g={alias:null,args:null,kind:"ScalarField",name:"is_page_unresponded_thread",storageKey:null},ah={alias:null,args:null,kind:"ScalarField",name:"cannot_reply_reason",storageKey:null},bh={alias:null,args:null,kind:"ScalarField",name:"can_viewer_report",storageKey:null},ch={alias:null,args:null,kind:"ScalarField",name:"composer_input_disabled",storageKey:null},dh={alias:null,args:null,kind:"ScalarField",name:"ephemeral_ttl_mode",storageKey:null},eh={alias:null,args:null,kind:"ScalarField",name:"emoji",storageKey:null},fh={alias:null,args:null,kind:"ScalarField",name:"participant_id",storageKey:null},gh={alias:null,args:null,kind:"ScalarField",name:"nickname",storageKey:null},hh={alias:null,args:null,concreteType:"MessageThreadParticipantCustomization",kind:"LinkedField",name:"participant_customizations",plural:!0,selections:[fh,gh],storageKey:null},ih={alias:null,args:null,kind:"ScalarField",name:"outgoing_bubble_color",storageKey:null},jh={alias:null,args:null,concreteType:"MessageThreadCustomization",kind:"LinkedField",name:"customization_info",plural:!1,selections:[eh,hh,ih],storageKey:null},kh={alias:null,args:null,kind:"ScalarField",name:"fallback_color",storageKey:null},lh={alias:null,args:null,kind:"ScalarField",name:"accessibility_label",storageKey:null},mh={alias:null,args:null,kind:"ScalarField",name:"reverse_gradients_for_radial",storageKey:null},nh={alias:null,args:null,kind:"ScalarField",name:"gradient_colors",storageKey:null},oh={alias:null,args:null,kind:"ScalarField",name:"keyframe_asset_uri",storageKey:null},ph={alias:null,args:null,kind:"ScalarField",name:"reaction_name",storageKey:null},qh={alias:null,args:null,kind:"ScalarField",name:"reaction_emoji",storageKey:null},rh={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"static_asset",plural:!1,selections:m,storageKey:null},sh={alias:null,args:null,concreteType:"MessengerThreadTheme",kind:"LinkedField",name:"thread_theme",plural:!1,selections:[a,kh,lh,mh,nh,{alias:null,args:null,concreteType:"MessengerReactionPack",kind:"LinkedField",name:"reaction_pack",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerReactionPackReactionAssetsConnection",kind:"LinkedField",name:"reaction_assets",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerReactionAsset",kind:"LinkedField",name:"nodes",plural:!0,selections:[oh,ph,qh,rh],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},th={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"thread_admins",plural:!0,selections:d,storageKey:null},uh={alias:"approval_mode",args:null,kind:"ScalarField",name:"group_approval_mode",storageKey:null},vh={alias:null,args:null,concreteType:"MessageThreadJoinableMode",kind:"LinkedField",name:"joinable_mode",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"mode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null}],storageKey:null},wh={alias:null,args:null,concreteType:"GroupApprovalQueueConnection",kind:"LinkedField",name:"group_approval_queue",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerGroupRequesterInfo",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"requester",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"inviter",plural:!1,selections:d,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"request_source",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"request_timestamp",storageKey:null}],storageKey:null}],storageKey:null},xh=[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nodes",plural:!0,selections:d,storageKey:null}],yh={alias:null,args:null,concreteType:"ApprovalRequestsOfThreadConnection",kind:"LinkedField",name:"approval_requests",plural:!1,selections:xh,storageKey:null},zh={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"thread_queue_metadata",plural:!1,selections:[yh],storageKey:null},Ah={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"lightweight_event_creator",plural:!1,selections:d,storageKey:null},Bh={alias:null,args:null,kind:"ScalarField",name:"lightweight_event_type",storageKey:null},Ch={alias:null,args:null,kind:"ScalarField",name:"location_name",storageKey:null};Dc={alias:null,args:null,concreteType:"Location",kind:"LinkedField",name:"location_coordinates",plural:!1,selections:Dc,storageKey:null};var Dh={alias:null,args:null,concreteType:"StreetAddress",kind:"LinkedField",name:"address",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"full_address",storageKey:null}],storageKey:null},Eh={alias:null,args:null,kind:"ScalarField",name:"lightweight_event_status",storageKey:null},Fh={alias:null,args:null,kind:"ScalarField",name:"note",storageKey:null},Gh={alias:null,args:null,kind:"ScalarField",name:"repeat_mode",storageKey:null},V={alias:null,args:null,kind:"ScalarField",name:"message_id",storageKey:null},Hh={alias:null,args:null,kind:"ScalarField",name:"seconds_to_notify_before",storageKey:null},Ih={alias:null,args:null,kind:"ScalarField",name:"allows_rsvp",storageKey:null},Jh={alias:null,args:null,concreteType:"Event",kind:"LinkedField",name:"related_event",plural:!1,selections:d,storageKey:null},Kh={alias:null,args:null,concreteType:"MessengerEventReminderMembersConnection",kind:"LinkedField",name:"event_reminder_members",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerEventReminderMembersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:d,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"guest_list_state",storageKey:null}],storageKey:null}],storageKey:null},Lh={alias:null,args:ed,concreteType:"MessengerEventRemindersOfThreadConnection",kind:"LinkedField",name:"event_reminders",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerEventReminder",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,Ah,ef,Bh,Ch,Dc,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"location_page",plural:!1,selections:[Dh],storageKey:null},Eh,Fh,Gh,df,{alias:null,args:null,concreteType:"UserMessage",kind:"LinkedField",name:"trigger_message",plural:!1,selections:[V],storageKey:null},Hh,Ih,Jh,Kh],storageKey:null}],storageKey:"event_reminders(first:1)"},Mh={alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"montage_thread",plural:!1,selections:d,storageKey:null},Nh=[Na],Oh={alias:"last_read_receipt",args:Ma,concreteType:"MessagingReadReceiptsOfThreadConnection",kind:"LinkedField",name:"read_receipts",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagingReadReceipt",kind:"LinkedField",name:"nodes",plural:!0,selections:Nh,storageKey:null}],storageKey:"read_receipts(last:1)"},Ph={alias:"is_flagged",args:[{kind:"Literal",name:"page_message_tag",value:"FLAG"}],kind:"ScalarField",name:"has_tag",storageKey:'has_tag(page_message_tag:"FLAG")'},Qh={alias:null,args:null,kind:"ScalarField",name:"label_color",storageKey:null},W={alias:null,args:null,kind:"ScalarField",name:"data_silo",storageKey:null},Rh={alias:null,args:null,kind:"ScalarField",name:"label_source",storageKey:null},Sh={alias:null,args:null,kind:"ScalarField",name:"is_ad_response_label",storageKey:null},Th={alias:null,args:null,concreteType:"PageMessageThreadCustomThreadLabelsConnection",kind:"LinkedField",name:"custom_thread_labels",plural:!1,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCustomLabel",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,b,Qh,W,Rh,Sh],storageKey:null}],storageKey:null},Uh=[a,b,Ob],Vh={alias:null,args:null,concreteType:"PageMessageThreadCustomTagsConnection",kind:"LinkedField",name:"custom_thread_tags",plural:!1,selections:[{alias:null,args:null,concreteType:"PageCustomTag",kind:"LinkedField",name:"nodes",plural:!0,selections:Uh,storageKey:null}],storageKey:null},Wh={alias:null,args:null,kind:"ScalarField",name:"is_ai_label",storageKey:null},Xh={alias:null,args:null,kind:"ScalarField",name:"is_ai_handoff_label",storageKey:null},Yh={alias:null,args:null,concreteType:"PageMessageThreadCorpThreadLabelsConnection",kind:"LinkedField",name:"corp_thread_labels",plural:!1,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCorporationLabel",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,b,Qh,Rh,W,Wh,Xh,Sh],storageKey:null}],storageKey:null},Zh={alias:null,args:null,concreteType:"PageMessageThread",kind:"LinkedField",name:"related_page_thread",plural:!1,selections:[Ph,td,Th,Vh,Yh],storageKey:null},$h={alias:null,args:null,kind:"ScalarField",name:"call_state",storageKey:null},ai={alias:null,args:null,kind:"ScalarField",name:"server_info_data",storageKey:null},bi={alias:null,args:null,concreteType:"RtcCallData",kind:"LinkedField",name:"rtc_call_data",plural:!1,selections:[$h,ai,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"initiator",plural:!1,selections:d,storageKey:null}],storageKey:null};se={alias:null,args:null,concreteType:"Location",kind:"LinkedField",name:"location",plural:!1,selections:[{alias:null,args:null,concreteType:"ReverseGeocodeData",kind:"LinkedField",name:"reverse_geocode",plural:!1,selections:[se,ue],storageKey:null}],storageKey:null};var ci={alias:null,args:null,kind:"ScalarField",name:"inventory_count",storageKey:null},di={alias:null,args:null,kind:"ScalarField",name:"delivery_types",storageKey:null},ei={alias:null,args:null,kind:"ScalarField",name:"c2c_shipping_eligible",storageKey:null},fi={alias:null,args:null,kind:"ScalarField",name:"is_pending",storageKey:null},gi={alias:null,args:null,kind:"ScalarField",name:"is_shipping_offered",storageKey:null},hi={alias:null,args:null,kind:"ScalarField",name:"is_sold",storageKey:null},ii={alias:null,args:null,concreteType:"ProductItem",kind:"LinkedField",name:"product_item",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"is_commerce_post_item",storageKey:null}],storageKey:null},ji={alias:null,args:[{kind:"Literal",name:"site",value:"www"}],kind:"ScalarField",name:"url",storageKey:'url(site:"www")'},ki={alias:null,args:null,concreteType:"MarketplaceRatingState",kind:"LinkedField",name:"rating_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_eligible_to_rate",storageKey:null}],storageKey:null},li={alias:null,args:null,kind:"ScalarField",name:"is_eligible",storageKey:null},mi={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MarketplaceC2CShippingSeller",kind:"LinkedField",name:"marketplace_c2c_shipping_seller",plural:!1,selections:[li],storageKey:null}],type:"User",abstractKey:null},ni={alias:null,args:null,kind:"ScalarField",name:"label_type",storageKey:null},oi={alias:null,args:null,concreteType:"MarketplaceThreadLabel",kind:"LinkedField",name:"seller_added_labels",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"label_string",storageKey:null},ni],storageKey:null},pi={alias:null,args:null,concreteType:"MarketplaceThreadData",kind:"LinkedField",name:"marketplace_thread_data",plural:!1,selections:[{alias:null,args:null,concreteType:"GroupCommerceProductItem",kind:"LinkedField",name:"for_sale_item",plural:!1,selections:[a,Mc,Ye,Xe,se,ci,di,ei,fi,gi,hi,{alias:"primary_photo",args:null,concreteType:null,kind:"LinkedField",name:"primary_listing_photo",plural:!1,selections:Yb,storageKey:null},ii,ji],storageKey:null},ki,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"buyer",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"seller",plural:!1,selections:[a,mi],storageKey:null},oi],storageKey:null},qi={alias:"action_link",args:null,kind:"ScalarField",name:"url",storageKey:null},ri={alias:"room_type",args:null,kind:"ScalarField",name:"time_spent_room_type",storageKey:null},si={alias:null,args:null,kind:"ScalarField",name:"privacy_mode",storageKey:null},ti={alias:null,args:null,kind:"ScalarField",name:"approval_mode_toggleable",storageKey:null},ui={alias:null,args:null,concreteType:"MentorshipProgram",kind:"LinkedField",name:"mentorship_program",plural:!1,selections:Dd,storageKey:null},vi=[pg],wi={alias:null,args:null,concreteType:"GroupSavesConnection",kind:"LinkedField",name:"group_saves",plural:!1,selections:vi,storageKey:null},xi={alias:null,args:[{kind:"Literal",name:"external_ref",value:"messenger"}],kind:"ScalarField",name:"verse_group_link",storageKey:'verse_group_link(external_ref:"messenger")'},yi={kind:"InlineFragment",selections:[b,$e],type:"Page",abstractKey:null};Dg={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"associated_object",plural:!1,selections:[{kind:"InlineFragment",selections:[qi,a,b,D,Dg,ri,si,ti,ui,wi,xi],type:"Group",abstractKey:null},{kind:"InlineFragment",selections:[qi,a,b,D,ri,si,ti,Pd,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"event_place",plural:!1,selections:[yi],storageKey:null}],type:"Event",abstractKey:null}],storageKey:null};var zi={alias:null,args:null,kind:"ScalarField",name:"reactions_mute_mode",storageKey:null},Ai={alias:null,args:null,kind:"ScalarField",name:"mentions_mute_mode",storageKey:null},Bi={alias:null,args:null,kind:"ScalarField",name:"customization_enabled",storageKey:null},Ci={alias:null,args:null,kind:"ScalarField",name:"thread_type",storageKey:null},Di={alias:null,args:null,kind:"ScalarField",name:"group_thread_subtype",storageKey:null},Ei={alias:null,args:null,kind:"ScalarField",name:"participant_add_mode_as_string",storageKey:null},Fi={alias:null,args:null,kind:"ScalarField",name:"is_canonical_neo_user",storageKey:null};fh={alias:null,args:null,concreteType:"MessageThreadParticipantEventStatusInfo",kind:"LinkedField",name:"participants_event_status",plural:!0,selections:[fh,{alias:null,args:null,kind:"ScalarField",name:"event_status",storageKey:null}],storageKey:null};var Gi={alias:null,args:null,kind:"ScalarField",name:"comm_status",storageKey:null},Hi={alias:null,args:null,kind:"ScalarField",name:"comm_source_id",storageKey:null},Ii={alias:null,args:null,kind:"ScalarField",name:"is_priority",storageKey:null},Ji={alias:null,args:null,kind:"ScalarField",name:"biz_inbox_tags",storageKey:null},Ki={alias:null,args:null,kind:"ScalarField",name:"priority_score",storageKey:null},Li={alias:null,args:null,kind:"ScalarField",name:"trigger_id",storageKey:null},Mi=[{alias:null,args:null,kind:"ScalarField",name:"suggestion_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"suggestion_content",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"triggered_timestamp",storageKey:null},Li],Ni={alias:null,args:null,concreteType:"SuggestedReplyData",kind:"LinkedField",name:"biz_inbox_suggested_reply",plural:!1,selections:Mi,storageKey:null},Oi={alias:null,args:null,kind:"ScalarField",name:"is_thread_currently_handled_by_ai_agent",storageKey:null},Pi=[a,b,{alias:null,args:[{kind:"Literal",name:"height",value:20},{kind:"Literal",name:"width",value:20}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:m,storageKey:"profile_picture(height:20,width:20)"}],Qi={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"admin",plural:!1,selections:Pi,storageKey:null},Ri={alias:null,args:null,kind:"ScalarField",name:"comm_icon_type",storageKey:null};Yb={alias:null,args:null,concreteType:"PageCommItem",kind:"LinkedField",name:"page_comm_item",plural:!1,selections:[a,Gi,Hi,Ii,Ji,Ki,Ni,Oi,{alias:null,args:null,concreteType:"PageCommItemToPageCommItemOwnersConnection",kind:"LinkedField",name:"comm_item_owners",plural:!1,selections:[{alias:null,args:null,concreteType:"PageCommItemOwner",kind:"LinkedField",name:"nodes",plural:!0,selections:[Qi],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"subtitle",plural:!1,selections:[{alias:null,args:null,concreteType:"ImageAtRange",kind:"LinkedField",name:"image_ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity_with_image",plural:!1,selections:Yb,storageKey:null},z,Vf],storageKey:null},$f,e],storageKey:null},Ri],storageKey:null};var Si={alias:null,args:null,kind:"ScalarField",name:"admin_model_status_string",storageKey:null},Ti={alias:null,args:null,kind:"ScalarField",name:"groups_sync_status_string",storageKey:null};jg={alias:null,args:null,concreteType:"GroupsSyncMetadata",kind:"LinkedField",name:"groups_sync_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"fb_group",plural:!1,selections:jg,storageKey:null}],storageKey:null};var Ui={alias:null,args:null,kind:"ScalarField",name:"pinning_time",storageKey:null},Vi={alias:null,args:null,concreteType:"OmniMActionLite",kind:"LinkedField",name:"m_suggestions",plural:!0,selections:[a,j,g,{alias:null,args:null,concreteType:"OmniMActionDataLite",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"OmniMActionReminderDataLite",kind:"LinkedField",name:"reminder",plural:!1,selections:[Mg,{alias:null,args:null,kind:"ScalarField",name:"topic",storageKey:null}],storageKey:null}],storageKey:null},Ac],storageKey:null},Wi={alias:null,args:null,kind:"ScalarField",name:"offline_threading_id",storageKey:null},Xi={alias:null,args:null,kind:"ScalarField",name:"email",storageKey:null},Yi={alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"message_sender",plural:!1,selections:[a,Xi],storageKey:null},Zi={alias:null,args:null,kind:"ScalarField",name:"ttl",storageKey:null},$i={alias:null,args:null,kind:"ScalarField",name:"unread",storageKey:null},aj={alias:null,args:null,kind:"ScalarField",name:"is_sponsored",storageKey:null},bj={alias:null,args:null,kind:"ScalarField",name:"ad_client_token",storageKey:null},cj={alias:null,args:null,concreteType:"MessageCustomization",kind:"LinkedField",name:"customizations",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"customization_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"customization_value",storageKey:null}],storageKey:null},dj={alias:null,args:null,kind:"ScalarField",name:"tags_list",storageKey:null},ej={alias:null,args:null,concreteType:"MessageSourceData",kind:"LinkedField",name:"message_source_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message_source",storageKey:null}],storageKey:null},fj={alias:null,args:null,concreteType:"MontageReplyData",kind:"LinkedField",name:"montage_reply_data",plural:!1,selections:[V,{alias:null,args:null,kind:"ScalarField",name:"reply_action",storageKey:null},c],storageKey:null},gj={alias:null,args:null,kind:"ScalarField",name:"reaction",storageKey:null},hj={alias:null,args:null,concreteType:"MessageReaction",kind:"LinkedField",name:"message_reactions",plural:!0,selections:[gj,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"user",plural:!1,selections:d,storageKey:null}],storageKey:null},ij={alias:null,args:null,kind:"ScalarField",name:"unsent_timestamp_precise",storageKey:null},jj={alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"unsender",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[a,b,ig],storageKey:null}],storageKey:null},kj={alias:null,args:null,kind:"ScalarField",name:"verse_group_role_xmd",storageKey:null},lj={alias:null,args:null,kind:"ScalarField",name:"secondary_language_body",storageKey:null},mj={kind:"InlineFragment",selections:d,type:"Profile",abstractKey:"__isProfile"},nj={kind:"InlineFragment",selections:d,type:"MessengerViewerGroupThread",abstractKey:null};Ka={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessageThreadKey",kind:"LinkedField",name:"thread_key",plural:!1,selections:[Ka],storageKey:null}],type:"MessageThread",abstractKey:null};var oj={alias:null,args:null,kind:"ScalarField",name:"message_profile_range_type",storageKey:null},pj={alias:null,args:null,concreteType:"MetaAtRange",kind:"LinkedField",name:"meta_ranges",plural:!0,selections:[z,Vf,g,Yf],storageKey:null};ni={alias:null,args:null,concreteType:"MessagePageAdminSender",kind:"LinkedField",name:"page_admin_sender",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"admin_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sender_type",storageKey:null},b,ni,x,{alias:null,args:null,kind:"ScalarField",name:"profile_uri",storageKey:null}],storageKey:null};Q={kind:"InlineFragment",selections:[lj,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:[e,{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[z,Vf,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[B,mj,nj,Ka],storageKey:null},oj],storageKey:null}],storageKey:null},pj,Q,H,t,ni],type:"UserMessage",abstractKey:null};t={alias:null,args:null,kind:"ScalarField",name:"answered",storageKey:null};var qj={kind:"InlineFragment",selections:[t,c],type:"VoiceCallMessage",abstractKey:null};w=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:w,storageKey:null}];var rj={kind:"InlineFragment",selections:[t,c,{alias:null,args:null,concreteType:"VideoCallMessageToCaptureAttachmentsConnection",kind:"LinkedField",name:"call_capture_attachments",plural:!1,selections:[pg,{alias:null,args:null,concreteType:"VideoCallMessageToCaptureAttachmentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:w,storageKey:null}],storageKey:null}],type:"VideoCallMessage",abstractKey:null},sj={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_name",storageKey:null},c],type:"ThreadNameMessage",abstractKey:null};Ef={alias:"preview",args:Ef,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:m,storageKey:"image(height:280,width:280)"};var tj={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessageImage",kind:"LinkedField",name:"image_with_metadata",plural:!1,selections:[Ef,Pa,xc],storageKey:null},c],type:"ThreadImageMessage",abstractKey:null},uj={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"participants_added",plural:!0,selections:d,storageKey:null},c],type:"ParticipantsAddedMessage",abstractKey:null},vj={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"participants_removed",plural:!0,selections:d,storageKey:null},c],type:"ParticipantLeftMessage",abstractKey:null},wj={alias:null,args:null,kind:"ScalarField",name:"viewer_has_voted",storageKey:null};wj={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"event_type",storageKey:null},{alias:"total_count",args:null,kind:"ScalarField",name:"option_count",storageKey:null},{alias:null,args:null,concreteType:"Question",kind:"LinkedField",name:"question",plural:!1,selections:[a,e,wj,{alias:null,args:[{kind:"Literal",name:"orderby",value:"creation_time"}],concreteType:"QuestionOptionsConnection",kind:"LinkedField",name:"options",plural:!1,selections:[{alias:null,args:null,concreteType:"QuestionOption",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,e,wj,{alias:null,args:null,concreteType:"QuestionOptionVotersConnection",kind:"LinkedField",name:"voters",plural:!1,selections:xh,storageKey:null}],storageKey:null}],storageKey:'options(orderby:"creation_time")'}],storageKey:null}],type:"GroupPollExtensibleMessageAdminText",abstractKey:null};xh={alias:null,args:null,kind:"ScalarField",name:"display_name",storageKey:null};kf={alias:null,args:null,concreteType:"MessengerEventReminder",kind:"LinkedField",name:"event_reminder",plural:!1,selections:[a,ef,df,{alias:null,args:null,kind:"ScalarField",name:"end_time",storageKey:null},Ch,Bh,Ih,Hh,Ah,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"location_page",plural:!1,selections:d,storageKey:null},Dc,{alias:null,args:null,concreteType:"TimezoneInfo",kind:"LinkedField",name:"timezone_id",plural:!1,selections:[xh,kf,{alias:null,args:null,kind:"ScalarField",name:"timezone_id",storageKey:null}],storageKey:null},Kh],storageKey:null};var X=[kf],xj={kind:"InlineFragment",selections:X,type:"LightweightEventCreateExtensibleMessageAdminText",abstractKey:null},yj={kind:"InlineFragment",selections:X,type:"LightweightEventDeleteExtensibleMessageAdminText",abstractKey:null},zj={kind:"InlineFragment",selections:X,type:"LightweightEventNotifyBeforeEventExtensibleMessageAdminText",abstractKey:null},Aj={kind:"InlineFragment",selections:X,type:"LightweightEventNotifyExtensibleMessageAdminText",abstractKey:null},Bj={kind:"InlineFragment",selections:X,type:"LightweightEventUpdateExtensibleMessageAdminText",abstractKey:null},Cj={kind:"InlineFragment",selections:X,type:"LightweightEventUpdateLocationExtensibleMessageAdminText",abstractKey:null},Dj={kind:"InlineFragment",selections:X,type:"LightweightEventUpdateTimeExtensibleMessageAdminText",abstractKey:null};X={kind:"InlineFragment",selections:X,type:"LightweightEventUpdateTitleExtensibleMessageAdminText",abstractKey:null};var Ej={alias:null,args:null,kind:"ScalarField",name:"guest_id",storageKey:null};kf={kind:"InlineFragment",selections:[Ej,{alias:null,args:null,kind:"ScalarField",name:"guest_status",storageKey:null},kf],type:"LightweightEventRSVPExtensibleMessageAdminText",abstractKey:null};var Fj={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"theme_color",storageKey:null}],type:"ThemeColorExtensibleMessageAdminText",abstractKey:null},Gj={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_icon",storageKey:null}],type:"ThreadIconExtensibleMessageAdminText",abstractKey:null};gh={kind:"InlineFragment",selections:[gh,{alias:"participant_id",args:null,kind:"ScalarField",name:"target_id",storageKey:null}],type:"ThreadNicknameExtensibleMessageAdminText",abstractKey:null};var Hj={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"accepter_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"requester_id",storageKey:null}],type:"AcceptPendingThreadExtensibleMessageAdminText",abstractKey:null},Ij={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"contact_added_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contact_adder_id",storageKey:null}],type:"AddContactExtensibleMessageAdminText",abstractKey:null},Jj={alias:null,args:null,kind:"ScalarField",name:"event",storageKey:null},Kj={kind:"InlineFragment",selections:[Jj,{alias:null,args:null,kind:"ScalarField",name:"is_video_call",storageKey:null},ai],type:"RtcCallLogExtensibleMessageAdminText",abstractKey:null},Lj={alias:null,args:null,kind:"ScalarField",name:"update_type",storageKey:null},Mj={alias:null,args:null,kind:"ScalarField",name:"collapsed_text",storageKey:null},Nj={alias:null,args:null,kind:"ScalarField",name:"expanded_text",storageKey:null},Oj={alias:null,args:null,kind:"ScalarField",name:"cta_url",storageKey:null},Pj={alias:null,args:null,kind:"ScalarField",name:"template",storageKey:null},Qj={alias:null,args:null,kind:"ScalarField",name:"leaderboard_json",storageKey:null},Rj={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"game_type",storageKey:null}],type:"GameScoreExtensibleMessageAdminText",abstractKey:null},Sj={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"parties_user_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"parties_invite_type",storageKey:null}],type:"PartiesInviteExtensibleMessageAdminText",abstractKey:null},Tj={alias:null,args:null,kind:"ScalarField",name:"icebreaker_type",storageKey:null},Uj={alias:null,args:null,kind:"ScalarField",name:"icebreaker_title",storageKey:null},Vj={alias:null,args:null,kind:"ScalarField",name:"icebreaker_subtitle",storageKey:null},Wj={alias:null,args:null,kind:"ScalarField",name:"vote_buttons_with_icons",storageKey:null},Xj={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"friend_request_recipient",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"friend_request_sender",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"friend_request_subtype",storageKey:null},Tj,Uj,Vj,Wj],type:"ConfirmFriendRequestExtensibleMessageAdminText",abstractKey:null},Yj={alias:null,args:null,kind:"ScalarField",name:"sender_id",storageKey:null},Zj={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"bump_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"recipient_id",storageKey:null},Yj,h,M,{alias:null,args:null,kind:"ScalarField",name:"icon_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"image_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"facepile_ids",storageKey:null},Og,{alias:null,args:null,kind:"ScalarField",name:"cta_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"admin_message_string",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"banner_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_two_way",storageKey:null}],type:"MessengerGrowthGenericExtensibleMessageAdminText",abstractKey:null},$j={kind:"InlineFragment",selections:[Bd,{alias:null,args:null,kind:"ScalarField",name:"ios_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"activity_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_redesign",storageKey:null}],type:"BizInboxDetectedOutcomesActivityAdminTextExtensibleMessageAdminText",abstractKey:null},ak={alias:null,args:null,kind:"ScalarField",name:"cta_text",storageKey:null},bk={kind:"InlineFragment",selections:[Bd,ak,Oj,{alias:null,args:null,kind:"ScalarField",name:"async_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"www_is_async_url",storageKey:null}],type:"LinkCTAExtensibleMessageAdminText",abstractKey:null},ck={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"referer_uri",storageKey:null}],type:"MessengerLiveChatPluginURLUpdateAdminText",abstractKey:null},dk={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"fb_user_name",storageKey:null}],type:"MessengerLiveChatPluginFBUserStartChatAdminText",abstractKey:null};Ac={kind:"InlineFragment",selections:[Ac],type:"MessengerLiveChatPluginGuestUserStartChatAdminText",abstractKey:null};ak={kind:"InlineFragment",selections:[ak,Oj,V,{alias:null,args:null,kind:"ScalarField",name:"recipient_is_the_sender",storageKey:null}],type:"WorkChatReminderLinkCTAExtensibleMessageAdminText",abstractKey:null};var ek={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"post_uri",storageKey:null}],type:"PostSharedFromGroupExtensibleMessageAdminText",abstractKey:null},fk={alias:null,args:null,kind:"ScalarField",name:"ad_url",storageKey:null},gk={kind:"InlineFragment",selections:[fk],type:"MessengerAdContextAdminText",abstractKey:null},hk={kind:"InlineFragment",selections:[bj,Af,{alias:null,args:null,kind:"ScalarField",name:"ad_preferences_link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ad_properties",storageKey:null}],type:"AdExtensibleMessageAdminText",abstractKey:null},ik={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"page_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"start_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"product_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"user_name",storageKey:null}],type:"AppointmentReminderExtensibleMessageAdminText",abstractKey:null},jk=[x],kk={kind:"InlineFragment",selections:jk,type:"GraphQLServicesAppointmentsOptOutExtensibleMessageAdminText",abstractKey:null},lk={kind:"InlineFragment",selections:jk,type:"ServicesLeadGenSurveyExtensibleMessageAdminText",abstractKey:null};jk={kind:"InlineFragment",selections:jk,type:"ServicesLeadGenSurveyEditExtensibleMessageAdminText",abstractKey:null};var mk={alias:null,args:null,kind:"ScalarField",name:"caller_id",storageKey:null},nk={alias:null,args:null,kind:"ScalarField",name:"callee_id",storageKey:null},ok={alias:null,args:null,kind:"ScalarField",name:"conference_name",storageKey:null},pk={alias:null,args:null,kind:"ScalarField",name:"server_info",storageKey:null},qk={alias:null,args:null,kind:"ScalarField",name:"video",storageKey:null},rk={alias:null,args:null,kind:"ScalarField",name:"call_duration",storageKey:null},sk={alias:null,args:null,kind:"ScalarField",name:"rating",storageKey:null};Tj={kind:"InlineFragment",selections:[Tj,Uj,Vj,{alias:null,args:null,kind:"ScalarField",name:"votes_cast",storageKey:null},Wj],type:"MessengerIcebreakerVoteCastExtensibleMessageAdminText",abstractKey:null};Uj={alias:null,args:null,kind:"ScalarField",name:"user_id",storageKey:null};Vj={alias:null,args:null,kind:"ScalarField",name:"currency_code",storageKey:null};Wj=[x,Uj,{alias:null,args:null,kind:"ScalarField",name:"receipt_photo_id",storageKey:null},Vj,{alias:null,args:null,kind:"ScalarField",name:"detection_type",storageKey:null}];var tk={kind:"InlineFragment",selections:Wj,type:"PagesMarkAsPaidExtensibleMessageAdminText",abstractKey:null};Wj={kind:"InlineFragment",selections:Wj,type:"PagesMarkAsPaidNewExtensibleMessageAdminText",abstractKey:null};var uk={alias:null,args:null,kind:"ScalarField",name:"interaction_id",storageKey:null},vk={kind:"InlineFragment",selections:[x,Uj,{alias:null,args:null,kind:"ScalarField",name:"interaction_type",storageKey:null},uk,{alias:null,args:null,kind:"ScalarField",name:"should_show_cta",storageKey:null}],type:"PageThreadActionSystemAddDetailsXMAT",abstractKey:null},wk={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"bot_page",plural:!1,selections:d,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_landing_page",storageKey:null}],type:"WorkBotInstalledExtensibleMessageAdminText",abstractKey:null};fk={kind:"InlineFragment",selections:[fk,{alias:null,args:null,kind:"ScalarField",name:"should_show_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"results_url",storageKey:null}],type:"AdReplyMessageAdminText",abstractKey:null};var xk={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"new_magic_word_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"magic_word",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"emoji_effect",storageKey:null}],type:"MagicWordsExtensibleMessageAdminText",abstractKey:null},yk={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"token_ent_id_string",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"user_action_type",storageKey:null}],type:"NotificationMessagesAdminText",abstractKey:null},zk={alias:null,args:null,kind:"ScalarField",name:"admin_assigner_name",storageKey:null},Ak={kind:"InlineFragment",selections:[zk,{alias:null,args:null,kind:"ScalarField",name:"assigned_admin_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"assign_conversation",storageKey:null}],type:"BizInboxAssignAdminAdminText",abstractKey:null};zk={kind:"InlineFragment",selections:[zk,{alias:null,args:null,kind:"ScalarField",name:"note_input",storageKey:null}],type:"BizInboxAdminAssignmentNoteAdminText",abstractKey:null};var Bk={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"email_thread_id",storageKey:null}],type:"BizInboxOmnichannelEmailSentAdminText",abstractKey:null},Ck={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"user_subscription_management_action_type",storageKey:null}],type:"InstantGameBotMessageSubscriptionManagementAdminText",abstractKey:null},Dk={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"user_mute_management_action_type",storageKey:null}],type:"InstantGameCustomUpdateMuteManagementAdminText",abstractKey:null};vg={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"extensible_message_admin_text",plural:!1,selections:[B,wj,xj,yj,zj,Aj,Bj,Cj,Dj,X,kf,Fj,Gj,gh,Hj,Ij,Kj,{kind:"InlineFragment",selections:[xb,Lj,Mj,Nj,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"instant_game_update_data",plural:!1,selections:[{kind:"InlineFragment",selections:[Oj,Og,vg,Pj],type:"InstantGameXMATCustomMessageClientData",abstractKey:null}],storageKey:null},Qj],type:"InstantGameUpdateExtensibleMessageAdminText",abstractKey:null},Rj,Sj,Xj,Zj,$j,bk,ck,dk,Ac,ak,ek,gk,hk,ik,kk,lk,jk,{kind:"InlineFragment",selections:[mk,nk,ok,Jj,pk,qk,rk,sk,{alias:null,args:null,concreteType:"MessengerCallLogExtensibleMessageAdminTextCallCaptureAttachmentsConnection",kind:"LinkedField",name:"call_capture_attachments",plural:!1,selections:[pg,{alias:null,args:null,concreteType:"MessengerCallLogExtensibleMessageAdminTextCallCaptureAttachmentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:w,storageKey:null}],storageKey:null}],type:"MessengerCallLogExtensibleMessageAdminText",abstractKey:null},Tj,tk,Wj,vk,wk,fk,xk,yk,Ak,zk,Bk,Ck,Dk],storageKey:null},fb,c],type:"GenericAdminTextMessage",abstractKey:null};w=[{alias:null,args:null,kind:"ScalarField",name:"transfer_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message_type",storageKey:null},{alias:null,args:null,concreteType:"CurrencyQuantity",kind:"LinkedField",name:"amount",plural:!1,selections:$b,storageKey:null},{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"p2p_sender",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"p2p_receiver",plural:!1,selections:d,storageKey:null},c];$b={kind:"InlineFragment",selections:w,type:"P2PPaymentRequestMessage",abstractKey:null};w={kind:"InlineFragment",selections:w,type:"P2PPaymentMessage",abstractKey:null};hj=[Vi,B,V,Wi,Yi,Zi,Na,$i,aj,Af,bj,Oa,cj,dj,P,ej,fj,hj,ij,jj,kj,k,Q,qj,rj,sj,tj,uj,vj,vg,$b,w,{alias:null,args:null,concreteType:"RepliedToMessage",kind:"LinkedField",name:"replied_to_message",plural:!1,selections:[kd,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"message",plural:!1,selections:[Vi,B,V,Wi,Yi,Zi,Na,$i,aj,Af,bj,Oa,cj,dj,P,ej,fj,hj,ij,jj,kj,k,Q,qj,rj,sj,tj,uj,vj,vg,$b,w],storageKey:null}],storageKey:null}];jj={alias:null,args:null,concreteType:"PinnedMessageData",kind:"LinkedField",name:"pinned_messages",plural:!0,selections:[V,Ui,{condition:"threadlistViewFieldsOnly",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"message",plural:!1,selections:hj,storageKey:null}]}],storageKey:null};Q={alias:null,args:null,kind:"ScalarField",name:"is_default_child_group",storageKey:null};rj={alias:null,args:null,kind:"ScalarField",name:"emoji_codepoints",storageKey:null};tj={alias:null,args:null,concreteType:"GroupsSyncMetadata",kind:"LinkedField",name:"work_groups_sync_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"fb_group",plural:!1,selections:[n,a,b,Ag,Q,D,wi,{alias:null,args:null,concreteType:"MultiBackgroundIcon",kind:"LinkedField",name:"group_icon",plural:!1,selections:[rj],storageKey:null}],storageKey:null}],storageKey:null};vg={condition:"threadlistViewFieldsOnly",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"saved_messages",plural:!0,selections:hj,storageKey:null}]};var Ek={alias:null,args:null,kind:"ScalarField",name:"joinable_link",storageKey:null},Fk={alias:null,args:null,kind:"ScalarField",name:"is_fuss_red_page",storageKey:null},Gk={alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"program_group",plural:!1,selections:[a,{alias:null,args:[{kind:"Literal",name:"height",value:24},{kind:"Literal",name:"width",value:24}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:m,storageKey:"profile_picture(height:24,width:24)"}],storageKey:null};Dd={alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"mentorship_group",plural:!1,selections:Dd,storageKey:null};var Hk={alias:null,args:null,kind:"ScalarField",name:"banner_title",storageKey:null},Ik={alias:null,args:null,kind:"ScalarField",name:"banner_subtitle",storageKey:null},Jk={alias:null,args:ed,concreteType:"MessengerMentorshipProgramOfThreadConnection",kind:"LinkedField",name:"linked_mentorship_programs",plural:!1,selections:[{alias:null,args:null,concreteType:"MentorshipProgram",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,Gk,Dd,{alias:null,args:ed,concreteType:"MentorshipProgramToMentorshipMessengerCurriculumStepOrderByStepCountConnection",kind:"LinkedField",name:"messenger_curriculum_steps",plural:!1,selections:[{alias:null,args:null,concreteType:"MentorshipMessengerCurriculumStep",kind:"LinkedField",name:"nodes",plural:!0,selections:[Hk,Ik],storageKey:null}],storageKey:"messenger_curriculum_steps(first:1)"}],storageKey:null}],storageKey:"linked_mentorship_programs(first:1)"},Kk={alias:null,args:null,kind:"ScalarField",name:"thread_unsendability_status",storageKey:null},Lk={alias:null,args:null,kind:"ScalarField",name:"thread_pin_timestamp",storageKey:null},Mk={alias:null,args:null,kind:"ScalarField",name:"is_business_page_active",storageKey:null};li={alias:null,args:null,concreteType:"ConversionDetectionData",kind:"LinkedField",name:"conversion_detection_data",plural:!1,selections:[li,{alias:null,args:null,kind:"ScalarField",name:"conversion_type",storageKey:null},Vj,{alias:null,args:null,kind:"ScalarField",name:"currency_amount",storageKey:null},{alias:"timestamp",args:null,kind:"ScalarField",name:"timestamp_graphql_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"page_reply",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icebreaker_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icebreaker_message",storageKey:null},Li,{alias:null,args:null,kind:"ScalarField",name:"shipping_provider",storageKey:null},gf,{alias:null,args:null,kind:"ScalarField",name:"ctx_ad_info",storageKey:null}],storageKey:null};Vj={alias:null,args:null,concreteType:"SuggestedReplyData",kind:"LinkedField",name:"suggested_reply_data",plural:!1,selections:Mi,storageKey:null};Li={alias:null,args:null,kind:"ScalarField",name:"admin_type",storageKey:null};Mi={alias:null,args:null,kind:"ScalarField",name:"gender",storageKey:null};var Y={alias:"big_image_src",args:[{kind:"Literal",name:"height",value:60},{kind:"Literal",name:"width",value:60}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:m,storageKey:"profile_picture(height:60,width:60)"},Nk={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},Ok={alias:null,args:null,kind:"ScalarField",name:"is_viewer_friend",storageKey:null},Pk={alias:null,args:null,kind:"ScalarField",name:"is_messenger_user",storageKey:null},Qk={alias:null,args:null,kind:"ScalarField",name:"is_message_blocked_by_viewer",storageKey:null},Rk={alias:null,args:null,kind:"ScalarField",name:"is_viewer_coworker",storageKey:null},Sk={alias:null,args:null,kind:"ScalarField",name:"is_employee",storageKey:null},Tk={alias:null,args:null,kind:"ScalarField",name:"is_aloha_proxy_confirmed",storageKey:null},Uk={alias:null,args:null,kind:"ScalarField",name:"message_capabilities2_str",storageKey:null},Vk={alias:null,args:null,kind:"ScalarField",name:"messenger_account_status_category",storageKey:null};Jd={alias:null,args:null,concreteType:"WorkUserInfo",kind:"LinkedField",name:"work_info",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"work_community",plural:!1,selections:Jd,storageKey:null},xg],storageKey:null};var Wk={kind:"InlineFragment",selections:[Mi,n,Y,Rb,Ok,Pk,Qk,{alias:null,args:null,kind:"ScalarField",name:"is_viewer_managing_parent",storageKey:null}],type:"NeoApprovedUser",abstractKey:null},Xk={kind:"InlineFragment",selections:[n,Y,Nk,{alias:null,args:null,kind:"ScalarField",name:"accepts_messenger_user_feedback",storageKey:null},Pk,{alias:null,args:null,kind:"ScalarField",name:"is_messenger_platform_bot",storageKey:null},Qk,{alias:null,args:null,kind:"ScalarField",name:"is_viewer_subscribed_to_message_updates",storageKey:null},{alias:null,args:null,concreteType:"InstantGameChannelInfo",kind:"LinkedField",name:"instant_game_channel",plural:!1,selections:[{alias:null,args:null,concreteType:"Application",kind:"LinkedField",name:"application",plural:!1,selections:d,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"verification_status",storageKey:null}],type:"Page",abstractKey:null},Yk=[n,Y,Qk],Zk={kind:"InlineFragment",selections:Yk,type:"SmsMessagingParticipant",abstractKey:null},$k={kind:"InlineFragment",selections:[Y,Qk],type:"InstagramMessagingUser",abstractKey:null},al=[Y],bl={kind:"InlineFragment",selections:al,type:"LiveChatOnlyPerson",abstractKey:null};Yk={kind:"InlineFragment",selections:Yk,type:"UnavailableMessagingActor",abstractKey:null};var cl={kind:"InlineFragment",selections:al,type:"UnifiedMessagingInstagramUser",abstractKey:null},dl={alias:null,args:null,kind:"ScalarField",name:"is_blocked_by_viewer",storageKey:null},el=[n,Y,Nk],fl={kind:"InlineFragment",selections:el,type:"Group",abstractKey:null};el={kind:"InlineFragment",selections:el,type:"Event",abstractKey:null};j={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"WorkForeignEntityInfo",kind:"LinkedField",name:"work_foreign_entity_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"detail",storageKey:null},j,g],storageKey:null}],type:"WorkForeignEntity",abstractKey:"__isWorkForeignEntity"};var gl=[n,Y,Rb,Qk],hl={kind:"InlineFragment",selections:gl,type:"XFBWorkroomsBaseUser",abstractKey:"__isXFBWorkroomsBaseUser"};gl={kind:"InlineFragment",selections:gl,type:"XFBWorkroomsSystemUser",abstractKey:null};var il={kind:"InlineFragment",selections:al,type:"MessengerCallGuestUser",abstractKey:null},jl={kind:"InlineFragment",selections:al,type:"WorkVCEndpointUser",abstractKey:null},kl={kind:"InlineFragment",selections:al,type:"WECMailboxAccount",abstractKey:null};al={kind:"InlineFragment",selections:al,type:"WECCustomer",abstractKey:null};var ll={alias:null,args:null,kind:"ScalarField",name:"wec_group_creation_time",storageKey:null},ml={alias:null,args:null,kind:"ScalarField",name:"wec_group_invite_link",storageKey:null};Ed={alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"nodes",plural:!0,selections:Ed,storageKey:null};Jd={alias:null,args:null,concreteType:"AllMessagingParticipantsOfThreadConnection",kind:"LinkedField",name:"all_participants",plural:!1,selections:[{alias:null,args:null,concreteType:"AllMessagingParticipantsOfThreadEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[Li,{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[a,B,b,{kind:"InlineFragment",selections:[Mi,n,Y,Rb,Nk,Ok,Pk,Qk,Rk,Sk,Tk,Uk,Vk,Jd],type:"User",abstractKey:null},Wk,Xk,Zk,$k,bl,Yk,cl,{kind:"InlineFragment",selections:[n,Y,Nk,dl,Qk,Jd],type:"ReducedMessagingActor",abstractKey:null},fl,el,j,hl,gl,il,jl,kl,al,{kind:"InlineFragment",selections:[Y,ll,ml,{alias:null,args:null,concreteType:"WECGroupParticipantsConnection",kind:"LinkedField",name:"wec_group_participants",plural:!1,selections:[Ed,pg],storageKey:null},{alias:null,args:null,concreteType:"WECGroupAdminsConnection",kind:"LinkedField",name:"wec_group_admins",plural:!1,selections:[Ed],storageKey:null}],type:"WECGroupRecipient",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null};Ed={alias:"watermark",args:null,kind:"ScalarField",name:"timestamp_precise",storageKey:null};var nl={alias:"action",args:null,kind:"ScalarField",name:"action_timestamp_precise",storageKey:null},ol={alias:null,args:null,concreteType:"MessagingReadReceiptsOfThreadConnection",kind:"LinkedField",name:"read_receipts",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagingReadReceipt",kind:"LinkedField",name:"nodes",plural:!0,selections:[Ed,nl,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:d,storageKey:null}],storageKey:null}],storageKey:null};Nh=[{alias:null,args:null,concreteType:"MessagingDeliveryReceiptsOfThreadConnection",kind:"LinkedField",name:"delivery_receipts",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagingDeliveryReceipt",kind:"LinkedField",name:"nodes",plural:!0,selections:Nh,storageKey:null}],storageKey:null}];var pl={condition:"includeDeliveryReceipts",kind:"Condition",passingValue:!0,selections:Nh},ql=[Ja,{alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,La,b,Cf,Df,q,S,rc,qc,tc,uc,J,Rf,Xc,Sg,Tg,Ug,Vg,Wg,Xg,Yg,Zg,$g,ah,bh,ch,dh,jh,sh,th,uh,vh,wh,zh,Lh,Mh,Oh,Zh,bi,pi,Dg,si,zi,Ai,Bi,Ci,Di,Ei,Fi,fh,Yb,Si,Ti,jg,jj,tj,vg,M,Ek,Fk,Jk,Kk,Lk,Mk,li,Vj,Jd,ol,pl],storageKey:null}],rl={alias:null,args:null,kind:"ScalarField",name:"instagram_user_id",storageKey:null},sl=[rl,D],tl={alias:null,args:null,kind:"ScalarField",name:"unseen_count",storageKey:null},ul={alias:null,args:null,kind:"ScalarField",name:"token",storageKey:null},vl={alias:null,args:null,kind:"ScalarField",name:"thread_id",storageKey:null},wl={alias:null,args:null,kind:"ScalarField",name:"thread_v2_id",storageKey:null},xl={alias:null,args:null,kind:"ScalarField",name:"instagram_message_thread_type",storageKey:null},yl={alias:null,args:null,kind:"ScalarField",name:"thread_title",storageKey:null},zl={alias:null,args:null,kind:"ScalarField",name:"is_group",storageKey:null},Al={alias:null,args:null,kind:"ScalarField",name:"last_activity_at",storageKey:null},Bl={alias:null,args:null,concreteType:"IGThreadLastSeenUser",kind:"LinkedField",name:"last_seen_at",plural:!0,selections:[He,Mg,Uj],storageKey:null},Cl={alias:null,args:null,kind:"ScalarField",name:"media_type",storageKey:null},Dl={alias:null,args:null,concreteType:"IGThreadDirectStoryData",kind:"LinkedField",name:"direct_story",plural:!1,selections:[tl,Cl],storageKey:null},El={alias:null,args:null,concreteType:"InstagramMessageThreadThreadLabelsConnection",kind:"LinkedField",name:"thread_labels",plural:!1,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCustomLabel",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,b,Qh,W,Rh],storageKey:null}],storageKey:null},Fl={alias:null,args:null,concreteType:"InstagramMessageThreadThreadCorpLabelsConnection",kind:"LinkedField",name:"thread_corp_labels",plural:!1,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCorporationLabel",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,b,Qh,W],storageKey:null}],storageKey:null};Pi={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"assigned_admin",plural:!1,selections:Pi,storageKey:null};var Gl={alias:null,args:null,kind:"ScalarField",name:"is_follow_up",storageKey:null},Hl={alias:null,args:null,kind:"ScalarField",name:"is_read",storageKey:null},Il={alias:null,args:null,kind:"ScalarField",name:"business_thread_folder",storageKey:null},Jl={alias:null,args:null,concreteType:"IGThreadUserNodesData",kind:"LinkedField",name:"thread_users",plural:!1,selections:[{alias:null,args:null,concreteType:"IGThreadUserData",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"eimu_id",storageKey:null},rl,Nk,b,{alias:null,args:null,concreteType:"IGThreadUserProfilePic",kind:"LinkedField",name:"profile_picture",plural:!1,selections:m,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"blocking",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null}],storageKey:null}],storageKey:null},Kl={alias:null,args:null,kind:"ScalarField",name:"input_mode",storageKey:null},Ll={alias:null,args:null,kind:"ScalarField",name:"is_partnership",storageKey:null},Ml={alias:null,args:null,kind:"ScalarField",name:"time_stamp",storageKey:null},Nl={alias:null,args:null,kind:"ScalarField",name:"ig_item_type",storageKey:null},Ol={alias:null,args:null,kind:"ScalarField",name:"client_context",storageKey:null},Pl={alias:null,args:null,concreteType:"IGThreadItemPlaceHolderSource",kind:"LinkedField",name:"ig_placeholder",plural:!1,selections:[h,zf],storageKey:null},Ql=[{kind:"Variable",name:"height",variableName:"height"},{kind:"Variable",name:"width",variableName:"width"}],Rl={alias:null,args:Ql,concreteType:"Image",kind:"LinkedField",name:"image_source",plural:!1,selections:m,storageKey:null},Sl={alias:null,args:Ql,concreteType:"IGThreadItemVideoSource",kind:"LinkedField",name:"video_source",plural:!1,selections:T,storageKey:null},Tl={alias:null,args:null,kind:"ScalarField",name:"expiring_at",storageKey:null},Ul=[rl,Nk,b,D],Vl={alias:null,args:null,concreteType:"InstagramUserV2",kind:"LinkedField",name:"media_owner",plural:!1,selections:Ul,storageKey:null},Wl={alias:null,args:null,concreteType:"IGMessageThreadItemRavenMedia",kind:"LinkedField",name:"raven_media",plural:!1,selections:[Cl,{alias:null,args:null,kind:"ScalarField",name:"seen_user_ids",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"view_mode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seen_count",storageKey:null},{alias:null,args:null,concreteType:"IGMessageThreadItemMedia",kind:"LinkedField",name:"media",plural:!0,selections:[Rl,Sl,Tl],storageKey:null}],storageKey:null};Ul={alias:null,args:null,concreteType:"InstagramUserV2",kind:"LinkedField",name:"user",plural:!1,selections:Ul,storageKey:null};var Xl={alias:null,args:Ql,concreteType:"Image",kind:"LinkedField",name:"image_source",plural:!1,selections:T,storageKey:null},Yl={kind:"InlineFragment",selections:f,type:"IGMessageThreadItemMediaShare",abstractKey:null},Zl={alias:null,args:null,kind:"ScalarField",name:"story_type",storageKey:null},$l={kind:"InlineFragment",selections:[Zl,e,g],type:"IGMessageThreadItemReelShare",abstractKey:null};Zl={kind:"InlineFragment",selections:[Zl,zf,h,e],type:"IGMessageThreadItemStoryShare",abstractKey:null};zf={kind:"InlineFragment",selections:[h,e],type:"IGMessageThreadItemFelixShare",abstractKey:null};var am={kind:"InlineFragment",selections:[h,tb,e,{alias:null,args:null,kind:"ScalarField",name:"current_price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"full_price",storageKey:null},l],type:"IGMessageThreadItemProductShare",abstractKey:null},bm={alias:null,args:null,kind:"ScalarField",name:"likes_count",storageKey:null},cm={alias:null,args:null,kind:"ScalarField",name:"emojis",storageKey:null},dm={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"media",plural:!0,selections:T,storageKey:null};ad={alias:null,args:null,concreteType:"IGThreadItemActionLogSource",kind:"LinkedField",name:"action_log",plural:!1,selections:[M,{alias:null,args:null,concreteType:"IGThreadItemActionLogBoldSource",kind:"LinkedField",name:"bold",plural:!0,selections:ad,storageKey:null},{alias:null,args:null,concreteType:"IGThreadItemActionLogTextAttributesSource",kind:"LinkedField",name:"text_attributes",plural:!0,selections:[Zc,$c,Ob,{alias:null,args:null,kind:"ScalarField",name:"intent",storageKey:null}],storageKey:null}],storageKey:null};Zc={alias:null,args:null,concreteType:"IGThreadItemLinkSource",kind:"LinkedField",name:"link_source",plural:!1,selections:[Ol,e,{alias:null,args:null,concreteType:"IGThreadItemLinkContextSource",kind:"LinkedField",name:"link_context",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"link_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link_summary",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link_image_url",storageKey:null}],storageKey:null}],storageKey:null};$c={alias:null,args:null,concreteType:"IGThreadItemVideoSource",kind:"LinkedField",name:"animated_media",plural:!1,selections:lf,storageKey:null};lf={alias:null,args:null,concreteType:"IGThreadItemVoiceMediaSource",kind:"LinkedField",name:"voice_media",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"audio_src",storageKey:null},Eb],storageKey:null};var Z=[Cl,Xl],em={alias:null,args:null,concreteType:"IGMessageThreadItemMedia",kind:"LinkedField",name:"media",plural:!1,selections:Z,storageKey:null},fm={alias:null,args:null,concreteType:"IGMessageThreadItemHScrollShareItem",kind:"LinkedField",name:"hscroll_share",plural:!0,selections:[h,tb,l,em],storageKey:null},gm={alias:null,args:null,kind:"ScalarField",name:"header_title",storageKey:null},hm={alias:null,args:null,kind:"ScalarField",name:"header_subtitle",storageKey:null},im={alias:null,args:null,kind:"ScalarField",name:"header_icon_url",storageKey:null},jm={alias:null,args:null,concreteType:"IGMessageThreadItemCollectionShare",kind:"LinkedField",name:"shops_collection_share",plural:!1,selections:[gm,hm,im,h,tb,nc,em],storageKey:null};tb={alias:null,args:null,concreteType:"IGMessageThreadItemAppointmentBooking",kind:"LinkedField",name:"appointment_booking",plural:!1,selections:[h,{alias:null,args:null,kind:"ScalarField",name:"max_title_num_of_lines",storageKey:null},tb,{alias:null,args:null,kind:"ScalarField",name:"max_subtitle_num_of_lines",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"header_title_text",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"header_icon_url_info",plural:!1,selections:T,storageKey:null},em,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"preview_extra_urls_info",plural:!0,selections:T,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"preview_layout_type",storageKey:null},nc,{alias:null,args:null,concreteType:"IGXMAMessageCTAButton",kind:"LinkedField",name:"cta_buttons",plural:!0,selections:[Ra,h],storageKey:null}],storageKey:null};em={alias:null,args:null,concreteType:"IGMessageThreadItemShopShare",kind:"LinkedField",name:"shop_share",plural:!1,selections:[gm,hm,im,{alias:null,args:null,concreteType:"IGMessageThreadItemMedia",kind:"LinkedField",name:"medias",plural:!0,selections:Z,storageKey:null},nc],storageKey:null};T={alias:null,args:null,concreteType:"IGMessageThreadItemGenericXMA",kind:"LinkedField",name:"generic_xma",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"xma_template_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"xma_layout_type",storageKey:null},h,{alias:null,args:null,kind:"ScalarField",name:"sub_title",storageKey:null},{alias:null,args:null,concreteType:"GenericXMACTAButton",kind:"LinkedField",name:"cta_buttons",plural:!0,selections:[h,Ra],storageKey:null},{alias:null,args:null,concreteType:"IGMessageThreadItemMedia",kind:"LinkedField",name:"preview_url_info",plural:!1,selections:Z,storageKey:null}],storageKey:null};gm={alias:null,args:null,kind:"ScalarField",name:"send_attribution",storageKey:null};hm={alias:null,args:null,concreteType:"IGMessageThreadItemRepliedToMessage",kind:"LinkedField",name:"replied_to_message",plural:!1,selections:[e,V,Mg,Uj],storageKey:null};im={alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null};Ra={alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null};Z={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[im,Ra],storageKey:null};Vl=[{alias:null,args:null,concreteType:"InstagramMessageThreadItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[ul,He,Yj,Ml,Nl,e,Ol,Pl,{alias:null,args:null,concreteType:"IGMessageThreadItemMedia",kind:"LinkedField",name:"ig_thread_item_media",plural:!1,selections:[Cl,Rl,Sl,Tl,Vl],storageKey:null},Wl,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"share",plural:!1,selections:[Ul,{alias:null,args:null,concreteType:"IGMessageThreadItemMedia",kind:"LinkedField",name:"media",plural:!0,selections:[Cl,Xl,Sl,Tl,Vl],storageKey:null},Yl,$l,Zl,zf,am],storageKey:null},{alias:null,args:null,concreteType:"IGThreadItemReactions",kind:"LinkedField",name:"ig_reaction",plural:!1,selections:[bm,{alias:null,args:null,concreteType:"InstagramUserV2",kind:"LinkedField",name:"likes",plural:!0,selections:sl,storageKey:null},cm],storageKey:null},{alias:null,args:Ql,concreteType:"IGThreadItemProfileShareSource",kind:"LinkedField",name:"profileshare",plural:!1,selections:[Ul,dm],storageKey:null},ad,Zc,$c,lf,fm,jm,tb,em,T,gm,hm],storageKey:null},Z];Ul={alias:null,args:null,kind:"ScalarField",name:"selected_thread_type",storageKey:null};var km=[{kind:"Variable",name:"after",variableName:"item_after"},{kind:"Variable",name:"first",variableName:"item_limit"}],lm=[{kind:"Variable",name:"before_time_precise",variableName:"before"},{kind:"Variable",name:"last",variableName:"message_limit"}],mm={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_previous_page",storageKey:null}],storageKey:null};Nh={condition:"load_delivery_receipts",kind:"Condition",passingValue:!0,selections:Nh};var nm={kind:"Variable",name:"page_id",variableName:"page_id"},om=[nm],pm={alias:null,args:null,kind:"ScalarField",name:"business_id",storageKey:null},qm={kind:"RootArgument",name:"page_id"},rm={kind:"Variable",name:"business_assets",variableName:"businessAssets"};nm={condition:"getShouldUnifyConfigQueries",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"XFBBizInboxSelectedThread",kind:"LinkedField",name:"selected_thread",plural:!1,selections:[{alias:null,args:[rm,nm],concreteType:"BizInboxFeatureConfigWrapper",kind:"LinkedField",name:"selected_thread_biz_inbox_feature_config",plural:!1,selections:[{alias:null,args:null,concreteType:"BizInboxGatingConfig",kind:"LinkedField",name:"gating_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"show_commerce_invoice_button_in_composer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_product_picker_button_in_composer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_send_availability_button_in_composer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_create_appointment_button_in_composer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_customer_feedback_button_on_move_to_done",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_form_builder_in_composer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_send_inthread_forms_in_composer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_marketing_messages_in_composer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"marketing_messages_in_composer_state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_gcash_id_share_and_copy_button",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_calling_in_composer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_calling_live_in_composer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_biz_ai_in_composer",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BizInboxCommerceInvoiceButtonConfig",kind:"LinkedField",name:"commerce_invoice_button_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"show_confirm_payment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_payment_onboarding",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_request_payment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commerce_invoice_button_icon",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]};var sm=[tl];sm={alias:"xfb_unified_thread_list_pending",args:[{kind:"Variable",name:"msgr_params",variableName:"msgr_pending_params"},{kind:"Variable",name:"wa_params",variableName:"wa_pending_params"}],concreteType:"XFBBizInboxUnifiedThreadList",kind:"LinkedField",name:"xfb_biz_inbox_unified_thread_list",plural:!1,selections:[{condition:"isWorkUser",kind:"Condition",passingValue:!1,selections:[{alias:"wa_pending_threads",args:null,concreteType:"ViewerMessageThreadsConnection",kind:"LinkedField",name:"wa_threads",plural:!1,selections:sm,storageKey:null},{alias:"msg_pending_threads",args:null,concreteType:"ViewerMessageThreadsConnection",kind:"LinkedField",name:"msgr_threads",plural:!1,selections:sm,storageKey:null}]}],storageKey:null};var tm={alias:null,args:om,concreteType:"BizCRMContactCardConfig",kind:"LinkedField",name:"selected_biz_crm_contact_card_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_add_activities",storageKey:null}],storageKey:null};rm=[rm];var $=[B,a],um={kind:"InlineFragment",selections:d,type:"DynamicFeedAdAttachmentMedia",abstractKey:null},vm={kind:"InlineFragment",selections:d,type:"GenericAttachmentMedia",abstractKey:null},wm={kind:"InlineFragment",selections:d,type:"MontageImage",abstractKey:null},xm={kind:"InlineFragment",selections:d,type:"MontageVideo",abstractKey:null};Ua={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[B,Ua,Va,Ya,r,Za,s,O,um,vm,wm,xm],storageKey:null};Va={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action_links",plural:!0,selections:[B,h,n],storageKey:null};Ya={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action_objects",plural:!0,selections:[B,a,{kind:"InlineFragment",selections:[jb,kb,v,lb],type:"MessengerPlatformEntPreview",abstractKey:"__isMessengerPlatformEntPreview"}],storageKey:null};r={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"cta_data",plural:!1,selections:[B,vb,y],storageKey:null};jb={alias:null,args:null,concreteType:"MessengerCallToAction",kind:"LinkedField",name:"messenger_call_to_actions",plural:!0,selections:[hb,ib,Ya,mb,nb,a,ob,pb,qb,rb,sb,x,r,wb,Sa],storageKey:null};kb=[B,{kind:"TypeDiscriminator",abstractKey:"__isPaymentActivityAction"},u,Hb,Ib,h,Kb,{kind:"InlineFragment",selections:[{alias:"moneyTransfer",args:null,concreteType:null,kind:"LinkedField",name:"generic_money_transfer",plural:!1,selections:[B,C,Fb,E,Mb,a],storageKey:null}],type:"P2PPaymentActionButtonWithTransfer",abstractKey:null}];v={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"P2PBubbleView",kind:"LinkedField",name:"bubble_view",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actions",plural:!0,selections:kb,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"components",plural:!0,selections:[B,Nb,G,Pb,I],storageKey:null},{alias:null,args:null,concreteType:"P2PBubbleRobotext",kind:"LinkedField",name:"robotext",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action",plural:!1,selections:kb,storageKey:null},Ob,Qb,e],storageKey:null},{alias:"rootAction",args:null,concreteType:null,kind:"LinkedField",name:"root_action",plural:!1,selections:kb,storageKey:null}],storageKey:null}],type:"PaymentViewData",abstractKey:"__isPaymentViewData"};vb={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"receiver_profile",plural:!1,selections:[B,a,b,D,Sb],storageKey:null};y=[J,a];wb={alias:null,args:null,concreteType:"PeerToPeerTransferContext",kind:"LinkedField",name:"transfer_context",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageImage",kind:"LinkedField",name:"memo_images",plural:!0,selections:y,storageKey:null},Zb,a],storageKey:null};Sa={alias:null,args:null,concreteType:"PeerToPeerPlatformSoldItemDetail",kind:"LinkedField",name:"platform_item",plural:!1,selections:[b,M,{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photos",plural:!0,selections:y,storageKey:null},n,a],storageKey:null};u=[B,b,a,D,Sb];Hb={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"requester",plural:!1,selections:u,storageKey:null};Kb={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"requestee",plural:!1,selections:u,storageKey:null};Mb={alias:null,args:null,concreteType:"PeerToPeerTransfer",kind:"LinkedField",name:"transfer",plural:!1,selections:[Fb,vb,Tb,Ub,C,Vb,Wb,Xb,wb,ac,bc,L,Sa,a,N,cc,dc,v],storageKey:null};Nb=[hb,ib,Ya,mb,nb,a,ob,pb,qb,rb,sb,x,r];G={alias:null,args:null,concreteType:"MessengerCallToAction",kind:"LinkedField",name:"call_to_actions",plural:!0,selections:Nb,storageKey:null};Pb={alias:null,args:null,concreteType:"MessengerCallToAction",kind:"LinkedField",name:"default_action",plural:!1,selections:Nb,storageKey:null};I=[{alias:null,args:null,concreteType:"MessengerRetailItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,M,kc,lb,lc,b,mc,nc,Pb,G,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_blob_attachments",plural:!0,selections:[B,pc,oc,sc,vc,yc,O,um,vm,wm,xm],storageKey:null}],storageKey:null}];Qb=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[B,a,b],storageKey:null},a];kb={alias:"primary_photo",args:null,concreteType:null,kind:"LinkedField",name:"primary_listing_photo",plural:!1,selections:[B,Xa,a],storageKey:null};Zb={alias:null,args:null,concreteType:"RetailShipmentItemsConnection",kind:"LinkedField",name:"retail_shipment_items",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerRetailItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,b,Sd,Td,Ud,Vd,kc,lc,Wd,Xd,G],storageKey:null}],storageKey:null};Sb=[b,a];u={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[B,Za,mg,O,um,vm,wm,xm],storageKey:null};hb={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[B,J,O,um,vm,wm,xm],storageKey:null};ib={alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:y,storageKey:null};Ya={alias:null,args:null,concreteType:"FocusedPhoto",kind:"LinkedField",name:"cover_photo",plural:!1,selections:[ib],storageKey:null};mb={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"group_general_chat",plural:!1,selections:$,storageKey:null};nb={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"target",plural:!1,selections:[B,a,zb,{kind:"InlineFragment",selections:[Ab,s,Bb,Cb,Db,Eb],type:"WECMessageAudio",abstractKey:null},{kind:"InlineFragment",selections:[C,Fb,E,v],type:"MoneyTransfer",abstractKey:null},{kind:"InlineFragment",selections:[Fb,vb,Tb,Ub,C,Vb,Wb,Xb,wb,ac,bc,L,Sa,N,cc,dc,v],type:"PeerToPeerTransfer",abstractKey:null},{kind:"InlineFragment",selections:[K,fc,Hb,Kb,gc,hc,dc,Mb,ic,L,R,N,{alias:null,args:null,concreteType:"PeerToPeerPaymentRequest",kind:"LinkedField",name:"individual_requests",plural:!0,selections:[K,fc,Hb,Kb,gc,hc,a,dc,Mb,ic,L,R,N,v],storageKey:null},v],type:"PeerToPeerPaymentRequest",abstractKey:null},v,{kind:"InlineFragment",selections:[jc,G,{alias:null,args:null,concreteType:"RetailPromotionItemsConnection",kind:"LinkedField",name:"promotion_items",plural:!1,selections:I,storageKey:null}],type:"MessengerRetailPromotion",abstractKey:null},{kind:"InlineFragment",selections:[jc,G,{alias:null,args:null,concreteType:"MessengerBusinessMessageItemsConnection",kind:"LinkedField",name:"business_items",plural:!1,selections:I,storageKey:null}],type:"MessengerBusinessMessage",abstractKey:null},zc,Ec,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"invite_sender",plural:!1,selections:$,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"invite_recipient",plural:!1,selections:$,storageKey:null}],type:"QuickInvite",abstractKey:null},{kind:"InlineFragment",selections:[Fc,Gc,Hc,Ic,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blob_media",plural:!1,selections:[B,Kc,Jc,O],storageKey:null}],type:"MontageDirect",abstractKey:null},{kind:"InlineFragment",selections:[Lc,c,Mc],type:"MontageShare",abstractKey:null},{kind:"InlineFragment",selections:[Oc,Pc,Qc,Rc,Sc,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"native_component_flow_request",plural:!1,selections:[B,a,{kind:"InlineFragment",selections:[Tc,Uc,Vc,Nc,Wc,Yc,bd,{alias:null,args:null,concreteType:"NativeComponentFlowBookingRequestServicesProductItemsConnection",kind:"LinkedField",name:"services_product_items",plural:!1,selections:[{alias:null,args:null,concreteType:"ServicesProductItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,b,M,cd,dd,{alias:null,args:ed,concreteType:"ProductImage",kind:"LinkedField",name:"images",plural:!0,selections:[fd,a],storageKey:"images(first:1)"},gd],storageKey:null}],storageKey:null},hd,id,jd,kd,ld,md,nd,od,pd,qd,rd,Rc,Sc,sd],type:"NativeComponentFlowBookingRequest",abstractKey:null}],storageKey:null}],type:"PagesPlatformBookingMessage",abstractKey:null},{kind:"InlineFragment",selections:[td,ud,vd,wd],type:"ServicesAppointmentAvailability",abstractKey:null},{kind:"InlineFragment",selections:[xd,yd,zd,Ad,Bd,Cd],type:"ServicesGenericAdminText",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"genie_sender",plural:!1,selections:Qb,storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[Qa,i,Ua,$a,ab,bb,cb,db,eb,Va,gb,jb,yb],storageKey:null}],type:"GenieMessage",abstractKey:null},{kind:"InlineFragment",selections:[Fd,Gd,Hd,Id,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"event_place",plural:!1,selections:[B,b,O],storageKey:null},Kd,Ld,Md,Nd,Od,b,Pd],type:"Event",abstractKey:null},Qd,Rd,{kind:"InlineFragment",selections:[b,Sd,Td,Ud,Vd,kc,lc,Wd,Xd,Pb,G],type:"MessengerRetailItem",abstractKey:null},{kind:"InlineFragment",selections:[Sd,Yd,Zd,nc,Td,$d,ae,be,ce,b],type:"AgentItemSuggestion",abstractKey:null},{kind:"InlineFragment",selections:[de,ee,fe,ge,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"FundraiserCoverPhoto",kind:"LinkedField",name:"focused_cover_photo",plural:!1,selections:[{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:[he,a],storageKey:null}],storageKey:null}],type:"FundraiserWithPresence",abstractKey:"__isFundraiserWithPresence"}],type:"Fundraiser",abstractKey:"__isFundraiser"},{kind:"InlineFragment",selections:[ie,je,ke,le,me,ne,oe,pe,qe,ve,kd,we,xe,ye,ze,{alias:null,args:null,concreteType:"RetailReceiptItemsConnection",kind:"LinkedField",name:"retail_items",plural:!1,selections:I,storageKey:null},Ae,Be,Ce,De],type:"MessengerRetailReceipt",abstractKey:null},{kind:"InlineFragment",selections:[Ee,Fe,Ge,{alias:null,args:null,concreteType:"PaymentInvoiceProduct",kind:"LinkedField",name:"item_list",plural:!0,selections:[He,b,Ie,M,Lb,Je,Ke,a],storageKey:null},Ta,Me,Ne,Le,Oe,Pe,F,Qe,Re,Se,Te,Ue,Ve],type:"PaymentPlatformAttachment",abstractKey:null},{kind:"InlineFragment",selections:[We,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"group_commerce_item_seller",plural:!1,selections:$,storageKey:null},Xe,Ye,kb,n],type:"GroupCommerceProductItem",abstractKey:null},{kind:"InlineFragment",selections:[Xe,kb],type:"MarketplaceListingRenderable",abstractKey:"__isMarketplaceListingRenderable"},{kind:"InlineFragment",selections:[$e,af,Wa,bf,b,Gb,cf],type:"Page",abstractKey:null},ff,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessengerRetailShipment",kind:"LinkedField",name:"shipment",plural:!1,selections:[a,gf,hf,jf,te,Cc,Zb,nf,of],storageKey:null},pf,qf,U,rf,Ae],type:"MessengerRetailShipmentTrackingEvent",abstractKey:null},{kind:"InlineFragment",selections:[gf,hf,jf,te,Cc,Zb,re,mf,{alias:null,args:null,concreteType:"MessengerRetailReceipt",kind:"LinkedField",name:"receipt",plural:!1,selections:[le,a],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"recipient",plural:!1,selections:Sb,storageKey:null},Ae],type:"MessengerRetailShipment",abstractKey:null},{kind:"InlineFragment",selections:[sf,tf,b,uf],type:"LeadGenDeepLinkData",abstractKey:null},{kind:"InlineFragment",selections:[vf],type:"UserLeadGenInfo",abstractKey:null},wf,{kind:"InlineFragment",selections:[b,xf,l,Cb,Db],type:"WECMessageFile",abstractKey:null},{kind:"InlineFragment",selections:[s,Bb,Cb,Db,Ab,o,yf,p],type:"WECMessageVideo",abstractKey:null},Bf,{kind:"InlineFragment",selections:[Cb,Ff,If],type:"WECMessageImage",abstractKey:null},{kind:"InlineFragment",selections:[Jf,Kf,Lf,Mf,Nf,Of,Pf],type:"MentorshipMessengerCurriculumStep",abstractKey:null},{kind:"InlineFragment",selections:[Qf],type:"MentorshipMessengerDiscussionTopicSet",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MentorshipProgram",kind:"LinkedField",name:"mentorship_program",plural:!1,selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"other_member",plural:!1,selections:[B,Rb,a],storageKey:null}],storageKey:null},Sf],type:"MentorshipMessengerLeavePrompt",abstractKey:null},{kind:"InlineFragment",selections:[Sf],type:"MentorshipMessengerReminder",abstractKey:null},{kind:"InlineFragment",selections:[Sf,Tf,Uf],type:"MentorshipMessengerProgressTracker",abstractKey:null},{kind:"InlineFragment",selections:[Wf,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"message_richtext",plural:!0,selections:[B,Xf,Yf,Zf,{alias:null,args:null,concreteType:"ComposedEntityAtRange",kind:"LinkedField",name:"entity_ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[B,O],storageKey:null},z,Vf],storageKey:null},$f,e],storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[ag,bg,cg,{alias:null,args:eg,concreteType:"TopReactionsConnection",kind:"LinkedField",name:"top_reactions",plural:!1,selections:[{alias:null,args:null,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"nodes",plural:!0,selections:[fg,a],storageKey:null}],storageKey:'top_reactions(first:3,orderby:["COUNT_DESC","REACTION_TYPE"])'},a],storageKey:null},gg,ic,hg,lg,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"to",plural:!1,selections:[B,b,ig,kg,a],storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[ab,n,$a,Qa,u,og,{alias:null,args:dg,concreteType:"SubattachmentsConnection",kind:"LinkedField",name:"all_subattachments",plural:!1,selections:[pg,{alias:"files",args:qg,concreteType:"StoryAttachment",kind:"LinkedField",name:"nodes",plural:!0,selections:[og,hb],storageKey:'nodes(if_style:"file_upload")'},{alias:"images",args:sg,concreteType:"StoryAttachment",kind:"LinkedField",name:"nodes",plural:!0,selections:[hb],storageKey:'nodes(if_style:"photo")'}],storageKey:"all_subattachments(first:3)"}],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"attached_story",plural:!1,selections:[tg,ug,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[u],storageKey:null},a],storageKey:null}],type:"Story",abstractKey:null},{kind:"InlineFragment",selections:[b,D,Ya,yg,zg],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[b,Ag,Bg,Cg,Ya,mb,{alias:null,args:null,concreteType:"GroupsSyncMetadata",kind:"LinkedField",name:"work_groups_sync_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messenger_group",plural:!1,selections:$,storageKey:null}],storageKey:null}],type:"Group",abstractKey:null},{kind:"InlineFragment",selections:[Eg,Fg,Gg,{alias:null,args:null,concreteType:"AppIntegration",kind:"LinkedField",name:"app_integration",plural:!1,selections:[Hg,b,Ig,Jg,a],storageKey:null},Kg,Lg,{alias:null,args:null,concreteType:"AppContentAdditionalData",kind:"LinkedField",name:"link_preview_additional_data",plural:!0,selections:[h,e,Ob,ub,Mg,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"profiles",plural:!0,selections:[D,b,a],storageKey:null}],storageKey:null}],type:"AppContent",abstractKey:null},{kind:"InlineFragment",selections:[Pb],type:"CommerceProductItemShare",abstractKey:null},{kind:"InlineFragment",selections:[Ng],type:"ApplicationReferralXMA",abstractKey:null},Pg,{kind:"InlineFragment",selections:[Qg],type:"XFBP2MXMA",abstractKey:null},Rg],storageKey:null};ob={alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[Qa,i,Ua,$a,ab,bb,cb,db,eb,Va,gb,jb,yb,nb,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"subattachments",plural:!0,selections:[Qa,i,Ua,$a,ab,bb,cb,db,eb,Va,gb,jb,yb,nb],storageKey:null}],storageKey:null};pb={alias:null,args:null,concreteType:"ExtensibleMessageAttachment",kind:"LinkedField",name:"extensible_attachment",plural:!1,selections:[Pa,ob,{alias:"genie_attachment",args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[{alias:"genie_message",args:null,concreteType:null,kind:"LinkedField",name:"target",plural:!1,selections:[B,a,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"genie_sender",plural:!1,selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[B,b,a,{kind:"TypeDiscriminator",abstractKey:"__isNode"}],storageKey:null}],storageKey:null},ob],type:"GenieMessage",abstractKey:null}],storageKey:null}],storageKey:null},a],storageKey:null};qb=[B,{kind:"TypeDiscriminator",abstractKey:"__isMessageBlobAttachment"},Ze,Bc,rg,vc,wg,O];rb={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blob_attachments",plural:!0,selections:qb,storageKey:null};sb={alias:"last_message",args:Ma,concreteType:"MessagesOfThreadConnection",kind:"LinkedField",name:"messages",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[B,c,{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"message_sender",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:$,storageKey:null},a],storageKey:null},Na,Oa,P,k,a,{kind:"InlineFragment",selections:[pb,H,rb],type:"UserMessage",abstractKey:null},{kind:"InlineFragment",selections:[fb,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"extensible_message_admin_text",plural:!1,selections:[B,ec],storageKey:null}],type:"GenericAdminTextMessage",abstractKey:null}],storageKey:null}],storageKey:"messages(last:1)"};x={alias:null,args:null,concreteType:"JobApplicationsFromThreadConnection",kind:"LinkedField",name:"thread_associated_job_applications",plural:!1,selections:[{alias:null,args:null,concreteType:"JobApplication",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,{alias:null,args:null,concreteType:"JobOpening",kind:"LinkedField",name:"job_opening",plural:!1,selections:[Gf,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"employer",plural:!1,selections:[A,Hf,a],storageKey:null},a],storageKey:null}],storageKey:null}],storageKey:null};r={alias:null,args:null,concreteType:"MessageThreadCustomization",kind:"LinkedField",name:"customization_info",plural:!1,selections:[eh,hh,ih,a],storageKey:null};Nb={alias:null,args:null,concreteType:"MessengerThreadTheme",kind:"LinkedField",name:"thread_theme",plural:!1,selections:[a,kh,lh,mh,nh,{alias:null,args:null,concreteType:"MessengerReactionPack",kind:"LinkedField",name:"reaction_pack",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerReactionPackReactionAssetsConnection",kind:"LinkedField",name:"reaction_assets",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerReactionAsset",kind:"LinkedField",name:"nodes",plural:!0,selections:[oh,ph,qh,rh,a],storageKey:null}],storageKey:null},a],storageKey:null}],storageKey:null};mc={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"thread_admins",plural:!0,selections:$,storageKey:null};pc={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"thread_queue_metadata",plural:!1,selections:[B,yh,a],storageKey:null};oc={alias:null,args:ed,concreteType:"MessengerEventRemindersOfThreadConnection",kind:"LinkedField",name:"event_reminders",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerEventReminder",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,Ah,ef,Bh,Ch,Dc,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"location_page",plural:!1,selections:[Dh,a],storageKey:null},Eh,Fh,Gh,df,{alias:null,args:null,concreteType:"UserMessage",kind:"LinkedField",name:"trigger_message",plural:!1,selections:[V,a],storageKey:null},Hh,Ih,Jh,Kh],storageKey:null}],storageKey:"event_reminders(first:1)"};sc={alias:null,args:null,concreteType:"PageMessageThread",kind:"LinkedField",name:"related_page_thread",plural:!1,selections:[Ph,td,Th,Vh,Yh,a],storageKey:null};yc={alias:null,args:null,concreteType:"RtcCallData",kind:"LinkedField",name:"rtc_call_data",plural:!1,selections:[$h,ai,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"initiator",plural:!1,selections:$,storageKey:null}],storageKey:null};Xa={alias:null,args:null,concreteType:"MarketplaceThreadData",kind:"LinkedField",name:"marketplace_thread_data",plural:!1,selections:[{alias:null,args:null,concreteType:"GroupCommerceProductItem",kind:"LinkedField",name:"for_sale_item",plural:!1,selections:[a,Mc,Ye,Xe,se,ci,di,ei,fi,gi,hi,{alias:"primary_photo",args:null,concreteType:null,kind:"LinkedField",name:"primary_listing_photo",plural:!1,selections:[B,J,a],storageKey:null},ii,ji],storageKey:null},ki,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"buyer",plural:!1,selections:$,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"seller",plural:!1,selections:[B,a,mi],storageKey:null},oi],storageKey:null};Za={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"associated_object",plural:!1,selections:[B,a,{kind:"InlineFragment",selections:[qi,b,D,mb,ri,si,ti,ui,wi,xi],type:"Group",abstractKey:null},{kind:"InlineFragment",selections:[qi,b,D,ri,si,ti,Pd,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"event_place",plural:!1,selections:[B,yi,O],storageKey:null}],type:"Event",abstractKey:null}],storageKey:null};mg={alias:null,args:null,concreteType:"PageCommItem",kind:"LinkedField",name:"page_comm_item",plural:!1,selections:[a,Gi,Hi,Ii,Ji,Ki,Ni,Oi,{alias:null,args:null,concreteType:"PageCommItemToPageCommItemOwnersConnection",kind:"LinkedField",name:"comm_item_owners",plural:!1,selections:[{alias:null,args:null,concreteType:"PageCommItemOwner",kind:"LinkedField",name:"nodes",plural:!0,selections:[Qi,a],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"subtitle",plural:!1,selections:[{alias:null,args:null,concreteType:"ImageAtRange",kind:"LinkedField",name:"image_ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity_with_image",plural:!1,selections:[B,J,O,{kind:"InlineFragment",selections:d,type:"XFBBasicMarketplaceImage",abstractKey:null}],storageKey:null},z,Vf],storageKey:null},$f,e],storageKey:null},Ri],storageKey:null};um={alias:null,args:null,concreteType:"GroupsSyncMetadata",kind:"LinkedField",name:"groups_sync_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"fb_group",plural:!1,selections:[n,a],storageKey:null}],storageKey:null};vm={kind:"TypeDiscriminator",abstractKey:"__isMessage"};wm={alias:null,args:null,concreteType:"MessageReaction",kind:"LinkedField",name:"message_reactions",plural:!0,selections:[gj,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"user",plural:!1,selections:$,storageKey:null}],storageKey:null};xm={alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"unsender",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[B,a,b,ig],storageKey:null},a],storageKey:null};y={kind:"InlineFragment",selections:[lj,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:[e,{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[z,Vf,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[B,mj,nj,Ka,O],storageKey:null},oj],storageKey:null}],storageKey:null},pj,pb,H,rb,ni],type:"UserMessage",abstractKey:null};zb=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:qb,storageKey:null}];Eb={kind:"InlineFragment",selections:[t,c,{alias:null,args:null,concreteType:"VideoCallMessageToCaptureAttachmentsConnection",kind:"LinkedField",name:"call_capture_attachments",plural:!1,selections:[pg,{alias:null,args:null,concreteType:"VideoCallMessageToCaptureAttachmentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:zb,storageKey:null}],storageKey:null}],type:"VideoCallMessage",abstractKey:null};E={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessageImage",kind:"LinkedField",name:"image_with_metadata",plural:!1,selections:[Ef,Pa,xc,a],storageKey:null},c],type:"ThreadImageMessage",abstractKey:null};Fb={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"extensible_message_admin_text",plural:!1,selections:[B,wj,xj,yj,zj,Aj,Bj,Cj,Dj,X,kf,Fj,Gj,gh,Hj,Ij,Kj,{kind:"InlineFragment",selections:[xb,Lj,Mj,Nj,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"instant_game_update_data",plural:!1,selections:[B,{kind:"InlineFragment",selections:[Oj,Og,ib,Pj],type:"InstantGameXMATCustomMessageClientData",abstractKey:null}],storageKey:null},Qj],type:"InstantGameUpdateExtensibleMessageAdminText",abstractKey:null},Rj,Sj,Xj,Zj,$j,bk,ck,dk,Ac,ak,ek,gk,hk,ik,kk,lk,jk,{kind:"InlineFragment",selections:[mk,nk,ok,Jj,pk,qk,rk,sk,{alias:null,args:null,concreteType:"MessengerCallLogExtensibleMessageAdminTextCallCaptureAttachmentsConnection",kind:"LinkedField",name:"call_capture_attachments",plural:!1,selections:[pg,{alias:null,args:null,concreteType:"MessengerCallLogExtensibleMessageAdminTextCallCaptureAttachmentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:zb,storageKey:null}],storageKey:null}],type:"MessengerCallLogExtensibleMessageAdminText",abstractKey:null},Tj,tk,Wj,vk,wk,fk,xk,yk,Ak,zk,Bk,Ck,Dk],storageKey:null},fb,c],type:"GenericAdminTextMessage",abstractKey:null};vb=[B,vm,Vi,V,Wi,Yi,Zi,Na,$i,aj,Af,bj,Oa,cj,dj,P,ej,fj,wm,ij,xm,kj,k,{alias:null,args:null,concreteType:"RepliedToMessage",kind:"LinkedField",name:"replied_to_message",plural:!1,selections:[kd,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"message",plural:!1,selections:[B,vm,Vi,V,Wi,Yi,Zi,Na,$i,aj,Af,bj,Oa,cj,dj,P,ej,fj,wm,ij,xm,kj,k,a,y,qj,Eb,sj,E,uj,vj,Fb,$b,w],storageKey:null}],storageKey:null},a,y,qj,Eb,sj,E,uj,vj,Fb,$b,w];Tb={alias:null,args:null,concreteType:"PinnedMessageData",kind:"LinkedField",name:"pinned_messages",plural:!0,selections:[V,Ui,{condition:"threadlistViewFieldsOnly",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"message",plural:!1,selections:vb,storageKey:null}]}],storageKey:null};Ub={alias:null,args:null,concreteType:"GroupsSyncMetadata",kind:"LinkedField",name:"work_groups_sync_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"fb_group",plural:!1,selections:[n,a,b,Ag,Q,D,wi,{alias:null,args:null,concreteType:"MultiBackgroundIcon",kind:"LinkedField",name:"group_icon",plural:!1,selections:[rj,a],storageKey:null}],storageKey:null}],storageKey:null};C={alias:null,args:ed,concreteType:"MessengerMentorshipProgramOfThreadConnection",kind:"LinkedField",name:"linked_mentorship_programs",plural:!1,selections:[{alias:null,args:null,concreteType:"MentorshipProgram",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,Gk,Dd,{alias:null,args:ed,concreteType:"MentorshipProgramToMentorshipMessengerCurriculumStepOrderByStepCountConnection",kind:"LinkedField",name:"messenger_curriculum_steps",plural:!1,selections:[{alias:null,args:null,concreteType:"MentorshipMessengerCurriculumStep",kind:"LinkedField",name:"nodes",plural:!0,selections:[Hk,Ik,a],storageKey:null}],storageKey:"messenger_curriculum_steps(first:1)"}],storageKey:null}],storageKey:"linked_mentorship_programs(first:1)"};Vb={alias:null,args:null,concreteType:"WorkUserInfo",kind:"LinkedField",name:"work_info",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"work_community",plural:!1,selections:Sb,storageKey:null},xg],storageKey:null};Wb={alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"nodes",plural:!0,selections:Qb,storageKey:null};Xb={alias:null,args:null,concreteType:"AllMessagingParticipantsOfThreadConnection",kind:"LinkedField",name:"all_participants",plural:!1,selections:[{alias:null,args:null,concreteType:"AllMessagingParticipantsOfThreadEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[Li,{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[B,{kind:"TypeDiscriminator",abstractKey:"__isMessagingActor"},a,b,{kind:"InlineFragment",selections:[Mi,n,Y,Rb,Nk,Ok,Pk,Qk,Rk,Sk,Tk,Uk,Vk,Vb],type:"User",abstractKey:null},Wk,Xk,Zk,$k,bl,Yk,cl,{kind:"InlineFragment",selections:[n,Y,Nk,dl,Qk,Vb],type:"ReducedMessagingActor",abstractKey:null},fl,el,j,hl,gl,il,jl,kl,al,{kind:"InlineFragment",selections:[Y,ll,ml,{alias:null,args:null,concreteType:"WECGroupParticipantsConnection",kind:"LinkedField",name:"wec_group_participants",plural:!1,selections:[Wb,pg],storageKey:null},{alias:null,args:null,concreteType:"WECGroupAdminsConnection",kind:"LinkedField",name:"wec_group_admins",plural:!1,selections:[Wb],storageKey:null}],type:"WECGroupRecipient",abstractKey:null}],storageKey:null},a],storageKey:null}],storageKey:null}],storageKey:null};wb={alias:null,args:null,concreteType:"MessagingReadReceiptsOfThreadConnection",kind:"LinkedField",name:"read_receipts",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagingReadReceipt",kind:"LinkedField",name:"nodes",plural:!0,selections:[Ed,nl,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:$,storageKey:null}],storageKey:null}],storageKey:null};ac={condition:"threadlistViewFieldsOnly",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"saved_messages",plural:!0,selections:vb,storageKey:null}]};bc=[{alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,La,b,sb,Df,x,S,rc,tc,uc,J,Rf,Xc,Sg,Tg,Ug,Vg,Wg,Xg,Yg,Zg,$g,ah,bh,ch,dh,r,Nb,mc,uh,vh,wh,pc,oc,Mh,Oh,sc,yc,Xa,Za,si,zi,Ai,Bi,Ci,Di,Ei,Fi,fh,mg,Si,Ti,um,Tb,Ub,M,Ek,Fk,C,Kk,Lk,Mk,li,Vj,Xb,wb,qc,ac,pl],storageKey:null},Ja];Sa=[rl,D,a];cc=[rl,Nk,b,D,a];K={alias:null,args:null,concreteType:"InstagramUserV2",kind:"LinkedField",name:"media_owner",plural:!1,selections:cc,storageKey:null};fc={alias:null,args:null,concreteType:"InstagramUserV2",kind:"LinkedField",name:"user",plural:!1,selections:cc,storageKey:null};Hb=[{alias:null,args:null,concreteType:"InstagramMessageThreadItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[ul,He,Yj,Ml,Nl,e,Ol,Pl,{alias:null,args:null,concreteType:"IGMessageThreadItemMedia",kind:"LinkedField",name:"ig_thread_item_media",plural:!1,selections:[Cl,Rl,Sl,Tl,K],storageKey:null},Wl,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"share",plural:!1,selections:[B,fc,{alias:null,args:null,concreteType:"IGMessageThreadItemMedia",kind:"LinkedField",name:"media",plural:!0,selections:[Cl,Xl,Sl,Tl,K],storageKey:null},Yl,$l,Zl,zf,am],storageKey:null},{alias:null,args:null,concreteType:"IGThreadItemReactions",kind:"LinkedField",name:"ig_reaction",plural:!1,selections:[bm,{alias:null,args:null,concreteType:"InstagramUserV2",kind:"LinkedField",name:"likes",plural:!0,selections:Sa,storageKey:null},cm],storageKey:null},{alias:null,args:Ql,concreteType:"IGThreadItemProfileShareSource",kind:"LinkedField",name:"profileshare",plural:!1,selections:[fc,dm],storageKey:null},ad,Zc,$c,lf,fm,jm,tb,em,T,gm,hm,a],storageKey:null},Z];Kb={alias:null,args:null,kind:"ScalarField",name:"page_contact_id",storageKey:null};gc={alias:null,args:null,kind:"ScalarField",name:"ig_thread_id",storageKey:null};hc={alias:null,args:null,kind:"ScalarField",name:"unit_type",storageKey:null};dc=[{kind:"Literal",name:"first",value:4},{kind:"Literal",name:"message_shared_media_type",value:"PHOTO_AND_VIDEO"}];Mb={alias:"fbid",args:null,kind:"ScalarField",name:"legacy_attachment_id",storageKey:null};L={alias:"dim",args:null,concreteType:"Vect2",kind:"LinkedField",name:"original_dimensions",plural:!1,selections:wc,storageKey:null};R={alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null};N={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[Ra,im],storageKey:null};v={alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null};jc=[{kind:"Literal",name:"height",value:52},{kind:"Literal",name:"width",value:52}];zc=[{kind:"Literal",name:"first",value:20}];Ec={alias:null,args:null,kind:"ScalarField",name:"contact_count",storageKey:null};Fc={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]};Gc=[{kind:"Literal",name:"first",value:400}];Hc={alias:null,args:null,kind:"ScalarField",name:"is_custom_event_reportable",storageKey:null};Ic={alias:null,args:null,kind:"ScalarField",name:"is_synced_with_smb",storageKey:null};Kc={alias:null,args:null,kind:"ScalarField",name:"has_wa_contact",storageKey:null};Jc=[{kind:"Literal",name:"first",value:2}];Lc=[{alias:null,args:null,kind:"ScalarField",name:"nux_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nux_content_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nux_ui_type",storageKey:null}];Oc=[{alias:null,args:null,kind:"ScalarField",name:"passes_gk",storageKey:null}];Pc={alias:null,args:[{kind:"Literal",name:"tab",value:"data_sharing"}],kind:"ScalarField",name:"settings_uri_in_business_view",storageKey:'settings_uri_in_business_view(tab:"data_sharing")'};Qc={alias:null,args:null,kind:"ScalarField",name:"__token",storageKey:null};Tc=[{kind:"Literal",name:"first",value:5},{kind:"Literal",name:"types",value:["BUSINESS_ORDER"]}];Uc={alias:null,args:null,kind:"ScalarField",name:"is_auto_detected",storageKey:null};Vc={alias:null,args:null,kind:"ScalarField",name:"should_show_automated_activity_redesigned_nux",storageKey:null};Nc={alias:null,args:null,kind:"ScalarField",name:"is_classic_page",storageKey:null};Wc={alias:null,args:null,concreteType:"BizCRMContactFBAttributes",kind:"LinkedField",name:"fb_attributes",plural:!1,selections:[Uj],storageKey:null};Yc={alias:null,args:null,kind:"ScalarField",name:"is_detected_outcomes_label",storageKey:null};bd={alias:null,args:Gc,concreteType:"CustomLabelsConnection",kind:"LinkedField",name:"custom_labels",plural:!1,selections:[{alias:null,args:null,concreteType:"CustomLabelsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCustomLabel",kind:"LinkedField",name:"node",plural:!1,selections:[a,b,Qh,Ec,W,Rh,Sh,Hc,Yc,Ic,Kc,{alias:null,args:null,kind:"ScalarField",name:"is_immutable",storageKey:null},B],storageKey:null},R],storageKey:null},Z],storageKey:"custom_labels(first:400)"};cd={alias:null,args:Gc,filters:null,handle:"connection",key:"BizKitContextCardLabelsSection_custom_labels",kind:"LinkedHandle",name:"custom_labels"};dd={alias:null,args:Gc,filters:null,handle:"connection",key:"BizKitContextCardLabelsSection_corp_labels",kind:"LinkedHandle",name:"corp_labels"};fd={alias:null,args:null,concreteType:"BusinessPresenceNode",kind:"LinkedField",name:"business_presence_node",plural:!1,selections:d,storageKey:null};gd=[{kind:"Literal",name:"gk_name",value:"mcom_kbank_integration_rollout"}];hd=[{alias:"passes",args:null,kind:"ScalarField",name:"passes_gk",storageKey:null}];id=[{kind:"Literal",name:"gk_name",value:"ctm_www_tas_order_integration_gk"}];jd=[{alias:"is_order_integration_enabled",args:null,kind:"ScalarField",name:"passes_gk",storageKey:null}];ld=[{kind:"Literal",name:"gk_name",value:"ctm_www_tas_timeline_actions_gk"}];md=[{alias:"showTimelineActions",args:null,kind:"ScalarField",name:"passes_gk",storageKey:null}];return{fragment:{argumentDefinitions:[aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za,Aa,Ba,Ca,Da,Ea,Fa],kind:"Fragment",metadata:null,name:"BizInboxUnifiedThreadsQuery",selections:[Ga,{alias:null,args:Ha,concreteType:"XFBBizInboxUnifiedThreadList",kind:"LinkedField",name:"xfb_biz_inbox_unified_thread_list",plural:!1,selections:[{alias:null,args:null,concreteType:"ViewerMessageThreadsConnection",kind:"LinkedField",name:"msgr_threads",plural:!1,selections:ql,storageKey:null},{alias:null,args:null,concreteType:"ViewerMessageThreadsConnection",kind:"LinkedField",name:"wa_threads",plural:!1,selections:ql,storageKey:null},{alias:null,args:null,concreteType:"InstagramMessageThreadsConnection",kind:"LinkedField",name:"ig_threads",plural:!1,selections:[{alias:null,args:null,concreteType:"InstagramUserV2",kind:"LinkedField",name:"ig_user",plural:!1,selections:sl,storageKey:null},Ia,tl,{condition:"loadThreads",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"InstagramMessageThread",kind:"LinkedField",name:"nodes",plural:!0,selections:[ul,vl,wl,xl,yl,zl,Al,Bl,Dl,El,Fl,Pi,Gl,Hl,Il,Jl,Kl,Ll,Ji,Ki,{condition:"loadThreadItems",kind:"Condition",passingValue:!0,selections:[{alias:null,args:ed,concreteType:"InstagramMessageThreadItemsConnection",kind:"LinkedField",name:"thread_items",plural:!1,selections:Vl,storageKey:"thread_items(first:1)"}]}],storageKey:null},Z]}],storageKey:null},{alias:null,args:null,concreteType:"XFBBizInboxSelectedThread",kind:"LinkedField",name:"selected_thread",plural:!1,selections:[Ul,{alias:null,args:null,concreteType:"InstagramMessageThread",kind:"LinkedField",name:"selected_ig_thread",plural:!1,selections:[ul,vl,wl,xl,yl,zl,Al,Bl,Dl,El,Fl,Pi,Gl,Hl,Il,Jl,Kl,Ll,Ji,Ki,{condition:"load_items",kind:"Condition",passingValue:!0,selections:[{alias:null,args:km,concreteType:"InstagramMessageThreadItemsConnection",kind:"LinkedField",name:"thread_items",plural:!1,selections:Vl,storageKey:null}]}],storageKey:null},{alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"selected_message_thread",plural:!1,selections:[a,La,b,Cf,Df,q,S,rc,qc,tc,uc,J,Rf,Xc,Sg,Tg,Ug,Vg,Wg,Xg,Yg,Zg,$g,ah,bh,ch,dh,jh,sh,th,uh,vh,wh,zh,Lh,Mh,Oh,Zh,bi,pi,Dg,si,zi,Ai,Bi,Ci,Di,Ei,Fi,fh,Yb,Si,Ti,jg,jj,tj,vg,M,Ek,Fk,Jk,Kk,Lk,Mk,li,Vj,Jd,{condition:"load_messages",kind:"Condition",passingValue:!0,selections:[{alias:null,args:lm,concreteType:"MessagesOfThreadConnection",kind:"LinkedField",name:"messages",plural:!1,selections:[mm,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:hj,storageKey:null}],storageKey:null}]},{condition:"load_read_receipts",kind:"Condition",passingValue:!0,selections:[ol]},Nh],storageKey:null},{condition:"shouldUnifyContextCardQueries",kind:"Condition",passingValue:!0,selections:[{kind:"InlineDataFragmentSpread",name:"BizKitContextCardContainerDetailsFrag_selectedContact",selections:[{alias:null,args:om,concreteType:"BizCRMContact",kind:"LinkedField",name:"selected_biz_crm_contact",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactIdentity",kind:"LinkedField",name:"identity",plural:!1,selections:[pm],storageKey:null},{args:null,kind:"FragmentSpread",name:"BizKitContextCardContainer_contact"}],storageKey:null},{alias:null,args:om,concreteType:"BizCRMContactCardConfig",kind:"LinkedField",name:"selected_biz_crm_contact_card_config",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"BizKitContextCard_config"}],storageKey:null}],args:null,argumentDefinitions:[qm]}]}],storageKey:null},nm],storageKey:null},sm,{condition:"shouldUnifyContextCardQueries",kind:"Condition",passingValue:!0,selections:[{kind:"InlineDataFragmentSpread",name:"BizKitContextCardActivitySectionFrag_activitiesquery",selections:[{alias:null,args:Ha,concreteType:"XFBBizInboxUnifiedThreadList",kind:"LinkedField",name:"xfb_biz_inbox_unified_thread_list",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBBizInboxSelectedThread",kind:"LinkedField",name:"selected_thread",plural:!1,selections:[{alias:null,args:om,concreteType:"BizCRMContact",kind:"LinkedField",name:"selected_biz_crm_contact",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"BizKitContextCardActivitySection_contact"},{args:null,kind:"FragmentSpread",name:"BizKitContextCardActivityDropDown_contact"},{args:null,kind:"FragmentSpread",name:"BizKitContextCardActivityNuxForAutoDetected_contact"}],storageKey:null},tm],storageKey:null},{condition:"isDependencyOfRemovePageDependencyEnabledTool",kind:"Condition",passingValue:!1,selections:[{alias:null,args:om,concreteType:"Page",kind:"LinkedField",name:"selected_page",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"BizKitContextCardActivityDropDown_page"},{args:null,kind:"FragmentSpread",name:"BizKitContextCardActivityListItem_page"}],storageKey:null}]}],storageKey:null},{condition:"isDependencyOfRemovePageDependencyEnabledTool",kind:"Condition",passingValue:!0,selections:[{alias:null,args:rm,concreteType:"XFBMBSBusinessAssets",kind:"LinkedField",name:"xfb_mbs_business_assets",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"BizKitContextCardActivityDropDown_mbsBusinessAssets"},{args:null,kind:"FragmentSpread",name:"BizKitContextCardActivityListItem_mbsBusinessAssets"}],storageKey:null}]}],args:null,argumentDefinitions:[{kind:"RootArgument",name:"businessAssets"},{kind:"RootArgument",name:"ig_params"},{kind:"RootArgument",name:"isDependencyOfRemovePageDependencyEnabledTool"},{kind:"RootArgument",name:"msgr_params"},qm,{kind:"RootArgument",name:"selected_item_id"},{kind:"RootArgument",name:"wa_params"}]}]}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[ia,fa,ga,ja,Ca,Ba,Fa,da,na,ma,wa,ea,ta,Da,ua,Ea,sa,aa,qa,ra,oa,la,ka,pa,va,ca,za,ya,xa,Aa,ha,ba],kind:"Operation",name:"BizInboxUnifiedThreadsQuery",selections:[Ga,{alias:null,args:Ha,concreteType:"XFBBizInboxUnifiedThreadList",kind:"LinkedField",name:"xfb_biz_inbox_unified_thread_list",plural:!1,selections:[{alias:null,args:null,concreteType:"ViewerMessageThreadsConnection",kind:"LinkedField",name:"msgr_threads",plural:!1,selections:bc,storageKey:null},{alias:null,args:null,concreteType:"ViewerMessageThreadsConnection",kind:"LinkedField",name:"wa_threads",plural:!1,selections:bc,storageKey:null},{alias:null,args:null,concreteType:"InstagramMessageThreadsConnection",kind:"LinkedField",name:"ig_threads",plural:!1,selections:[{alias:null,args:null,concreteType:"InstagramUserV2",kind:"LinkedField",name:"ig_user",plural:!1,selections:Sa,storageKey:null},Ia,tl,{condition:"loadThreads",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"InstagramMessageThread",kind:"LinkedField",name:"nodes",plural:!0,selections:[ul,vl,wl,xl,yl,zl,Al,Bl,Dl,El,Fl,Pi,Gl,Hl,Il,Jl,Kl,Ll,Ji,Ki,{condition:"loadThreadItems",kind:"Condition",passingValue:!0,selections:[{alias:null,args:ed,concreteType:"InstagramMessageThreadItemsConnection",kind:"LinkedField",name:"thread_items",plural:!1,selections:Hb,storageKey:"thread_items(first:1)"}]},a],storageKey:null},Z]}],storageKey:null},{alias:null,args:null,concreteType:"XFBBizInboxSelectedThread",kind:"LinkedField",name:"selected_thread",plural:!1,selections:[Ul,{alias:null,args:null,concreteType:"InstagramMessageThread",kind:"LinkedField",name:"selected_ig_thread",plural:!1,selections:[ul,vl,wl,xl,yl,zl,Al,Bl,Dl,El,Fl,Pi,Gl,Hl,Il,Jl,Kl,Ll,Ji,Ki,{condition:"load_items",kind:"Condition",passingValue:!0,selections:[{alias:null,args:km,concreteType:"InstagramMessageThreadItemsConnection",kind:"LinkedField",name:"thread_items",plural:!1,selections:Hb,storageKey:null}]},a],storageKey:null},{alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"selected_message_thread",plural:!1,selections:[a,La,b,sb,Df,x,S,rc,tc,uc,J,Rf,Xc,Sg,Tg,Ug,Vg,Wg,Xg,Yg,Zg,$g,ah,bh,ch,dh,r,Nb,mc,uh,vh,wh,pc,oc,Mh,Oh,sc,yc,Xa,Za,si,zi,Ai,Bi,Ci,Di,Ei,Fi,fh,mg,Si,Ti,um,Tb,Ub,M,Ek,Fk,C,Kk,Lk,Mk,li,Vj,Xb,qc,ac,{condition:"load_messages",kind:"Condition",passingValue:!0,selections:[{alias:null,args:lm,concreteType:"MessagesOfThreadConnection",kind:"LinkedField",name:"messages",plural:!1,selections:[mm,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:vb,storageKey:null}],storageKey:null}]},{condition:"load_read_receipts",kind:"Condition",passingValue:!0,selections:[wb]},Nh],storageKey:null},{condition:"shouldUnifyContextCardQueries",kind:"Condition",passingValue:!0,selections:[{alias:null,args:om,concreteType:"BizCRMContact",kind:"LinkedField",name:"selected_biz_crm_contact",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactIdentity",kind:"LinkedField",name:"identity",plural:!1,selections:[pm,g,{alias:null,args:null,kind:"ScalarField",name:"contact_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sub_business_id",storageKey:null}],storageKey:null},a,{alias:null,args:null,concreteType:"BizCRMContactSharedAttributes",kind:"LinkedField",name:"shared_attributes",plural:!1,selections:[Kb,{alias:null,args:null,kind:"ScalarField",name:"is_guest_chat",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_consented_to_contact_card_tos",storageKey:null},{condition:"should3DContextCardSections",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"XFBBizCRMContactIGIDs",kind:"LinkedField",name:"ig_ids",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ig_id_v2",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ig_eimu_id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BizCRMContactIGAttributes",kind:"LinkedField",name:"ig_attributes",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ig_user_id",storageKey:null},gc,{alias:null,args:null,concreteType:"BizCRMContactIGUserProfileUnit",kind:"LinkedField",name:"profile_units",plural:!0,selections:[hc,e],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BizCRMContactFBAttributes",kind:"LinkedField",name:"fb_attributes",plural:!1,selections:[Uj,{alias:null,args:null,concreteType:"BizCRMContactFBUserProfileUnit",kind:"LinkedField",name:"profile_units",plural:!0,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"text",plural:!1,selections:[{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[B,n,O],storageKey:null},z,Vf],storageKey:null},e],storageKey:null},hc],storageKey:null},{alias:null,args:null,concreteType:"BizCRMContactMessengerThreadAttribute",kind:"LinkedField",name:"messenger_thread",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"one_to_one_thread",plural:!1,selections:[{alias:"sharedMedia",args:dc,concreteType:"MessageSharedMediaConnection",kind:"LinkedField",name:"message_shared_media",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageSharedMediaEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[B,{kind:"TypeDiscriminator",abstractKey:"__isMessageSharedMedia"},O,{kind:"InlineFragment",selections:[Mb,J,L],type:"MessageImage",abstractKey:null},{kind:"InlineFragment",selections:[Mb,J,L,s],type:"MessageVideo",abstractKey:null}],storageKey:null},R],storageKey:null},N],storageKey:'message_shared_media(first:4,message_shared_media_type:"PHOTO_AND_VIDEO")'},{alias:"sharedMedia",args:dc,filters:["message_shared_media_type"],handle:"connection",key:"BizKitContextCardSharedPhotos_sharedMedia",kind:"LinkedHandle",name:"message_shared_media"},a],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BizCRMContactSharedAttributes",kind:"LinkedField",name:"shared_attributes",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactProfile",kind:"LinkedField",name:"profile",plural:!1,selections:[Ej,{alias:null,args:null,kind:"ScalarField",name:"first_name",storageKey:null},v,{alias:null,args:null,concreteType:"PageContactProfileURI",kind:"LinkedField",name:"profile_uris",plural:!0,selections:m,storageKey:null},{alias:null,args:jc,concreteType:"PageContactProfilePhotoURI",kind:"LinkedField",name:"profile_photo_uris_prefetch",plural:!0,selections:m,storageKey:"profile_photo_uris_prefetch(height:52,width:52)"},{alias:null,args:null,kind:"ScalarField",name:"last_name",storageKey:null},{alias:"profile_photo_uri_about_section",args:[{kind:"Literal",name:"height",value:100},{kind:"Literal",name:"width",value:100}],concreteType:"PageContactProfilePhotoURI",kind:"LinkedField",name:"profile_photo_uris",plural:!0,selections:m,storageKey:"profile_photo_uris(height:100,width:100)"},{alias:null,args:null,kind:"ScalarField",name:"address",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"city_name",storageKey:null},Xi,{alias:"phone",args:null,concreteType:"PhoneNumber",kind:"LinkedField",name:"phone_number",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"region_code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"national_number",storageKey:null},{alias:"phoneNumber",args:null,kind:"ScalarField",name:"display_number",storageKey:null}],storageKey:null},ue,{alias:null,args:null,kind:"ScalarField",name:"zip_code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"country_code",storageKey:null},{alias:null,args:null,concreteType:"PageContactBirthday",kind:"LinkedField",name:"birthday",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"day",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"month",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"formatted_birthday",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"suggested_email_address",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fallback_phone_number",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"city_state",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ban_action_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_banned",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_blocked",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_wec_blocked",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_onsite_user",storageKey:null},Ii,{alias:null,args:zc,concreteType:"BizCRMContactSharedAttributesCorpLabelListConnection",kind:"LinkedField",name:"corp_label_list",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactSharedAttributesCorpLabelListEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCorporationLabel",kind:"LinkedField",name:"node",plural:!1,selections:[a,b,Qh,Rh,Ec,W,Wh,Xh,Sh,B],storageKey:null},R],storageKey:null},Z,Fc],storageKey:"corp_label_list(first:20)"},{alias:null,args:zc,filters:null,handle:"connection",key:"BizKitContextCard_corp_label_list",kind:"LinkedHandle",name:"corp_label_list"},{alias:null,args:zc,concreteType:"BizCRMContactSharedAttributesSuggestedLabelsConnection",kind:"LinkedField",name:"suggested_labels",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactSharedAttributesSuggestedLabelsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[B,a,b,Qh,{kind:"InlineFragment",selections:[xh,ng,{alias:null,args:null,kind:"ScalarField",name:"upsell",storageKey:null}],type:"BusinessPresenceDerivedLabel",abstractKey:null}],storageKey:null},R],storageKey:null},Z,Fc],storageKey:"suggested_labels(first:20)"},{alias:null,args:zc,filters:null,handle:"connection",key:"BizKitContextCard_suggested_labels",kind:"LinkedHandle",name:"suggested_labels"}],storageKey:null},{alias:null,args:null,concreteType:"BizCRMContactBusinessAttributes",kind:"LinkedField",name:"business_attributes",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactCommunicationPreference",kind:"LinkedField",name:"communication_preference",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"email_subscription_status",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BizCRMContactMessageLabelAttribute",kind:"LinkedField",name:"customer_labels",plural:!1,selections:[{alias:null,args:Gc,concreteType:"BizCRMContactMessageLabelAttributeLabelListConnection",kind:"LinkedField",name:"label_list",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactMessageLabelAttributeLabelListEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCustomLabel",kind:"LinkedField",name:"node",plural:!1,selections:[a,b,Qh,Ec,W,Rh,Sh,Hc,Ic,Kc,B],storageKey:null},R],storageKey:null},Z,Fc],storageKey:"label_list(first:400)"},{alias:null,args:Gc,filters:null,handle:"connection",key:"Contact_customer_label_list",kind:"LinkedHandle",name:"label_list"},{alias:null,args:null,concreteType:"BizCRMContactMessageLabelAttributeCustomerCustomTagsConnection",kind:"LinkedField",name:"customer_custom_tags",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactMessageLabelAttributeCustomerCustomTagsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"PageCustomTag",kind:"LinkedField",name:"node",plural:!1,selections:Uh,storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BizCRMContactAdminNotesAttribute",kind:"LinkedField",name:"admin_notes",plural:!1,selections:[{alias:null,args:Jc,concreteType:"BizCRMContactAdminNotesAttributeNotesListConnection",kind:"LinkedField",name:"notes_list",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactAdminNotesAttributeNotesListEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"PageAdminNote",kind:"LinkedField",name:"node",plural:!1,selections:[a,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"body",plural:!1,selections:f,storageKey:null},Mg,{alias:null,args:null,kind:"ScalarField",name:"note_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"action_source_type",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"underlying_admin_creator",plural:!1,selections:[B,b,a],storageKey:null},B],storageKey:null},R],storageKey:null},N,Fc],storageKey:"notes_list(first:2)"},{alias:null,args:Jc,filters:null,handle:"connection",key:"BizKitContextCard_notes_list",kind:"LinkedHandle",name:"notes_list"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BizCRMContactWAAttributes",kind:"LinkedField",name:"wa_attributes",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"wa_customer_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"opt_in_status",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_enable_ads_consent_in_ctwa",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_show_wa_automated_label_nux",storageKey:null},{alias:"adsDataSharingLabelsNUX",args:[{kind:"Literal",name:"mbs_ads_event_sharing_event_type",value:"LABEL_CREATION_WA"}],concreteType:"XFBMBSAdsEventSharingNux",kind:"LinkedField",name:"mbs_ads_event_sharing_eligible_nux_types",plural:!0,selections:Lc,storageKey:'mbs_ads_event_sharing_eligible_nux_types(mbs_ads_event_sharing_event_type:"LABEL_CREATION_WA")'},{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"gk_name",value:"ctm_custom_label_reporting_pages"}],concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check",plural:!1,selections:Oc,storageKey:'gk_check(gk_name:"ctm_custom_label_reporting_pages")'},Pc,a,{alias:null,args:null,kind:"ScalarField",name:"is_p2m_lite_payment_onboarded",storageKey:null},{alias:null,args:[{kind:"Literal",name:"tab",value:"DATA_SHARING"}],kind:"ScalarField",name:"wa_settings_uri_in_business_view",storageKey:'wa_settings_uri_in_business_view(tab:"DATA_SHARING")'}],storageKey:null},Qc,{alias:null,args:null,concreteType:"BizCRMContactBusinessActions",kind:"LinkedField",name:"business_actions",plural:!1,selections:[{alias:null,args:Tc,concreteType:"BizCRMContactBusinessActionsActionsConnection",kind:"LinkedField",name:"actions",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactBusinessActionsActionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[B,{alias:null,args:null,concreteType:"BizCRMContactAction3DWrapper",kind:"LinkedField",name:"wrapper",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"contact_action",plural:!1,selections:[B,Mg,Jb,g,Ie,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"descriptions",plural:!0,selections:f,storageKey:null},lb,{alias:null,args:null,kind:"ScalarField",name:"click_url",storageKey:null},Ib,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"invoice_id",storageKey:null},uk,Uc],type:"BizCRMContactAdAction",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"story",plural:!1,selections:d,storageKey:null}],type:"BizCRMContactFacebookActionWithStory",abstractKey:null},{kind:"InlineFragment",selections:[uk,W,Uc,{alias:null,args:null,kind:"ScalarField",name:"show_ad_icon",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"data_silo_auto_detected_activity",storageKey:null}],type:"BizCRMContactCustomAction",abstractKey:null},{kind:"InlineFragment",selections:[W],type:"BizCRMContactBusinessOrderAction",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},R],storageKey:null},N],storageKey:'actions(first:5,types:["BUSINESS_ORDER"])'},{alias:null,args:Tc,filters:["types"],handle:"connection",key:"BizKitContextCardOrders__actions",kind:"LinkedHandle",name:"actions"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_show_mbs_ads_consent_upsell_in_inbox_at_thread_entry",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_show_mbs_ads_event_sharing_consent_at_thread_entry",storageKey:null},{alias:null,args:null,concreteType:"XFBMBSAdsEventSharingSettings",kind:"LinkedField",name:"mbs_ads_event_sharing_settings",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"ads_event_sharing_business_opt_in_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ads_event_sharing_consumer_opt_in_status",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"mbs_ads_event_sharing_event_type",value:"DETECTED_ACTIVITY_ON_THREAD_ENTRY"}],concreteType:"XFBMBSAdsEventSharingNux",kind:"LinkedField",name:"mbs_ads_event_sharing_eligible_nux_types",plural:!0,selections:Lc,storageKey:'mbs_ads_event_sharing_eligible_nux_types(mbs_ads_event_sharing_event_type:"DETECTED_ACTIVITY_ON_THREAD_ENTRY")'},Vc,{condition:"isDependencyOfRemovePageDependencyEnabledTool",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[Nc],storageKey:null}]},{condition:"isDependencyOfRemovePageDependencyEnabledTool",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"XFBMBSBusinessAssets",kind:"LinkedField",name:"mbs_business_assets",plural:!1,selections:[Nc,a],storageKey:null}]}]},{condition:"shouldSkipMessage",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactSharedAttributes",kind:"LinkedField",name:"shared_attributes",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactProfile",kind:"LinkedField",name:"profile",plural:!1,selections:[v,{alias:null,args:jc,concreteType:"PageContactProfilePhotoURI",kind:"LinkedField",name:"profile_photo_uris",plural:!0,selections:m,storageKey:"profile_photo_uris(height:52,width:52)"}],storageKey:null},{alias:null,args:null,concreteType:"PageContactCTAType",kind:"LinkedField",name:"contact_ctas",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"cta_type",storageKey:null}],storageKey:null}],storageKey:null},Wc,{alias:null,args:null,concreteType:"BizCRMContactIGAttributes",kind:"LinkedField",name:"ig_attributes",plural:!1,selections:[gc,{alias:null,args:null,concreteType:"BizCRMContactIGUserProfileUnit",kind:"LinkedField",name:"profile_units",plural:!0,selections:[e,hc],storageKey:null}],storageKey:null}]},{condition:"shouldSkipPageQuery",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[a,bd,cd,{alias:null,args:Gc,concreteType:"PageCorpLabelsConnection",kind:"LinkedField",name:"corp_labels",plural:!1,selections:[{alias:null,args:null,concreteType:"PageCorpLabelsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCorporationLabel",kind:"LinkedField",name:"node",plural:!1,selections:[a,b,Qh,Rh,Ec,W,Wh,Xh,Sh,Yc,B],storageKey:null},R],storageKey:null},Z],storageKey:"corp_labels(first:400)"},dd,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"if_viewer_can_manage_permissions",plural:!1,selections:$,storageKey:null},fd,{alias:"is_in_kbank_rollout",args:gd,concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check",plural:!1,selections:hd,storageKey:'gk_check(gk_name:"mcom_kbank_integration_rollout")'},{alias:"show_payment_onboarding_context_card",args:[{kind:"Literal",name:"gk_name",value:"messenger_p2m_lite_merchant_onboarding"}],concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check",plural:!1,selections:Oc,storageKey:'gk_check(gk_name:"messenger_p2m_lite_merchant_onboarding")'}],storageKey:null},{condition:"isDependencyOfRemovePageDependencyEnabledTool",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"XFBMBSBusinessAssets",kind:"LinkedField",name:"mbs_business_assets",plural:!1,selections:[a,bd,cd,{alias:null,args:Gc,concreteType:"XFBMBSBusinessAssetsCorpLabelsConnection",kind:"LinkedField",name:"corp_labels",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBMBSBusinessAssetsCorpLabelsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCorporationLabel",kind:"LinkedField",name:"node",plural:!1,selections:[a,b,Qh,Ec,W,Rh,Wh,Xh,Sh,Yc,B],storageKey:null},R],storageKey:null},Z],storageKey:"corp_labels(first:400)"},dd,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page_if_viewer_can_manage_permissions",plural:!1,selections:$,storageKey:null},fd,{alias:"is_in_kbank_rollout",args:gd,concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check_page",plural:!1,selections:hd,storageKey:'gk_check_page(gk_name:"mcom_kbank_integration_rollout")'}],storageKey:null}]}]}],storageKey:null},{alias:null,args:om,concreteType:"BizCRMContactCardConfig",kind:"LinkedField",name:"selected_biz_crm_contact_card_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"permission",storageKey:null},{condition:"should3DContextCardSections",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"sections",storageKey:null}]},{condition:"should3DContextCardSections",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"sections_renderers",plural:!0,selections:[B,{kind:"TypeDiscriminator",abstractKey:"__isXFBBizCRMContactSectionRenderer"},{alias:null,args:null,kind:"ScalarField",name:"section_enum",storageKey:null},a,{kind:"InlineFragment",selections:[{args:null,documentName:"BizKitContextCardSection3DWrapper_sections",fragmentName:"BizKitContextCardProfileSection3DWrapper_profile",fragmentPropName:"profile",kind:"ModuleImport"}],type:"XFBBizKitContextCardProfileSectionRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"BizKitContextCardSection3DWrapper_sections",fragmentName:"BizKitContextCardAboutDetailSection3DWrapper_about",fragmentPropName:"about",kind:"ModuleImport"}],type:"XFBBizKitContextCardAboutDetailSectionRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"BizKitContextCardSection3DWrapper_sections",fragmentName:"BizKitContextCardAboutSectionFacebook3DWrapper_details",fragmentPropName:"details",kind:"ModuleImport"}],type:"XFBBizKitContextCardAboutSectionFacebookRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"BizKitContextCardSection3DWrapper_sections",fragmentName:"BizKitContextCardAboutSectionInstagram3DWrapper_details",fragmentPropName:"details",kind:"ModuleImport"}],type:"XFBBizKitContextCardAboutSectionInstagramRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"BizKitContextCardSection3DWrapper_sections",fragmentName:"BizKitContextCardNotesSection3DWrapper_notes",fragmentPropName:"notes",kind:"ModuleImport"}],type:"XFBBizKitContextCardNotesSectionRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"BizKitContextCardSection3DWrapper_sections",fragmentName:"BizKitContextCardMediaSection3DWrapper_media",fragmentPropName:"media",kind:"ModuleImport"}],type:"XFBBizKitContextCardMediaSectionRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"BizKitContextCardSection3DWrapper_sections",fragmentName:"BizKitContextCardOrdersSection3DWrapper_orders",fragmentPropName:"orders",kind:"ModuleImport"}],type:"XFBBizKitContextCardOrdersSectionRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"BizKitContextCardSection3DWrapper_sections",fragmentName:"BizKitContextCardMessageSection3DWrapper_details",fragmentPropName:"details",kind:"ModuleImport"}],type:"XFBBizKitContextCardMessageSectionRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"BizKitContextCardSection3DWrapper_sections",fragmentName:"BizKitContextLabels3DWrapper_contactLabels",fragmentPropName:"contactLabels",kind:"ModuleImport"}],type:"XFBBizKitContextCardLabelsSectionRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"BizKitContextCardSection3DWrapper_sections",fragmentName:"BizKitContextCardActivitySection3DWrapper_activities",fragmentPropName:"activities",kind:"ModuleImport"}],type:"XFBBizKitContextCardActivitySectionRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"BizKitContextCardSection3DWrapper_sections",fragmentName:"BizKitContextCardPaymentSection3DWrapper_payment",fragmentPropName:"payment",kind:"ModuleImport"}],type:"XFBBizKitMessengerOrdersContextCardSectionRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"BizKitContextCardSection3DWrapper_sections",fragmentName:"BizKitContextCardReminderSection3DWrapper_reminder",fragmentPropName:"reminder",kind:"ModuleImport"}],type:"XFBBizKitContextCardReminderRenderer",abstractKey:null}],storageKey:null}]}],storageKey:null}]}],storageKey:null},nm],storageKey:null},sm,{condition:"shouldUnifyContextCardQueries",kind:"Condition",passingValue:!0,selections:[{alias:null,args:Ha,concreteType:"XFBBizInboxUnifiedThreadList",kind:"LinkedField",name:"xfb_biz_inbox_unified_thread_list",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBBizInboxSelectedThread",kind:"LinkedField",name:"selected_thread",plural:!1,selections:[{alias:null,args:om,concreteType:"BizCRMContact",kind:"LinkedField",name:"selected_biz_crm_contact",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactAllActions",kind:"LinkedField",name:"all_actions",plural:!1,selections:[{alias:null,args:Jc,concreteType:"BizCRMContactAllActionsActionsConnection",kind:"LinkedField",name:"actions",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactAllActionsActionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[B,{alias:"codeSplitWrapper",args:null,concreteType:"BizCRMContactAction3DWrapper",kind:"LinkedField",name:"wrapper",plural:!1,selections:[{args:null,documentName:"BizKitContextCardActivityListItem3DWrapper_BizCRMContactAction3DWrapper",fragmentName:"BizKitContextCardActivityListItem_node",fragmentPropName:"node",kind:"ModuleImport"}],storageKey:null}],storageKey:null},R],storageKey:null},N,Fc],storageKey:"actions(first:2)"},{alias:null,args:Jc,filters:null,handle:"connection",key:"BizKitContextCardActivityList_actions",kind:"LinkedHandle",name:"actions"},{alias:"interaction_count",args:null,concreteType:"BizCRMContactAllActionsActionsConnection",kind:"LinkedField",name:"actions",plural:!1,selections:vi,storageKey:null}],storageKey:null},a,Qc,Wc,{alias:null,args:null,concreteType:"BizCRMContactSharedAttributes",kind:"LinkedField",name:"shared_attributes",plural:!1,selections:[Kb],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_show_automated_activity_nux",storageKey:null},Vc,{alias:"adsDataSharingActivityNUX",args:[{kind:"Literal",name:"mbs_ads_event_sharing_event_type",value:"ACTIVITY"}],concreteType:"XFBMBSAdsEventSharingNux",kind:"LinkedField",name:"mbs_ads_event_sharing_eligible_nux_types",plural:!0,selections:Lc,storageKey:'mbs_ads_event_sharing_eligible_nux_types(mbs_ads_event_sharing_event_type:"ACTIVITY")'},{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[Pc,a,{alias:"two_step_do_nux_tour_gk",args:[{kind:"Literal",name:"gk_name",value:"two_step_do_nux_tour"}],concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check",plural:!1,selections:Oc,storageKey:'gk_check(gk_name:"two_step_do_nux_tour")'}],storageKey:null},{alias:"adsDataSharingDetectedActivityNUX",args:[{kind:"Literal",name:"mbs_ads_event_sharing_event_type",value:"DETECTED_ACTIVITY"}],concreteType:"XFBMBSAdsEventSharingNux",kind:"LinkedField",name:"mbs_ads_event_sharing_eligible_nux_types",plural:!0,selections:Lc,storageKey:'mbs_ads_event_sharing_eligible_nux_types(mbs_ads_event_sharing_event_type:"DETECTED_ACTIVITY")'}],storageKey:null},tm],storageKey:null},{condition:"isDependencyOfRemovePageDependencyEnabledTool",kind:"Condition",passingValue:!1,selections:[{alias:null,args:om,concreteType:"Page",kind:"LinkedField",name:"selected_page",plural:!1,selections:[{alias:"ctm_www_tas_order_integration_gk",args:id,concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check",plural:!1,selections:jd,storageKey:'gk_check(gk_name:"ctm_www_tas_order_integration_gk")'},{alias:"translationFix",args:[{kind:"Literal",name:"qe_universe",value:"tas_bizweb_translation_fix_universe"}],concreteType:"QECheck",kind:"LinkedField",name:"qe_check",plural:!1,selections:[{alias:"is_enabled",args:[{kind:"Literal",name:"bool_default",value:!1},{kind:"Literal",name:"param_name",value:"has_string_translation"}],kind:"ScalarField",name:"bool",storageKey:'bool(bool_default:false,param_name:"has_string_translation")'}],storageKey:'qe_check(qe_universe:"tas_bizweb_translation_fix_universe")'},{alias:"timelineActionsCheck",args:ld,concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check",plural:!1,selections:md,storageKey:'gk_check(gk_name:"ctm_www_tas_timeline_actions_gk")'},a],storageKey:null}]}],storageKey:null},{condition:"isDependencyOfRemovePageDependencyEnabledTool",kind:"Condition",passingValue:!0,selections:[{alias:null,args:rm,concreteType:"XFBMBSBusinessAssets",kind:"LinkedField",name:"xfb_mbs_business_assets",plural:!1,selections:[{alias:"ctm_www_tas_order_integration_gk",args:id,concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check_page",plural:!1,selections:jd,storageKey:'gk_check_page(gk_name:"ctm_www_tas_order_integration_gk")'},{alias:"timelineActionsCheck",args:ld,concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check_page",plural:!1,selections:md,storageKey:'gk_check_page(gk_name:"ctm_www_tas_timeline_actions_gk")'},a],storageKey:null}]}]}]},params:{id:"30430846273197806",metadata:{},name:"BizInboxUnifiedThreadsQuery",operationKind:"query",text:null}}}();ba("relay-runtime").PreloadableQueryRegistry.set(aa.params.id,aa);ea.exports=aa}),null);/*FB_PKG_DELIM*/
__d("AudioClipsBrowserBlockMicAccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("73");b=d("FalcoLoggerInternal").create("audio_clips_browser_block_mic_access",a);e=b;g["default"]=e}),98);
__d("AudioClipsCancelledByUserFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("39");b=d("FalcoLoggerInternal").create("audio_clips_cancelled_by_user",a);e=b;g["default"]=e}),98);
__d("AudioClipsDialogNotnowMicAccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("74");b=d("FalcoLoggerInternal").create("audio_clips_dialog_notnow_mic_access",a);e=b;g["default"]=e}),98);
__d("AudioClipsDialogOkMicAccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("75");b=d("FalcoLoggerInternal").create("audio_clips_dialog_ok_mic_access",a);e=b;g["default"]=e}),98);
__d("AudioClipsMicAccessCheckFailedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("76");b=d("FalcoLoggerInternal").create("audio_clips_mic_access_check_failed",a);e=b;g["default"]=e}),98);
__d("AudioClipsPlaybackPauseFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("44");b=d("FalcoLoggerInternal").create("audio_clips_playback_pause",a);e=b;g["default"]=e}),98);
__d("AudioClipsPlaybackResumeFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("45");b=d("FalcoLoggerInternal").create("audio_clips_playback_resume",a);e=b;g["default"]=e}),98);
__d("AudioClipsPlaybackStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("47");b=d("FalcoLoggerInternal").create("audio_clips_playback_start",a);e=b;g["default"]=e}),98);
__d("AudioClipsStartRecordingClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("51");b=d("FalcoLoggerInternal").create("audio_clips_start_recording_click",a);e=b;g["default"]=e}),98);
__d("AudioClipsStopRecordingClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("52");b=d("FalcoLoggerInternal").create("audio_clips_stop_recording_click",a);e=b;g["default"]=e}),98);
__d("MessageFeedbackType",[],(function(a,b,c,d,e,f){a=Object.freeze({POSITIVE:0,NEGATIVE:1});f["default"]=a}),66);
__d("LSSubmitMessageFeedback",["LSIssueNewTaskWithExtraOperations"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("feedback_type",a[0]),d[0].set("message_id",a[1]),d[0].set("page_id",a[2]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTaskWithExtraOperations"),"submit_message_feedback",c.i64.cast([0,811]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxSubmitMessageFeedbackStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSSubmitMessageFeedbackStoredProcedure",["LSSubmitMessageFeedback","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSSubmitMessageFeedback"),e.feedbackType,e.messageId,e.pageId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("useSubmitBusinessMessageFeedbackAction",["LSFactory","LSIntEnum","LSSubmitMessageFeedbackStoredProcedure","promiseDone","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;(j||d("react")).useCallback;function a(a,b,e,g){var j=d("react-compiler-runtime").c(6),k=(h||(h=c("useReStore")))(),l;j[0]!==g||j[1]!==k||j[2]!==e||j[3]!==a||j[4]!==b?(l=function(){c("promiseDone")(k.runInTransaction(function(f){return c("LSSubmitMessageFeedbackStoredProcedure")(c("LSFactory")(f),{feedbackType:(i||(i=d("LSIntEnum"))).ofNumber(e),messageId:a,pageId:b})},"readwrite",void 0,void 0,f.id+":38"),g)},j[0]=g,j[1]=k,j[2]=e,j[3]=a,j[4]=b,j[5]=l):l=j[5];return l}g["default"]=a}),98);
__d("useBusinessMessageNegativeFeedback",["fbt","MessageFeedbackType","react-compiler-runtime","useGenAiFeedbackSubmittedToast","useSubmitBusinessMessageFeedbackAction"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var b=d("react-compiler-runtime").c(3),e=c("useGenAiFeedbackSubmittedToast")(a);a=c("useSubmitBusinessMessageFeedbackAction")(a==null?void 0:a.messageId,a==null?void 0:a.senderId,c("MessageFeedbackType").NEGATIVE,e);b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"Bad response"),b[0]=e):e=b[0];e=e;b[1]!==a?(e=[a,e],b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),226);
__d("BusinessMessageNegativeFeedbackMenuItem.react",["MWXMenuItem.react","react","react-compiler-runtime","useBusinessMessageNegativeFeedback"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3);a=a.message;a=c("useBusinessMessageNegativeFeedback")(a);var e=a[0];a=a[1];var f;b[0]!==e||b[1]!==a?(f=i.jsx(c("MWXMenuItem.react"),{"aria-label":a,onClick:e,primaryText:a,testid:void 0}),b[0]=e,b[1]=a,b[2]=f):f=b[2];return f}g["default"]=a}),98);
__d("useBusinessMessagePositiveFeedback",["fbt","MessageFeedbackType","react-compiler-runtime","useGenAiFeedbackSubmittedToast","useSubmitBusinessMessageFeedbackAction"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var b=d("react-compiler-runtime").c(3),e=c("useGenAiFeedbackSubmittedToast")(a);a=c("useSubmitBusinessMessageFeedbackAction")(a==null?void 0:a.messageId,a==null?void 0:a.senderId,c("MessageFeedbackType").POSITIVE,e);b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"Good response"),b[0]=e):e=b[0];e=e;b[1]!==a?(e=[a,e],b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),226);
__d("BusinessMessagePositiveFeedbackMenuItem.react",["MWXMenuItem.react","react","react-compiler-runtime","useBusinessMessagePositiveFeedback"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3);a=a.message;a=c("useBusinessMessagePositiveFeedback")(a);var e=a[0];a=a[1];var f;b[0]!==e||b[1]!==a?(f=i.jsx(c("MWXMenuItem.react"),{"aria-label":a,onClick:e,primaryText:a,testid:void 0}),b[0]=e,b[1]=a,b[2]=f):f=b[2];return f}g["default"]=a}),98);
__d("CDSToast.react",["fbt","BaseToast.react","CDSIcon.react","CDSIconButton.react","CDSText.react","CDSThemeConfig","MetaBrandXFilled24.svg.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={header:{marginBottom:"x1e56ztr",$$css:!0},link:{paddingTop:"x1iorvi4",paddingBottom:"xjkvuk6",wordBreak:"xdnwjd9",$$css:!0}};b={margin20:{marginBottom:"xieb3on",$$css:!0},margin32:{marginBottom:"x1iymm2a",$$css:!0},margin48:{marginBottom:"x13ihpsm",$$css:!0},margin64:{marginBottom:"x16bybu0",$$css:!0}};var l={20:b.margin20,32:b.margin32,48:b.margin48,64:b.margin64};function a(a){var b=d("react-compiler-runtime").c(19),e=a.action,f=a.addOnStart,g=a.density,i=a.header,n=a.message,o=a.offsetFooter,p=a.onDismiss,q=a.ref,r=a.size,s=a.testid;a=a.withoutCloseButton;r=r===void 0?"full-width":r;a=a===void 0?!1:a;var t;b[0]!==e?(t=e!=null?{label:e.label,labelRenderer:m,onPress:e.onPress,testid:e.testid}:void 0,b[0]=e,b[1]=t):t=b[1];b[2]!==p||b[3]!==a?(e=!a&&j.jsx(c("CDSIconButton.react"),{"aria-label":h._(/*BTDS*/"Close"),onPress:p,children:j.jsx(c("CDSIcon.react"),{color:"toast-DO_NOT_USE_WILL_BE_DELETED_WITHOUT_NOTICE",icon:c("MetaBrandXFilled24.svg.react"),size:24})}),b[2]=p,b[3]=a,b[4]=e):e=b[4];b[5]!==i||b[6]!==n?(a=function(a){a=a.toastMessageId;return j.jsxs("div",babelHelpers["extends"]({className:"x78zum5 xdt5ytf"},{id:a,children:[i!=null&&j.jsx(c("CDSText.react"),{color:"toastText_DO_NOT_USE_WILL_BE_DELETED_WITHOUT_NOTICE",textStyle:"bodyEmphasized",xstyle:k.header,children:i}),j.jsx(c("CDSText.react"),{color:"toastText_DO_NOT_USE_WILL_BE_DELETED_WITHOUT_NOTICE",textStyle:"body",children:n})]}))},b[5]=i,b[6]=n,b[7]=a):a=b[7];o=o&&l[o];var u;b[8]!==f||b[9]!==g||b[10]!==p||b[11]!==q||b[12]!==r||b[13]!==t||b[14]!==e||b[15]!==a||b[16]!==o||b[17]!==s?(u=j.jsx(c("BaseToast.react"),{action:t,addOnStart:f,closeButton:e,density:g,message:a,offsetStyles:o,onDismiss:p,size:r,testid:void 0,themeConfigOverride:c("CDSThemeConfig"),toastRef:q}),b[8]=f,b[9]=g,b[10]=p,b[11]=q,b[12]=r,b[13]=t,b[14]=e,b[15]=a,b[16]=o,b[17]=s,b[18]=u):u=b[18];return u}function m(a){return j.jsx(c("CDSText.react"),{color:"toastTextLink",textStyle:"body",xstyle:k.link,children:a})}m.displayName=m.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("ChangeVoteFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5497");b=d("FalcoLoggerInternal").create("change_vote",a);e=b;g["default"]=e}),98);
__d("CometFRXQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="23977240198563337"}),null);
__d("CometFRXQuery$Parameters",["CometFRXQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometFRXQuery_facebookRelayOperation"),metadata:{},name:"CometFRXQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometFRX.entrypoint",["CometFRXQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=a.conformed_interface_override,e=a.entryPoint,f=a.id,g=a.location;a=a.responsible_id;return{queries:{frx:{parameters:c("CometFRXQuery$Parameters"),variables:{input:{conformed_interface_override:b,entry_point:e,id:f,location:g,responsible_id:a},scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("CometFRX.react").__setRef("CometFRX.entrypoint")};g["default"]=a}),98);
__d("cometMessengerFileUploadComposerPluginSupportedTypes",[],(function(a,b,c,d,e,f){"use strict";a=["photo","video","file"];b=a;f["default"]=b}),66);
__d("useCometMessengerFileUploadPaste",["react","react-compiler-runtime","useCometLexicalFileDragAndDrop"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(6),e=a.editor,f=a.handlePastedFiles;a=a.isMimeTypeAcceptable;var g;b[0]!==f?(g=function(a){a.length>0&&f(a)},b[0]=f,b[1]=g):g=b[1];g=g;var h;b[2]!==e||b[3]!==a||b[4]!==g?(h={editor:e,isMimeTypeAcceptable:a,onSubmit:g},b[2]=e,b[3]=a,b[4]=g,b[5]=h):h=b[5];c("useCometLexicalFileDragAndDrop")(h)}g["default"]=a}),98);
__d("CometMessengerHandlePastedFileComposerPlugin",["cometIsMimeTypeForMedia","cometMessengerFileUploadComposerPluginSupportedTypes","react-compiler-runtime","useCometMessengerFileUploadPaste"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if(a.kind!=="file")return!1;for(var b of c("cometMessengerFileUploadComposerPluginSupportedTypes"))switch(b){case"photo":if(d("cometIsMimeTypeForMedia").isMimeTypeForPhoto(a.type))return!0;break;case"video":if(d("cometIsMimeTypeForMedia").isMimeTypeForVideo(a.type))return!0;break;case"file":if(d("cometIsMimeTypeForMedia").isMimeTypeForFile(a.type))return!0;break;default:b}return!1}function a(a){var b=d("react-compiler-runtime").c(3),e=a.editor;a=a.handlePastedFiles;var f;b[0]!==e||b[1]!==a?(f={editor:e,handlePastedFiles:a,isMimeTypeAcceptable:h},b[0]=e,b[1]=a,b[2]=f):f=b[2];c("useCometMessengerFileUploadPaste")(f);return null}g["default"]=a}),98);
__d("EbFetchTimeoutMsForMLv2",["justknobx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("justknobx")._("3074")}g["default"]=a}),98);
__d("ExistingPollSubmitErrorFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5498");b=d("FalcoLoggerInternal").create("existing_poll_submit_error",a);e=b;g["default"]=e}),98);
__d("ExistingPollSubmitSuccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5499");b=d("FalcoLoggerInternal").create("existing_poll_submit_success",a);e=b;g["default"]=e}),98);
__d("FRXEntryPoint",[],(function(a,b,c,d,e,f){a=Object.freeze({ACTIVITY_LOG:"activity_log",AGORA_GROUPS:"agora_groups",AGORA_RECENT_NEWS:"agora_recent_news",BLOCK_BUTTON:"block_button",BLOCK_COMPOSER:"block_composer",BUSINESS_NOTIFICATION_MESSAGE_REPORT_BUTTON:"business_notification_message_report_button",CHEVRON_BUTTON:"chevron_button",CHEVRON_TAGS:"chevron_tags",COLLEGES_LIVE_CHAT_REPORT_TO_FB:"colleges_live_chat_report_to_fb",COMMENT:"comment",CONTENT_OVERLAY:"content_overlay",CROWDSOURCING_REPORT:"crowdsourcing_report",DELETE_CONTENT_REPORT:"delete_content_report",DELETE_CONVERSATION_REPORT:"delete_conversation_report",DEVELOPER_FEEDBACK_BUTTON:"developer_feedback_button",EVENTS_REPORTING:"events_reporting",FEEDBACK_BUTTON:"feedback_button",FOX_CHEVRON_TAGS:"fox_chevron_tags",GEMSTONE_MEDIA:"gemstone_media",GEMSTONE_MESSAGING:"gemstone_messaging",GEMSTONE_PROFILE:"gemstone_profile",GROUP_MALL_RELATED_GROUPS_CHAINING:"group_mall_related_groups_chaining",GROUP_MALL_RHC:"group_mall_rhc",GROUPS_ADMIN_FEEDBACK:"groups_admin_feedback",GROUPS_DISCOVER:"groups_discover_page",GROUPS_DISCOVER_HIDE_BUTTON:"groups_discover_hide_button",GROUPS_JOIN_QUESTION:"groups_join_question",GROUPS_LEAVE:"groups_leave",GROUPS_LEAVE_BROWSE:"groups_leave_browse",GROUPS_LEAVE_SPECIAL:"groups_leave_special",GROUPS_PARTICIPATION_QUESTION:"groups_participation_question",GROUPS_PENDING_QUEUE:"groups_pending_queue",GROUPS_POLL:"groups_poll",GROUPS_REPORT:"groups_report",GROUPS_REPORT_LONG_PRESS_TO_ADMIN:"groups_report_long_press_to_admin",GROUPS_REPORT_TO_ADMIN:"groups_report_to_admin",GROUPS_RULE:"groups_rule",GROUPS_TAB_CHAT_ROW:"groups_tab_chat_row",GROUPS_TAB_DISCOVER_FIRST:"groups_tab_discover_first",GROUPS_TRANSPARENCY:"groups_transparency",HATE_CTA:"hate_cta",HELP_NAV_BUTTON:"help_nav_button",HIDE_AD_BUTTON:"hide_ad_button",HIDE_AD_XOUT_BUTTON:"hide_ad_xout_button",IN_PROFILE_COMMENT_SELECTOR:"in_profile_comment_selector",IN_PROFILE_MEDIA_SELECTOR:"in_profile_media_selector",INSTANT_GAMES_BOT_FEEDBACK_LINK:"instant_games_bot_feedback_link",LEAVE_CONVERSATION_REPORT:"leave_conversation_report",LOCAL_COMMUNITY_DEMOTE_CONTENT:"local_community_demote_content",LOCAL_COMMUNITY_MOD_HUB_DEMOTE:"local_community_mod_hub_demote",LOCAL_COMMUNITY_POST_REPORT_TO_MOD:"local_community_post_report_to_mod",LOCAL_LIVE_CHAT_REPORT_TO_FB:"local_live_chat_report_to_fb",MARK_AS_SOLD_BUTTON:"mark_as_sold_button",MARK_AS_SUSPICIOUS_BUTTON:"mark_as_suspicious_button",MARKETPLACE_SUBCOMPONENT_REPORT_BUTTON:"marketplace_subcomponent_report_button",MESSAGE_MEDIA_BUBBLE_REPORT:"message_media_bubble_report",MOBILE_GYSJ:"mobile_gysj",NOTE_REPORT_BUTTON:"note_report_button",NOTIFICATIONS_JEWEL:"notifications_jewel",PAGE_UNFOLLOW:"page_unfollow",PAGE_UNFOLLOW_CHEVRON:"page_unfollow_chevron",PAGE_UNLIKE:"page_unlike",PAGE_VERIFICATION_BADGE_OPTION:"page_verification_badge_option",PAGE_VERIFICATION_PAGE_OPTION:"page_verification_page_option",POLITICAL_AD_VERIFIED_VOICE:"political_ad_verified_voice",PROACTIVE_WARNING_BANNER:"proactive_warning_banner",PROACTIVE_WARNING_COMPOSER_BLOCK:"proactive_warning_composer_block",PROACTIVE_WARNING_POPOVER:"proactive_warning_popover",PROACTIVE_WARNING_STRAP:"proactive_warning_strap",PROFILE_REPORT_BUTTON:"profile_report_button",PROFILE_REPORT_FLOW:"profile_report_flow",PROFILE_SUBMIT_FEEDBACK:"profile_submit_feedback",QUICK_REPORT_ACTION:"quick_report_action",RELATED_SEARCHES:"related_searches",REPORT_AD_BUTTON:"report_ad_button",REPORT_AD_XOUT_BUTTON:"report_ad_xout_button",REPORT_BUTTON:"report_button",REPORT_BUTTON_DETAILED_FRX:"report_button_detailed_frx",REPORT_FROM_PREVIEW:"report_from_preview",REPORT_JOB_BUTTON:"report_job_button",REPORT_LONG_PRESS:"report_long_press",ROOMS_POST_CALL_HIGH_RATING:"rooms_post_call_high_rating",ROOMS_POST_CALL_LOW_RATING:"rooms_post_call_low_rating",ROOMS_POST_CALL_LOW_RATING_DETAILED:"rooms_post_call_low_rating_detailed",SCHOOL_COMMUNITY_TAGS:"school_community_tags",SEARCH_META_AI_PROMPT_SUGGESTION:"search_meta_ai_prompt_suggestion",SEARCH_TYPEAHEAD:"search_typeahead",SNACKBAR:"snackbar",STORY_ATTACHMENT_SHARE:"story_attachment_share",STRUCTURED_REPORT_BUTTON:"structured_report_button",THREADLIST_MENU_REPORT:"threadlist_menu_report",TOMBSTONE:"tombstone",TOOLBAR_REPORT_ACTION:"toolbar_report_action",UNKNOWN:"unknown",UNOWNED_PAGE_ACTION_MENU_REPORT_PAGE:"unowned_page_action_menu_report_page",UPSELL_AFTER_BLOCK_BOTTOM_SHEET:"upsell_after_block_bottom_sheet",USER_CONTROL_MENU:"user_control_menu",WORKPLACE_REPORT_AND_HIDE_BUTTON:"workplace_report_and_hide_button",WORKPLACE_REPORT_BUTTON:"workplace_report_button",WORKROOM_MEETING_REPORT_BUTTON:"workroom_meeting_report_button",WORKROOM_REPORT_BUTTON:"workroom_report_button",WORKROOM_USER_REPORT_BUTTON:"workroom_user_report_button",X_OUT:"x_out"});f["default"]=a}),66);
__d("GroupPollEvent",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({START_NEW_POLL:"start_new_poll",SUBMIT_NEW_POLL:"submit_new_poll",NEW_POLL_SUBMIT_ERROR:"new_poll_submit_error",NEW_POLL_SUBMIT_SUCCESS:"new_poll_submit_success",OPEN_EXISTING_POLL:"open_existing_poll",CHANGE_VOTE:"change_vote",SHOW_VOTERS:"show_voters",SUBMIT_EXISTING_POLL:"submit_existing_poll",EXISTING_POLL_SUBMIT_ERROR:"existing_poll_submit_error",EXISTING_POLL_SUBMIT_SUCCESS:"existing_poll_submit_success"});c=a;f["default"]=c}),66);
__d("LSDeleteMessageStoredProcedure",["LSDeleteMessage","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSDeleteMessage"),e.threadKey,e.messageId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSOptimisticSetOrUnsetPinnedMessage",["LSIssueNewTask","LSShimThreadPinMessage.nop","LSShimThreadUnpinMessage.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.i64.neq(a[1],void 0)?c.i64.eq(a[3],c.i64.cast([0,1]))||c.i64.eq(a[3],c.i64.cast([0,2]))?c.sequence([function(d){return c.nativeOperation(b("LSShimThreadPinMessage.nop"),a[0],a[2],a[1])},function(b){return c.db.table(9).fetch([[[a[1]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[6]=b.syncGroup,c.i64.neq(d[6],void 0)?d[5]=d[6]:d[5]=c.i64.cast([0,1]),d[0]=d[5])})},function(e){return d[2]=new c.Map(),d[2].set("armadillo_thread_key",a[1]),d[2].set("offline_threading_id",a[0]),d[2].set("timestamp_ms",a[2]),d[2].set("sync_group",d[0]),d[3]=d[2].get("timestamp_ms"),d[4]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewTask"),["e2ee_pin_msg","_",c.i64.to_string(d[3])].join(""),c.i64.cast([0,1010]),d[4],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}]):c.sequence([function(d){return c.nativeOperation(b("LSShimThreadUnpinMessage.nop"),a[0],a[1])},function(b){return c.db.table(9).fetch([[[a[1]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[6]=b.syncGroup,c.i64.neq(d[6],void 0)?d[5]=d[6]:d[5]=c.i64.cast([0,1]),d[0]=d[5])})},function(e){return d[2]=new c.Map(),d[2].set("armadillo_thread_key",a[1]),d[2].set("offline_threading_id",a[0]),d[2].set("timestamp_ms",a[2]),d[2].set("sync_group",d[0]),d[3]=d[2].get("timestamp_ms"),d[4]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewTask"),["e2ee_unpin_msg","_",c.i64.to_string(d[3])].join(""),c.i64.cast([0,1011]),d[4],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}]):c.resolve()},function(a){return c.resolve(e)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxOptimisticSetOrUnsetPinnedMessageStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSOptimisticSetOrUnsetPinnedMessageStoredProcedure",["LSOptimisticSetOrUnsetPinnedMessage","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSOptimisticSetOrUnsetPinnedMessage"),e.offlineThreadingId,e.threadKey,e.timestampMs,e.state);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSOptimisticSetPinnedMessage",["LSIssueNewTaskWithExtraOperations","LSSetPinnedMessage"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(d){return c.i64.eq(a[3],c.i64.cast([0,2]))?c.storedProcedure(b("LSSetPinnedMessage"),a[0],a[1],a[2],c.i64.cast([0,1])):c.storedProcedure(b("LSSetPinnedMessage"),a[0],a[1],a[2],a[3])},function(e){return c.i64.eq(a[3],c.i64.cast([0,2]))?(d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[0].set("message_id",a[1]),d[0].set("timestamp_ms",a[2]),d[0].set("pinned_location",c.i64.cast([0,1])),d[1]=d[0].get("thread_key"),d[2]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTaskWithExtraOperations"),["pin_msg_v2","_",c.i64.to_string(d[1])].join(""),c.i64.cast([0,430]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]))):c.i64.eq(a[3],c.i64.cast([0,1]))?(d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[0].set("message_id",a[1]),d[0].set("timestamp_ms",a[2]),d[0].set("should_replace_oldest_pin",a[4]),d[1]=d[0].get("thread_key"),d[2]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTaskWithExtraOperations"),["pin_msg_v2","_",c.i64.to_string(d[1])].join(""),c.i64.cast([0,430]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]))):c.i64.eq(a[3],c.i64.cast([0,0]))?(d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[0].set("message_id",a[1]),d[0].set("timestamp_ms",a[2]),d[1]=d[0].get("thread_key"),d[2]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTaskWithExtraOperations"),["unpin_msg_v2","_",c.i64.to_string(d[1])].join(""),c.i64.cast([0,431]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]))):c.resolve(0)}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxOptimisticSetPinnedMessageStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSOptimisticSetPinnedMessageStoredProcedure",["LSOptimisticSetPinnedMessage","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSOptimisticSetPinnedMessage"),e.threadKey,e.messageId,e.pinnedTimestampMs,e.state,e.shouldReplaceOldestPin);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSPinnedMessageState",[],(function(a,b,c,d,e,f){a=Object.freeze({NOT_PINNED:0,PINNED:1,PINNED_AND_FEATURED:2});f["default"]=a}),66);
__d("LSReportMessageInCommunityChannel",["LSIssueNewError","LSIssueNewTaskAndGetTaskID","LSLocalize"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return c.sortBy(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[0]=!1:(b=a.item,d[0]=b.errorShouldBeShown)})},function(a){return d[0]===!0?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,2285622730]),void 0).then(function(a){return d[7]=a})},function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,1919524925]),void 0).then(function(a){return d[8]=a})},function(a){return c.storedProcedure(b("LSIssueNewError"),void 0,c.i64.cast([0,1545093]),d[7],d[8],void 0,void 0)}]):c.resolve()},function(e){return d[2]=new c.Map(),d[2].set("thread_key",a[0]),d[2].set("message_id",a[1]),c.i64.gt(c.i64.cast([0,0]),c.i64.cast([0,0]))?(d[7]=c.i64.of_float(Date.now()),d[3]=c.i64.add(d[7],c.i64.cast([0,0]))):d[3]=c.i64.cast([0,0]),d[4]=d[2].get("thread_key"),d[5]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),c.i64.to_string(d[4]),c.i64.cast([0,374]),d[5],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,d[3],c.i64.cast([0,0])).then(function(a){return a=a,d[6]=a[0],a})}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxReportMessageInCommunityChannelStoredProcedure";a.__tables__=["user_visible_network_connectivity_error"];e.exports=a}),null);
__d("LSReportMessageInCommunityChannelStoredProcedure",["LSReportMessageInCommunityChannel","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSReportMessageInCommunityChannel"),e.threadKey,e.messageId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("Ls1lcFeatureOpenFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("153");b=d("FalcoLoggerInternal").create("ls_1lc_feature_open",a);e=b;g["default"]=e}),98);
__d("useTriggerEditAction",["MAWEditMessageContext.react","MWPActor.react","MWPReplyContext.react","react","react-compiler-runtime","useLogMAWEditMessage"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useContext;function a(a,b,e){var f=d("react-compiler-runtime").c(11),g=c("useLogMAWEditMessage")(),h=i(d("MAWEditMessageContext.react").Context),j=h.setEditMessageData;h=i(d("MWPReplyContext.react").MWPReplyContext);var k=h.clearReply,l=h.reply,m=d("MWPActor.react").useActor();f[0]!==m||f[1]!==k||f[2]!==g||f[3]!==a.messageId||f[4]!==a.threadKey||f[5]!==a.timestampMs||f[6]!==e||f[7]!==l||f[8]!==j||f[9]!==b?(h=function(){l!=null&&k(a.threadKey,!0),j({messageId:a.messageId,threadKey:a.threadKey,threadType:b,timestampMs:a.timestampMs}),g(b,a.threadKey,a.messageId,m,"EDIT_MESSAGE_TAP"),e==null||e()},f[0]=m,f[1]=k,f[2]=g,f[3]=a.messageId,f[4]=a.threadKey,f[5]=a.timestampMs,f[6]=e,f[7]=l,f[8]=j,f[9]=b,f[10]=h):h=f[10];return h}g["default"]=a}),98);
__d("MAWEditMenuItem.react",["fbt","MWXMenuItem.react","react","react-compiler-runtime","useTriggerEditAction"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(8),e=a.disableReason,f=a.message,g=a.onEditClickCallback;a=a.threadType;var i=g===void 0?null:g,k=c("useTriggerEditAction")(f,a);b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._(/*BTDS*/"Edit"),b[0]=g):g=b[0];f=g;a=e!==void 0;b[1]!==i||b[2]!==k?(g=function(){k(),i&&i()},b[1]=i,b[2]=k,b[3]=g):g=b[3];b[4]!==e||b[5]!==a||b[6]!==g?(f=j.jsx(c("MWXMenuItem.react"),{"aria-label":f,disabled:a,onClick:g,primaryText:f,secondaryText:e,testid:void 0}),b[4]=e,b[5]=a,b[6]=g,b[7]=f):f=b[7];return f}g["default"]=a}),226);
__d("MAWMessageIntegrityChecker",["FBLogger","MAWMessagesCompare","ReQL"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){if(a.externalId===b.externalId)return 0;if(a.sortOrderMs>b.sortOrderMs)return 1;return a.sortOrderMs<b.sortOrderMs?-1:-1}function i(a,b){var c=b.reduce(function(a,b){b.externalId!=null&&a.set(b.externalId,b.sortOrderMs);return a},new Map());return a.map(function(a){var b;return babelHelpers.extends({},a,{sortOrderMs:(b=a.externalId!=null?c.get(a.externalId):null)!=null?b:a.sortOrderMs})}).sort(d("MAWMessagesCompare").getSortComparisonFunctionForDirection("desc"))}function j(a,b,c){a=new Set(a.map(function(a){return a.externalId}).filter(Boolean));return b.toSorted(d("MAWMessagesCompare").makeCompareMessageMetadataForDescOrderFn(a)).slice(0,c)}function a(a,b,d,e,f){var g=new Set(a.map(function(a){return a.externalId})),l=new Set(b.map(function(a){return a.externalId})),m=k(g,l);l=k(l,g);g=i(a,b);a=j(g,b,d);b=0;var n=0,o=0,p=0,q=[],r=null;while(b<g.length&&n<a.length){var s=g[b],t=a[n];if(r!=null&&h(t,r)===0){n+=1;r=t;c("FBLogger")("messenger_web_missing_messages").mustfix("Detected duplicate messages in reference. Target source: %s, reference source: %s",e,f);continue}var u=h(s,t);u===0?(b+=1,n+=1,r=t,q.push([s,{result:"consistent"}])):u<0?(n+=1,r=t,o+=1,q.push([t,{result:"missing_in_target"}])):(b+=1,p+=1,q.push([s,{result:"missing_in_reference"}]))}while(b<g.length){u=g[b];b+=1;a.length<d?(p+=1,q.push([u,{result:"missing_in_reference"}])):q.push([u,{result:"skipped_in_target"}])}while(n<a.length){t=a[n];n+=1;g.length<d?(o+=1,q.push([t,{result:"missing_in_target"}])):q.push([t,{result:"skipped_in_reference"}])}if(o===0&&p===0)return{detailedResults:q,result:"consistent",setDifferenceInReference:l,setDifferenceInTarget:m};else if(o>0&&p===0)return{detailedResults:q,numOfMissingMessages:o,result:"missing_in_target",setDifferenceInReference:l,setDifferenceInTarget:m};else if(o===0&&p>0)return{detailedResults:q,numOfMissingMessages:p,result:"missing_in_reference",setDifferenceInReference:l,setDifferenceInTarget:m};else return{detailedResults:q,numOfMissingMessages:p+o,result:"missing_in_both",setDifferenceInReference:l,setDifferenceInTarget:m}}async function b(a,b,d){a=d.filter(function(a){a[0];a=a[1];return a.result==="missing_in_target"}).map(function(a){var b=a[0];a[1];return b.externalId});var e={admin:!1,editMsgHistory:!1,media:!1,polls:!1,reactions:!1,receiverFetch:!1,xma:!1},f=await b.fetchMessagesByExternalId(a,e),g=new Set(f.map(function(a){return a.externalId}));return Promise.all(d.map(async function(a){var b=a[0];a=a[1];if(!g.has(b.externalId))return[b,a];a=f.find(function(a){return a.externalId===b.externalId});if(!a){c("FBLogger")("messenger_web_missing_messages").mustfix("Failed to find msg with external id: %s in MAW",b.externalId);return[b,{result:"missing_in_target_invalid_sortOrder"}]}var d={sortOrderSkewMs:a.sortOrderMs-b.sortOrderMs,sortOrderSkewNumberOfMsg:0},e={result:"missing_in_target_invalid_sortOrder",sortOrderSkewMs:0};d.sortOrderSkewNumberOfMsg!=null&&(e=babelHelpers.extends({},e,{sortOrderSkewNumberOfMsg:d.sortOrderSkewNumberOfMsg}));return[babelHelpers.extends({},b,{msgType:a.msgType}),e]}))}async function e(a,b){var c=b.filter(function(a){a[0];a=a[1];return a.result==="missing_in_target"}).map(function(a){var b=a[0];a[1];return b.externalId});if(c.length===0)return b;c=c.map(function(b){return d("ReQL").fromTableAscending(a.tables.messages.index("optimistic")).getKeyRange(b)});var e=c.length===1;c=c.length>1?d("ReQL").union.apply(void 0,c):c[0];var f=await d("ReQL").toArrayAsync(c);return b.map(function(a){var b=a[0];a=a[1];var c=f.find(function(a){return a.offlineThreadingId===b.externalId});if(c!=null)return[b,{result:"missing_in_target_exists_in_lsdb",transportKey:c.transportKey,wouldHaveThrownS518614:e}];a.wouldHaveThrownS518614=e;return[b,a]})}function k(a,b){var c=0;for(a of a)b.has(a)||(c+=1);return c}g.checkIntegrityforMessageList=a;g.checkMsgsExistenceInMAWAndDecomposeTargetConsistencyResult=b;g.checkMsgsExistenceInLSDB=e}),98);
__d("MAWMessageIntegrityMissingInTargetCategory",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.hasEBFetchFailed,c=a.mawVsEB;a=a.uiVsEB;var d=i(a);a=c.detailedResults.filter(function(a){var b=a[0];a[1];return d.has(b.externalId)});return a.map(function(a){var c=a[0];a=a[1];a=h(c.externalId,a,b);return a==null?null:[c,a]}).filter(Boolean)}function h(a,b,d){switch(b.result){case"consistent":return"client_inconsistency";case"missing_in_target":return d?"eb_restore_timeout":"message_not_persisted_after_eb_restore";case"missing_in_target_invalid_sortOrder":return b.sortOrderSkewMs==null||b.sortOrderSkewMs===0?"message_out_of_order_same_timestamp":"message_out_of_order_different_timestamp";case"skipped_in_target":return"client_inconsistency_skipped";case"skipped_in_reference":return"unknown_skipped";case"missing_in_reference":case"missing_in_target_exists_in_lsdb":c("FBLogger")("messenger_web_missing_messages").mustfix("Unexpected consistency result %s for message with externalId %s when calculating missing in target category",b.result,a);return null;default:b.result;return null}}function i(a){return a.detailedResults.reduce(function(a,b){var c=b[0];b=b[1];b.result==="missing_in_target"&&a.add(c.externalId);return a},new Set())}g.calculateMissingInTargetCategory=a}),98);
__d("MAWMessageIntegrityCompareMessagesData",["I64","MAWMessageIntegrityChecker","MAWMessageIntegrityMissingInTargetCategory","WATagsLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=d("WATagsLogger").TAGS(["MissingMessages"]);async function a(a,b,c,d,e,f){var g=e.S518614_messagesBacktest,h=g.backendMessages,i=g.ebMessages,j=g.mpsMessages;g=g.uiMessages;var k=e.S518614_pageSizeBacktest,l=e.messages,n=l.backendMessages,o=l.ebMessages,p=l.mpsMessages;l=l.uiMessages;e=e.pageSize;n=await m(a,b,c,d,f,n,o,p,l,e);o=n.mawVsEB;p=n.missingInTargetCategory;l=n.mpsVsEB;var q=n.mpsVsMaw,r=n.uiVsEB;n=n.uiVsMaw;a=await m(a,b,c,d,f,h,i,j,g,k,!0);b=a.mawVsEB;c=a.mpsVsEB;d=a.mpsVsMaw;f=a.uiVsEB;h=a.uiVsMaw;i=a.wouldHaveThrownS518614;return{S518614_mawVsEB:b,S518614_mpsVsEB:c,S518614_mpsVsMaw:d,S518614_pageSize:k,S518614_uiVsEB:f,S518614_uiVsMaw:h,S518614_wouldHaveThrown:i,mawVsEB:o,missingInTargetCategory:p,mpsVsEB:l,mpsVsMaw:q,pageSize:e,uiVsEB:r,uiVsMaw:n}}async function m(a,b,c,e,f,g,m,o,p,q,r){r===void 0&&(r=!1);var s=d("MAWMessageIntegrityChecker").checkIntegrityforMessageList(p,g,q,"ui","maw"),t=d("MAWMessageIntegrityChecker").checkIntegrityforMessageList(p,m,q,"ui","eb"),u=d("MAWMessageIntegrityChecker").checkIntegrityforMessageList(g,m,q,"maw","eb");g=o?d("MAWMessageIntegrityChecker").checkIntegrityforMessageList(o,g,q,"mps","maw"):null;o=o?d("MAWMessageIntegrityChecker").checkIntegrityforMessageList(o,m,q,"mps","eb"):null;t.result!=="consistent"&&(!r?l.WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Missing message detected for ",", result: ",", num of messages missing: ",""])),(k||(k=d("I64"))).to_float(e),t.result,t.numOfMissingMessages):l.LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["S518614 backtest: Missing message detected for ",", result: ",", num of messages missing: ",""])),(k||(k=d("I64"))).to_float(e),t.result,t.numOfMissingMessages));(t.result==="missing_in_target"||t.result==="missing_in_both")&&(t.detailedResults=n(t.detailedResults,p));(u.result==="missing_in_target"||u.result==="missing_in_both")&&(u.detailedResults=await d("MAWMessageIntegrityChecker").checkMsgsExistenceInMAWAndDecomposeTargetConsistencyResult(c,b,u.detailedResults));var v=!1;if(s.result==="missing_in_target"||s.result==="missing_in_both")try{s.detailedResults=await d("MAWMessageIntegrityChecker").checkMsgsExistenceInLSDB(a,s.detailedResults),s.detailedResults.map(function(a){a[0];a=a[1];v||(v=a.wouldHaveThrownS518614===!0)})}catch(a){l.ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Failed to get detailed results for UI vs MAW comparison: ",""])),a)}m=d("MAWMessageIntegrityMissingInTargetCategory").calculateMissingInTargetCategory({hasEBFetchFailed:f,mawVsEB:u,uiVsEB:t});return{mawVsEB:u,missingInTargetCategory:m,mpsVsEB:o,mpsVsMaw:g,pageSize:q,uiVsEB:t,uiVsMaw:s,wouldHaveThrownS518614:v}}function n(a,b){var c=new Set(b.map(function(a){return a.externalId}));return a.map(function(a){var b=a[0];a=a[1];return a.result==="missing_in_target"&&c.has(b.externalId)?[b,babelHelpers.extends({},a,{existingInUISamePage:!0})]:[b,a]})}g.compareMessagesData=a}),98);
__d("MAWMessageIntegrityFetchMessagesData",["I64","MAWBridgeSendAndReceive","MAWDbMsg","MAWEBDeanonFetch","MAWMessagesCompare","MAWMpsGating","MAWMpsMessageIntegrityFetch","MpsTypes","WAResultOrError","WAStanzaUtils","WATimeUtils","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h;async function a(a,b,c,e,f,g){var h=await d("MAWBridgeSendAndReceive").sendAndReceive("backend","identifyXMAWithAssociatedTextByExternalId",{externalIds:g.map(function(a){return d("WAStanzaUtils").toStanzaId(a.offlineThreadingId)})}),m=g.map(k);a=await Promise.all([l(g),d("MAWMpsGating").isFullMpsEnabled()?[]:i(a,b,c,f,e),j(c,f,e),d("MAWMpsMessageIntegrityFetch").mpsMessageIntegrityFetch(c,"before",f,e)]);b=a[0];c=a[1];f=a[2];a=a[3];var n=await d("MAWBridgeSendAndReceive").sendAndReceive("backend","identifyCollapsedMessagesByExternalId",{externalIds:f.map(function(a){return d("WAStanzaUtils").toStanzaId(a.externalId)})});function o(a){return!h.includes(a.externalId)}function p(a){return!n.includes(a.externalId)}function q(a){return o(a)&&p(a)}var r=b.filter(q),s=c.filter(q),t=f.filter(q),u=a==null?null:a.filter(q);m=m.filter(q);q=g.length-m.length;g=e-q;if(t.length===0)return d("WAResultOrError").makeError("EB result not available");m=d("MAWMessagesCompare").getSortComparisonFunctionForDirection("desc");q=[].concat(s).sort(m).slice(0,g);s=[].concat(t).sort(m).slice(0,g);t=r.sort(m).slice(0,g);r=u!=null?[].concat(u).sort(m).slice(0,g):null;u=e;e=[].concat(c).sort(m).slice(0,u);c=[].concat(f).sort(m).slice(0,u);f=[].concat(b).sort(m).slice(0,u);b=a!=null?[].concat(a).sort(m).slice(0,u):null;return d("WAResultOrError").makeResult({S518614_messagesBacktest:{backendMessages:e,ebMessages:c,mpsMessages:b,uiMessages:f},S518614_pageSizeBacktest:u,messages:{backendMessages:q,ebMessages:s,mpsMessages:r,uiMessages:t},pageSize:g})}async function i(a,b,c,e,f){e=m(e);var g=e.msgId;e=e.timestampMs;b=await b.requestMessages(a,c,(h||(h=d("I64"))).of_float(e),g,"before",f,{admin:!1,editMsgHistory:!1,media:!1,polls:!1,reactions:!1,receiverFetch:!1,xma:!1},"integrity");return b.msgs}async function j(a,b,c){var e=m(b),f=e.msgId;e=e.timestampMs;f=await (f==null?Promise.resolve(null):d("MAWBridgeSendAndReceive").sendAndReceive("backend","getProtocolMsgIdByMsgId",{msgId:f}));var g=(f=f==null?void 0:f.externalId)!=null?f:(f=b.lastItemFromPreviousPage)==null?void 0:f.offlineThreadingId;b=await d("MAWEBDeanonFetch").fetchMessagesMetadataFromEBDeanon({chatJid:a,count:c*2,direction:"before",includeReferenceTimestamp:!0,referenceExternalId:g,referenceTimestampMs:e});if(b.success===!1)return[];f=b.value.sort(d("MAWMessagesCompare").getSortComparisonFunctionForDirection("desc"));a=f.findIndex(function(a){return a.externalId===g});return f.slice(a+1)}function k(a){return{externalId:a.offlineThreadingId,msgType:(h||(h=d("I64"))).to_string(a.displayedContentTypes),sortOrderMs:h.to_float(a.primarySortKey)}}function l(a){var b=function(a){var b=d("MAWDbMsg").toMsgId(a.messageId);return b==null?Promise.resolve(k(a)):d("MAWBridgeSendAndReceive").sendAndReceive("backend","getProtocolMsgIdByMsgId",{msgId:b}).then(function(b){return babelHelpers.extends({},a,{offlineThreadingId:(b=b==null?void 0:b.externalId)!=null?b:a.offlineThreadingId})}).then(k)};return Promise.all(a.map(b))}function m(a){if(a.type==="lastItemFromPreviousPage")return{messageId:d("MpsTypes").toMessageId(a.lastItemFromPreviousPage.offlineThreadingId),msgId:d("MAWDbMsg").toMsgId(a.lastItemFromPreviousPage.messageId),timestampMs:d("WATimeUtils").castToMillisTime((h||(h=d("I64"))).to_float(a.lastItemFromPreviousPage.primarySortKey))};a.type;return c("gkx")("15880")===!0?{messageId:null,msgId:null,timestampMs:a.timeOfSnapshotMs}:{messageId:null,msgId:null,timestampMs:d("WATimeUtils").millisTime()}}g.fetchMessagesDataForComparison=a;g.getRangeDetailsFromMessageIntegrityFromReference=m}),98);
__d("MAWMpsMessageIntegrityFetch",["MAWCurrentUser","MAWEBLSInWorkerSwitch","MAWEBSwitch","MAWMessageIntegrityFetchMessagesData","MAWMessagesDirection","MpsOverBridge","MpsTypes","WAPromiseDelays"],(function(a,b,c,d,e,f,g){"use strict";async function a(a,b,e,f){e=d("MAWMessageIntegrityFetchMessagesData").getRangeDetailsFromMessageIntegrityFromReference(e);var g=e.messageId;e=e.timestampMs;c("MAWEBSwitch").isEnabled()===!0&&await Promise.race([d("WAPromiseDelays").delayMs(1e4),await c("MAWEBLSInWorkerSwitch").waitForEBEnabled()]);b=await d("MpsOverBridge").mps().loadMessages({config:{shouldFetchSupplementals:!1,shouldIgnoreLocalOnly:!0,strategy:"full-fetch"},debug:{purpose:"integrity-check"},direction:d("MAWMessagesDirection").translateMawDirectionToMwpDirection(b),from:[e,g],numMessages:f*2,threadId:d("MpsTypes").toThreadId(a)});return b.success===!1?null:b.value.messages.map(function(a){return{externalId:a.toplevelProtobuf.messageId,isOutgoing:a.toplevelProtobuf.senderId!==d("MAWCurrentUser").getID(),msgType:"",sortOrderMs:a.toplevelProtobuf.timestampMs}})}g.mpsMessageIntegrityFetch=a}),98);
__d("MAWSecureDataSource",[],(function(a,b,c,d,e,f){"use strict";a=10;f.DEFAULT_NUM_MESSAGES=a}),66);
__d("MAWSecureLocalDBDataSource",["I64","MAWBridgeSendAndReceive","MAWDataSourceLogger","MAWDbMsg","MAWMessagesDirection","MAWMessagesPaginationUtils","MAWMiActOnActThreadReady","MAWPutMessagesToDB","MAWSecureDataSource","MAWSecureLocalDBFetch","MLV2DataSourceLogger","ReQL","WAStanzaUtils","WATagsLogger","err","isEbEnabledWithIGDEligibilityCheck","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=c("requireDeferred")("MAWEBFetch").__setRef("MAWSecureLocalDBDataSource"),n=d("WATagsLogger").TAGS(["MAWSecureLocalDBDataSource"]);function o(a){return a.msgs.map(function(a){return{externalId:a.externalId,isOptimistic:a.ack<1,isOutgoing:a.isAuthorMe,msgType:a.type_,sortOrderMs:a.sortOrderMs}})}a=function(){function a(){}var b=a.prototype;b.$1=async function(a,b,e,g,j,k,o,p,q){if(j==="after")return;j;n.LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Fetch more: ",""])),b);d("MAWDataSourceLogger").logLoadMoreMsgsThreadWaiting(o,"before",b);j=await d("MAWMiActOnActThreadReady").waitForACTThreadReady(a.tables,b,"MAWSecureLocalDBDataSource");j=j.chatJid;d("MAWDataSourceLogger").logLoadMoreMsgsThreadReadyFetchMsgs(o);d("MAWDataSourceLogger").logLoadMessagesFromLocalDBStart(o);var r=g.minMessageId,s=await d("MAWMessagesPaginationUtils").getExternalIdByMsgId(r);p=await c("MAWSecureLocalDBFetch")({actionType:p,chatJid:j,config:{admin:!0,editMsgHistory:!0,media:!0,polls:!0,reactions:!0,receiverFetch:!0,xma:!0},count:k,direction:"before",offsetMsg:{externalId:s,includeOriginalMsg:!1,messageId:r},timestampMs:e});if(p.success===!1){throw(s=p.payload)!=null?s:c("err")(p.error)}var t=p.value;d("MAWDataSourceLogger").logLoadMessagesFromLocalDBEnd(o);d("MAWDataSourceLogger").logInsertMessageResponseToLSDBStart(o);d("MAWMessagesPaginationUtils").populateExternalIdCache(t.msgs);var u=t.msgs.length>0?t.msgs[t.msgs.length-1].msgId:g.minMessageId;await a.runInTransaction(async function(b){var c;await d("MAWPutMessagesToDB").insertMessageResponseToDBInExistingTransaction(a,b,t,q,o);c=await (c=b.messages_ranges_v2__generated).get.apply(c,[g.threadKey,g.minTimestampMs,g.minMessageId]);if(c==null)return;var e=t.hasMoreBefore;t.hasMoreBefore===!1&&await d("isEbEnabledWithIGDEligibilityCheck").isEbEnabledWithIGDEligibilityCheck(a)&&(e=!0);await b.messages_ranges_v2__generated.upsert([c.threadKey,c.minTimestampMs,c.minMessageId],{hasMoreAfter:!1,hasMoreBefore:e,isLoadingAfter:!1,isLoadingBefore:!1,maxMessageId:c.maxMessageId,maxTimestampMs:c.maxTimestampMs,minMessageId:u,minTimestampMs:(l||(l=d("I64"))).zero,threadKey:g.threadKey})},"readwrite","ui",void 0,f.id+":146");d("MAWDataSourceLogger").logInsertMessageResponseToLSDBEnd(o);d("MAWDataSourceLogger").logLoadMoreMsgsFetched(o,t.hasMoreBefore);if(t.hasMoreBefore){d("MAWDataSourceLogger").logLoadMoreMsgsSuccess(o);return}r=await d("MAWBridgeSendAndReceive").sendAndReceive("backend","getMaybeNextNonAdminMsgSortOrderMs",{chatJid:j,mayBeAdminMsgId:d("MAWDbMsg").toMsgId(g.minMessageId)});d("WATagsLogger").TAGS(["labyrinth_web","useFetchSecureMessages"]).LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["useFetchSecureMessages: threadJid: "," minMsgSortOrderTsResponse ",""])),j,r.minMsgTimestampMs);d("MAWDataSourceLogger").logLoadMoreMsgsRangeQuery(o,r.minMsgTimestampMs);e=await m.load();s=await e({chatJid:j,count:k,db:a,direction:"before",timestampMs:(l||(l=d("I64"))).of_float(r.minMsgTimestampMs)});s.success&&s.value.hasMoreBefore===!1&&await a.runInTransaction(async function(c){var e=g.minTimestampMs,f=await d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.tables.messages_ranges_v2__generated).getKeyRange(b).bounds({lte:[e]}).filter(function(a){var b=a.maxTimestampMs;a=a.minTimestampMs;return(l||(l=d("I64"))).ge(e,a)&&(l||(l=d("I64"))).le(e,b)}));if(f==null)return;await c.messages_ranges_v2__generated.upsert([f.threadKey,f.minTimestampMs,f.minMessageId],babelHelpers.extends({},f,{hasMoreBefore:!1,isLoadingBefore:!1}))},"readwrite","ui",void 0,f.id+":231");d("MAWDataSourceLogger").logLoadMoreMsgsSuccess(o)};b.requestMessages=async function(a,b,e,f,g,h,i,j){a=await d("MAWMessagesPaginationUtils").getExternalIdByMsgId(f);j=await c("MAWSecureLocalDBFetch")({actionType:j,chatJid:b,config:i,count:h!=null?h:d("MAWSecureDataSource").DEFAULT_NUM_MESSAGES,direction:g,offsetMsg:f==null?null:{externalId:a,includeOriginalMsg:!1,messageId:f},timestampMs:e});if(j.success===!1){throw(b=j.payload)!=null?b:c("err")(j.error)}i=j.value;d("MAWMessagesPaginationUtils").populateExternalIdCache(i.msgs);h=i.msgs.map(function(a){return{externalId:a.externalId,isOptimistic:a.ack<1,isOutgoing:a.isAuthorMe,msgType:a.type_,sortOrderMs:a.sortOrderMs}});return{hasMoreAfter:i.hasMoreAfter,hasMoreBefore:i.hasMoreBefore,msgs:h}};b.fetchSecureMessagesProtocol=function(a,b,c,e,f,g,h,i,k){h===void 0&&(h=d("MAWSecureDataSource").DEFAULT_NUM_MESSAGES);c=d("MAWDataSourceLogger").logLoadMoreMsgsStart(c);return this.$1(a,b,e,f,g,h,c,i,k).catch(function(a){var c;n.ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Failed to fetch messages: ",""])),a);(c=d("MLV2DataSourceLogger").getMLV2LoggerForThread(b,d("MAWMessagesDirection").translateMawDirectionToMwpDirection(g)))==null||c.markQPLFailure(a)})};b.fetchMessagesByExternalId=function(a,b){a.length>2&&n.WARN(k||(k=babelHelpers.taggedTemplateLiteralLoose(["Fetching "," messages by external id, which is not optimal.\n      Consider migrating 'loadMsgsByExternalId' backend request to a batch version "])),a.length);a=a.map(function(a){return d("MAWBridgeSendAndReceive").sendAndReceive("backend","loadMsgsByExternalId",{config:b,externalId:d("WAStanzaUtils").toStanzaId(a)})});return Promise.all(a).then(function(a){return a.map(function(a){return o(a)}).flat()})};return a}();g.default=a}),98);
__d("MAWMessageIntegrityFetchAndCompareData",["MAWMessageIntegrityCompareMessagesData","MAWMessageIntegrityFetchMessagesData","MAWMiActOnActThreadReady","MAWSecureLocalDBDataSource","WAResultOrError"],(function(a,b,c,d,e,f,g){"use strict";var h=new(c("MAWSecureLocalDBDataSource"))();async function a(a){var b=a.db,c=a.fromReferencePoint,e=a.hasEbFetchFailed,f=a.localMessages,g=a.pageSize;a=a.threadKey;var i=await d("MAWMiActOnActThreadReady").waitForACTThreadReady(b.tables,a,"fetchAndCompareMessagesData");i=i.chatJid;g=await d("MAWMessageIntegrityFetchMessagesData").fetchMessagesDataForComparison(b,h,i,g,c,f);if(g.success===!1)return g;c=await d("MAWMessageIntegrityCompareMessagesData").compareMessagesData(b,h,i,a,g.value,e);return d("WAResultOrError").makeResult(c)}g.fetchAndCompareMessagesData=a}),98);
__d("MAWMessagesIntegrityEphemeralSettings",["I64","MAWGetEphemeralSettings","MAWMiActOnActThreadReady","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;async function a(a,b,c){a=await d("MAWMiActOnActThreadReady").waitForACTThreadReady(a.tables,b,"getIsEphemeralMessagesEnabledForPage");a=a.chatJid;a=await d("MAWGetEphemeralSettings").getEphemeralSetting(a,b);if(a==null||a.ephemeralLastUpdatedOrSetTimestamp===d("WATimeUtils").DEFAULT_UNIXTIME)return"disabled";return d("WATimeUtils").castUnixTimeToMillisTime(a.ephemeralLastUpdatedOrSetTimestamp)<(h||(h=d("I64"))).to_float(c)?a.ephemeralExpirationInSec>0?"enabled":"disabled":a.ephemeralExpirationInSec>0?"maybeDisabled":"maybeEnabled"}g.getEphemeralMessagesStatusForPage=a}),98);
__d("MAWMessageIntegrityCheck",["CometDebounce","DateConsts","EbFetchTimeoutMsForMLv2","I64","MAWBridgeSendAndReceive","MAWEBCombinedSwitch","MAWMessageIntegrityCheckFlytrapResultCache","MAWMessageIntegrityEBFetchStatus","MAWMessageIntegrityFetchAndCompareData","MAWMessageIntegrityTruncateStatus","MAWMessagesIntegrityEphemeralSettings","MAWMiActOnActThreadReady","WACommsConnectionState","WAPromiseDelays","WATagsLogger","WATimeUtils","gkx","justknobx","logMessengerWebFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v="11",w=1e3*60*2,x=d("WATagsLogger").TAGS(["MissingMessages"]),y=c("CometDebounce")(c("logMessengerWebFalcoEvent"));function z(a){if(a.length===0)return null;var b=0;for(a of a)b=Math.max(b,(u||(u=d("I64"))).to_float(a.primarySortKey));return d("WATimeUtils").castToMillisTime(b)}function A(a,b){a=z(a);if(a==null)return b;var d=Math.abs(a-b),e=c("justknobx")._("4843");return d<e?a:b}async function a(a,b,e,f,g,z,D,H,I,J){x.LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["run Message Integrity Check - threadKey: ",", lastItem: ",", pageSize: ",""])),(u||(u=d("I64"))).to_string(b),z==null?"null":(u||(u=d("I64"))).to_float(z.primarySortKey),g);if(d("WATimeUtils").millisTime()-I>w){x.LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Message Integrity Check skipped for threadKey: ",", lastItem: ",", reason: check was scheduled more than 2 minutes ago"])),(u||(u=d("I64"))).to_string(b),z==null?"null":(u||(u=d("I64"))).to_float(z.primarySortKey));return}var K=d("MAWEBCombinedSwitch").MAWEBCombinedSwitch.isEnabled();if(z==null&&d("WACommsConnectionState").WACommsConnectionState.isConnected()===!1&&c("gkx")("15879")===!0){x.LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Message Integrity Check skipped for threadKey: ",", lastItem: ",", reason: WACOMMS is disconnected"])),(u||(u=d("I64"))).to_string(b),z==null?"null":(u||(u=d("I64"))).to_float(z.primarySortKey));return}var L=z==null&&c("gkx")("15880")===!0;if(L){var M=c("justknobx")._("4844"),N=I+M;N=Math.min(N-d("WATimeUtils").millisTime(),M);x.LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["Message Integrity Check - threadKey "," - Latest Page - waiting ","ms"])),(u||(u=d("I64"))).to_string(b),N);await d("WAPromiseDelays").delayMs(N)}M=d("WATimeUtils").millisTime();N=c("gkx")("1626");var O=d("MAWMessageIntegrityEBFetchStatus").hasEBFailure(b),P=d("MAWMessageIntegrityTruncateStatus").getThreadThuncateState(b),Q=z!=null?{lastItemFromPreviousPage:z,type:"lastItemFromPreviousPage"}:{timeOfSnapshotMs:A(D,I),type:"latestPageSnapshot"};Q=await d("MAWMessageIntegrityFetchAndCompareData").fetchAndCompareMessagesData({db:a,fromReferencePoint:Q,hasEbFetchFailed:O,localMessages:D,pageSize:g,threadKey:b});if(Q.success===!1){x.LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["Message Integrity Check skipped for threadKey: ",", lastItem: ",", reason: ",""])),(u||(u=d("I64"))).to_string(b),z==null?"null":(u||(u=d("I64"))).to_float(z.primarySortKey),Q.error);return}g=Q.value;c("gkx")("4852")&&g.uiVsEB.detailedResults.some(function(a){a[0];a=a[1];return a==="missing_in_target"})&&J();Q=d("MAWMessageIntegrityCheckFlytrapResultCache").generateMessageIntegrityCheckPageKey(b,D);d("MAWMessageIntegrityCheckFlytrapResultCache").cacheMessageIntegrityCheckResult(Q,g.missingInTargetCategory);x.LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["Message Integrity Check result - threadKey: ",", lastItem: ",", result against backend data: ",""])),u.to_string(b),z==null?"null":(u||(u=d("I64"))).to_float(z.primarySortKey),JSON.stringify(g.uiVsMaw));x.LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["Message Integrity Check result - threadKey: ",", lastItem: ",", result against EB data: ",""])),u.to_string(b),z==null?"null":(u||(u=d("I64"))).to_float(z.primarySortKey),JSON.stringify(g.uiVsEB));x.LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["Message Integrity Check result - threadKey: ",", lastItem: ",", MPS (target) vs MAW (reference): ",""])),u.to_string(b),z==null?"null":(u||(u=d("I64"))).to_float(z.primarySortKey),JSON.stringify(g.mpsVsMaw));x.LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["Message Integrity Check result - threadKey: ",", lastItem: ",", MPS (target) vs EB (reference): ",""])),u.to_string(b),z==null?"null":(u||(u=d("I64"))).to_float(z.primarySortKey),JSON.stringify(g.mpsVsEB));x.LOG(q||(q=babelHelpers.taggedTemplateLiteralLoose(["Message Integrity Check Flytrap result - threadKey: ",", missingInTargetCategory: ",""])),u.to_string(b),JSON.stringify(g.missingInTargetCategory));x.LOG(r||(r=babelHelpers.taggedTemplateLiteralLoose(["Message Integrity Check Truncate state - threadKey: ",", state: ",""])),u.to_string(b),JSON.stringify(P));J=C(g.mawVsEB);Q=C(g.uiVsEB);var R=C(g.uiVsMaw),S=g.mpsVsMaw!=null?C(g.mpsVsMaw):{},T=g.mpsVsEB!=null?C(g.mpsVsEB):{},U=C(g.S518614_mawVsEB),V=C(g.S518614_uiVsEB),W=C(g.S518614_uiVsMaw),X=g.S518614_mpsVsMaw!=null?C(g.S518614_mpsVsMaw):{},Y=g.S518614_mpsVsEB!=null?C(g.S518614_mpsVsEB):{};D=E(D);var Z=await d("MAWMessagesIntegrityEphemeralSettings").getEphemeralMessagesStatusForPage(a,b,D);a=await F(a,b);var $=await d("WAPromiseDelays").withTimeout(G({messages:[]}).catch(function(a){x.ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Failed to get extra debug info: ",""])),a);return"error"}),1e4,function(){return"timeout"});T={MAW_vs_EB_detailedResults:J.detailedResults,MAW_vs_EB_numOfMissingInReference:J.numOfMissingInReference,MAW_vs_EB_numOfMissingInTarget:J.numOfMissingInTarget,MAW_vs_EB_numOfMissingInTargetInvalidSortOrder:J.numOfMissingInTargetInvalidSortOrder,MAW_vs_EB_setNumOfMissingInReference:J.setDifferenceInReference,MAW_vs_EB_setNumOfMissingInTarget:J.setDifferenceInTarget,MPS_vs_EB_detailedResults:(J=T.detailedResults)!=null?J:"",MPS_vs_EB_numOfMissingInReference:(J=T.numOfMissingInReference)!=null?J:"",MPS_vs_EB_numOfMissingInTarget:(J=T.numOfMissingInTarget)!=null?J:"",MPS_vs_MAW_detailedResults:(T=S.detailedResults)!=null?T:"",MPS_vs_MAW_numOfMissingInReference:(J=S.numOfMissingInReference)!=null?J:"",MPS_vs_MAW_numOfMissingInTarget:(T=S.numOfMissingInTarget)!=null?T:"",S518614_MAW_vs_EB_detailedResults:(J=U.detailedResults)!=null?J:"",S518614_MPS_vs_EB_detailedResults:(S=Y.detailedResults)!=null?S:"",S518614_MPS_vs_MAW_detailedResults:(T=X.detailedResults)!=null?T:"",S518614_pageSize:g.S518614_pageSize.toString(),S518614_UI_vs_EB_detailedResults:(U=V.detailedResults)!=null?U:"",S518614_UI_vs_MAW_detailedResults:(J=W.detailedResults)!=null?J:"",S518614_wouldHaveThrown:B(g.S518614_wouldHaveThrown),UI_vs_EB_detailedResults:Q.detailedResults,UI_vs_EB_numOfMissingInReference:Q.numOfMissingInReference,UI_vs_EB_numOfMissingInTarget:Q.numOfMissingInTarget,UI_vs_EB_setNumOfMissingInReference:Q.setDifferenceInReference,UI_vs_EB_setNumOfMissingInTarget:Q.setDifferenceInTarget,UI_vs_MAW_detailedResults:R.detailedResults,UI_vs_MAW_numOfMissingInReference:R.numOfMissingInReference,UI_vs_MAW_numOfMissingInTarget:R.numOfMissingInTarget,UI_vs_MAW_setNumOfMissingInReference:R.setDifferenceInReference,UI_vs_MAW_setNumOfMissingInTarget:R.setDifferenceInTarget,ebMetadataCacheStatus:a,ebTimeoutSec:(c("EbFetchTimeoutMsForMLv2")()/d("DateConsts").MS_PER_SEC).toString(),endRangeTimestampMs:u.to_string(D),ephemeralMessagesStatus:Z+"",extraDebugInfo:$,hasAdditionalData:B(N),hasEBFetchFailed:B(O),integrityCheckScheduleTimestampMs:I.toString(),isDogfooding:B(c("gkx")("2972")),isEbEnabled:B(K),isEbGraphQL:K?"false":B(c("gkx")("7083")),isHoldout_H2_2025:B(c("gkx")("15728")),isJidOptimisationInRestoreEnabled:B(c("gkx")("3137")),isMpsEnabled:"true",isUsePageTimeForLatestPage:B(L),isUsingLsInitCache:B(c("gkx")("15958")),lastItemExternalId:(Y=z==null?void 0:z.offlineThreadingId)!=null?Y:"null",lastItemTimestamp:u.to_string((S=z==null?void 0:z.primarySortKey)!=null?S:(u||(u=d("I64"))).zero),missingInTargetCategory:JSON.stringify(g.missingInTargetCategory),pageIndex:H+"",pageSize:g.pageSize+"",reportTimeMs:M.toString(),truncateState:(X=JSON.stringify(P))!=null?X:"null",version:K?v:"0",waCommsIsConnected:B(d("WACommsConnectionState").WACommsConnectionState.isConnected())};c("gkx")("970")&&x.DEV(t||(t=babelHelpers.taggedTemplateLiteralLoose(["Message Integrity Check - Falco Report"]))).devConsole({falcoReport:T});y({threadKey:b,threadType:e},"message_integrity_check",f,T)}function B(a){return a===!0?"true":"false"}function C(a){var b=0,c=0,d=0;a.detailedResults.forEach(function(a){a[0];a=a[1];switch(a.result){case"missing_in_target":case"missing_in_target_exists_in_lsdb":b+=1;break;case"missing_in_target_invalid_sortOrder":c+=1;b+=1;break;case"missing_in_reference":d+=1;break;case"consistent":case"skipped_in_target":case"skipped_in_reference":break;default:a.result}});return{detailedResults:D(a.detailedResults),numOfMissingInReference:d+"",numOfMissingInTarget:b+"",numOfMissingInTargetInvalidSortOrder:c+"",setDifferenceInReference:a.setDifferenceInReference+"",setDifferenceInTarget:a.setDifferenceInTarget+""}}function D(a){a=a.map(function(a){var b=a[0];a=a[1];var d=a.existingInUISamePage,e=a.result,f=a.sortOrderSkewMs;a=a.sortOrderSkewNumberOfMsg;return babelHelpers.extends({existingInUISamePage:d,externalId:b.externalId,isOutgoing:b.isOutgoing},c("gkx")("1626")?{msgType:b.msgType,sortOrderMs:b.sortOrderMs}:{},{result:e,sortOrderSkewMs:f!=null?f:0,sortOrderSkewNumberOfMsg:a!=null?a:0})});return JSON.stringify(a)}function E(a){return a.length===0?(u||(u=d("I64"))).min_int:a.map(function(a){return a.timestampMs}).sort((u||(u=d("I64"))).compare)[0]}async function F(a,b){a=await d("MAWMiActOnActThreadReady").waitForACTThreadReady(a.tables,b,"fetchAndCompareMessagesData");b=a.chatJid;a=await d("MAWBridgeSendAndReceive").sendAndReceive("backend","getEBMetadataCacheDetailsForThread",{chatJid:b});return JSON.stringify(a)}async function G(a){a={browser:{loadEventEnd:window.performance.timing.loadEventEnd,navigationStart:window.performance.timing.navigationStart},worker:await d("MAWBridgeSendAndReceive").sendAndReceive("backend","getWorkerBasedMessageIntegrityDebugInfo",a)};return JSON.stringify(a)}b={runMessageIntegrityCheck:a};g.default=b}),98);
__d("MWCMCreateSubthreadMenuItem.react",["I64","Int64Hooks","LsFalcoEventEntryPoint","MWXMenuItem.react","SubthreadCreationStrings.react","react","react-compiler-runtime","requireDeferred","useMWCMCreateSubthread","useOpenSubthreadView"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react"),k=c("requireDeferred")("LsMessageActionFalcoEvent").__setRef("MWCMCreateSubthreadMenuItem.react");function a(a){var b=d("react-compiler-runtime").c(12),e=a.message;a=c("useMWCMCreateSubthread")(e);var f=a[0];a=a[1];var g=c("useOpenSubthreadView")(),h=e.subthreadKey,l,m;b[0]!==e.messageId||b[1]!==e.threadKey||b[2]!==f||b[3]!==g||b[4]!==h?(l=function(){k.onReady(function(a){return a.log(function(){var a={};return{action:{container_module:"MWCMCreateSubthreadMenuItem",type:h!=null?105:104},error:{message:void 0},extra:a,message:{attachment_type:"",entry_point:d("LsFalcoEventEntryPoint").messageActions,id:e.messageId,recipient_id:void 0},thread:{group_size:(i||(i=d("I64"))).to_string(i.zero),id:i.to_string(e.threadKey),type:18}}})}),h!=null?g(h):f()},m=[e.messageId,e.threadKey,f,g,h],b[0]=e.messageId,b[1]=e.threadKey,b[2]=f,b[3]=g,b[4]=h,b[5]=l,b[6]=m):(l=b[5],m=b[6]);l=d("Int64Hooks").useCallbackInt64(l,m);m=h!=null?d("SubthreadCreationStrings.react").viewSubthreadLabel:d("SubthreadCreationStrings.react").createSubthreadLabel;var n=h!=null?d("SubthreadCreationStrings.react").viewSubthreadLabel:d("SubthreadCreationStrings.react").createSubthreadLabel,o;b[7]!==a||b[8]!==l||b[9]!==m||b[10]!==n?(o=j.jsx(c("MWXMenuItem.react"),{"aria-label":m,disabled:a,onClick:l,primaryText:n}),b[7]=a,b[8]=l,b[9]=m,b[10]=n,b[11]=o):o=b[11];return o}g["default"]=a}),98);
__d("MWChatAudioLog",["AudioClipsBrowserBlockMicAccessFalcoEvent","AudioClipsCancelledByUserFalcoEvent","AudioClipsDialogNotnowMicAccessFalcoEvent","AudioClipsDialogOkMicAccessFalcoEvent","AudioClipsMicAccessCheckFailedFalcoEvent","AudioClipsPlaybackPauseFalcoEvent","AudioClipsPlaybackResumeFalcoEvent","AudioClipsPlaybackStartFalcoEvent","AudioClipsStartRecordingClickFalcoEvent","AudioClipsStopRecordingClickFalcoEvent","I64","Ls1lcFeatureOpenFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){c("AudioClipsStopRecordingClickFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:(h||(h=d("I64"))).to_string(h.of_float(a)),entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:"true",position:void 0,rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}function b(){c("AudioClipsStartRecordingClickFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:void 0,entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:void 0,rtc_call_type:void 0,source_click_category:2,with_captions:void 0}}),c("Ls1lcFeatureOpenFalcoEvent").log(function(){return{extra:void 0,feature:13,feature_sessionid:void 0,screen_orientation:void 0,stage:7,thread:void 0}})}function e(){c("AudioClipsCancelledByUserFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:void 0,entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:void 0,rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}function f(){c("AudioClipsBrowserBlockMicAccessFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:void 0,entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:void 0,rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}function i(a){c("AudioClipsPlaybackStartFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:(h||(h=d("I64"))).to_string(h.of_float(a)),entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:void 0,rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}function j(a,b){c("AudioClipsPlaybackPauseFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:(h||(h=d("I64"))).to_string(h.of_float(a)),entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:h.to_string(h.of_float(b)),rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}function k(a,b){c("AudioClipsPlaybackResumeFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:(h||(h=d("I64"))).to_string(h.of_float(a)),entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:h.to_string(h.of_float(b)),rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}function l(){c("AudioClipsDialogOkMicAccessFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:void 0,entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:void 0,rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}function m(){c("AudioClipsDialogNotnowMicAccessFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:void 0,entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:void 0,rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}function n(){c("AudioClipsMicAccessCheckFailedFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:void 0,entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:void 0,rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}g.logClickStopRecording=a;g.logClickStartRecording=b;g.logDeleteRecording=e;g.logBrowserDenyAccess=f;g.logPlaybackStart=i;g.logPlaybackPause=j;g.logPlaybackResume=k;g.logDialogOk=l;g.logDialogNotNow=m;g.logMicAccessCheckFailed=n}),98);
__d("useMWChatPromptSuggestions",["fbt","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i;(i||d("react")).useMemo;var j=[h._(/*BTDS*/"How did you learn about this channel?"),h._(/*BTDS*/"What should I use this channel for?"),h._(/*BTDS*/"What song are you listening to?"),h._(/*BTDS*/"Make me laugh \ud83d\udc80"),h._(/*BTDS*/"Favorite thing right now \ud83d\udc98"),h._(/*BTDS*/"Favorite travel destination \u2708\ufe0f"),h._(/*BTDS*/"Your happy place \u2763\ufe0f"),h._(/*BTDS*/"Best part of 2024 so far?"),h._(/*BTDS*/"Something you're proud of \ud83d\udc9f"),h._(/*BTDS*/"Ten years ago, I was..."),h._(/*BTDS*/"What are you grateful for today? \ud83e\udef6"),h._(/*BTDS*/"What would your dream job be if money didn't matter?"),h._(/*BTDS*/"What's inspiring you right now? \ud83c\udf1f"),h._(/*BTDS*/"What's something unique about yourself?"),h._(/*BTDS*/"A movie you enjoyed recently \ud83c\udfa5"),h._(/*BTDS*/"Health is wealth \ud83d\udcaa\ud83e\udd57"),h._(/*BTDS*/"The last concert you went to \ud83d\udc69\u200d\ud83c\udfa4"),h._(/*BTDS*/"Today I learned..."),h._(/*BTDS*/"What are you doing tonight?")];function k(a){a=a.slice();for(var b=a.length-1;b>=0;b--){var c=Math.floor(Math.random()*(b+1)),d=a[b];a[b]=a[c];a[c]=d}return a}function a(){var a=d("react-compiler-runtime").c(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=k(j),a[0]=b):b=a[0];a=b;return a}g["default"]=a}),226);
__d("MWChatPromptFlyoutSuggestions.react",["FocusGroup.react","MWXPressable.react","MWXScrollableArea.react","MWXText.react","focusScopeQueries","react","react-compiler-runtime","useMWChatPromptSuggestions"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={pressable:{borderStartStartRadius:"x6nl9eh",borderStartEndRadius:"x1a5l9x9",borderEndEndRadius:"x7vuprf",borderEndStartRadius:"x1mg3h75",marginTop:"xw7yly9",marginBottom:"x1yztbdb",marginInlineStart:"x13fj5qh",marginInlineEnd:"x1xegmmw",marginLeft:null,marginRight:null,$$css:!0},scrollArea:{maxWidth:"x193iq5w",$$css:!0}};function k(a){var b=d("react-compiler-runtime").c(6),e=a.onPress;a=a.text;var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"x6s0dn4 xx7qk4p x6nl9eh x1a5l9x9 x7vuprf x1mg3h75 xwflfxt x78zum5 x2lah0s x1vqgdyp xl56j7k x1kbpmyu x1y1aw1k xf159sx xwib8y2 xmzvs34 x2b8uid"},b[0]=f):f=b[0];b[1]!==a?(f=i.jsx("div",babelHelpers["extends"]({},f,{children:i.jsx(c("MWXText.react"),{color:"secondary",numberOfLines:2,type:"body4",children:a})})),b[1]=a,b[2]=f):f=b[2];b[3]!==e||b[4]!==f?(a=i.jsx(c("MWXPressable.react"),{onPress:e,overlayRadius:"inherit",xstyle:j.pressable,children:f}),b[3]=e,b[4]=f,b[5]=a):a=b[5];return a}b=d("FocusGroup.react").createFocusGroup(d("focusScopeQueries").tabbableScopeQuery);var l=b[0],m=b[1];function a(a){var b=d("react-compiler-runtime").c(11),e=a.onPressSuggestion;a=c("useMWChatPromptSuggestions")();var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=i.jsx("div",{className:"x2lah0s x1xc55vz"}),b[0]=f):f=b[0];if(b[1]!==e||b[2]!==a){var g;b[4]!==e?(g=function(a,b){return i.jsx(m,{children:i.jsx(k,{onPress:function(){return e(a)},text:a})},b)},b[4]=e,b[5]=g):g=b[5];g=a.map(g);b[1]=e;b[2]=a;b[3]=g}else g=b[3];b[6]!==g?(a=i.jsx(l,{orientation:"horizontal",tabScopeQuery:d("focusScopeQueries").tabbableScopeQuery,wrap:!0,children:g}),b[6]=g,b[7]=a):a=b[7];b[8]===Symbol["for"]("react.memo_cache_sentinel")?(g=i.jsx("div",{className:"x2lah0s x1xc55vz"}),b[8]=g):g=b[8];b[9]!==a?(f=i.jsxs(c("MWXScrollableArea.react"),{horizontal:!0,vertical:!1,xstyle:j.scrollArea,children:[f,a,g]}),b[9]=a,b[10]=f):f=b[10];return f}g["default"]=a}),98);
__d("MWChatPromptDialog.react",["fbt","FBLogger","FocusRegion.react","I64","MWChatPromptFlyoutFrontCard.react","MWChatPromptFlyoutSuggestions.react","MWPromptCreationUtils","MWXDialog.react","MWXDialogFooter.react","MWXDialogHeader.react","MWXText.react","MessengerDiscoverableBroadcastChatsClientEventsFalcoEvent","RollCallPromptType","react","react-compiler-runtime","useMWXPushToast","useReStore","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l;b=l||d("react");var m=i||(i=c("react"));b.useCallback;var n=b.useState;function a(a){var b=d("react-compiler-runtime").c(44),e=a.onClose,f=a.threadKey,g=(k||(k=c("useReStore")))(),i=c("useMWXPushToast")();a=n("");var l=a[0],p=a[1];a=n(!1);var q=a[0],r=a[1];b[0]!==e||b[1]!==f?(a=function(){e(),c("MessengerDiscoverableBroadcastChatsClientEventsFalcoEvent").log(function(){return{action_name:1,event_name:303,source:156,surface:7,thread_id:(j||(j=d("I64"))).to_string(f)}})},b[0]=e,b[1]=f,b[2]=a):a=b[2];var s=a;b[3]!==g||b[4]!==s||b[5]!==l||b[6]!==i||b[7]!==f?(a=function(){(async function(){r(!0),await d("MWPromptCreationUtils").createAuthoritiativeRollCall(g,f,l,c("RollCallPromptType").TEXT),s()})().catch(function(a){r(!1),c("FBLogger")("messenger_web").catching(a).mustfix("Creating prompt"),i({body:h._(/*BTDS*/"Could not create prompt")})}),c("MessengerDiscoverableBroadcastChatsClientEventsFalcoEvent").log(function(){return{action_name:1,event_name:304,source:17,surface:101,thread_id:(j||(j=d("I64"))).to_string(f)}})},b[3]=g,b[4]=s,b[5]=l,b[6]=i,b[7]=f,b[8]=a):a=b[8];a=a;var t;b[9]===Symbol.for("react.memo_cache_sentinel")?(t=function(a){p(a.toString())},b[9]=t):t=b[9];t=t;var u=o,v;b[10]!==f?(v={onImpressionStart:function(){c("MessengerDiscoverableBroadcastChatsClientEventsFalcoEvent").log(function(){return{action_name:2,event_name:301,source:156,surface:7,thread_id:(j||(j=d("I64"))).to_string(f)}})}},b[10]=f,b[11]=v):v=b[11];v=c("useSinglePartialViewImpression")(v);var w;b[12]!==q||b[13]!==l?(w=q||l.trim()==="",b[12]=q,b[13]=l,b[14]=w):w=b[14];b[15]===Symbol.for("react.memo_cache_sentinel")?(q=h._(/*BTDS*/"Send"),b[15]=q):q=b[15];b[16]!==a||b[17]!==w?(q={disabled:w,label:q,onPress:a},b[16]=a,b[17]=w,b[18]=q):q=b[18];b[19]===Symbol.for("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"Cancel"),b[19]=a):a=b[19];b[20]!==s?(w={label:a,onPress:s},b[20]=s,b[21]=w):w=b[21];b[22]!==q||b[23]!==w?(a=m.jsx(c("MWXDialogFooter.react"),{callToActionGroupDirection:"backward",primaryCallToAction:q,secondaryCallToAction:w}),b[22]=q,b[23]=w,b[24]=a):a=b[24];b[25]===Symbol.for("react.memo_cache_sentinel")?(q=h._(/*BTDS*/"New prompt"),b[25]=q):q=b[25];b[26]!==s?(w=m.jsx(c("MWXDialogHeader.react"),{onClose:s,title:q,withCloseButton:!0}),b[26]=s,b[27]=w):w=b[27];b[28]===Symbol.for("react.memo_cache_sentinel")?(q={className:"x6s0dn4 x9f619 x78zum5 xdt5ytf"},b[28]=q):q=b[28];var x;b[29]===Symbol.for("react.memo_cache_sentinel")?(x={className:"x1y1aw1k x1n2onr6"},b[29]=x):x=b[29];var y;b[30]===Symbol.for("react.memo_cache_sentinel")?(y=function(a){p(a.target.value)},b[30]=y):y=b[30];b[31]!==l?(x=m.jsx("div",babelHelpers.extends({},x,{children:m.jsx(c("MWChatPromptFlyoutFrontCard.react"),{maxLength:75,onChange:y,showFacepile:!1,value:l})})),b[31]=l,b[32]=x):x=b[32];b[33]===Symbol.for("react.memo_cache_sentinel")?(y=m.jsx(c("MWChatPromptFlyoutSuggestions.react"),{onPressSuggestion:t}),t={className:"xyamay9 x2b8uid"},b[33]=y,b[34]=t):(y=b[33],t=b[34]);b[35]===Symbol.for("react.memo_cache_sentinel")?(t=m.jsx("div",babelHelpers.extends({},t,{children:m.jsx(c("MWXText.react"),{type:"meta4",children:h._(/*BTDS*/"Members can respond with text for 24 hours.")})})),b[35]=t):t=b[35];b[36]!==v||b[37]!==x?(u=m.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:u,children:m.jsxs("div",babelHelpers.extends({},q,{ref:v,children:[x,y,t]}))}),b[36]=v,b[37]=x,b[38]=u):u=b[38];b[39]!==s||b[40]!==a||b[41]!==w||b[42]!==u?(q=m.jsx(c("MWXDialog.react"),{footer:a,header:w,onClose:s,size:"small",children:u}),b[39]=s,b[40]=a,b[41]=w,b[42]=u,b[43]=q):q=b[43];return q}function o(a){return a==="textarea"}g.default=a}),226);
__d("NewPollSubmitErrorFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5500");b=d("FalcoLoggerInternal").create("new_poll_submit_error",a);e=b;g["default"]=e}),98);
__d("NewPollSubmitSuccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5501");b=d("FalcoLoggerInternal").create("new_poll_submit_success",a);e=b;g["default"]=e}),98);
__d("OpenExistingPollFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5502");b=d("FalcoLoggerInternal").create("open_existing_poll",a);e=b;g["default"]=e}),98);
__d("ShowVotersFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5503");b=d("FalcoLoggerInternal").create("show_voters",a);e=b;g["default"]=e}),98);
__d("StartNewPollFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5504");b=d("FalcoLoggerInternal").create("start_new_poll",a);e=b;g["default"]=e}),98);
__d("SubmitExistingPollFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5505");b=d("FalcoLoggerInternal").create("submit_existing_poll",a);e=b;g["default"]=e}),98);
__d("SubmitNewPollFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5506");b=d("FalcoLoggerInternal").create("submit_new_poll",a);e=b;g["default"]=e}),98);
__d("MWGroupPollLogger",["ChangeVoteFalcoEvent","ExistingPollSubmitErrorFalcoEvent","ExistingPollSubmitSuccessFalcoEvent","NewPollSubmitErrorFalcoEvent","NewPollSubmitSuccessFalcoEvent","OpenExistingPollFalcoEvent","ShowVotersFalcoEvent","StartNewPollFalcoEvent","SubmitExistingPollFalcoEvent","SubmitNewPollFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){switch(a){case"start_new_poll":c("StartNewPollFalcoEvent").log(function(){return b});break;case"submit_new_poll":c("SubmitNewPollFalcoEvent").log(function(){return b});break;case"open_existing_poll":c("OpenExistingPollFalcoEvent").log(function(){return b});break;case"submit_existing_poll":c("SubmitExistingPollFalcoEvent").log(function(){return b});break;case"change_vote":c("ChangeVoteFalcoEvent").log(function(){return b});break;case"show_voters":c("ShowVotersFalcoEvent").log(function(){return b});break;case"existing_poll_submit_error":c("ExistingPollSubmitErrorFalcoEvent").log(function(){return b});break;case"existing_poll_submit_success":c("ExistingPollSubmitSuccessFalcoEvent").log(function(){return b});break;case"new_poll_submit_error":c("NewPollSubmitErrorFalcoEvent").log(function(){return b});break;case"new_poll_submit_success":c("NewPollSubmitSuccessFalcoEvent").log(function(){return b});break}}g.log=a}),98);
__d("MWOpenMediaManagerUtils",["fbt","I64","LSFactory","LSGenerateTraceId","LSIntEnum","LSMarkSubJobCompletedV2StoredProcedure","MWConsole","MWPComposerMediaUploadUtil","MWPOpenComposerUtils","ReQL","cr:6057","emptyFunction","gkx","justknobx","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;function a(a){b("cr:6057").preload();if(c("gkx")("3918"))return Promise.all(a.map(function(a){var b=a[0];a=a[1];if(b.type==="application/zip")return Promise.reject("invalid file type");b={file:b,offlineAttachmentId:a};return Promise.resolve(b)}));else return Promise.resolve(a.map(function(a){var b=a[0];a=a[1];return{file:b,offlineAttachmentId:a}}))}function e(a,b,e,g,j,l,m,n,o,p,q){j===void 0&&(j=c("emptyFunction"));l===void 0&&(l=c("emptyFunction"));m===void 0&&(m=c("emptyFunction"));var r=function(b,e){e=e.event;if(!e.lengthComputable)return;var g=e.loaded/e.total;c("promiseDone")(a.runInTransaction(function(a){return d("MWPOpenComposerUtils").updateMediaStaging(a,b,function(a){return babelHelpers.extends({},a,{progress:g})})},"readwrite",void 0,void 0,f.id+":95"))},s=function(j,n){if(n==null||n.length===0){var o="";if(!c("justknobx")._("899"))return;c("promiseDone")(a.runInTransaction(function(a){return d("MWPOpenComposerUtils").deleteMediaStaging(a,j).then(function(){return k(a,j)}).then(function(){var a=e.find(function(a){return a.offlineAttachmentId===j});a!=null&&a.file.type==="application/zip"?(g(h._(/*BTDS*/"_j[\"Invalid file format\",\"f90fb65f92ad8ac33f140b8be3c9eed1\",1]"),h._(/*BTDS*/"The file you have selected is not a valid format.")),o="null_fbid_invalid_file_format"):(g(h._(/*BTDS*/"Upload failed")),o="null_fbid_other")})},"readwrite",void 0,void 0,f.id+":118"),function(){return m(o,j)});return}c("promiseDone")(a.runInTransaction(function(a){var e=d("MWPOpenComposerUtils").updateMediaStaging(a,j,function(a){return babelHelpers.extends({},a,{fbid:(i||(i=d("I64"))).of_string(n),progress:1})}),f=a.media_send_jobs.get(j).then(function(e){if(e==null)return Promise.resolve();var f=c("LSFactory")(a),g=e.offlineThreadingId,h=e.offlineAttachmentId;return c("LSMarkSubJobCompletedV2StoredProcedure")(f,{fbid:(i||(i=d("I64"))).of_string(n),offlineAttachmentId:j}).then(function(){return d("MWPOpenComposerUtils").deleteMediaStaging(a,j)}).then(function(){return d("MWPOpenComposerUtils").updateAttachment(a,b,g,h,function(a){return babelHelpers.extends({},a,{attachmentFbid:n.toString()})})}).then(function(){return d("MWPOpenComposerUtils").resumeSendJob(f,g,c("LSGenerateTraceId")())})});return Promise.all([e,f])},"readwrite",void 0,void 0,f.id+":157"),function(){return l(j)})},t=function(b,e){c("promiseDone")(a.runInTransaction(function(a){return d("MWPOpenComposerUtils").updateMediaStaging(a,b,function(a){return babelHelpers.extends({},a,{hasError:!0})}).then(function(){return k(a,b)})},"readwrite",void 0,void 0,f.id+":210"),function(){var a;m((a=e.response.getErrorDescriptionString())!=null?a:"unknown_upload_failure",b)})};if(c("gkx")("3918")&&e.length===0)return Promise.resolve();var u=e.map(function(a){return a.offlineAttachmentId}),v=e.map(function(a){return a.file});return d("MWPComposerMediaUploadUtil").startUpload(j,r,s,t,void 0,v,u,n,o,void 0,p,q)}async function k(a,b){b=await a.media_send_jobs.get(b);if(b==null)return;b=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages.index("optimistic")).getKeyRange(b.offlineThreadingId));if(b==null)return;b=babelHelpers.extends({},b,{sendStatusV2:(j||(j=d("LSIntEnum"))).ofNumber(4)});await a.messages.put(b)}g.preprocess=a;g.upload=e}),226);
__d("MWPinnedMessagesDialogNUXFactoryRequireNUX.react",["nux:345"],(function(a,b,c,d,e,f,g){"use strict";a=function(){var a;return(a=b("nux:345"))==null?void 0:a("WEB_MSGR_PINNED_MESSAGES_NUX")};c=a;g["default"]=c}),98);
__d("useMAWToggleSecurePinMessage",["I64","LSFactory","LSOptimisticSetOrUnsetPinnedMessageStoredProcedure","LSPinnedMessageState","MWPBumpEntityKey","MessengerWebUXLogger","ReQL","ServerTime","react","useAsyncReStore","useMWPIsMessagePinned"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useCallback;function a(a,b){var e=c("useAsyncReStore")(),g=c("useMWPIsMessagePinned")(a),h=a.offlineThreadingId,k=a.threadKey,l=d("ServerTime").getMillis(),m=c("MessengerWebUXLogger").useInteractionLogger();a=async function(){var a=await e,j=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads,["threadType"]).getKeyRange(k));await a.runInTransaction(function(a){var e=g?c("LSPinnedMessageState").NOT_PINNED:c("LSPinnedMessageState").PINNED,f=g?"unpin_message":"pin_message",n=g?"unpin":"pin";b==="message_dot_menu"?m==null||m({eventName:f,threadKey:k,threadType:j==null?void 0:j.threadType}):n==="unpin"&&b==="pinned_message_list_dot_menu"&&d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_pinned_messages","unpin");return c("LSOptimisticSetOrUnsetPinnedMessageStoredProcedure")(c("LSFactory")(a),{offlineThreadingId:h,state:(i||(i=d("I64"))).of_int32(e),threadKey:k,timestampMs:i.of_int32(l)})},"readwrite",void 0,void 0,f.id+":51")};return j(a,[e,g,k,l,h,b,m])}g.default=a}),98);
__d("useMWPinnedMessageLimitReached",["ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i=50;function a(a){var b=d("react-compiler-runtime").c(12),e=(h||(h=c("useReStore")))(),g;b[0]!==e.tables.msg_pinned_messages_v2||b[1]!==a?(g=function(){return d("ReQL").fromTableAscending(e.tables.msg_pinned_messages_v2).getKeyRange(a)},b[0]=e.tables.msg_pinned_messages_v2,b[1]=a,b[2]=g):g=b[2];var j;b[3]!==e||b[4]!==a?(j=[e,a],b[3]=e,b[4]=a,b[5]=j):j=b[5];g=d("ReQLSuspense").useArray(g,j,f.id+":27").length;b[6]!==e.tables.client_web_pinned_messages||b[7]!==a?(j=function(){return d("ReQL").fromTableAscending(e.tables.client_web_pinned_messages).getKeyRange(a)},b[6]=e.tables.client_web_pinned_messages,b[7]=a,b[8]=j):j=b[8];var k;b[9]!==e||b[10]!==a?(k=[e,a],b[9]=e,b[10]=a,b[11]=k):k=b[11];b=d("ReQLSuspense").useArray(j,k,f.id+":35").length;return g>=i||b>=i}g["default"]=a}),98);
__d("useMWTogglePinMessage",["I64","LSFactory","LSOptimisticSetPinnedMessageStoredProcedure","LSPinnedMessageState","MWPActor.react","MWPBumpEntityKey","MessengerWebUXLogger","ReQL","ServerTime","promiseDone","react","requireDeferred","useAsyncReStore","useMWPIsMessagePinned"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useCallback,k=c("requireDeferred")("MWLogMessageAction").__setRef("useMWTogglePinMessage");function a(a,b){var e=c("useAsyncReStore")(),g=c("useMWPIsMessagePinned")(a),h=a.messageId,l=a.senderId,m=a.threadKey,n=d("ServerTime").getMillis(),o=d("MWPActor.react").useActor(),p=c("MessengerWebUXLogger").useInteractionLogger();a=async function(){var a=await e,j=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads,["threadType"]).getKeyRange(m));await a.runInTransaction(function(e){var f=g?c("LSPinnedMessageState").NOT_PINNED:c("LSPinnedMessageState").PINNED,q=g?"unpin_message":"pin_message",r=g?"unpin":"pin";b==="message_dot_menu"?(k.onReady(function(d){return c("promiseDone")(d.log(a,h,m,b,r,void 0,void 0,void 0,l,void 0,o))}),p==null||p({eventName:q,threadKey:m,threadType:j==null?void 0:j.threadType})):r==="unpin"&&b==="pinned_message_list_dot_menu"&&d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_pinned_messages","unpin");return c("LSOptimisticSetPinnedMessageStoredProcedure")(c("LSFactory")(e),{messageId:h,pinnedTimestampMs:(i||(i=d("I64"))).of_int32(n),state:i.of_int32(f),threadKey:m})},"readwrite",void 0,void 0,f.id+":58")};return j(a,[o,e,g,m,n,b,h,l,p])}g.default=a}),98);
__d("MWPinMessageMenuItem.react",["fbt","JSResourceForInteraction","LSMessagingThreadTypeUtil","MWLSThread","MWPinnedMessagesDialogNUXFactoryRequireNUX.react","MWXMenuItem.react","promiseDone","react","useMAWToggleSecurePinMessage","useMWPIsMessagePinned","useMWPinnedMessageLimitReached","useMWTogglePinMessage","useMWXLazyDialog","useSharedNUX"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=c("JSResourceForInteraction")("MWPinnedMessageLimitReachedDialog.react").__setRef("MWPinMessageMenuItem.react");function a(a){var b=a.message,e=a.onClick,f=a.onPinCompleted,g=h._(/*BTDS*/"Pin"),i=h._(/*BTDS*/"Unpin"),l=c("useMWPIsMessagePinned")(b),m=c("MWPinnedMessagesDialogNUXFactoryRequireNUX.react")();a=c("useMWXLazyDialog")(k);var n=a[0];a=d("MWLSThread").useThread(b.threadKey);a=a!=null&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(a==null?void 0:a.threadType);var o=c("useMWTogglePinMessage")(b,"message_dot_menu"),p=c("useMAWToggleSecurePinMessage")(b,"message_dot_menu"),q=a?p:o,r=c("useMWPinnedMessageLimitReached")(b.threadKey);a=c("useSharedNUX")("WEB_MSGR_PINNED_MESSAGES_NUX");var s=a[0];p=function(a){return m!=null?m({children:a,dialogProps:{onClose:function(){},pinMessageHandler:function(){return c("promiseDone")(q(),f)}}}):j.jsx(j.Fragment,{children:a(function(){return c("promiseDone")(q(),f)})})};o=function(a){return j.jsx(c("MWXMenuItem.react"),{"aria-haspopup":!l&&s?"dialog":void 0,onClick:function(d){if(r&&!l)return n({threadKey:b.threadKey},function(){});!l?a():c("promiseDone")(q());e&&e(l)},primaryText:l?i:g})};return p(o)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWPinnedMessagesDialogNUXFactory.react",["JSResourceForInteraction","MWInboxPersistedUIState","declareNUXRequireable","react","useMWXLazyDialog","useSharedNUX"],(function(a,b,c,d,e,f,g){"use strict";var h;h||(h=d("react"));b=h;var i=b.useCallback,j=b.useMemo,k=c("JSResourceForInteraction")("MWPinnedMessagesDialogNUX.react").__setRef("MWPinnedMessagesDialogNUXFactory.react");function a(a){function b(b){var e=b.children,f=b.dialogProps;b=c("useSharedNUX")(a);var g=b[0],h=b[1];b=d("MWInboxPersistedUIState").usePersistedUIState(void 0,"__MWSimpleNux."+a+"__");b[0];var l=b[1],m=i(function(){l(void 0),h.onDismiss()},[h,l]),n=j(function(){return{onDismiss:m,pinMessageHandler:f.pinMessageHandler}},[f,m]);b=c("useMWXLazyDialog")(k);var o=b[0];b=function(){return o(n)};return g?e(b):e(f.pinMessageHandler)}b.displayName=b.name+" [from "+f.id+"]";return b}e=c("declareNUXRequireable")(a);g["default"]=e}),98);
__d("MWV2ChatHotlikeSoundsConfig",["bx"],(function(a,b,c,d,e,f,g){"use strict";b=(a=c("bx")).getURL(a("273031"));d=a.getURL(a("273032"));e=a.getURL(a("273039"));f=a.getURL(a("273040"));c=a.getURL(a("273033"));var h=a.getURL(a("273034")),i=a.getURL(a("273035")),j=a.getURL(a("273036")),k=a.getURL(a("273037"));a=a.getURL(a("273038"));g.hotlikeGrowMp3Url=b;g.hotlikeGrowOggUrl=d;g.hotlikePopMp3Url=e;g.hotlikePopOggUrl=f;g.hotlikeOutgoingLargeMp3Url=c;g.hotlikeOutgoingLargeOggUrl=h;g.hotlikeOutgoingMediumMp3Url=i;g.hotlikeOutgoingMediumOggUrl=j;g.hotlikeOutgoingSmallMp3Url=k;g.hotlikeOutgoingSmallOggUrl=a}),98);
__d("MWV2ChatHotlikeSounds",["LSHotEmojiSize","MWChatSettingsQuery","MWV2ChatHotlikeSoundsConfig","Sound"],(function(a,b,c,d,e,f,g){"use strict";var h=[(f=d("MWV2ChatHotlikeSoundsConfig")).hotlikeGrowMp3Url,f.hotlikeGrowOggUrl],i=[f.hotlikePopMp3Url,f.hotlikePopOggUrl],j=[f.hotlikeOutgoingSmallMp3Url,f.hotlikeOutgoingSmallOggUrl],k=[f.hotlikeOutgoingMediumMp3Url,f.hotlikeOutgoingMediumOggUrl],l=[f.hotlikeOutgoingLargeMp3Url,f.hotlikeOutgoingLargeOggUrl],m=!1;function a(){m=!1,o(h)}function n(){m=!0,d("Sound").stop(h)}function b(){n(),o(i)}function e(a){n(),a===c("LSHotEmojiSize").SMALL?o(j):a===c("LSHotEmojiSize").MEDIUM?o(k):a===c("LSHotEmojiSize").LARGE&&o(l)}function o(a){d("MWChatSettingsQuery").areChatTabsSoundsOn(function(b){var c=a===h&&m;!c&&b!=null&&b===!0&&d("Sound").play(a,void 0,!1)})}g.start=a;g.pop=b;g.snap=e}),98);
__d("MWV2ForwardMenuItem.react",["fbt","I64","LSMessagingThreadTypeUtil","MWPActor.react","MWXMenuItem.react","MessengerWebUXLogger","WebUserFlowLoggingDataContextProvider.react","justknobx","react","react-compiler-runtime","useMWV2MessageForwardAction","uuidv4"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react")),l=i.useContext;function a(a){var b=d("react-compiler-runtime").c(14),e=a.message,f=a.threadType,g=c("MessengerWebUXLogger").useInteractionLogger();a=l(d("WebUserFlowLoggingDataContextProvider.react").WebUserFlowLoggingDataContext);var i=a.setLoggingData,m=d("MWPActor.react").useActor();b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=c("justknobx")._("4219"),b[0]=a):a=b[0];a=a;var n;b[1]!==f?(n=d("LSMessagingThreadTypeUtil").isArmadilloSecure(f),b[1]=f,b[2]=n):n=b[2];n=n;var o=c("useMWV2MessageForwardAction")(n,e,f);b[3]!==m||b[4]!==o||b[5]!==g||b[6]!==e||b[7]!==i||b[8]!==f?(n=function(){var a=e.threadKey,b=(j||(j=d("I64"))).equal(e.senderId,m);b={extraData:{actor_type:b?"sender":"receiver",component:"MWV2ForwardMenuItem"},flowInstanceId:c("uuidv4")(),threadKey:a,threadType:f};g==null||g(babelHelpers["extends"]({},b,{eventName:"open_forward_message_dialog"}));i(b);o()},b[3]=m,b[4]=o,b[5]=g,b[6]=e,b[7]=i,b[8]=f,b[9]=n):n=b[9];n=n;var p;b[10]===Symbol["for"]("react.memo_cache_sentinel")?(p=h._(/*BTDS*/"Forward"),b[10]=p):p=b[10];p=p;b[11]!==o||b[12]!==n?(a=a?k.jsx(c("MWXMenuItem.react"),{"aria-label":p,onClick:n,primaryText:p,testid:void 0}):k.jsx(c("MWXMenuItem.react"),{"aria-label":p,loggingEvent:"open_forward_message_dialog",onClick:o,primaryText:p,testid:void 0}),b[11]=o,b[12]=n,b[13]=a):a=b[13];return a}g["default"]=a}),226);
__d("useMWLSMessageReportingToken",["I64","Int64Hooks","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var c=d("react-compiler-runtime").c(4),e,f;c[0]!==a||c[1]!==b?(e=function(){return btoa("message_thread:"+(h||(h=d("I64"))).to_string(b)+":"+a)},f=[a,b],c[0]=a,c[1]=b,c[2]=e,c[3]=f):(e=c[2],f=c[3]);return d("Int64Hooks").useMemoInt64(e,f)}g["default"]=a}),98);
__d("MWV2GlobalReportMessageMenuItem.react",["fbt","CometFRX.entrypoint","JSResourceForInteraction","LSMessagingThreadTypeUtil","MWXMenuItem.react","react","react-compiler-runtime","useMWLSMessageReportingToken","useMWXEntryPointDialog","useMWXLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(20),e=a.icon,f=a.messageId,g=a.threadKey,i=a.threadType;b[0]!==i?(a=d("LSMessagingThreadTypeUtil").isArmadilloSecure(i),b[0]=i,b[1]=a):a=b[1];a=a;f=c("useMWLSMessageReportingToken")(f,g);g="report_long_press";var l;b[2]!==i?(l=k(i),b[2]=i,b[3]=l):l=b[3];l=l;var m;b[4]!==a||b[5]!==f?(m=a?window.btoa("message_thread:encrypted"):f,b[4]=a,b[5]=f,b[6]=m):m=b[6];b[7]!==l||b[8]!==m?(a={entryPoint:g,id:m,location:l},b[7]=l,b[8]=m,b[9]=a):a=b[9];var n=a;b[10]===Symbol["for"]("react.memo_cache_sentinel")?(f=h._(/*BTDS*/"Report"),b[10]=f):f=b[10];g=f;l=c("useMWXEntryPointDialog")(c("CometFRX.entrypoint"),n);var o=l[0];b[11]===Symbol["for"]("react.memo_cache_sentinel")?(m=c("JSResourceForInteraction")("CometFRX_DEPRECATED.react").__setRef("MWV2GlobalReportMessageMenuItem.react"),b[11]=m):m=b[11];a=c("useMWXLazyDialog")(m);var p=a[0];b[12]!==n||b[13]!==o||b[14]!==p||b[15]!==i?(f=function(){d("LSMessagingThreadTypeUtil").isArmadilloSecure(i)?p(n):o({})},b[12]=n,b[13]=o,b[14]=p,b[15]=i,b[16]=f):f=b[16];l=f;b[17]!==e||b[18]!==l?(m=j.jsx(c("MWXMenuItem.react"),{"aria-label":g,icon:e,loggingEvent:"report_thread",onClick:l,primaryText:g}),b[17]=e,b[18]=l,b[19]=m):m=b[19];return m}function k(a){var b=d("LSMessagingThreadTypeUtil").isOneToOne(a),c=d("LSMessagingThreadTypeUtil").isGroup(a);a=d("LSMessagingThreadTypeUtil").isArmadilloSecure(a);if(b&&a)return"messenger_encrypted_direct_thread";else if(b&&!a)return"messenger_direct_thread_details";else if(c&&a)return"messenger_encrypted_group_thread";else if(c&&!a)return"messenger_group_thread_details";else return"unknown"}g["default"]=a}),226);
__d("MWV2MessageReactionMenuItem.react",["fbt","MWChatReactionsActionContainer.react","MWV2MessageRowActionsContext.react","MWXMenuItem.react","ODS","emptyFunction","react","useMWChatReactionsActionContainerProps.react","useMWV2ShouldDisableReactions.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react"));b=i;var l=b.useCallback,m=b.useEffect;function a(a){var b=a.closeActionsMenu,e=a.message,f=a.onReactionsSendLogger,g=a.reactionsPopoverResource;a=a.threadType;var i=h._(/*BTDS*/"React"),n=c("useMWV2ShouldDisableReactions.react")(a,e.threadKey),o=d("MWV2MessageRowActionsContext.react").useMessageRowActionsContext(),p=o.openReactionsMenu,q=l(function(){p.current=c("emptyFunction");return},[p]);m(function(){return q},[q]);o=c("useMWChatReactionsActionContainerProps.react")(e,b,a,f,c("emptyFunction"),g);return n?null:k.jsx(c("MWChatReactionsActionContainer.react"),babelHelpers["extends"]({},o,{children:function(a,b,e,f,g,h){e=function(){b(),(j||(j=d("ODS"))).bumpEntityKey(3185,"mwchat_actions","reaction")};p.current=e;return k.jsx(c("MWXMenuItem.react"),{"aria-label":i,loggingEvent:"click_react_to_message",onClick:e,onHoverIn:f,onHoverOut:g,onPressIn:h,preventClosingMenuOnSelect:!0,primaryText:i,ref:a})}}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWV2RemoveMenuItem.react",["fbt","I64","Int64Hooks","JSResourceForInteraction","LSDeleteMessageStoredProcedure","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","MWCMThreadTypes.react","MWMessageDeliveryStatus","MWPActor.react","MWV2LogMessageClick","MWV2OnlyGlobalRemoveMessageDialog.entrypoint","MWXMenuItem.react","MessengerWebUXLogger","WebUserFlowLoggingDataContextProvider.react","gkx","isDeliveryStatusErrorState","mwCMIsAnyCMThread","promiseDone","react","react-compiler-runtime","useGetMediaGroupInformation","useHandleRemoveLocalMessage","useIsSecureMessage","useMWXEntryPointDialog","useMWXLazyDialog","useReStore","uuidv4"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||(l=d("react"));b=l;var n=b.useContext,o=b.useRef,p=c("JSResourceForInteraction")("MWV2RemoveMessageDialog.react").__setRef("MWV2RemoveMenuItem.react");function a(a){var b=d("react-compiler-runtime").c(59),e=a.canRemoveMessageGlobally,g=a.canRemoveMessageLocally,l=a.learnMoreOnMessageRemove,q=a.message,r=a.onRemoveMessageLogger,s=a.threadType;a=a.title;var t=(i||(i=c("useReStore")))(),u=q.messageId,v=q.threadKey,w;b[0]!==s?(w={fallbackThreadType:s},b[0]=s,b[1]=w):w=b[1];w=c("useIsSecureMessage")(t,q,w);w=c("useGetMediaGroupInformation")(q,w);var x;b[2]!==q.sendStatusV2||b[3]!==s?(x=c("mwCMIsAnyCMThread")(s)&&(j||(j=d("I64"))).equal(q.sendStatusV2,(k||(k=d("LSIntEnum"))).ofNumber(4)),b[2]=q.sendStatusV2,b[3]=s,b[4]=x):x=b[4];var y=x,z;b[5]!==t||b[6]!==u||b[7]!==v?(x=function(){c("promiseDone")(t.runInTransaction(function(a){return c("LSDeleteMessageStoredProcedure")(c("LSFactory")(a),{messageId:u,threadKey:v})},"readwrite",void 0,void 0,f.id+":80"))},z=[t,v,u],b[5]=t,b[6]=u,b[7]=v,b[8]=x,b[9]=z):(x=b[8],z=b[9]);var A=d("Int64Hooks").useCallbackInt64(x,z);x=o(null);z=d("MWPActor.react").useActor();var B;b[10]!==z||b[11]!==q.senderId?(B=(j||(j=d("I64"))).equal(q.senderId,z),b[10]=z,b[11]=q.senderId,b[12]=B):B=b[12];var C=B;z=C&&e;b[13]!==l||b[14]!==q||b[15]!==a?(B={learnMoreOnMessageRemove:l,message:q,title:a},b[13]=l,b[14]=q,b[15]=a,b[16]=B):B=b[16];var D=B;b[17]!==e||b[18]!==g||b[19]!==l||b[20]!==q||b[21]!==r||b[22]!==s||b[23]!==a?(B={canRemoveMessageGlobally:e,canRemoveMessageLocally:g,learnMoreOnMessageRemove:l,message:q,removeLogger:r,threadType:s,title:a},b[17]=e,b[18]=g,b[19]=l,b[20]=q,b[21]=r,b[22]=s,b[23]=a,b[24]=B):B=b[24];var E=B,F=c("MessengerWebUXLogger").useInteractionLogger();e=n(d("WebUserFlowLoggingDataContextProvider.react").WebUserFlowLoggingDataContext);var G=e.setLoggingData;b[25]===Symbol["for"]("react.memo_cache_sentinel")?(g={},b[25]=g):g=b[25];l=c("useMWXEntryPointDialog")(c("MWV2OnlyGlobalRemoveMessageDialog.entrypoint"),g);var H=l[0];a=c("useMWXLazyDialog")(p);var I=a[0],J=c("useHandleRemoveLocalMessage")(s,q,r);b[26]!==E||b[27]!==D||b[28]!==C||b[29]!==q.isUnsent||b[30]!==q.sendStatusV2||b[31]!==J||b[32]!==I||b[33]!==H||b[34]!==s?(B=function(a){if(c("isDeliveryStatusErrorState")(d("MWMessageDeliveryStatus").getFromSendStatus(q.sendStatusV2))){J(a);return}d("MWCMThreadTypes.react").isJoinedCMThread(s)||d("LSMessagingThreadTypeUtil").isDiscoverableChannel(s)||C&&!c("gkx")("24140")&&!q.isUnsent||d("LSMessagingThreadTypeUtil").isCMSubthread(s)?H(D):I(E)},b[26]=E,b[27]=D,b[28]=C,b[29]=q.isUnsent,b[30]=q.sendStatusV2,b[31]=J,b[32]=I,b[33]=H,b[34]=s,b[35]=B):B=b[35];var K=B;b[36]!==t||b[37]!==A||b[38]!==y||b[39]!==C||b[40]!==F||b[41]!==q||b[42]!==K||b[43]!==G||b[44]!==v||b[45]!==s?(e=function(){var a={extraData:{actor_type:C?"sender":"receiver"},flowInstanceId:c("uuidv4")(),threadKey:v,threadType:s};F==null||F(babelHelpers["extends"]({},a,{eventName:"message_remove_attempt"}));G(a);d("MWV2LogMessageClick").log(t,q,45);return q.subscriptErrorMessage!=null&&y?A():K(a)},b[36]=t,b[37]=A,b[38]=y,b[39]=C,b[40]=F,b[41]=q,b[42]=K,b[43]=G,b[44]=v,b[45]=s,b[46]=e):e=b[46];g=e;b[47]!==z?(l=z?h._(/*BTDS*/"Unsend message"):h._(/*BTDS*/"Remove message"),b[47]=z,b[48]=l):l=b[48];b[49]!==z?(a=z?h._(/*BTDS*/"Unsend"):h._(/*BTDS*/"Remove"),b[49]=z,b[50]=a):a=b[50];b[51]!==C||b[52]!==w?(r=w!=null&&(w!=null&&w.hasMissingMessages||w!=null&&w.hasMissingMedia)?C?h._(/*BTDS*/"Images that failed to load won't be unsent"):h._(/*BTDS*/"Images that failed to load won't be removed"):void 0,b[51]=C,b[52]=w,b[53]=r):r=b[53];b[54]!==g||b[55]!==l||b[56]!==a||b[57]!==r?(B=m.jsx(c("MWXMenuItem.react"),{"aria-label":l,onClick:g,primaryText:a,ref:x,secondaryText:r,testid:void 0}),b[54]=g,b[55]=l,b[56]=a,b[57]=r,b[58]=B):B=b[58];return B}g["default"]=a}),226);
__d("MWV2ReplyMenuItem.react",["fbt","MWPReplyContext.react","MWXMenuItem.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useContext;function a(a){var b=d("react-compiler-runtime").c(8),e=a.message;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"Reply"),b[0]=a):a=b[0];a=a;var f=k(d("MWPReplyContext.react").MWPReplyContext),g=f.setReply;b[1]!==e.messageId||b[2]!==e.offlineThreadingId||b[3]!==e.sendStatusV2||b[4]!==e.threadKey||b[5]!==e.timestampMs||b[6]!==g?(f=j.jsx(c("MWXMenuItem.react"),{"aria-label":a,onClick:function(){return g({messageId:e.messageId,offlineThreadingId:e.offlineThreadingId,sendStatusV2:e.sendStatusV2,threadKey:e.threadKey,timestampMs:e.timestampMs},e.threadKey)},primaryText:a,testid:void 0}),b[1]=e.messageId,b[2]=e.offlineThreadingId,b[3]=e.sendStatusV2,b[4]=e.threadKey,b[5]=e.timestampMs,b[6]=g,b[7]=f):f=b[7];return f}g["default"]=a}),226);
__d("useReStoreIfAvailable",["useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){return(h||(h=c("useReStore")))()}g["default"]=a}),98);
__d("useMWV2ReportMessage.react",["fbt","I64","LSFactory","LSIntEnum","LSInternetConnectionState","LSReportMessageInCommunityChannelStoredProcedure","ReQL","promiseDone","react","react-compiler-runtime","useMWXConfirmationDialog","useMWXPushToast","useReStoreIfAvailable"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k;(i||d("react")).useCallback;function a(a,b){var e=d("react-compiler-runtime").c(10),f=c("useReStoreIfAvailable")(),g=c("useMWXConfirmationDialog")(),i;e[0]!==a?(i=(j||(j=d("I64"))).isI64(a)?a:(j||(j=d("I64"))).of_string(a),e[0]=a,e[1]=i):i=e[1];var l=i,m=c("useMWXPushToast")();e[2]!==f||e[3]!==l||e[4]!==b||e[5]!==m?(a=function(){if(f==null)return;c("promiseDone")(async function(){await f.runInTransaction(function(a){return c("LSReportMessageInCommunityChannelStoredProcedure")(c("LSFactory")(a),{messageId:b,threadKey:l})},"readwrite");var a=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(f.tables.connectivity_status));a!=null&&(j||(j=d("I64"))).equal(a.internetConnectionState,(k||(k=d("LSIntEnum"))).ofNumber(c("LSInternetConnectionState").CONNECTED))&&m({body:h._(/*BTDS*/"You've reported a message to the group admins.")})}())},e[2]=f,e[3]=l,e[4]=b,e[5]=m,e[6]=a):a=e[6];var n=a;e[7]!==n||e[8]!==g?(i=function(){return g({body:h._(/*BTDS*/"If you report this message, it will be sent to group admins for review."),confirm:h._(/*BTDS*/"Report"),title:h._(/*BTDS*/"Report message to group admins?")},n)},e[7]=n,e[8]=g,e[9]=i):i=e[9];a=i;return a}g.default=a}),226);
__d("MWV2ReportMessageMenuItem.react",["fbt","CometFRX.entrypoint","MWXMenuItem.react","gkx","react","react-compiler-runtime","useMWLSMessageReportingToken","useMWV2ReportMessage.react","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(9),e=a.isSubthread;a=a.message;e=e===void 0?!1:e;var f=c("useMWLSMessageReportingToken")(a.messageId,a.threadKey);e=e?"messenger_community_messaging_subthread_view":"messenger_community_messaging_group_thread_details";var g;b[0]!==f||b[1]!==e?(g={entryPoint:"groups_report_long_press_to_admin",id:f,location:e},b[0]=f,b[1]=e,b[2]=g):g=b[2];f=c("useMWXEntryPointDialog")(c("CometFRX.entrypoint"),g);var i=f[0];e=c("useMWV2ReportMessage.react")(a.threadKey,a.messageId);b[3]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._(/*BTDS*/"Report to group admins"),b[3]=g):g=b[3];f=g;a=c("gkx")("24042");b[4]!==e||b[5]!==i?(g=a?function(){return i({})}:e,b[4]=e,b[5]=i,b[6]=g):g=b[6];b[7]!==g?(a=j.jsx(c("MWXMenuItem.react"),{"aria-label":f,onClick:g,primaryText:f,testid:void 0}),b[7]=g,b[8]=a):a=b[8];return a}g["default"]=a}),226);
__d("MWV2ReportMessageToFBMenuItem.react",["CometFRX.entrypoint","MWXMenuItem.react","react","react-compiler-runtime","useMWLSMessageReportingToken","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(13),e=a.icon,f=a.isSubthread,g=a.menuItemLabel,h=a.messageId,j=a.onReportLogger;a=a.threadKey;f=f===void 0?!1:f;h=c("useMWLSMessageReportingToken")(h,a);a=f?"messenger_community_messaging_subthread_view":"messenger_community_messaging_group_thread_details";b[0]!==h||b[1]!==a?(f={entryPoint:"report_long_press",id:h,location:a},b[0]=h,b[1]=a,b[2]=f):f=b[2];h=f;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(a={},b[3]=a):a=b[3];var k=a;f=h;a=c("useMWXEntryPointDialog")(c("CometFRX.entrypoint"),f);var l=a[0];b[4]!==l?(h=function(){return l(k)},b[4]=l,b[5]=h):h=b[5];var m=h;b[6]!==j||b[7]!==m?(f=function(){j&&j(),m()},b[6]=j,b[7]=m,b[8]=f):f=b[8];b[9]!==e||b[10]!==g||b[11]!==f?(a=i.jsx(c("MWXMenuItem.react"),{"aria-label":g,icon:e,onClick:f,primaryText:g}),b[9]=e,b[10]=g,b[11]=f,b[12]=a):a=b[12];return a}g["default"]=a}),98);
__d("getIsMessageTimeBelowEditThreshold",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("I64"))).of_int32(15*60);function a(a,b){a=(h||(h=d("I64"))).div(a,h.of_int32(1e3));b=h.div(b,h.of_int32(1e3));a=h.sub(a,b);return h.lt(a,i)}g.MAX_EDIT_TIME_PERIOD_IN_SECONDS=i;g.getIsMessageTimeBelowEditThreshold=a}),98);
__d("useMWPCanUserEditMessage",["I64","LSAuthorityLevel","LSContactBitOffset","LSContactTypeExact","LSHotEmojiSize","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWThreadCutover","MWMessageDeliveryStatus","MWPActor.react","ReQL","ReQLSuspense","URLMatcher","getIsMessageTimeBelowEditThreshold","gkx","isDeliveryStatusErrorState","isMWBumpMessage","isStringNullOrEmpty","mwCMIsAnyCMThread","mwCMIsCMSubthread","react-compiler-runtime","useMWGetOtherUserContact","useMWIsContactRestricted","useReStore","useServerTime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=5;function a(a,b,e){var g,m,n=d("react-compiler-runtime").c(42),o=d("MWPActor.react").useActor(),p=(j||(j=c("useReStore")))(),q;n[0]!==p.tables.attachments||n[1]!==a.messageId||n[2]!==a.threadKey?(q=function(){return d("ReQL").fromTableAscending(p.tables.attachments).getKeyRange(a.threadKey,a.messageId)},n[0]=p.tables.attachments,n[1]=a.messageId,n[2]=a.threadKey,n[3]=q):q=n[3];var r;n[4]!==p||n[5]!==a.messageId||n[6]!==a.threadKey?(r=[p,a.messageId,a.threadKey],n[4]=p,n[5]=a.messageId,n[6]=a.threadKey,n[7]=r):r=n[7];q=d("ReQLSuspense").useFirst(q,r,f.id+":68");n[8]===Symbol["for"]("react.memo_cache_sentinel")?(r=["contactTypeExact"].concat(d("LSContactBitOffset").contactCapabilityFields),n[8]=r):r=n[8];r=c("useMWGetOtherUserContact")(a.threadKey,b.threadType,r);var s;n[9]!==r?(s=r!=null&&(h||(h=d("I64"))).equal(r.contactTypeExact,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").MESSENGER_KID)),n[9]=r,n[10]=s):s=n[10];s=s;r=c("useMWIsContactRestricted")(r);e=d("MAWThreadCutover").useIsCutoverOpenThread(e);var t=c("useServerTime")();if(c("isDeliveryStatusErrorState")(d("MWMessageDeliveryStatus").getFromSendStatus(a.sendStatusV2)))return!1;if(b==null)return!1;g=(h||(h=d("I64"))).to_int32((g=a.editCount)!=null?g:(h||(h=d("I64"))).zero)<k;var u;n[11]!==a.timestampMs||n[12]!==t?(u=d("getIsMessageTimeBelowEditThreshold").getIsMessageTimeBelowEditThreshold((h||(h=d("I64"))).of_float(t.getTime()),a.timestampMs),n[11]=a.timestampMs,n[12]=t,n[13]=u):u=n[13];t=u;n[14]!==o||n[15]!==a.senderId?(u=(h||(h=d("I64"))).equal(a.senderId,o),n[14]=o,n[15]=a.senderId,n[16]=u):u=n[16];o=u;u=(u=a.isForwarded)!=null?u:!1;var v=a.text!=null&&a.text!=="",w=a.text!=null&&c("URLMatcher").match(a.text)!=null;m=(m=a.hotEmojiSize)!=null?m:(h||(h=d("I64"))).zero;var x;n[17]!==m?(x=(h||(h=d("I64"))).equal(m,(i||(i=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").NONE)),n[17]=m,n[18]=x):x=n[18];m=x;if(n[19]!==(q==null?void 0:q.hasXma)||n[20]!==a.mentionIds){x=((x=q==null?void 0:q.hasXma)!=null?x:!1)||!c("isStringNullOrEmpty")(a.mentionIds);n[19]=q==null?void 0:q.hasXma;n[20]=a.mentionIds;n[21]=x}else x=n[21];q=x;n[22]!==a.authorityLevel||n[23]!==a.isUnsent?(x=a.isUnsent===!1&&(h||(h=d("I64"))).equal(a.authorityLevel,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)),n[22]=a.authorityLevel,n[23]=a.isUnsent,n[24]=x):x=n[24];x=x;var y;n[25]!==a.replyType?(y=c("isMWBumpMessage")(a.replyType),n[25]=a.replyType,n[26]=y):y=n[26];y=y;var z;n[27]!==q||n[28]!==x||n[29]!==g||n[30]!==t||n[31]!==y||n[32]!==e||n[33]!==u||n[34]!==s||n[35]!==r||n[36]!==o||n[37]!==w||n[38]!==v||n[39]!==m||n[40]!==b?(z=g&&t&&o&&v&&!w&&m&&!u&&!e&&!q&&x&&!r&&!y&&!s&&l(b),n[27]=q,n[28]=x,n[29]=g,n[30]=t,n[31]=y,n[32]=e,n[33]=u,n[34]=s,n[35]=r,n[36]=o,n[37]=w,n[38]=v,n[39]=m,n[40]=b,n[41]=z):z=n[41];return z}function l(a){var b=a.threadType;if(d("LSMessagingThreadTypeUtil").isWorkThread(a.threadSubtype))return!1;if(d("LSMessagingThreadTypeUtil").isArmadilloSecure(b))return!0;if(d("LSMessagingThreadTypeUtil").isJoinedDiscoverablePublicBroadcastChannel(b))return!0;if(c("mwCMIsAnyCMThread")(b)||c("mwCMIsCMSubthread")(b))return d("LSThreadBitOffset").has(194,a)&&c("gkx")("7675");return d("LSMessagingThreadTypeUtil").isOpenFnFThread(a)?!0:!1}g["default"]=a}),98);
__d("MWV2ContextualActionsMenu.react",["fbt","BusinessMessageNegativeFeedbackMenuItem.react","BusinessMessagePositiveFeedbackMenuItem.react","FDSMenuSeparator.react","I64","LSIntEnum","LSMessagingThreadTypeUtil","MAWEditMenuItem.react","MWBroadcastChannelLoggingShapes","MWCMCreateSubthreadMenuItem.react","MWChatMessageBothOrientationFocusGroup.react","MWEncryptedBackupsLocalStorageEntryEnum","MWEncryptedBackupsSharedState","MWLogBroadcastChannelFalcoEvent","MWPAttachmentDataContext","MWPThreadCapabilitiesContext","MWPinMessageMenuItem.react","MWV2ForwardMenuItem.react","MWV2GlobalReportMessageMenuItem.react","MWV2MessageReactionMenuItem.react","MWV2RemoveMenuItem.react","MWV2ReplyMenuItem.react","MWV2ReportMessageMenuItem.react","MWV2ReportMessageToFBMenuItem.react","MWXMenu.react","MWXPopover.react","MessagingAttachmentType","MessagingThreadSubtype","WebUXLoggingSurfaceContextProvider","cr:10411","cr:1111","cr:1200","cr:14125","cr:21359","cr:2243","cr:4140","cr:5790","cr:6934","cr:7089","focusScopeQueries","gkx","react","react-compiler-runtime","useMWEntrypoint","useMWFalcoFeatureEventLogger","useMWPCanUserEditMessage"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||d("react");function a(a,b){a=d("react-compiler-runtime").c(1);a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={messageKeys:null,reactionsKeys:null},a[0]=b):b=a[0];return b}var m=(f=b("cr:10411"))!=null?f:a;function e(a){var e=d("react-compiler-runtime").c(125),f=a.attachment,g=a.canRemoveMessageGlobally,i=a.canRemoveMessageLocally,n=a.containerThreadKey,o=a.extraActions,p=a.isOutgoing,q=a.isSecureMessage,r=a.learnMoreOnMessageRemove,s=a.message,t=a.onClose,u=a.onRemoveMessageLogger,v=a.removeMessageDialogTitle,w=a.showBumpActionInContextualMenu,x=a.showBusinessMessageFeedbackOptionsInContextualMenu,y=a.showCreateSubthread,z=a.showFeedbackOptionsInContextualMenu,A=a.showForwardActionInContextualMenu,B=a.showPinMessageActionInContextualMenu,C=a.showReactionInContextualMenu,D=a.showReplyActionInContextualMenu,E=a.showReportCommunityMessageToAdmin,F=a.showReportCommunityMessageToFacebook,G=a.showReportMessageToFacebook,H=a.showUnsendInContextualMenu,I=a.thread;a=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();a=a.blurMediaEnabled;a=c("gkx")("24098")&&a;var J;e[0]!==f?(J=f!=null?(j||(j=d("I64"))).equal(f.attachmentType,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE)):!1,e[0]=f,e[1]=J):J=e[1];J=J;var K;e[2]!==f?(K=f!=null?(j||(j=d("I64"))).equal(f.attachmentType,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)):!1,e[2]=f,e[3]=K):K=e[3];K=K;a=a&&(J||K);e[4]!==I?(K=d("LSMessagingThreadTypeUtil").isOpenFnFThread(I),e[4]=I,e[5]=K):K=e[5];K=K;var L=c("useMWEntrypoint")(),M=I==null?void 0:I.threadType,N=I==null?void 0:I.threadSubtype,O=c("useMWFalcoFeatureEventLogger")(s.threadKey,M),P;e[6]===Symbol["for"]("react.memo_cache_sentinel")?(P=h._(/*BTDS*/"More actions"),e[6]=P):P=e[6];P=P;var Q;e[7]!==N?(Q=N!=null&&(j||(j=d("I64"))).equal(N,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingThreadSubtype").SUPPORT_MESSAGING_THREAD)),e[7]=N,e[8]=Q):Q=e[8];N=Q;Q=c("useMWPCanUserEditMessage")(s,I,n);e[9]!==I.threadType?(n=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(I.threadType),e[9]=I.threadType,e[10]=n):n=e[10];var R=n;n=d("MWEncryptedBackupsSharedState").useEBSharedStateEntry(c("MWEncryptedBackupsLocalStorageEntryEnum").VERIFY_KEYS_IN_CHAT_ENABLED);n=n[0];n=n==="true";var S=m(s,q),T=S.messageKeys;S=S.reactionsKeys;var U=d("MWPAttachmentDataContext").useMWPGetAttachments(s);U=U.length===1;var V;e[11]!==f||e[12]!==J||e[13]!==U||e[14]!==K||e[15]!==s||e[16]!==I.threadType?(V=b("cr:7089")!=null&&J&&K&&f!=null&&U?l.jsx(b("cr:7089"),{attachment:f,message:s,threadType:I.threadType}):null,e[11]=f,e[12]=J,e[13]=U,e[14]=K,e[15]=s,e[16]=I.threadType,e[17]=V):V=e[17];e[18]!==s||e[19]!==a||e[20]!==D?(J=D&&!a?l.jsx(c("MWV2ReplyMenuItem.react"),{message:s}):null,e[18]=s,e[19]=a,e[20]=D,e[21]=J):J=e[21];e[22]!==s||e[23]!==t||e[24]!==C||e[25]!==M?(U=C?l.jsx(c("MWV2MessageReactionMenuItem.react"),{closeActionsMenu:t,message:s,threadType:M}):null,e[22]=s,e[23]=t,e[24]=C,e[25]=M,e[26]=U):U=e[26];e[27]!==s||e[28]!==Q||e[29]!==M?(K=Q?l.jsx(c("MAWEditMenuItem.react"),{message:s,threadType:M}):null,e[27]=s,e[28]=Q,e[29]=M,e[30]=K):K=e[30];e[31]!==g||e[32]!==i||e[33]!==r||e[34]!==s||e[35]!==u||e[36]!==v||e[37]!==H||e[38]!==M?(a=H?l.jsx(c("MWV2RemoveMenuItem.react"),{canRemoveMessageGlobally:g,canRemoveMessageLocally:i,learnMoreOnMessageRemove:r,message:s,onRemoveMessageLogger:u,threadType:M,title:v}):null,e[31]=g,e[32]=i,e[33]=r,e[34]=s,e[35]=u,e[36]=v,e[37]=H,e[38]=M,e[39]=a):a=e[39];e[40]!==s||e[41]!==A||e[42]!==M?(D=A?l.jsx(c("MWV2ForwardMenuItem.react"),{message:s,threadType:M}):null,e[40]=s,e[41]=A,e[42]=M,e[43]=D):D=e[43];e[44]!==s||e[45]!==w||e[46]!==I.threadKey?(t=w&&b("cr:14125")?l.jsx(b("cr:14125"),{message:s,threadKey:I.threadKey}):null,e[44]=s,e[45]=w,e[46]=I.threadKey,e[47]=t):t=e[47];e[48]!==s||e[49]!==y?(C=y?l.jsx(c("MWCMCreateSubthreadMenuItem.react"),{message:s}):null,e[48]=s,e[49]=y,e[50]=C):C=e[50];e[51]!==L||e[52]!==R||e[53]!==O||e[54]!==s||e[55]!==B||e[56]!==I.threadKey?(Q=B?l.jsx(c("MWPinMessageMenuItem.react"),{message:s,onClick:function(a){if(R){a=a?d("MWBroadcastChannelLoggingShapes").UNPIN_MESSAGE:d("MWBroadcastChannelLoggingShapes").PIN_MESSAGE;d("MWLogBroadcastChannelFalcoEvent").logBroadcastChannelFalcoEvent(babelHelpers["extends"]({},a,{threadFbid:I.threadKey}))}},onPinCompleted:function(){O(L,"pin_message")}}):null,e[51]=L,e[52]=R,e[53]=O,e[54]=s,e[55]=B,e[56]=I.threadKey,e[57]=Q):Q=e[57];e[58]!==s||e[59]!==E?(g=E?l.jsx(c("MWV2ReportMessageMenuItem.react"),{message:s}):null,e[58]=s,e[59]=E,e[60]=g):g=e[60];e[61]!==s.messageId||e[62]!==s.threadKey||e[63]!==F||e[64]!==M?(i=F?l.jsx(c("MWV2ReportMessageToFBMenuItem.react"),{isSubthread:d("LSMessagingThreadTypeUtil").isCMSubthread(M),menuItemLabel:h._(/*BTDS*/"Report"),messageId:s.messageId,threadKey:s.threadKey}):null,e[61]=s.messageId,e[62]=s.threadKey,e[63]=F,e[64]=M,e[65]=i):i=e[65];e[66]!==s.messageId||e[67]!==s.threadKey||e[68]!==G||e[69]!==M?(r=G?l.jsx(c("MWV2GlobalReportMessageMenuItem.react"),{messageId:s.messageId,threadKey:s.threadKey,threadType:M}):null,e[66]=s.messageId,e[67]=s.threadKey,e[68]=G,e[69]=M,e[70]=r):r=e[70];e[71]!==q||e[72]!==n||e[73]!==s||e[74]!==T||e[75]!==S?(u=n&&b("cr:21359")!=null&&q?l.jsxs(l.Fragment,{children:[l.jsx(c("FDSMenuSeparator.react"),{}),l.jsx(b("cr:21359"),{message:s,messageKeys:T,reactionsKeys:S})]}):null,e[71]=q,e[72]=n,e[73]=s,e[74]=T,e[75]=S,e[76]=u):u=e[76];e[77]!==s?(v=b("cr:5790")?l.jsx(b("cr:5790"),{message:s}):null,e[77]=s,e[78]=v):v=e[78];e[79]!==R||e[80]!==p||e[81]!==s?(H=b("cr:6934")!=null&&R&&!p&&l.jsx(b("cr:6934"),{message:s}),e[79]=R,e[80]=p,e[81]=s,e[82]=H):H=e[82];e[83]!==p||e[84]!==N||e[85]!==s?(A=b("cr:2243")!=null&&!p&&N&&l.jsx(b("cr:2243"),{message:s}),e[83]=p,e[84]=N,e[85]=s,e[86]=A):A=e[86];e[87]!==s||e[88]!==z?(w=b("cr:1200")!=null&&z&&l.jsx(b("cr:1200"),{message:s}),e[87]=s,e[88]=z,e[89]=w):w=e[89];e[90]!==s||e[91]!==z?(y=b("cr:1111")!=null&&z&&l.jsx(b("cr:1111"),{message:s}),e[90]=s,e[91]=z,e[92]=y):y=e[92];e[93]!==s||e[94]!==x?(B=c("BusinessMessagePositiveFeedbackMenuItem.react")!=null&&x&&l.jsx(c("BusinessMessagePositiveFeedbackMenuItem.react"),{message:s}),e[93]=s,e[94]=x,e[95]=B):B=e[95];e[96]!==s||e[97]!==x?(E=c("BusinessMessageNegativeFeedbackMenuItem.react")!=null&&x&&l.jsx(c("BusinessMessageNegativeFeedbackMenuItem.react"),{message:s}),e[96]=s,e[97]=x,e[98]=E):E=e[98];e[99]!==f||e[100]!==s?(F=b("cr:4140")?l.jsxs(l.Fragment,{children:[c("gkx")("731")?l.jsx(c("FDSMenuSeparator.react"),{}):null,l.jsx(b("cr:4140"),{attachment:f,message:s})]}):null,e[99]=f,e[100]=s,e[101]=F):F=e[101];e[102]!==o||e[103]!==K||e[104]!==a||e[105]!==D||e[106]!==t||e[107]!==C||e[108]!==Q||e[109]!==g||e[110]!==i||e[111]!==r||e[112]!==u||e[113]!==v||e[114]!==H||e[115]!==A||e[116]!==w||e[117]!==y||e[118]!==B||e[119]!==E||e[120]!==F||e[121]!==V||e[122]!==J||e[123]!==U?(G=l.jsx(c("MWXPopover.react"),{role:"menu",withArrow:!0,children:l.jsx(d("MWChatMessageBothOrientationFocusGroup.react").keyCommands,{children:l.jsx(d("MWChatMessageBothOrientationFocusGroup.react").FocusGroup,{allowModifiers:!0,orientation:"both",preventScrollOnFocus:!1,tabScopeQuery:d("focusScopeQueries").tabbableScopeQuery,children:l.jsx(c("MWXMenu.react"),{"aria-label":P,size:"full",truncate:!0,children:l.jsxs(d("WebUXLoggingSurfaceContextProvider").WebUXLoggingSurfaceContextProvider,{value:"thread_view_message_options",children:[V,J,U,K,a,D,t,C,Q,g,i,r,u,v,H,A,w,y,B,E,o,F]})})})})}),e[102]=o,e[103]=K,e[104]=a,e[105]=D,e[106]=t,e[107]=C,e[108]=Q,e[109]=g,e[110]=i,e[111]=r,e[112]=u,e[113]=v,e[114]=H,e[115]=A,e[116]=w,e[117]=y,e[118]=B,e[119]=E,e[120]=F,e[121]=V,e[122]=J,e[123]=U,e[124]=G):G=e[124];return G}g["default"]=e}),226);
__d("MessageThreadEventsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5034");b=d("FalcoLoggerInternal").create("message_thread_events",a);e=b;g["default"]=e}),98);
__d("MessengerDiscoverableChatClientEventsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1254");b=d("FalcoLoggerInternal").create("messenger_discoverable_chat_client_events",a);e=b;g["default"]=e}),98);
__d("MessengerGroupCreationEventsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6706");b=d("FalcoLoggerInternal").create("messenger_group_creation_events",a);e=b;g["default"]=e}),98);
__d("MwbGroupBlockeeMessagesTapToRevealActionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5396");b=d("FalcoLoggerInternal").create("mwb_group_blockee_messages_tap_to_reveal_action",a);e=b;g["default"]=e}),98);/*FB_PKG_DELIM*/
__d("hyperionChannel",["hyperionHook"],(function(a,b,c,d,e,f,g){var h;a=function(){function a(){this.$1=new((h||(h=d("hyperionHook"))).Hook)()}var b=a.prototype;b.pipe=function(a,b){var c=this.$1.add(b?function(c){for(var d=arguments.length,e=new Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];b(function(){a.emit.apply(a,[c].concat(e))})}:function(b){for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];a.emit.apply(a,[b].concat(d))});c.$2=a;return a};b.unpipe=function(a){return this.$1.removeIf(function(b){return b.$2===a})};b.emit=function(a){var b;for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];(b=this.$1).call.apply(b,[a].concat(d))};return a}();b=function(a){function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.$Channel1=Object.create(null),babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.$Channel2=function(a){var b=this.$Channel1[a];b||(b=this.$Channel1[a]=new((h||(h=d("hyperionHook"))).Hook)());return b};c.on=function(a){return this.$Channel2(a)};c.addListener=function(a,b){return this.on(a).add(b)};c.removeListener=function(a,b){this.on(a).remove(b);return b};c.emit=function(b){var c,d;for(var e=arguments.length,f=new Array(e>1?e-1:0),g=1;g<e;g++)f[g-1]=arguments[g];(c=this.$Channel2(b)).call.apply(c,f);(d=a.prototype.emit).call.apply(d,[this,b].concat(f))};return b}(a);c=function(a){function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.$PausableChannel1=!1,babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.pause=function(){this.$PausableChannel1=!0};c.unpause=function(){this.$PausableChannel1=!1};c.isPaused=function(){return this.$PausableChannel1};c.emit=function(b){var c;if(this.$PausableChannel1)return;for(var d=arguments.length,e=new Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];(c=a.prototype.emit).call.apply(c,[this,b].concat(e))};return b}(b);g.Channel=b;g.PausableChannel=c;g.PipeableEmitter=a}),98);
__d("ALChannel",["hyperionChannel"],(function(a,b,c,d,e,f,g){"use strict";a=new(d("hyperionChannel").Channel)();b=a;g["default"]=b}),98);
__d("ALReactUtils",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){return!0},i=function(a){var b=Object.keys(a).find(function(a){return a.startsWith("__reactFiber$")});return b!=null?a[b]:null},j=function(a){var b;b=(b=a.displayName)!=null?b:a.name;if(b==null)return null;a=b.match(/.*\[from (.*)\.react\]/);return(a=a==null?void 0:a[1])!=null?a:b};function a(a,b){if(a==null){c("FBLogger")("ads_manager_auto_logging").warn("[AL] Null element passed to getReactComponentName_THIS_CAN_BREAK.");return null}b=b?b:h;a=a;try{a=i(a);while(a){var d=a.type;if(d==null||typeof d==="string"){a=a["return"];continue}var e=j(d);e==null&&d.render!=null&&(e=j(d.render));if(e!=null&&e!==""&&b(e))return e;a=a["return"]}}catch(a){c("FBLogger")("ads_manager_auto_logging").catching(a).warn("[AL] Caught exception in getReactComponentName_THIS_CAN_BREAK.");return null}}g.getReactComponentName_THIS_CAN_BREAK=a}),98);
__d("AccessibilityWebAssistiveTechTypedLoggerLite",["generateLiteTypedLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:AccessibilityWebAssistiveTechLoggerConfig")}),null);
__d("AutoLoggingComponentNameValidator",["AutoLoggingComponentValidatorListSitevarConfig","FBLogger"],(function(a,b,c,d,e,f,g){"use strict";var h={COMPONENT_ALLOW_LIST:d("AutoLoggingComponentValidatorListSitevarConfig").COMPONENT_ALLOW_LIST,COMPONENT_BLOCK_LIST:d("AutoLoggingComponentValidatorListSitevarConfig").COMPONENT_BLOCK_LIST},i=function(a){return a.join("|")},j=null;function a(a){var b;j!=null&&j!==a&&c("FBLogger")("auto_logging").warn("Config name used to get validator changed, ensure you are using consistent init config across AutoLogging",j,a);j=a;a=(b=(b=d("AutoLoggingComponentValidatorListSitevarConfig").TOOL_CONFIG)==null?void 0:b[a])!=null?b:h;var e=i(a.COMPONENT_ALLOW_LIST),f=i(a.COMPONENT_BLOCK_LIST);return function(a){return a.match(e)!=null&&a.match(f)==null}}g.getComponentNameValidator=a}),98);
__d("AdsALReactUtils",["ALReactUtils","AutoLoggingComponentNameValidator"],(function(a,b,c,d,e,f,g){"use strict";var h=d("AutoLoggingComponentNameValidator").getComponentNameValidator("ads");function a(a,b){b===void 0&&(b=null);return d("ALReactUtils").getReactComponentName_THIS_CAN_BREAK(a,((a=b)==null?void 0:a.skipValidator)===!0?function(){return!0}:h)}function b(a){return!h(a)}g.getReactComponentName_THIS_CAN_BREAK=a;g.isComponentNameBlocked=b}),98);
__d("BDSignalBufferData",[],(function(a,b,c,d,e,f){"use strict";a={};b=a;f["default"]=b}),66);
__d("SignalValueContext",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.cn=a}var b=a.prototype;b.getSignalValueContextName=function(){return this.cn};return a}();f["default"]=a}),66);
__d("BDSignalCollectorBase",["BDSignalBufferData","SignalValueContext"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.signalType=a}var b=a.prototype;b.executeSignalCollection=function(){throw new Error("Child class responsibility to implement executeSignalCollection")};b.executeAsyncSignalCollection=async function(){var a=await this.executeSignalCollection();return a};a.getSanitizedURI=function(){var a=window.location.href,b=a.indexOf("?");return b<0?a:a.substring(0,b)};b.getContext=function(){return new(c("SignalValueContext"))(a.getSanitizedURI())};b.throwIfNotInitialized=function(){if(!(this.signalType in c("BDSignalBufferData")))throw new Error("Signal is not intialized")};return a}();g.default=a}),98);
__d("BDBiometricSignalCollectorBase",["BDSignalCollectorBase","err"],(function(a,b,c,d,e,f,g){"use strict";a="biometric_signal_collected";b=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.listenForSignals=function(){throw c("err")("Child class responsibility to implement listenForSignals")};d.executeSignalCollection=function(){throw c("err")("executeAsyncSignalCollection and executeSignalCollection should not be called on biometric signals")};return b}(c("BDSignalCollectorBase"));g.BIOMETRIC_SIGNAL_COLLECTED_EVENT_NAME=a;g.BDBiometricSignalCollectorBase=b}),98);
__d("BDSignalWrapper",["BDSignalBufferData","SignalCollectorMap"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){this.signalFlags=a,this.signalType=b}var b=a.prototype;b.getSignalCollector=function(){return c("SignalCollectorMap").get(this.signalType)};b.getBufferConfig=function(){return c("BDSignalBufferData")[this.signalType]};return a}();g["default"]=a}),98);
__d("BDLoggingConstants",[],(function(a,b,c,d,e,f){"use strict";a={ERROR:"error",WARNING:"warning",INFO:"info"};b={KEY_NOT_FOUND:"key_not_found",APPEND_SIGNAL:"bd_append_signal",APPEND_SIGNAL_FAIL:"bd_append_signal_fail",HB_COLLECTED:"append_hb",HB_COLLECTION_FAILED:"hb_collection_failed",BD_EXCEPTION:"bd_exception",SIGNAL_NOT_IMPLEMENTED:"signal_not_implemented",SIGNAL_VALUE_NULL:"signal_value_null",EMPTY_SIGNAL_CONFIG:"empty_signal_config",INVALID_BUFFER_SIZE:"invalid_buffer_size",INVALID_DURATION:"invalid_duration",SIGNAL_FLAGS_MISSING:"signal_flags_missing",DYNAMIC_SIGNAL_COLLECTION_STARTED:"dynamic_signal_collection_started",BIOMETRIC_SIGNAL_COLLECTION_STARTED:"biometric_signal_collection_started",INVALID_GUID:"invalid_guid",INVALID_LENGTH:"invalid_length",GET_LOCAL_STORAGE_ERROR:"get_local_storage_error",WEB_STORAGE:"web_storage",PARSE_CONFIG_ERROR:"parse_config_error",HB_START_FAILURE:"hb_start_failure",HB_ALREADY_RUNNING:"hb_already_running",TRY_RESTARTING_HB:"try_restarting_hb",BANZAI_LOG_ERROR:"banzai_log_error"};c="JS";f.LEVELS=a;f.OPERATIONS=b;f.COMPONENT_NAME=c}),66);
__d("BDOperationTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:BDOperationLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:BDOperationLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:BDOperationLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setBdSessionID=function(a){this.$1.bd_session_id=a;return this};c.setComponent=function(a){this.$1.component=a;return this};c.setDurationUs=function(a){this.$1.duration_us=a;return this};c.setExceptionMessage=function(a){this.$1.exception_message=a;return this};c.setExceptionStackTrace=function(a){this.$1.exception_stack_trace=a;return this};c.setExceptionType=function(a){this.$1.exception_type=a;return this};c.setIntValue=function(a){this.$1.int_value=a;return this};c.setLevel=function(a){this.$1.level=a;return this};c.setOperation=function(a){this.$1.operation=a;return this};c.setOperationInfo=function(a){this.$1.operation_info=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setSessionlets=function(a){this.$1.sessionlets=b("GeneratedLoggerUtils").serializeVector(a);return this};return a}();c={bd_session_id:!0,component:!0,duration_us:!0,exception_message:!0,exception_stack_trace:!0,exception_type:!0,int_value:!0,level:!0,operation:!0,operation_info:!0,sessionlets:!0};f["default"]=a}),66);
__d("BDOperationLogHelper",["BDLoggingConstants","BDOperationTypedLogger","Random"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){h(a,d("BDLoggingConstants").LEVELS.INFO,b,c,e)}function b(a,b,c,e){h(a,d("BDLoggingConstants").LEVELS.WARNING,b,c,e)}function e(a,b,c,e){h(a,d("BDLoggingConstants").LEVELS.ERROR,b,c,e)}function h(a,b,e,f,g){f===void 0&&(f={});if(d("Random").coinflip(i(e))){if(f===null)throw new Error("opeartion info null");f.source=a;new(c("BDOperationTypedLogger"))().setLevel(b).setDurationUs(g).setOperation(e).setComponent(d("BDLoggingConstants").COMPONENT_NAME).setOperationInfo(f).log()}}function i(a){var b=d("BDLoggingConstants").OPERATIONS;switch(a){case b.APPEND_SIGNAL:case b.HB_COLLECTED:case b.GET_LOCAL_STORAGE_ERROR:case b.WEB_STORAGE:case b.SIGNAL_NOT_IMPLEMENTED:case b.BIOMETRIC_SIGNAL_COLLECTION_STARTED:return 1e3;default:return 1}}g.logInfo=a;g.logWarning=b;g.logError=e;g.log=h;g.getFlipSamplingByOperation=i}),98);
__d("SignalErrorValueTypeDef",[],(function(a,b,c,d,e,f){"use strict";var g="ec",h="en",i="es",j=500;a=function(){function a(a,b,c){this.$1=a,this.$2=b,c!=null&&(this.$3=c.substr(0,j))}var b=a.prototype;b.getErrorCode=function(){return this.$1};b.getErrorName=function(){return this.$2};b.getErrorDetails=function(){return this.$3};b.isEqual=function(a){return this.$1===a.getErrorCode()&&this.$3===a.getErrorDetails()&&this.$2===a.getErrorName()};b.toJSON=function(){var a={};a[g]=this.$1;switch(this.$1){case 0:a[h]=this.$2;a[i]=this.$3;break}return a};return a}();f.SignalErrorValueTypeDef=a}),66);
__d("SignalValueTypeDef",["BDLoggingConstants","BDOperationLogHelper","SignalErrorValueTypeDef"],(function(a,b,c,d,e,f,g){"use strict";var h="SignalValueTypeDef",i="t",j="ctx",k="v",l="e",m={NUMBER:"NUMBER",STRING:"STRING",BOOLEAN:"BOOLEAN",CUSTOM_OBJECT:"CUSTOM_OBJECT",INT_ARRAY:"INT_ARRAY",TOUCH:"TOUCH",MAP:"MAP",LIST:"LIST",SENSOR:"SENSOR",ERROR:"ERROR"};a=function(){function a(a,b,c,d,e){this.$1=a,this.$2=b,this.$3=c,this.$4=d,this.$5=e!=null?e:0}var b=a.prototype;b.getTimeStampMS=function(){return this.$1};b.getSignalContext=function(){return this.$2};b.getSignalValue=function(){return this.$3};b.getSignalValueType=function(){return this.$4};b.isEqual=function(a,b){if(a==null){d("BDOperationLogHelper").logWarning(h,d("BDLoggingConstants").OPERATIONS.SIGNAL_VALUE_NULL);return!1}if(this.getSignalValueType()!==a.getSignalValueType())return!1;if(this.getSignalValueType()===m.ERROR&&a.getSignalValueType()===m.ERROR)return this.equalValue(a);var c=!1;b.has(128)&&(c=this.equalValue(a));b.has(256)&&(c=c&&this.getSignalContext()!=null&&a.getSignalContext()!=null&&this.getSignalContext().getSignalValueContextName()===a.getSignalContext().getSignalValueContextName());b.has(512)&&(c=c&&Math.abs(this.getTimeStampMS()-a.getTimeStampMS())<=this.$5);return c};b.equalValue=function(a){if(this.isPrimitiveType())return this.getSignalValue()===a.getSignalValue();throw new Error("Must implement in the subclasses")};b.toJSON=function(a){var b={};a&&(b[i]=this.$1/1e3,this.$2!=null&&(b[j]=this.$2));this.$3==null?b[l]=new(d("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(2):this.addValueOrErrorToJSON(b);return b};b.addValueOrErrorToJSON=function(a){if(this.isPrimitiveType())a[k]=this.$3;else throw new Error("Must implement in the subclasses")};b.isPrimitiveType=function(){switch(typeof this.$3){case"number":case"boolean":case"string":return!0;default:return!1}};return a}();g.BD_VALUE=k;g.BD_ERROR=l;g.VALUE_TYPES=m;g.SignalValueTypeDef=a}),98);
__d("ErrorSignalValueType",["SignalValueTypeDef"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b,c,e){return a.call(this,b,c,e,d("SignalValueTypeDef").VALUE_TYPES.ERROR)||this}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.equalValue=function(a){return this.getSignalValue().isEqual(a.getSignalValue())};c.addValueOrErrorToJSON=function(a){a[d("SignalValueTypeDef").BD_ERROR]=this.getSignalValue().toJSON()};return b}(d("SignalValueTypeDef").SignalValueTypeDef);g["default"]=a}),98);
__d("NumberSignalValueType",["SignalValueTypeDef"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b,c,e){return a.call(this,b,c,e,d("SignalValueTypeDef").VALUE_TYPES.NUMBER)||this}babelHelpers.inheritsLoose(b,a);return b}(d("SignalValueTypeDef").SignalValueTypeDef);g["default"]=a}),98);
__d("BDConnectionRTTSignalCollector",["BDSignalCollectorBase","ErrorSignalValueType","NumberSignalValueType","SignalErrorValueTypeDef"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){function a(){return b.call(this,j.signalType)||this}babelHelpers.inheritsLoose(a,b);var e=a.prototype;e.executeSignalCollection=function(){if(navigator.connection!=null&&navigator.connection.rtt!=null){var a=navigator.connection.rtt;a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),a)}else a=new(c("ErrorSignalValueType"))(Date.now(),this.getContext(),new(d("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(3,"navigator.connection.rtt not supported"));return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30004,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("CustomObjectSignalValueType",["SignalValueTypeDef"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b,c,e){return a.call(this,b,c,e,d("SignalValueTypeDef").VALUE_TYPES.CUSTOM_OBJECT)||this}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.equalValue=function(a){return this.getSignalValue().isEqual(a.getSignalValue())};c.addValueOrErrorToJSON=function(a){a[d("SignalValueTypeDef").BD_VALUE]=this.getSignalValue().toJSON()};return b}(d("SignalValueTypeDef").SignalValueTypeDef);g["default"]=a}),98);
__d("HeartbeatObject",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.isAppForeground=!0}var b=a.prototype;b.toJSON=function(){return{f:this.isAppForeground}};b.isEqual=function(a){return!1};return a}();f["default"]=a}),66);
__d("BDHeartbeatSignalCollector",["BDSignalCollectorBase","CustomObjectSignalValueType","HeartbeatObject"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){function a(){return b.call(this,j.signalType)||this}babelHelpers.inheritsLoose(a,b);var d=a.prototype;d.executeSignalCollection=function(){var a=new(c("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(c("HeartbeatObject"))());return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:38e3,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("KeyDownUpObject",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.action=null,this.key_code=null,this.action=a,this.key_code=b}var b=a.prototype;b.toJSON=function(){return{action:this.action,key_code:this.key_code}};b.isEqual=function(b){return b instanceof a?this.action===b.action&&this.key_code===b.key_code:!1};return a}();f["default"]=a}),66);
__d("BDKeyDownUpSignalCollector",["BDBiometricSignalCollectorBase","CustomObjectSignalValueType","KeyDownUpObject","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){function a(){return b.call(this,j.signalType)||this}babelHelpers.inheritsLoose(a,b);var e=a.prototype;e.listenForSignals=function(){var a=this;c("gkx")("21049")&&(document.addEventListener("keydown",function(b){return a.collectSignals(2)}),document.addEventListener("keyup",function(b){return a.collectSignals(1)}))};e.collectSignals=function(a){a=new(c("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(c("KeyDownUpObject"))(a,0));a={signalId:this.signalType,data:{valueOrError:a}};window.dispatchEvent(new CustomEvent(d("BDBiometricSignalCollectorBase").BIOMETRIC_SIGNAL_COLLECTED_EVENT_NAME,{detail:a}))};return a}(d("BDBiometricSignalCollectorBase").BDBiometricSignalCollectorBase),i=null,j={signalType:30100,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("StringArrayObject",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.strings=[],this.strings=a}var b=a.prototype;b.toJSON=function(){return this.strings};b.isEqual=function(b){if(!(b instanceof a))return!1;if(b.strings===this.strings)return!0;if(b.strings.length!==this.strings.length)return!1;for(var c=0;c<this.strings.length;c++)if(this.strings[c]!==b.strings[c])return!1;return!0};return a}();f["default"]=a}),66);
__d("BDLanguagesSignalCollector",["BDSignalCollectorBase","CustomObjectSignalValueType","StringArrayObject"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){function a(){return b.call(this,j.signalType)||this}babelHelpers.inheritsLoose(a,b);var d=a.prototype;d.executeSignalCollection=function(){var a=[].concat(navigator.languages);a=new(c("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(c("StringArrayObject"))(a));return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30003,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDMimeTypeCountSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){function a(){return b.call(this,j.signalType)||this}babelHelpers.inheritsLoose(a,b);var d=a.prototype;d.executeSignalCollection=function(){var a=navigator.mimeTypes?navigator.mimeTypes.length:-1;a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),a);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30002,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BooleanSignalValueType",["SignalValueTypeDef"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b,c,e){return a.call(this,b,c,e,d("SignalValueTypeDef").VALUE_TYPES.BOOLEAN)||this}babelHelpers.inheritsLoose(b,a);return b}(d("SignalValueTypeDef").SignalValueTypeDef);g["default"]=a}),98);
__d("BDTouchOrMouseSignalCollectorBase",["BDBiometricSignalCollectorBase","BDLoggingConstants","BDOperationLogHelper","BooleanSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h="BDTouchOrMouseSignalCollectorBase";a=function(a){function b(b,c,d){var e;e=a.call(this,b)||this;e.eventsToSubscribe=[];e.pauseTimeout=60*60*1e3;e.eventsToSubscribe=c;e.pauseTimeout=d;e.handler=function(a){return e.collectSignals(a)};return e}babelHelpers.inheritsLoose(b,a);var e=b.prototype;e.listenForSignals=function(){this.collectSignals(),this.addListeners()};e.addListeners=function(){var a=this;this.eventsToSubscribe.forEach(function(b){try{document.addEventListener(b,a.handler)}catch(a){d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.BD_EXCEPTION,{e:a})}})};e.pauseListeners=function(){var a=this;this.eventsToSubscribe.forEach(function(b){document.removeEventListener(b,a.handler)});window.setTimeout(function(){return a.addListeners()},this.pauseTimeout)};e.collectSignals=function(a){a=a!=null;a&&this.pauseListeners();a=new(c("BooleanSignalValueType"))(Date.now(),this.getContext(),a);a={signalId:this.signalType,data:{valueOrError:a}};window.dispatchEvent(new CustomEvent(d("BDBiometricSignalCollectorBase").BIOMETRIC_SIGNAL_COLLECTED_EVENT_NAME,{detail:a}))};return b}(d("BDBiometricSignalCollectorBase").BDBiometricSignalCollectorBase);g["default"]=a}),98);
__d("BDMousePresenceSignalCollector",["BDTouchOrMouseSignalCollectorBase"],(function(a,b,c,d,e,f,g){"use strict";var h=60*60*1e3,i=function(b){function a(){return b.call(this,k.signalType,["mousedown","mousemove"],h)||this}babelHelpers.inheritsLoose(a,b);return a}(c("BDTouchOrMouseSignalCollectorBase")),j=null,k={signalType:30106,get:function(){j==null&&(j=new i());return j}};a=k;g["default"]=a}),98);
__d("StringSignalValueType",["SignalValueTypeDef"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b,c,e){return a.call(this,b,c,e,d("SignalValueTypeDef").VALUE_TYPES.STRING)||this}babelHelpers.inheritsLoose(b,a);return b}(d("SignalValueTypeDef").SignalValueTypeDef);g["default"]=a}),98);
__d("BDNavigatorAppVersionSignalCollector",["BDSignalCollectorBase","StringSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){function a(){return b.call(this,j.signalType)||this}babelHelpers.inheritsLoose(a,b);var d=a.prototype;d.executeSignalCollection=function(){var a=navigator.appVersion;a=new(c("StringSignalValueType"))(Date.now(),this.getContext(),a);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30013,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDNavigatorHardwareConcurrencySignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){function a(){return b.call(this,j.signalType)||this}babelHelpers.inheritsLoose(a,b);var d=a.prototype;d.executeSignalCollection=function(){var a;a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),(a=navigator.hardwareConcurrency)!=null?a:0);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30018,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDNavigatorMaxTouchPointSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){function a(){return b.call(this,j.signalType)||this}babelHelpers.inheritsLoose(a,b);var d=a.prototype;d.executeSignalCollection=function(){var a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),navigator.maxTouchPoints);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30093,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDNavigatorNotificationPermissionSignalCollector",["BDSignalCollectorBase","ErrorSignalValueType","SignalErrorValueTypeDef","StringSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){function a(){return b.call(this,j.signalType)||this}babelHelpers.inheritsLoose(a,b);var e=a.prototype;e.executeAsyncSignalCollection=async function(){try{if(navigator.permissions){var a=await navigator.permissions.query({name:"notifications"});a=new(c("StringSignalValueType"))(Date.now(),this.getContext(),a.state)}else a=new(c("ErrorSignalValueType"))(Date.now(),this.getContext(),new(d("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(3,"navigator.permissions not supported"))}catch(b){a=new(c("ErrorSignalValueType"))(Date.now(),this.getContext(),new(d("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(3,"notifications cannot be queried from navigator.permissions"))}return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30008,get:function(){i==null&&(i=new h());return i}};a=j;g.default=a}),98);
__d("BDNavigatorPlatformSignalCollector",["BDSignalCollectorBase","StringSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){function a(){return b.call(this,j.signalType)||this}babelHelpers.inheritsLoose(a,b);var d=a.prototype;d.executeSignalCollection=function(){var a=new(c("StringSignalValueType"))(Date.now(),this.getContext(),navigator.platform);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30015,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDNavigatorPluginsFileExtensionsSignalCollector",["BDSignalCollectorBase","ErrorSignalValueType","SignalErrorValueTypeDef","StringArrayObject"],(function(a,b,c,d,e,f,g){"use strict";var h=10,i=function(b){function a(){return b.call(this,k.signalType)||this}babelHelpers.inheritsLoose(a,b);var e=a.prototype;e.executeSignalCollection=function(){var a=null;try{var b=navigator.plugins?navigator.plugins.length:0,e=new Set();for(var f=0;f<b;f++){var g=navigator.plugins[f].filename;if(!g)continue;var i=g.indexOf(".");if(i==-1||i==g.length-1)continue;e.add(g.substr(i+1));if(e.size>=h)break}e.size&&(a=new(c("StringArrayObject"))(Array.from(e)))}catch(b){a=new(c("ErrorSignalValueType"))(Date.now(),this.getContext(),new(d("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(3,"navigator.plugins is not defined"))}return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),j=null,k={signalType:30019,get:function(){j==null&&(j=new i());return j}};a=k;g["default"]=a}),98);
__d("BDNavigatorUserAgentSignalCollector",["BDSignalCollectorBase","StringSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){function a(){return b.call(this,j.signalType)||this}babelHelpers.inheritsLoose(a,b);var d=a.prototype;d.executeSignalCollection=function(){var a=new(c("StringSignalValueType"))(Date.now(),this.getContext(),navigator.userAgent);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30094,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDNavigatorVendorSignalCollector",["BDSignalCollectorBase","StringSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){function a(){return b.call(this,j.signalType)||this}babelHelpers.inheritsLoose(a,b);var d=a.prototype;d.executeSignalCollection=function(){var a=navigator.vendor;a=new(c("StringSignalValueType"))(Date.now(),this.getContext(),a);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30012,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDNotificationPermissionSignalCollector",["BDSignalCollectorBase","ErrorSignalValueType","SignalErrorValueTypeDef","StringSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){function a(){return b.call(this,j.signalType)||this}babelHelpers.inheritsLoose(a,b);var e=a.prototype;e.executeSignalCollection=function(){var a;window.Notification?a=new(c("StringSignalValueType"))(Date.now(),this.getContext(),Notification.permission):a=new(c("ErrorSignalValueType"))(Date.now(),this.getContext(),new(d("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(3,"Notification not supported"));return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30007,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDPluginCountSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){function a(){return b.call(this,j.signalType)||this}babelHelpers.inheritsLoose(a,b);var d=a.prototype;d.executeSignalCollection=function(){var a=navigator.plugins?navigator.plugins.length:-1;a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),a);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30001,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDTimezoneOffsetSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){function a(){return b.call(this,j.signalType)||this}babelHelpers.inheritsLoose(a,b);var d=a.prototype;d.executeSignalCollection=function(){var a;a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),(a=new Date().getTimezoneOffset())!=null?a:999);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30040,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDTouchPresenceSignalCollector",["BDTouchOrMouseSignalCollectorBase"],(function(a,b,c,d,e,f,g){"use strict";var h=60*60*1e3,i=function(b){function a(){return b.call(this,k.signalType,["touchstart","touchcancel"],h)||this}babelHelpers.inheritsLoose(a,b);return a}(c("BDTouchOrMouseSignalCollectorBase")),j=null,k={signalType:30107,get:function(){j==null&&(j=new i());return j}};a=k;g["default"]=a}),98);
__d("BDWebdriverSignalCollector",["BDSignalCollectorBase","BooleanSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){function a(){return b.call(this,j.signalType)||this}babelHelpers.inheritsLoose(a,b);var d=a.prototype;d.executeSignalCollection=function(){var a=!!navigator.webdriver;a=new(c("BooleanSignalValueType"))(Date.now(),this.getContext(),a);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:3e4,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDWebglSupportSignalCollector",["BDSignalCollectorBase","BooleanSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){function a(){return b.call(this,j.signalType)||this}babelHelpers.inheritsLoose(a,b);var d=a.prototype;d.executeSignalCollection=function(){var a=document.createElement("canvas"),b=null;try{b=a.getContext("webgl")||a.getContext("experimental-webgl")}catch(a){}a=Boolean(b);b=new(c("BooleanSignalValueType"))(Date.now(),this.getContext(),a);return{valueOrError:b}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30022,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDWindowHistoryLengthSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){function a(){return b.call(this,j.signalType)||this}babelHelpers.inheritsLoose(a,b);var d=a.prototype;d.executeSignalCollection=function(){var a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),window.history?window.history.length:0);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30095,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("DimensionObject",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.width=null,this.height=null,this.width=a,this.height=b}var b=a.prototype;b.toJSON=function(){return{w:this.width,h:this.height}};b.isEqual=function(b){if(b instanceof a)return this.width===b.width&&this.height===b.height;else return!1};return a}();f["default"]=a}),66);
__d("BDWindowOuterDimensionSignalCollector",["BDSignalCollectorBase","CustomObjectSignalValueType","DimensionObject"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){function a(){return b.call(this,j.signalType)||this}babelHelpers.inheritsLoose(a,b);var d=a.prototype;d.executeSignalCollection=function(){var a=window.innerHeight,b=window.innerWidth;b=new(c("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(c("DimensionObject"))(b,a));return{valueOrError:b}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30005,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("SignalCollectorMap",["BDConnectionRTTSignalCollector","BDHeartbeatSignalCollector","BDHeartbeatV2SignalCollector","BDKeyDownUpSignalCollector","BDLanguagesSignalCollector","BDMimeTypeCountSignalCollector","BDMousePresenceSignalCollector","BDNavigatorAppVersionSignalCollector","BDNavigatorHardwareConcurrencySignalCollector","BDNavigatorMaxTouchPointSignalCollector","BDNavigatorNotificationPermissionSignalCollector","BDNavigatorPlatformSignalCollector","BDNavigatorPluginsFileExtensionsSignalCollector","BDNavigatorUserAgentSignalCollector","BDNavigatorVendorSignalCollector","BDNotificationPermissionSignalCollector","BDPluginCountSignalCollector","BDTimezoneOffsetSignalCollector","BDTouchPresenceSignalCollector","BDWebdriverSignalCollector","BDWebglSupportSignalCollector","BDWindowHistoryLengthSignalCollector","BDWindowOuterDimensionSignalCollector"],(function(a,b,c,d,e,f,g){"use strict";a={get:function(a){switch(a){case 3e4:return c("BDWebdriverSignalCollector").get();case 30001:return c("BDPluginCountSignalCollector").get();case 30002:return c("BDMimeTypeCountSignalCollector").get();case 30003:return c("BDLanguagesSignalCollector").get();case 30004:return c("BDConnectionRTTSignalCollector").get();case 30005:return c("BDWindowOuterDimensionSignalCollector").get();case 30007:return c("BDNotificationPermissionSignalCollector").get();case 30008:return c("BDNavigatorNotificationPermissionSignalCollector").get();case 30012:return c("BDNavigatorVendorSignalCollector").get();case 30013:return c("BDNavigatorAppVersionSignalCollector").get();case 30015:return c("BDNavigatorPlatformSignalCollector").get();case 30018:return c("BDNavigatorHardwareConcurrencySignalCollector").get();case 30019:return c("BDNavigatorPluginsFileExtensionsSignalCollector").get();case 30022:return c("BDWebglSupportSignalCollector").get();case 30040:return c("BDTimezoneOffsetSignalCollector").get();case 30093:return c("BDNavigatorMaxTouchPointSignalCollector").get();case 30094:return c("BDNavigatorUserAgentSignalCollector").get();case 30095:return c("BDWindowHistoryLengthSignalCollector").get();case 30100:return c("BDKeyDownUpSignalCollector").get();case 30106:return c("BDMousePresenceSignalCollector").get();case 30107:return c("BDTouchPresenceSignalCollector").get();case 38e3:return c("BDHeartbeatSignalCollector").get();case 38001:return c("BDHeartbeatV2SignalCollector").get()}}};b=a;g["default"]=b}),98);
__d("HeartbeatV2Object",["HeartbeatObject"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b){var c;c=a.call(this)||this;c.id="";c.id=b;return c}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.toJSON=function(){return{f:this.isAppForeground,id:this.id}};return b}(c("HeartbeatObject"));g["default"]=a}),98);
__d("BDHeartbeatV2SignalCollector",["BDClientConfig","BDSignalCollectorBase","CustomObjectSignalValueType","HeartbeatV2Object"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){function a(){return b.call(this,j.signalType)||this}babelHelpers.inheritsLoose(a,b);var d=a.prototype;d.executeSignalCollection=function(){var a=new(c("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(c("HeartbeatV2Object"))(c("BDClientConfig").get().getHeartbeatVersion()));return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:38001,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDClientConfig",["BDLoggingConstants","BDOperationLogHelper","BDSignalWrapper"],(function(a,b,c,d,e,f,g){"use strict";var h="BDClientConfig",i=function(){function a(){this.staticSignalBufferSize=1,this.dynamicSignalBufferSize=1,this.biometricSignalBufferSize=1,this.staticSignals=[],this.dynamicSignals=[],this.biometricSignals=[],this.biometricSignalsMap=new Map(),this.heartbeatSignal=new(c("BDSignalWrapper"))([],38001),this.bufferSizeBySignalIdMap={},this.periodicCollectionIntervalMs=Number.MAX_SAFE_INTEGER,this.signalConfigGenerationTimeStampMs=0,this.suspiciousTiersFlushDurationMs=Number.MAX_SAFE_INTEGER,this.allTiersFlushDurationMs=Number.MAX_SAFE_INTEGER,this.heartbeatIntervalMs=-1,this.parsingDone=!1,this.sid=-1,this.hbVersion="",this.bufferSizeBySignalIdMap[38001]=1}var b=a.prototype;b.setStaticSignalBufferSize=function(a){a>0?this.staticSignalBufferSize=a:d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.INVALID_BUFFER_SIZE,{size:a.toString(),type:"s"});return this};b.getStaticSignalBufferSize=function(){return this.staticSignalBufferSize};b.setDynamicSignalBufferSize=function(a){a>1?this.dynamicSignalBufferSize=a:d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.INVALID_BUFFER_SIZE,{size:a.toString(),type:"d"});return this};b.getDynamicSignalBufferSize=function(){return this.dynamicSignalBufferSize};b.setBiometricSignalBufferSize=function(a){a>1?this.biometricSignalBufferSize=a:d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.INVALID_BUFFER_SIZE,{size:a.toString(),type:"b"});return this};b.setSID=function(a){this.sid=a;return this};b.setHeartbeatVersion=function(a){this.hbVersion=a;return this};b.getHeartbeatVersion=function(){return this.hbVersion};b.getBiometricSignalBufferSize=function(){return this.biometricSignalBufferSize};b.setConfigGenerationTimeStamp=function(a){this.signalConfigGenerationTimeStampMs=a;return this};b.getConfigGenerationTimeStamp=function(){return this.signalConfigGenerationTimeStampMs};b.setHeartbeatIntervalMinutes=function(a){this.heartbeatIntervalMs=a*60*1e3;return this};b.getHeartbeatIntervalMs=function(){return this.heartbeatIntervalMs};b.setSuspiciousTiersFlushDurationMinutes=function(a){a>0?this.suspiciousTiersFlushDurationMs=a*60*1e3:d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.INVALID_DURATION,{size:a.toString(),type:"fds"});return this};b.getSuspiciousTiersFlushDurationMs=function(){return this.suspiciousTiersFlushDurationMs};b.setAllTiersFlushDurationMinutes=function(a){a>0?this.allTiersFlushDurationMs=a*60*1e3:d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.INVALID_DURATION,{size:a.toString(),type:"fda"});return this};b.getAllTiersFlushDurationMs=function(){return this.allTiersFlushDurationMs};b.addMultipleSignalsToClientConfig=function(a){var b=this;a.forEach(function(a){return b.addSignalToClientConfig(a)});return this};b.addSignalToClientConfig=function(a){var b=a.getSignalFlags(),d=a.getSignalId();if(d===38e3)return this;var e=new(c("BDSignalWrapper"))(b,d);if(d===38001){this.heartbeatSignal=e;return this}!b.includes(2)?this.staticSignals.push(e):b.includes(4)?this.biometricSignals.push(e):this.dynamicSignals.push(e);a.getBufferSize()>0&&(this.bufferSizeBySignalIdMap[a.getSignalId()]=a.getBufferSize());return this};b.setPeriodicCollectionIntervalSeconds=function(a){a>0?this.periodicCollectionIntervalMs=a*1e3:d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.INVALID_DURATION,{size:a.toString(),type:"pi"});return this};b.getPeriodicCollectionIntervalMs=function(){return this.periodicCollectionIntervalMs};b.getDynamicSignals=function(){return this.dynamicSignals};b.getStaticSignals=function(){return this.staticSignals};b.getBiometricSignals=function(){return this.biometricSignals};b.getBiometricSignalsMap=function(){this.biometricSignalsMap.size===0&&this.biometricSignals.length>0&&(this.biometricSignalsMap=this.biometricSignals.reduce(function(a,b){return a.set(b.signalType,b)},new Map()));return this.biometricSignalsMap};b.getHeartbeatSignal=function(){return this.heartbeatSignal};b.getBufferSizeBySignalId=function(a){return this.bufferSizeBySignalIdMap[a]};b.setParsingDone=function(a){this.parsingDone=a};b.isParsingDone=function(){return this.parsingDone};return a}(),j=null;a={get:function(){j==null&&(j=new i());return j}};b=a;g["default"]=b}),98);
__d("BDCollectionTypeEnum",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({STATIC:0,DYNAMIC:1,BIOMETRIC:2});f["default"]=a}),66);
__d("BotDetection_SignalFlags",[],(function(a,b,c,d,e,f){a=Object.freeze({ACTIVE:1,DYNAMIC:2,BIOMETRIC:4,DEPRECATED:8,WEB:16,IOS_NATIVE:32,ANDROID_NATIVE:64,EQUAL_BY_VALUE:128,EQUAL_BY_CONTEXT:256,EQUAL_BY_TIMESTAMP:512,SUSPICIOUS_TIER:1024,PARANOID_TIER:2048,RANDOM_SAMPLE_TIER_DEPRECATED:4096,BENIGN_TIER:262144,EMPLOYEES_TIER:524288,BUNDLE:8192,ONSITE:16384,OFFSITE:32768,OFFSITE_SENSITIVE:65536,SENSITIVE:131072});f["default"]=a}),66);
__d("BDServerSignalConfig",["BDLoggingConstants","BDOperationLogHelper","BotDetection_SignalFlags"],(function(a,b,c,d,e,f,g){"use strict";var h="BDServerSignalConfig";a=function(){function a(a,b,c){this.parsedSignalFlags=[],this.signalId=a,this.signalFlags=b,this.bufferSize=c}var b=a.prototype;b.getSignalId=function(){return this.signalId};b.getSignalFlags=function(){var a=this;if(this.parsedSignalFlags.length===0){var b=Object.keys(c("BotDetection_SignalFlags"));b.forEach(function(b){(c("BotDetection_SignalFlags")[b]&a.signalFlags)===c("BotDetection_SignalFlags")[b]&&a.parsedSignalFlags.push(c("BotDetection_SignalFlags")[b])})}this.parsedSignalFlags.length===0&&d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.SIGNAL_FLAGS_MISSING,{id:this.signalId.toString(),flags:this.signalFlags.toString()});return this.parsedSignalFlags};b.getBufferSize=function(){return this.bufferSize!=null?this.bufferSize:0};return a}();g["default"]=a}),98);
__d("BDServerConfig",["BDClientConfig","BDLoggingConstants","BDOperationLogHelper","BDServerSignalConfig"],(function(a,b,c,d,e,f,g){"use strict";var h="BDServerConfig";function a(a){var b=[];try{var e=JSON.parse(a.sc),f=new Map(e.c);f.forEach(function(a,d){return b.push(new(c("BDServerSignalConfig"))(d,a))});if(f.size===0){d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.EMPTY_SIGNAL_CONFIG);return}f=c("BDClientConfig").get();f.setPeriodicCollectionIntervalSeconds(a.i).addMultipleSignalsToClientConfig(b).setConfigGenerationTimeStamp(e.t).setAllTiersFlushDurationMinutes(a.fda).setSuspiciousTiersFlushDurationMinutes(a.fds).setHeartbeatIntervalMinutes(a.hbi).setStaticSignalBufferSize(a.sbs).setDynamicSignalBufferSize(a.dbs).setBiometricSignalBufferSize(a.bbs).setSID(a.sid).setHeartbeatVersion(a.hbv).setParsingDone(!0)}catch(a){d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.PARSE_CONFIG_ERROR,{e:a})}}g.parseConfig=a}),98);
__d("BDSignalBuffer",["BDClientConfig","BDCollectionTypeEnum","BDLoggingConstants","BDOperationLogHelper","BDSignalBufferData"],(function(a,b,c,d,e,f,g){"use strict";var h="BDSignalBuffer";function a(a,b,d){if(a in c("BDSignalBufferData"))return;var e=1;b!==void 0&&(e=b);c("BDSignalBufferData")[a]={values:[],max_buffer_size:e,signal_flags:d!=null?d:[]}}function i(a){if(a in c("BDSignalBufferData"))c("BDSignalBufferData")[a].values=[];else throw new Error("Tried to clear signal buffer that was not intialized:")}function b(a,b){if(a in c("BDSignalBufferData")){var e=c("BDSignalBufferData")[a],f=e.max_buffer_size;e.values.length>=f&&e.values.shift();e.values.push(b);d("BDOperationLogHelper").logInfo(h,d("BDLoggingConstants").OPERATIONS.APPEND_SIGNAL,{id:a.toString()})}else{d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.APPEND_SIGNAL_FAIL,{id:a.toString()});throw new Error("Tried to append signal that was not intialized:")}}function e(){var a=c("BDClientConfig").get();a=a.getBiometricSignals();a.forEach(function(a){a.signalType in c("BDSignalBufferData")&&i(a.signalType)})}function f(a){var b;a=c("BDSignalBufferData")[a];var d=a==null||(b=a.values)==null?void 0:b.length;return d!=null&&d>0?a.values[d-1]:{valueOrError:void 0}}function j(a){return c("BDSignalBufferData")[a].values}function k(a){var b={};for(a of a)a in c("BDSignalBufferData")&&(b[a]=j(a).map(function(a){return a.valueOrError}));return b}function l(a){a=m(a);return JSON.stringify(k(a))}function m(a){var b=c("BDClientConfig").get(),d=[];a.forEach(function(a){switch(a){case c("BDCollectionTypeEnum").STATIC:d=[].concat(d,b.getStaticSignals());break;case c("BDCollectionTypeEnum").DYNAMIC:d=[].concat(d,b.getDynamicSignals());break;case c("BDCollectionTypeEnum").BIOMETRIC:d=[].concat(d,b.getBiometricSignals());break}});return d.map(function(a){return a.signalType})}g.initialize=a;g.clearBuffer=i;g.appendSignal=b;g.clearBiometricSignals=e;g.getLastSignalFormatBySignalId=f;g.retrieveSignal=j;g.retrieveSignals=k;g.getSignalsAsJSONString=l;g._getSignalIdsByCollectionType=m}),98);
__d("BDUtils",[],(function(a,b,c,d,e,f){"use strict";function a(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=Math.random()*16|0;a=a=="x"?b:b&3|8;return a.toString(16)})}f.uuid=a}),66);
__d("BdPdcSignalsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743095");b=d("FalcoLoggerInternal").create("bd_pdc_signals",a);e=b;g["default"]=e}),98);
__d("SignalCollectionManager",["BDBiometricSignalCollectorBase","BDClientConfig","BDLoggingConstants","BDOperationLogHelper","BDSignalBuffer"],(function(a,b,c,d,e,f,g){"use strict";var h="SignalCollectionManager",i=function(){function a(){var a=this;this.$1=!1;this.$6=function(b){if(b instanceof CustomEvent&&b.detail!=null&&b.detail.data!=null){var d=c("BDClientConfig").get().getBiometricSignalsMap().get(b.detail.signalId);d!=null&&a.$4(b.detail.data,d)}}}var b=a.prototype;b.collectSignals=async function(a){var b=this,c=[];a.forEach(function(a){a.signalFlags.includes(4)?b.$2(a):c.push(b.$3(a))});await Promise.all(c)};b.isEqualToLastCollectedSignal=function(a,b){var c=d("BDSignalBuffer").getLastSignalFormatBySignalId(b.signalType);return c.valueOrError==void 0?!1:a.isEqual(c.valueOrError,new Set(b.signalFlags))};b.getCircularBufferSize=function(a){var b=c("BDClientConfig").get(),d=b.getBufferSizeBySignalId(a.signalType);if(d!=null&&b.getBufferSizeBySignalId(a.signalType)>0)return d;if(!a.signalFlags.includes(2))return b.getStaticSignalBufferSize();else if(a.signalFlags.includes(4))return b.getBiometricSignalBufferSize();else return b.getDynamicSignalBufferSize()};b.$3=async function(a){var b=a.getSignalCollector();if(b!=null)try{b=await b.executeAsyncSignalCollection();this.$4(b,a)}catch(a){d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.BD_EXCEPTION,{error:a})}};b.$2=function(a){this.$5();a=a.getSignalCollector();a!=null&&a instanceof d("BDBiometricSignalCollectorBase").BDBiometricSignalCollectorBase&&a.listenForSignals()};b.$5=function(){if(this.$1)return;window.addEventListener(d("BDBiometricSignalCollectorBase").BIOMETRIC_SIGNAL_COLLECTED_EVENT_NAME,this.$6);this.$1=!0};b.$4=function(a,b){b.getBufferConfig()==null&&d("BDSignalBuffer").initialize(b.signalType,this.getCircularBufferSize(b),b.signalFlags),a.valueOrError&&!this.isEqualToLastCollectedSignal(a.valueOrError,b)&&d("BDSignalBuffer").appendSignal(b.signalType,a)};return a}(),j=null;a={get:function(){j==null&&(j=new i());return j}};b=a;g.default=b}),98);
__d("BDClientSignalCollectionTrigger",["BDClientConfig","BDCollectionTypeEnum","BDLoggingConstants","BDOperationLogHelper","BDServerConfig","BDSignalBuffer","BDUtils","BdPdcSignalsFalcoEvent","SignalCollectionManager","WebStorage","javascript-blowfish"],(function(a,b,c,d,e,f,g){"use strict";var h,i="BDClientSignalCollectionTrigger",j="signal_flush_timestamp",k=!1,l=!1,m=!1,n=!1,o=0,p=0,q=0,r=30,s=5,t,u,v=d("BDUtils").uuid(),w=c("BDClientConfig").get(),x=Object.freeze({NONE:0,VITAL:1,CRITICAL:2}),y={startSignalCollection:async function(a){w.setSID(a.sid);if(!k){k=!0;d("BDServerConfig").parseConfig(a);if(!w.isParsingDone()){d("BDOperationLogHelper").logError(i,d("BDLoggingConstants").OPERATIONS.PARSE_CONFIG_ERROR,{config:JSON.stringify(a)});k=!1;return}a!=null&&(p=a.hbcbc&&a.hbcbc>0?a.hbcbc:p,q=a.hbvbc&&a.hbvbc>0?a.hbvbc:q,r=a.hbbi&&a.hbbi>0?a.hbbi:r);y.startHeartbeatDelayed();u=new Promise(function(a,b){try{w.getDynamicSignals().length>0&&(y.collectDynamicSignals(),d("BDOperationLogHelper").logInfo(i,d("BDLoggingConstants").OPERATIONS.DYNAMIC_SIGNAL_COLLECTION_STARTED,{ts:Date.now().toString()})),w.getBiometricSignals().length>0&&(y.collectBiometricSignals(),d("BDOperationLogHelper").logInfo(i,d("BDLoggingConstants").OPERATIONS.BIOMETRIC_SIGNAL_COLLECTION_STARTED,{ts:Date.now().toString()})),a()}catch(a){b(a)}});await u;await y.startSignalPosting()}k&&!m&&!n&&s>0&&(s-=1,d("BDOperationLogHelper").logWarning(i,d("BDLoggingConstants").OPERATIONS.TRY_RESTARTING_HB),y.startHeartbeatDelayed())},retrieveSignals:async function(){await u,await y.postSignals([c("BDCollectionTypeEnum").DYNAMIC,c("BDCollectionTypeEnum").BIOMETRIC,c("BDCollectionTypeEnum").STATIC])},postSignals:async function(a){await y.collectStaticSignals(),y._postSignalsHelper(d("BDSignalBuffer").getSignalsAsJSONString(a),x.NONE)&&y.setTimestampInStorage(Date.now(),j)},_postSignalsHelper:function(a,b){if(a.length<=2)return!1;var e=w.getConfigGenerationTimeStamp(),f=y.encryptDataUsingAsid(v,a);a=function(){return{asid:v,ct:e,sjd:f,sid:w.sid}};var g=!1;try{b===x.CRITICAL?c("BdPdcSignalsFalcoEvent").logCritical(a):b===x.VITAL?c("BdPdcSignalsFalcoEvent").logImmediately(a):c("BdPdcSignalsFalcoEvent").log(a),g=!0}catch(a){d("BDOperationLogHelper").logError(i,d("BDLoggingConstants").OPERATIONS.BANZAI_LOG_ERROR,a),g=!1}finally{return g}},getInitialVector:function(a){if(a.length!==16){d("BDOperationLogHelper").logError(i,d("BDLoggingConstants").OPERATIONS.INVALID_LENGTH);return""}var b="";for(var c=0;c<8;c++)b+=String.fromCharCode(a.charCodeAt(c)^a.charCodeAt(8+c));return b},encryptDataUsingAsid:function(a,b){if(a.length!==36){d("BDOperationLogHelper").logError(i,d("BDLoggingConstants").OPERATIONS.INVALID_GUID);return b}a=a.slice(19,23)+a.slice(24,36);var e=y.getInitialVector(a);a=new(c("javascript-blowfish"))(a,"cbc");return a.base64Encode(a.encrypt(b,e))},startSignalPosting:async function(){var a=y.getTimestampInStorage(j);a=Date.now()-a;a>=w.getAllTiersFlushDurationMs()?await y.postSignalsIntermittently():window.setTimeout(function(){y.postSignalsIntermittently()},w.getAllTiersFlushDurationMs()-a)},postSignalsIntermittently:function(){y.postSignals([c("BDCollectionTypeEnum").STATIC]),window.setInterval(function(){y.postSignals([c("BDCollectionTypeEnum").STATIC,c("BDCollectionTypeEnum").DYNAMIC,c("BDCollectionTypeEnum").BIOMETRIC])},w.getAllTiersFlushDurationMs())},setTimestampInStorage:function(a,b){var e=(h||(h=c("WebStorage"))).getLocalStorage();if(!e){d("BDOperationLogHelper").logWarning(i,d("BDLoggingConstants").OPERATIONS.GET_LOCAL_STORAGE_ERROR);return}e=h.setItemGuarded(e,b,a.toString());e!=null&&d("BDOperationLogHelper").logWarning(i,d("BDLoggingConstants").OPERATIONS.WEB_STORAGE,{error:e.message})},getTimestampInStorage:function(a){var b=(h||(h=c("WebStorage"))).getLocalStorage();if(!b){d("BDOperationLogHelper").logWarning(i,d("BDLoggingConstants").OPERATIONS.GET_LOCAL_STORAGE_ERROR);return 0}b=b.getItem(a);if(b==null)return 0;a=Number.parseInt(b,10);return Number.isFinite(a)?a:0},resetHeartbeatStartedForTest:function(){m=!1,n=!1},startHeartbeatDelayed:function(){if(m||n)return;var a=y.getTimestampInStorage(y.HEARTBEAT_TIMESTAMP_STORAGE_KEY);a=Date.now()-a;try{a>=w.getHeartbeatIntervalMs()?y.startHeartbeat():(window.setTimeout(function(){return y.startHeartbeat()},w.getHeartbeatIntervalMs()-a),n=!0)}catch(b){d("BDOperationLogHelper").logError(i,d("BDLoggingConstants").OPERATIONS.HB_START_FAILURE,{lastBeatSince:a.toString(),hbi:w.getHeartbeatIntervalMs().toString(),e:b})}},HEARTBEAT_TIMESTAMP_STORAGE_KEY:"hb_timestamp",startHeartbeat:function(){!m&&w.getHeartbeatIntervalMs()>0&&(y.collectHeartbeatTimes(p,q),o!==0&&(window.clearInterval(o),d("BDOperationLogHelper").logWarning(i,d("BDLoggingConstants").OPERATIONS.HB_ALREADY_RUNNING)),o=window.setInterval(function(){return y.collectHeartbeatTimes(p,q)},w.getHeartbeatIntervalMs()),m=!0)},collectHeartbeatTimes:function(a,b){if(a<=0&&b<=0)return;a>0&&y.collectHeartbeat(x.CRITICAL);b>0&&y.collectHeartbeat(x.VITAL);(a>1||b>1)&&window.setTimeout(function(){return y.collectHeartbeatTimes(a-1,b-1)},r*1e3)},collectHeartbeat:function(a){var b,c=w==null||(b=w.getHeartbeatSignal())==null||(b=b.getSignalCollector())==null?void 0:b.executeSignalCollection();if(c==null){d("BDOperationLogHelper").logError(i,d("BDLoggingConstants").OPERATIONS.HB_COLLECTION_FAILED,{urgency:a.toString()});return}else d("BDOperationLogHelper").logInfo(i,d("BDLoggingConstants").OPERATIONS.HB_COLLECTED,{urgency:a.toString()});y.postHeartbeat(a,c)&&y.setTimestampInStorage(Date.now(),y.HEARTBEAT_TIMESTAMP_STORAGE_KEY)},postHeartbeat:function(a,b){var c={};c[38001]=[b==null?void 0:b.valueOrError];b=JSON.stringify(c);return y._postSignalsHelper(b,a)},collectStaticSignals:async function(){await y.collectSignalsOneTime(w.getStaticSignals())},collectDynamicSignals:function(){y.stopDynamicSignalCollection(),t=window.setInterval(async function(){await y.collectSignalsOneTime(w.getDynamicSignals())},w.getPeriodicCollectionIntervalMs())},collectBiometricSignals:function(){y.collectSignalsOneTime(w.getBiometricSignals())},stopDynamicSignalCollection:function(){t!=null&&(window.clearInterval(t),t=null)},collectSignalsOneTime:async function(a){await c("SignalCollectionManager").get().collectSignals(a)},startLoginTimeSignalCollection:async function(a){l||(l=!0,d("BDServerConfig").parseConfig(a),await y.collectSignalsOneTime(w.getDynamicSignals()),await y.collectSignalsOneTime(w.getBiometricSignals()),await y.collectSignalsOneTime(w.getStaticSignals()))},getSignalsAsJSONString:function(){return d("BDSignalBuffer").getSignalsAsJSONString([c("BDCollectionTypeEnum").DYNAMIC,c("BDCollectionTypeEnum").STATIC,c("BDCollectionTypeEnum").BIOMETRIC])}};a=y;g.default=a}),98);
__d("BDCometSignalCollectionTrigger",["BDClientSignalCollectionTrigger","BDSignalCollectionData"],(function(a,b,c,d,e,f,g){"use strict";function a(){c("BDClientSignalCollectionTrigger").startSignalCollection(c("BDSignalCollectionData"))}g.initSignalCollection=a}),98);
__d("Chromedome",["fbt"],(function(a,b,c,d,e,f,g,h){function i(){if(document.domain==null)return null;var a=document.domain,b=/^intern\./.test(a);if(b)return null;b=/(^|\.)facebook\.(com|sg)$/.test(a);if(b)return"facebook";b=/(^|\.)instagram\.com$/.test(a);if(b)return"instagram";b=/(^|\.)threads\.(com|net)$/.test(a);if(b)return"threads";b=/(^|\.)messenger\.com$/.test(a);return b?"messenger":null}function j(a){if(a==="instagram")return h._(/*BTDS*/"This is a browser feature intended for developers. If someone told you to copy-paste something here to enable an Instagram feature or \"hack\" someone's account, it is a scam and will give them access to your Instagram account.");return a==="threads"?h._(/*BTDS*/"This is a browser feature intended for developers. If someone told you to copy-paste something here to enable a Threads feature or \"hack\" someone's account, it is a scam and will give them access to your Threads account."):h._(/*BTDS*/"This is a browser feature intended for developers. If someone told you to copy-paste something here to enable a Facebook feature or \"hack\" someone's account, it is a scam and will give them access to your Facebook account.")}function a(a){if(top!==window)return;a=i();if(a==null)return;var b=h._(/*BTDS*/"Stop!");a=j(a);var c=h._(/*BTDS*/"See {url} for more information.",[h._param("url","https://www.facebook.com/selfxss")]),d="font-family:helvetica; font-size:20px; ";[[b,d+"font-size:50px; font-weight:bold; color:red; -webkit-text-stroke:1px black;"],[a,d],[c,d],["",""]].map(function(a){window.setTimeout(console.log.bind(console,"\n%c"+a[0].toString(),a[1]))})}g.start=a}),226);
__d("ClientConsistencyFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1764786");b=d("FalcoLoggerInternal").create("client_consistency",a);e=b;g["default"]=e}),98);
__d("WebBrowserDimensionsTypedLoggerLite",["generateLiteTypedLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:WebBrowserDimensionsLoggerConfig")}),null);
__d("CometBrowserDimensionsLogger",["CometDebounce","Cookie","ExecutionEnvironment","SiteData","WebBrowserDimensionsTypedLoggerLite","getViewportDimensions","isInIframe"],(function(a,b,c,d,e,f,g){"use strict";var h,i=null,j=!1,k={height:0,width:0};function l(){i===null&&(i=c("getViewportDimensions")());return i}function m(){var a=c("getViewportDimensions")(),b=a.height;a=a.width;(k.width!==a||k.height!==b)&&(k={height:b,width:a},c("Cookie").set("wd",a+"x"+b))}function n(){if(!(h||(h=c("ExecutionEnvironment"))).canUseDOM||c("isInIframe")()||j)return;j=!0;m();window.addEventListener("resize",c("CometDebounce")(m,{wait:250}),{passive:!0});window.addEventListener("focus",m,{passive:!0})}function a(a){var b,d=l();n();b={client_hint_width:a==null?void 0:a.clientHintWidth,pixel_ratio:(b=window.devicePixelRatio)!=null?b:1,screen_x:window.screen.width,screen_y:window.screen.height,server_pixel_ratio:c("SiteData").pr,server_viewport_x:a==null?void 0:a.viewportWidth,server_viewport_y:a==null?void 0:a.viewportHeight,viewport_x:d.width,viewport_y:d.height};window.navigator&&window.navigator.hardwareConcurrency&&(b.cpu_cores_count=window.navigator.hardwareConcurrency);if(window.innerWidth>0&&window.outerWidth>0){a=Math.round(window.outerWidth/window.innerWidth*100)/100;b.zoom_ratio=a}if(window.getComputedStyle&&document.documentElement!=null){d=window.getComputedStyle(document.documentElement);d!=null&&(b.document_font_size=d.fontSize)}c("WebBrowserDimensionsTypedLoggerLite").log(b)}g.init=a}),98);
__d("CometChromeDome",["JSScheduler","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("Chromedome").__setRef("CometChromeDome");function a(){i.onReady(function(a){(h||(h=d("JSScheduler"))).scheduleLoggingPriCallback(function(){a.start({})})})}g.init=a}),98);
__d("CometFBUncaughtError.react",["fbt","CometContentArea.react","FDSNullState.react","NullStateGeneral","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){var a=d("react-compiler-runtime").c(2),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={className:"x6s0dn4 x78zum5 x1dr59a3 xl56j7k xixxii4 xh8yej3"},a[0]=b):b=a[0];a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx("div",babelHelpers["extends"]({},b,{children:j.jsx(c("CometContentArea.react"),{verticalAlign:"middle",children:j.jsx(c("FDSNullState.react"),{headline:h._(/*BTDS*/"Sorry! Something went wrong :("),icon:c("NullStateGeneral")})})})),a[1]=b):b=a[1];return b}g["default"]=a}),226);
__d("CometIconWirelessSlashFilled.react",["CometSVGIcon.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("path",{d:"M23.7805.2195c.2925.293.2925.768 0 1.061l-22.5 22.5C1.134 23.927.942 24 .75 24c-.192 0-.384-.073-.5305-.2195-.2925-.293-.2925-.768 0-1.061l12.1967947-12.1971509c-2.3773758-.1150468-4.79162015.7286756-6.6038447 2.5401009-.3905.3905-1.0235.3905-1.414 0-.3905-.3905-.3905-1.024 0-1.414 2.65728981-2.65728981 6.3696459-3.62280965 9.8005664-2.90852144l2.430738-2.43186193C11.7816792 4.58111626 6.15198938 5.65271062 2.27735 9.52735c-.3905.3905-1.0235.3905-1.414 0-.3905-.3905-.3905-1.0235 0-1.414 4.6714534-4.67191574 11.571522-5.78608437 17.3096457-3.34843552L22.7195.2195c.293-.2925.768-.2925 1.061 0zM12 18.5c.6905 0 1.25.5595 1.25 1.25S12.6905 21 12 21s-1.25-.5595-1.25-1.25.5595-1.25 1.25-1.25zm1.4175-4.81495c.9705.2455 1.8905.741 2.6485 1.499.3905.3905.3905 1.0235 0 1.414-.1955.1955-.451.293-.707.293-.256 0-.512-.0975-.707-.293-.7835333-.7835333-1.8301422-1.1445778-2.8581093-1.0880116L11.574 15.52855l1.8435-1.8435zm3.8154-3.8154c.848.4725 1.649 1.059 2.3685 1.779.391.39.391 1.023 0 1.414-.195.195-.451.293-.707.293-.2555 0-.5115-.098-.707-.293-.7285-.728-1.5575-1.291-2.439-1.7085zm2.1908-2.1908l1.4425-1.4425c.8.545 1.5615 1.168 2.2705 1.877.3905.3905.3905 1.0235 0 1.414-.1955.1955-.451.293-.707.293-.256 0-.5115-.0975-.707-.293-.5933333-.59333333-1.2283333-1.11861111-1.895162-1.57959491L19.4237 7.67885l1.4425-1.4425z"}),b[0]=e):e=b[0];b[1]!==a?(e=i.jsx(c("CometSVGIcon.react"),babelHelpers["extends"]({viewBox:"0 0 24 24"},a,{children:e})),b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),98);
__d("CometNetworkStatusToast",["fbt","BaseToasterStateManager","CometIconWirelessSlashFilled.react","CometRelayEnvironmentFactory","FDSIcon.react","FDSWirelessFilled24Icon","NetworkStatus","SVGIcon","cometPushToast","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=null,l=null;function m(a){a=a.online;var b=c("BaseToasterStateManager").getInstance();k!=null&&(b.expire(k),k=null);k=a?d("cometPushToast").cometPushToast({icon:j.jsx(c("FDSIcon.react"),{color:"positive",icon:c("FDSWirelessFilled24Icon"),size:24}),message:h._(/*BTDS*/"Your internet connection was restored.")},4e3,b):d("cometPushToast").cometPushToast({action:{label:h._(/*BTDS*/"Refresh"),onPress:function(){d("CometRelayEnvironmentFactory").commitLocalUpdateForEachEnvironment(function(a,b,c){c.invalidateStore()})}},icon:j.jsx(c("FDSIcon.react"),{color:"disabled",icon:d("SVGIcon").legacySVGIcon(c("CometIconWirelessSlashFilled.react")),size:24}),message:h._(/*BTDS*/"You are currently offline.")},Infinity,b)}function a(){l=c("NetworkStatus").onChange(m)}function b(){var a;(a=l)==null||a.remove();l=null}g.subscribe=a;g.unsubscribe=b}),226);
__d("CometPixelRatioUpdater",["Cookie","Run","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";var h="dpr";function i(a){c("Cookie").set(h,String(a))}function j(){window.devicePixelRatio!==d("WebPixelRatio").get()&&i(window.devicePixelRatio)}function a(){j(),d("Run").onBeforeUnload(j,!1),"onpagehide"in window&&window.addEventListener("pageHide",j)}g.startDetecting=a}),98);
__d("CometVirtualCursorStatus",["UserAgent","cr:1345969","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=null,i=null;function j(){i||(i=window.addEventListener("blur",function(){h=null,k()}))}function k(){i&&(i.remove(),i=null)}function a(a){h=a.keyCode,j()}function d(a){h=null,k()}if(typeof window!=="undefined"&&window.document&&window.document.createElement){f=document.documentElement;if(f)if(f.addEventListener)f.addEventListener("keydown",a,!0),f.addEventListener("keyup",d,!0);else if(f.attachEvent){f=f.attachEvent;f("onkeydown",a);f("onkeyup",d)}}var l={getKeyDownCode:function(){return h},isKeyDown:function(){return!!h}},m=!1,n=!1,o=null,p=!1;function q(a){var b=new Set(),d=l.isKeyDown(),e=a.WEBKIT_FORCE_AT_MOUSE_DOWN,f=a.clientX,g=a.clientY,h=a.isTrusted,i=a.mozInputSource,j=a.offsetX,k=a.offsetY,o=a.webkitForce;f===0&&g===0&&j>=0&&k>=0&&n&&h&&i==null&&b.add("Chrome");m&&n&&!d&&o!=null&&o<e&&j===0&&k===0&&i==null&&b.add("Safari-edge");f===0&&g===0&&j<0&&k<0&&n&&i==null&&b.add("Safari-old");if(!m&&!n&&!d&&h&&c("UserAgent").isBrowser("IE >= 10")&&i==null){o=a.target;e=o.clientHeight;d=o.clientWidth;f<0&&g<0?b.add("IE"):(j<0||j>d)&&(k<0||k>e)&&b.add("MSIE")}i===0&&h&&b.add("Firefox");return b}function r(){m=!0,c("setTimeout")(function(){m=!1},0)}function s(){n=!0,c("setTimeout")(function(){n=!1},0)}function t(a){p&&b("cr:1345969").log({extra_data:{source_app:"comet"},indicated_browsers:o,is_virtual_cursor_action:a})}function u(a){o===null&&(o=Array.from(q(a)));p=o!=null&&o.length>0;a=a.target!=null&&a.target.getAttribute!=null&&a.target.getAttribute("data-accessibilityid")==="virtual_cursor_trigger";t(a);c("setTimeout")(function(){p=!1,o=null},0)}function e(){document.addEventListener("click",u,!0),document.addEventListener("mousedown",r,!0),document.addEventListener("mouseup",s,!0)}g.initLogging=e}),98);
__d("SimplePageLoadLogger",["ODS","performance"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(){(i||(i=d("ODS"))).bumpEntityKey(1678,"www_client_navigations",j())}function j(){if((h||(h=c("performance"))).navigation==null||(h||(h=c("performance"))).navigation.type==null)return"UNSUPPORTED";switch((h||(h=c("performance"))).navigation.type){case(h||(h=c("performance"))).navigation.TYPE_NAVIGATE:return"NAVIGATE";case(h||(h=c("performance"))).navigation.TYPE_RELOAD:return"RELOAD";case(h||(h=c("performance"))).navigation.TYPE_BACK_FORWARD:return"BACK_FORWARD";case(h||(h=c("performance"))).navigation.TYPE_RESERVED:return"RESERVED";default:return"UNKNOWN"}}g.logPageNavigationType=a}),98);
__d("setCometDeferredCookies",["DeferredCookie","ErrorGuard"],(function(a,b,c,d,e,f,g){"use strict";var h,i=!1,j=new Set();function a(a){i?a():j.add(a)}function b(a){Object.entries(a).forEach(function(a){var b=a[0];a=a[1];var d=a.expiration_for_js,e=a.first_party_only,f=a.path,g=a.secure;a=a.value;c("DeferredCookie").addToQueue(b,a,d,f,e,!1,g)}),i=!0,j.forEach(function(a){return(h||(h=c("ErrorGuard"))).applyWithGuard(a,null,[])}),j.clear()}g.onCometDeferredCookieSet=a;g.setCometDeferredCookies=b}),98);
__d("CometRootDeferredShared",["CometBootloaderErrorLoggerUtil","CometBootloaderLoggerUtil","CometOfflineTracing","CometVirtualCursorStatus","ErrorGuard","JSScheduler","RunComet","SimplePageLoadLogger","WebStorageMonster","cr:1201738","cr:1332233","cr:1516609","cr:17080","cr:1813330","cr:22915","cr:2718","gkx","setCometDeferredCookies","vc-tracker"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=null;function a(a){var e=a.blLoggingCavalryFields,f=a.deferredCookies;a=a.networkStatusToast;var g=a===void 0?b("cr:17080"):a;(i||(i=c("ErrorGuard"))).applyWithGuard(function(){return d("CometBootloaderLoggerUtil").initLogging(e)},null,[]);i.applyWithGuard(function(){return d("CometBootloaderErrorLoggerUtil").initLogging(e)},null,[]);i.applyWithGuard(function(){return d("CometVirtualCursorStatus").initLogging()},null,[]);g!=null&&!c("gkx")("11394")&&(i||(i=c("ErrorGuard"))).applyWithGuard(function(){return g.subscribe()},null,[]);i.applyWithGuard(function(){return d("CometOfflineTracing").initialize()},null,[]);i.applyWithGuard(function(){return d("SimplePageLoadLogger").logPageNavigationType()},null,[]);(h||(h=d("JSScheduler"))).scheduleSpeculativeCallback(function(){c("WebStorageMonster").schedule()});b("cr:1201738")&&c("vc-tracker").VisualCompletionTraceObserver.subscribe(function(a){a.interactionType==="INITIAL_LOAD"&&b("cr:1201738").init("comet.idle")});j&&c("vc-tracker").VisualCompletionTraceObserver.subscribe(function(a){a.interactionType==="INITIAL_LOAD"&&j.init()});d("setCometDeferredCookies").setCometDeferredCookies(f);b("cr:1332233")&&(i||(i=c("ErrorGuard"))).applyWithGuard(function(){return b("cr:1332233")()},null,[]);b("cr:1516609")!=null&&(i||(i=c("ErrorGuard"))).applyWithGuard(function(){return b("cr:1516609").initSignalCollection()},null,[]);b("cr:1813330")&&(i||(i=c("ErrorGuard"))).applyWithGuard(function(){return b("cr:1813330").init()},null,[]);b("cr:2718")&&(i||(i=c("ErrorGuard"))).applyWithGuard(function(){return b("cr:2718").init()},null,[]);if(b("cr:22915"))var k=d("RunComet").onAfterLoad(function(){(i||(i=c("ErrorGuard"))).applyWithGuard(function(){b("cr:22915")==null||b("cr:22915").startRSTFromMainThread(),k.remove()},null,[])})}g.initDeferred=a}),98);
__d("CometToasterView_DO_NOT_USE.react",["BaseContextualLayerAnchorRoot.react","BasePortal.react","BaseToastAnimationInternal.react","CometVisualCompletionAttributes","XPlatReactToasterView.react","gkx","react","react-compiler-runtime","useToasterStateManager"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useState,l={root:{display:"x78zum5",insetInlineEnd:"xtijo5x",insetInlineStart:"x17syakg",left:null,right:null,pointerEvents:"x47corl",position:"xixxii4",zIndex:"xoegz02",$$css:!0},rootBlue:{zIndex:"x1jvg36b",$$css:!0},rootWorkplaceLegacy:{zIndex:"xdwmgzo",$$css:!0},toast:{paddingTop:"xyamay9",paddingInlineEnd:"xv54qhq",paddingBottom:"x1l90r2v",paddingInlineStart:"xf7dkkf",pointerEvents:"x71s49j","@media (max-width: 899px)_maxWidth":"xx1nl2z",$$css:!0}},m={bottom:{bottom:"x1ey2m1c",$$css:!0},top:{top:"x13vifvy",$$css:!0}},n={center:{justifyContent:"xl56j7k",$$css:!0},end:{justifyContent:"x13a6bvl",$$css:!0},start:{justifyContent:"x1nhvcw1",$$css:!0}},o={full:{maxWidth:"x193iq5w",$$css:!0},regular:{maxWidth:"x1xi1syu",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(24),e=a.align,f=a.filterToasts,g=a.maxVisible,h=a.maxWidth,p=a.position;a=a.xstyle;e=e===void 0?"start":e;g=g===void 0?1:g;var q=h===void 0?"full":h,r=p===void 0?"bottom":p,s=c("useToasterStateManager")();b[0]!==s?(h=function(){return s.getEmptyState()},b[0]=s,b[1]=h):h=b[1];p=k(h);h=p[0];var t=p[1],u;b[2]!==s?(p=function(){var a=s.registerView(t,0);return a.remove},u=[s],b[2]=s,b[3]=p,b[4]=u):(p=b[3],u=b[4]);j(p,u);p=n[e];u=m[r];b[5]!==p||b[6]!==u||b[7]!==a?(e=[l.root,c("gkx")("20935")?null:c("gkx")("22885")?l.rootWorkplaceLegacy:l.rootBlue,p,u,a],b[5]=p,b[6]=u,b[7]=a,b[8]=e):e=b[8];b[9]===Symbol["for"]("react.memo_cache_sentinel")?(p={className:"x78zum5 xdt5ytf xe8uvvx x193iq5w"},b[9]=p):p=b[9];b[10]!==s?(u=function(a){s.expire(a)},b[10]=s,b[11]=u):u=b[11];b[12]!==q||b[13]!==r?(a=function(a,b,d,e){return i.jsx(c("BaseToastAnimationInternal.react"),{expired:d,id:b,position:e,toasterPosition:r,xstyle:[l.toast,o[c("gkx")("22886")?"regular":q]],children:i.jsx(c("BaseContextualLayerAnchorRoot.react"),{children:a})},e)},b[12]=q,b[13]=r,b[14]=a):a=b[14];b[15]!==f||b[16]!==g||b[17]!==u||b[18]!==a||b[19]!==h?(p=i.jsx("ul",babelHelpers["extends"]({},p,{children:i.jsx(c("XPlatReactToasterView.react"),{filterToasts:f,maxVisible:g,onExpireToast:u,toasterState:h,children:a})})),b[15]=f,b[16]=g,b[17]=u,b[18]=a,b[19]=h,b[20]=p):p=b[20];b[21]!==e||b[22]!==p?(f=i.jsx(c("BasePortal.react"),babelHelpers["extends"]({target:document.body,xstyle:e},c("CometVisualCompletionAttributes").IGNORE,{children:p})),b[21]=e,b[22]=p,b[23]=f):f=b[23];return f}g["default"]=a}),98);
__d("FacebookAppIDs",[],(function(a,b,c,d,e,f){a=Object.freeze({ABRA_WEB:1358015658191005,ACCOUNT_QUALITY:293651901511648,ADS_AMI_BRAZIL_ONBOARDING:616624215510791,ADS_AMI_ONBOARDING:2806896492660535,ADS_EVENTS_MANAGER:2094176354154603,ADS_INCUBATOR:306597163753304,ADS_PAYMENT:123097351040126,ADS_POWER_EDITOR:119211728144504,ADS_WHATSAPP_MARKETING_MESSAGE_APP:871411417255253,ADS_WHATSAPP_MARKETING_MESSAGE_TEST_APP:755928642753606,ARMADILLO_WEB_DEVSERVER_CLIENT:1019394685547802,AT_WORK_FOR_ANDROID:1442593136019356,AT_WORK_FOR_IOS:234162453451062,BIG_COMMERCE_CATALOG_SYNC:483365901841566,BIZWEB:514771569228061,BOOSTED_INSTAGRAM_MEDIA_MOBILE:871306629649317,BOOSTED_PAGE:1146105192114219,BUSINESS_ACCOUNTS:436761779744620,BUSINESS_MANAGER_WORKPLACE_LOGIN:190532008697732,CHATPROXY_WEB:229895473858072,DOLLY:218968626708284,EVENTS:2344061033,FACEBOOK_FOR_ANDROID:74769995908,FACEBOOK_FOR_ANDROID2:350685531728,FACEBOOK_FOR_EMERGING_MARKET_ANDROID:275254692598279,FACEBOOK_FOR_IPAD:173847642670370,FACEBOOK_FOR_IPHONE:6628568379,FACEBOOK_MEDIA_EFFECTS:1779302845618373,FACEBOOK_MESSENGER_FOR_ANDROID:256002347743983,FACEBOOK_SPACES_2:2057013231240274,FBPAGES:2530096808,GAMES_INSTANT_SOAP_MITIGATION:1259518021923582,HORIZON_WEB:351299233827255,INSTAGRAM:124024574287414,INSTAGRAM_CARBON:905593853150754,INSTAGRAM_FOR_ANDROID_ANALYTICS_ONLY:567067343352427,INSTAGRAM_WEB:1217981644879628,INSTAGRAM_WEB_DESKTOP:936619743392459,INSTAGRAM_WEB_OCULUS_PWA:1035956773910536,INSTAGRAM_WEB_PWA_FOR_WINSTORE:487152425211411,INTERN_ADS_PREVIEW_GENERATION_APP:2004203579636813,KADABRA_VOICE:949958857019662,LIFT_STUDY_CREATION:367378623468359,LIFT_STUDY_VIEW:1501349520163380,M_SITE:412378670482,M_TOUCH_SITE:333176286769482,MAGENTO_CATALOG_SYNC:195311308289826,MARKETPLACE:1606854132932955,MARKETPLACE_SOAP_MITIGATION:359197717007187,MEDIA_MANAGER:2007914219485853,MESSENGER_DESKTOP:195376314393036,MESSENGER_DESKTOP_ARCHON_MACOS:451384735309667,MESSENGER_DESKTOP_ARCHON_WINDOWS:1931350367173590,MESSENGERDOTCOM:772021112871879,MOBILE_ADS_MANAGER_FOR_ANDROID:438142079694454,MOBILE_ADS_MANAGER_FOR_IOS:1479723375646806,MOST_RECENT_FEED:608920319153834,MQTT_WEB:219994525426954,OCULUS_ANDROID_TWILIGHT:624536201004543,OCULUS_IOS_TWILIGHT:147781309031234,OCULUS_IOS_TWILIGHT_DEV:1635404796768116,OCULUS_IOS_TWILIGHT_IN_HOUSE:1543576032349914,OCULUS_IOS_TWILIGHT_LOCAL:1680871178595114,OCULUS_MSITE:1013624499181349,OCULUS_WEBSITE:2763362503905702,PAGE_INBOX:263902037430900,PHOTOS:2305272732,POSTS:1042244359201256,SAVED_FOR_LATER:586254444758776,SFCC_CATALOG_SYNC:414303402113306,SHOPIFY_API_INTEGRATION_2P:699341854433150,SHOPIFY_CONFIGURATION:3046464678944642,SHOPIFY_PARTNER_INTEGRATION:372033192897621,TRANSLATIONS:4329892722,TURDUCKEN:400954310366822,UNIFIED_AMI_ONBOARDING:685960845183976,WHATSAPP_ANDROID:994766073959253,WHATSAPP_BUSINESS_ACCOUNT_MANAGER:225181538219344,WHATSAPP_IPHONE:306069495113,WHATSAPP_KAIOS:412254059643627,WHATSAPP_MAC:346387865799334,WHATSAPP_SMB_ANDROID:473039703209605,WHATSAPP_SMB_IPHONE:450645302121512,WHATSAPP_SMB_WEB:656096963291760,WHATSAPP_VR:132060743086318,WHATSAPP_WEB:167028690535322,WHATSAPP_WINDOWS:120781038571451,WHATSAPP_WINDOWS_PHONE:1904280676561321,WIT:197968810559097,WORKPLACE_BILLING:1350397358363828,WORKPLACE_DESKTOP:267999183646265,WORKPLACE_FOR_EVERY_PHONE:1263749867021676,WORKPLACE_FOR_WEB:1586666294789976,WORKROOMS:305152727005396,WORKROOMS_WEB:424940172743869,WWW:256281040558,WWW_COMET:2220391788200892});f["default"]=a}),66);
__d("LogBrowserCrashReportsLowerRetentionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("856");b=d("FalcoLoggerInternal").create("log_browser_crash_reports_lower_retention",a);e=b;g["default"]=e}),98);
__d("QPLCrashResiliencePlugin",["QPLEvent","QPLMarkerMap","QuickPerformanceLogger","RSTLogForCrash","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(){if(c("gkx")("11050")===!1)return;var a=new j().getListener();(i||(i=c("QuickPerformanceLogger"))).addListener(a)}var j=function(){function a(){var a=this;this.$1=new(c("QPLMarkerMap"))();d("RSTLogForCrash").logForCrashReadyPromise.getPromise().then(function(){a.$2()})["catch"](function(){})}var b=a.prototype;b.$2=function(){var a=this;(i||(i=c("QuickPerformanceLogger"))).activeMarkers.forEach(function(b,c){b.forEach(function(b,d){a.$1.set(c,d,1)})});this.$3()};b.$3=function(){var a=this.$1.toString();d("RSTLogForCrash").logForCrash("active_qpls",a,d("RSTLogForCrash").RSTLogMode.VALID_UNTIL_NEXT_WRITE,{immediateFlush:!0})};b.getListener=function(){var a=this,b=this;return{onMarkerStarted:function(a,c,d,e){b.onMarkerStarted(a,c,d,e)},onMarkerEnd:function(b,c,d,e,f){return a.onMarkerEnd(b,c,d,e,f)},onMarkerDrop:function(a,c,d,e){b.onMarkerDrop(a,c,d,e)}}};b.onMarkerStarted=function(a,b,c,e){e=(c=e.isCrashResilient)!=null?c:!1;if(!e)return;this.$1.set((h||(h=d("QPLEvent"))).getMarkerId(a),b,1);this.$3()};b.onMarkerEnd=function(a,b,c,e,f){e=(a=f.isCrashResilient)!=null?a:!1;if(!f.passesSampling||!e)return;this.$1["delete"]((h||(h=d("QPLEvent"))).getMarkerId(b),c);this.$3()};b.onMarkerDrop=function(a,b,c,e){c=(c=e.isCrashResilient)!=null?c:!1;if(!e.passesSampling||!c)return;this.$1["delete"]((h||(h=d("QPLEvent"))).getMarkerId(a),b);this.$3()};return a}();g.startQPLCrashResilience=a}),98);
__d("RSTAdsManagerUtilsMainThread",["requireWeak"],(function(a,b,c,d,e,f,g){"use strict";var h=null;c("requireWeak")("AdsAccountStore",function(a){h=a});var i=null;c("requireWeak")("AdsPERouterHelper",function(a){i=a});function a(){try{var a;a=(a=(a=i)==null||(a=a.getRouter())==null?void 0:a.getQueryParams())!=null?a:{};var b=a.selected_campaign_ids,c=a.selected_adset_ids;a=a.selected_ad_ids;a=(a=a==null?void 0:a.toArray())!=null?a:[];c=(c=c==null?void 0:c.toArray())!=null?c:[];b=(b=b==null?void 0:b.toArray())!=null?b:[];return{adIds:a.map(function(a){return String(a)}),adsetIds:c.map(function(a){return String(a)}),campaignIds:b.map(function(a){return String(a)})}}catch(a){return{adIds:[],adsetIds:[],campaignIds:[]}}}function b(){var a;return(a=(a=h)==null?void 0:a.getSelectedAccountID())!=null?a:"0"}function d(){var a;return(a=(a=h)==null?void 0:a.getSelectedBusinessID())!=null?a:"0"}function e(){return{}}g.getAdEntityIds=a;g.getAdAccountID=b;g.getBusinessID=d;g.getAdsAnnotations=e}),98);
__d("RSTExternalLoggingDataStoreMainThread",["FBLogger","RSTLogForCrash"],(function(a,b,c,d,e,f,g){var h=500,i=5e3,j=500;a=function(){function a(){this.$5=!1,this.$1=new Map(),this.$2=new Map(),this.$3=new Map(),this.$4=new Map()}var b=a.prototype;b.$6=function(a,b,d){if(a.length>h||b!=null&&b.length>i){this.$5||c("FBLogger")("responsive-tracker").warn(d,a,b);this.$5=!0;return!1}if(this.totalStoredPairCount()>j){this.$5||c("FBLogger")("responsive-tracker").warn("Too many key-value pairs for external span logging data (ignored)");this.$5=!0;return!1}return!0};b.logSpanEnd=function(a){this.$4["delete"](a)};b.logSpanStart=function(b,c){c===void 0&&(c=null);if(!this.$6(b,c,"Invalid key or annotation for external logging data (ignored), key: %s, annotation: %s"))return-1;var d=a.curSpanId++;this.$4.set(d,{id:d,name:b,start:Date.now(),annotation:c});return d};b.log=function(a,b,e){if(!this.$6(a,b,"Invalid key or value for external logging data (ignored), key: %s, value: %s"))return!1;var f=!1;if(e===d("RSTLogForCrash").RSTLogMode.VALID_UNTIL_NEXT_HEARTBEAT)f=this.$7(this.$2,a,b),this.$2.set(a,b);else if(e===d("RSTLogForCrash").RSTLogMode.VALID_UNTIL_NEXT_WRITE)f=this.$7(this.$1,a,b),this.$1.set(a,b);else if(e===d("RSTLogForCrash").RSTLogMode.VALID_FOR_5_SECONDS){f=!0;this.$3.set(a,{value:b,createTime:Date.now(),expirationTime:(a=d("RSTLogForCrash").getExpirationTime(e))!=null?a:Date.now()})}else c("FBLogger")("responsive-tracker").warn("Invalid logMode");return f};b.$7=function(a,b,c){return!a.has(b)||a.get(b)!==c};b.totalStoredPairCount=function(){return this.$1.size+this.$2.size+this.$3.size+this.$4.size};b.get=function(a){if(this.$2.has(a))return this.$2.get(a)||null;if(this.$1.has(a))return this.$1.get(a)||null;var b=this.$3.get(a);if(b!=null)if(Date.now()<b.expirationTime)return b.value;else this.$3["delete"](a);return null};b.clear=function(){this.$1.clear(),this.clearNextHeartbeatStore()};b.clearNextHeartbeatStore=function(){this.$2.clear()};b.clearSpanStore=function(){this.$4.clear()};b.getAllSpanData=function(){var a={};this.$4.forEach(function(b,c){a[""+c]=b});return a};b.$8=function(){var a=Date.now();for(var b of this.$3){var c=b[0],d=b[1];a>=d.expirationTime&&this.$3["delete"](c)}};b.getTimedStoreData=function(){this.$8();return Object.fromEntries(Array.from(this.$3.entries()).map(function(a){var b=a[0];a=a[1];return[b,a.value]}))};b.getAll=function(){return babelHelpers["extends"]({},this.getTimedStoreData(),Object.fromEntries(this.$1),Object.fromEntries(this.$2))};return a}();a.curSpanId=0;b=new a();g.loggingDataStore=b}),98);
__d("RSTClearExternalLoggingDataStoreMainThread",["RSTEvents","RSTEventsMessageQueue","RSTExternalLoggingDataStoreMainThread"],(function(a,b,c,d,e,f,g){"use strict";function h(){d("RSTExternalLoggingDataStoreMainThread").loggingDataStore.clearNextHeartbeatStore()}function a(){d("RSTEventsMessageQueue").subscribe(d("RSTEvents").RSTEvent.HEART_BEAT,h),d("RSTEventsMessageQueue").subscribe(d("RSTEvents").RSTEvent.BROWSER_TAB_BACKGROUND,h),d("RSTEventsMessageQueue").subscribe(d("RSTEvents").RSTEvent.BROWSER_TAB_FOREGROUND,h)}g.registerClearExternalLoggingData=a}),98);
__d("RSTUtilsMainThread",["CurrentUser","FacebookAppIDs","RSTConfig"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map();function a(a){if(h.has(a)){var b;b=(b=h.get(a))!=null?b:0;if(b<=0){h["delete"](a);return!1}h.set(a,b-1);return!0}h.set(a,Math.floor(Math.random()*10));return!0}f=c("CurrentUser").getAppID();function b(a){switch(a){case""+c("FacebookAppIDs").ADS_POWER_EDITOR:return"Ads";case""+c("FacebookAppIDs").WWW_COMET:return"Comet";case""+c("FacebookAppIDs").ADS_EVENTS_MANAGER:return"Business";default:return"(Unset-in-RST)"}}var i=new Set([c("FacebookAppIDs").ADS_POWER_EDITOR,c("FacebookAppIDs").ADS_EVENTS_MANAGER,c("FacebookAppIDs").BIZWEB].map(function(a){return""+a}));i=f!=null&&i.has(f);b=b(f);function d(a){if(a==null)return null;for(a of a)if(!c("RSTConfig").isReactComponentNameBlocked(a))return a;return null}function e(a,b,d){d===void 0&&(d=c("RSTConfig").DEFAULT_REACT_COMPONENT_CONTEXT_SIZE);if(a==null)return null;var e=new Set(),f=[];for(a of a){if(f.length>=d)break;!e.has(a)&&!b(a)&&(f.push(a),e.add(a))}return f}g.shouldSkipProcessingIncident=a;g.isMonetizationApp=i;g.appName=b;g.getAllowListedComponentName=d;g.getReactComponentContext=e}),98);
__d("RSTIncidentLoggingMainThread",["Env","InteractionTracingConfigDefault","QPLEvent","RSTConfig","RSTConstants","RSTEvents","RSTEventsMessageQueue","RSTUtils","RSTUtilsMainThread","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("LogBrowserCrashReportsLowerRetentionFalcoEvent").__setRef("RSTIncidentLoggingMainThread"),k=new Set();function a(){return k}function l(a){var b,e,f,g,h=a.unresponsiveEvent,i=h!=null?Date.now()-(h==null?void 0:h.detectTime):0,j=h==null?void 0:h.lastHeartBeatMetadata,k=(j==null?void 0:j.brsid)!=null?String(j.brsid):null;b=(b=j==null?void 0:j.cpp)!=null?b:null;e=(e=j==null?void 0:j.cr)!=null?e:null;f=(f=j==null?void 0:j.annotations)!=null?f:{};g=(g=j==null?void 0:j.spans)!=null?g:{};a=a.isRecoverable?c("RSTConstants").reportReason.recoverable:(h==null?void 0:h.incidentType)!==c("RSTConstants").incidentType.unexpectedExit?c("RSTConstants").reportReason.unrecoverable:c("RSTConstants").reportReason.unexpectedExit;var l=h==null?void 0:h.traces;l=p(l);var n=l.qplMarkerId;l=l.tracePolicy;var q=o(h==null?void 0:h.lastTrace);return{application_name:d("RSTUtilsMainThread").appName,reason:a,url:d("RSTUtils").sanitizeURL(j==null?void 0:j.url),age:String(i),brsid:k,qpl_event_marker_id:d("RSTUtils").intToString(n),trace_policy:l,last_qpl_event_marker_id:d("RSTUtils").intToString(q.qplMarkerId),last_trace_policy:q.tracePolicy,ad_account_id:(a=j==null?void 0:j.i2)!=null?a:"0",business_id:(i=j==null?void 0:j.i3)!=null?i:"0",client_push_phase:b,client_revision:e,freeze_time_in_ms:String((k=h==null?void 0:h.unrecoverLastsForMs)!=null?k:0),normalized_component_stack:(n=j==null?void 0:j.rcs)!=null?n:[],session_start_timestamp_in_ms:String((l=j==null?void 0:j.st)!=null?l:""),rst_annotations:m(f,g,h)}}function m(a,b,d){var e=[];for(var f of Object.keys(a))e.push(f+":"+a[f]);a=d==null?void 0:d.detectTime;for(f of Object.keys(b)){var g=b[f],h=a!=null?a-g.start:0;e.push("span:"+g.name+":"+((g=g.annotation)!=null?g:"")+":"+h)}e.push("processingBrsid:"+((g=(i||(i=c("Env"))).brsid)!=null?g:""));n(e,d);return e}function n(a,b){if(!c("RSTConfig").shouldCollectAdditionalMetadata())return a;var d=b==null?void 0:b.lastTrace;d=d==null?void 0:d.endTimestamp;var e=b==null?void 0:b.detectTime;d!=null&&e!=null&&a.push("msSinceLastInteractionEnds:"+(e-d));e=b!=null?b:{};d=e.incidentID;d!=null&&a.push("incidentID:"+d);(b==null?void 0:b.isFirstUnrecoverable)===!0&&a.push("isFirstUnrecoverable:true");(b==null?void 0:b.hasOverlappingResponsiveIndicents)===!0&&a.push("hasOverlappingResponsiveIndicents:true");(b==null?void 0:b.hasDecryptionError)===!0&&a.push("hasDecryptionError:true");return a}function o(a){if(a==null)return{qplMarkerId:null,tracePolicy:null};if(a.qplEvent==null)return{qplMarkerId:null,tracePolicy:null};var b=(h||(h=d("QPLEvent"))).getMarkerId(a.qplEvent);a=a.tracePolicy;return{qplMarkerId:b,tracePolicy:a}}function p(a){if(a==null)return{qplMarkerId:null,tracePolicy:null};var b=0,c=null;a.forEach(function(a){if((a==null?void 0:a.qplEvent)==null||a.tracePolicy===d("InteractionTracingConfigDefault").DEFAULT_TRACING_CONFIG.defaultTracePolicy)return;a.startTime>b&&(b=a.startTime,c=a)});return o(c)}function q(a,b){j.onReady(function(c){c=c.log;c(function(){return l({unresponsiveEvent:a,isRecoverable:b})})})}function b(){c("RSTConfig").SHOULD_SAMPLE_RECOVERABLE&&d("RSTEventsMessageQueue").subscribe(d("RSTEvents").RSTEvent.RECOVERABLE_UNRESPONSIVENESS,function(a){a=a.unresponsiveEventRecord;if(a==null||k.has(a.incidentID))return;k.add(a.incidentID);d("RSTUtils").debugLogImportant("logging recoverable unresponsiveness event");q(a,!0)}),d("RSTEventsMessageQueue").subscribe(d("RSTEvents").RSTEvent.CRASH_INCIDENT,function(a){a=a.unresponsiveEventRecord;if(a==null||k.has(a.incidentID)){d("RSTUtils").debugLogImportant("not logging incident because it was already logged");return}if(c("RSTConfig").ONE_UNRECOVERABLE_INCIDENT_PER_SESSION&&a.isFirstUnrecoverable!==!0){var b;b=(b=a.incidentType)!=null?b:"";d("RSTUtils").debugLogImportant("not logging unrecoverable "+b+" event (because it's not the first incident in the session)");return}k.add(a.incidentID);d("RSTUtils").debugLogImportant("logging unrecoverable unresponsiveness event:");q(a,!1)})}g.getLoggedIncidentIDs=a;g.registerIncidentLogging=b}),98);
__d("RSTLocalStorageMainThread",["FBLogger","WebStorage","fb-error"],(function(a,b,c,d,e,f,g){"use strict";var h,i="RSTData",j=200,k=2*24*60*60*1e3;a=function(){function a(){this.$2=!0,this.$1=(h||(h=c("WebStorage"))).getLocalStorage(),this.probeAndInit()}var b=a.prototype;b.$3=function(a,b){a=c("fb-error").getErrorSafe(a);c("FBLogger")("web_responsiveness").catching(a).warn("%s error in RSTLocalStorage",b)};b.$4=function(){if(!this.$2)return{};try{var a;a=(a=this.$1)==null?void 0:a.getItem(i);a=a!=null?JSON.parse(a):{};return typeof a==="object"&&a!==null?a:{}}catch(a){this.$3(a,"readStore");return{}}};b.$5=function(a){if(!this.$2)return;try{var b;(b=this.$1)==null||b.setItem(i,JSON.stringify(a))}catch(a){this.$3(a,"writeStore");return}};b.probeAndInit=function(){if(this.$1==null){this.$2=!1;return}var a=this.$1;try{var b=a.getItem(i);if(b!=null)return;a.setItem(i,"{}")}catch(a){this.$3(a,"probeAndInit"),this.$2=!1}};b.cleanUpExpiredEntries=function(){if(!this.$2)return;try{var a=this.$6(this.$4());this.$5(a)}catch(a){this.$3(a,"cleanUpExpiredEntries");return}};b.$6=function(a){var b=Date.now();for(var c of Object.entries(a)){var d=c[0],e=c[1];(b-e.lastWriteTime>k||typeof e.lastWriteTime!=="number")&&delete a[d]}return a};b.$7=function(a){var b=Object.entries(a);if(b.length<=j)return a;b.sort(function(a,b){return a[1].lastWriteTime-b[1].lastWriteTime});a=b.slice(b.length-j);return Object.fromEntries(a)};b.set=function(a,b){if(!this.$2)return;var c=this.$4();c=this.$6(c);c[a]={value:b,lastWriteTime:Date.now()};c=this.$7(c);this.$5(c)};b.get=function(a){if(!this.$2)return null;var b=this.$4();b=b[a];return!b?null:b.value};b["delete"]=function(a){try{if(!this.$2)return;var b=this.$4();delete b[a];this.$5(b)}catch(a){this.$3(a,"delete");return}};b.has=function(a){if(!this.$2)return!1;var b=this.$4();b=b[a];return!b?!1:Date.now()-b.lastWriteTime<=k};b.clear=function(){if(!this.$2)return;this.$5({})};b.keys=function(){if(!this.$2)return[];var a=this.$6(this.$4());return Object.keys(a)};b.entries=function(){if(!this.$2)return[];var a=this.$6(this.$4());return Object.entries(a).map(function(a){var b=a[0];a=a[1];return[b,a.value]})};return a}();b=new a();d=b;g["default"]=d}),98);
__d("RSTMarkFirstUnrecoverableMainThread",["FBLogger","RSTLocalStorageMainThread","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";var h="rst-first-unrecoverable-marking";async function a(a){var b=a.sessionID,d=a.incidentID,e=b+":first-unrecoverable";try{"locks"in navigator&&await navigator.locks.request(h,function(){if(c("RSTLocalStorageMainThread").has(e))return;c("RSTLocalStorageMainThread").set(e,d);a.isFirstUnrecoverable=!0})}catch(a){c("FBLogger")("responsive-tracker").catching(c("getErrorSafe")(a)).warn("Failed to acquire lock for marking first unrecoverable incident")}}g.markFirstUnrecoverableIncident=a}),98);
__d("RSTSessionID",["Env","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i=null;function a(){if(i!=null)return i;var a=(h||(h=c("Env"))).brsid!=null?""+(h||(h=c("Env"))).brsid:c("uuidv4")(),b="rst-"+Date.now();i=b+"-"+a;return i}g.getSessionID=a}),98);
__d("ResponsiveTrackerMainThread",["ClientServiceWorkerMessage","FBLogger","RSTCloseObserver","RSTConfig","RSTConstants","RSTEvents","RSTEventsMessageQueue","RSTEventsRegisterUseCasesMainThread","RSTIncidentLoggingMainThread","RSTIndexedDBSafe","RSTLocalStorageMainThread","RSTMarkFirstUnrecoverableMainThread","RSTMetadataCollectorMainThread","RSTMetadataMainThread","RSTSessionID","RSTUtils","RSTUtilsMainThread","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";c("RSTEventsRegisterUseCasesMainThread")();a=function(){function a(){this.$1=null,this.$2=new Set()}var b=a.prototype;b.init=function(a){this.$1=a,this.startLoggingUnresponsiveEvents(),this.startSendingHeartBeatToWorker(),this.startMonitorPageHiding(),this.startMonitoringPageUnload(),d("RSTMetadataCollectorMainThread").start(),c("RSTLocalStorageMainThread").probeAndInit(),void c("RSTIndexedDBSafe").maybeClearObsoleteIncidents()};b.startLoggingUnresponsiveEvents=function(){var a=this;void this.logAndDeleteUnresponsiveEvents();window.setInterval(function(){void a.logAndDeleteUnresponsiveEvents()},c("RSTConfig").MAIN_THREAD_LOGGING_INTERVAL_MS)};b.startSendingHeartBeatToWorker=function(){var a=this;window.setInterval(function(){a.postEvent(d("RSTEvents").RSTEvent.HEART_BEAT)},c("RSTConfig").HEART_BEAT_INTERVAL_MS)};b.startMonitorPageHiding=function(){var a=this;document.addEventListener("visibilitychange",function(){document.hidden?a.postEvent(d("RSTEvents").RSTEvent.BROWSER_TAB_BACKGROUND):a.postEvent(d("RSTEvents").RSTEvent.BROWSER_TAB_FOREGROUND)})};b.startMonitoringPageUnload=function(){d("RSTCloseObserver").initPageCloseObserver()};b.postEvent=function(a,b){b===void 0&&(b=d("RSTMetadataMainThread").getMainThreadMetadata());b={type:c("RSTConfig").MESSAGE_TYPE,event:a,eventTime:Date.now(),DOMData:{hidden:document.hidden},sessionID:d("RSTSessionID").getSessionID(),metadata:b};d("RSTEventsMessageQueue").notify(a,{mainToWorkerMessage:b});c("RSTConfig").ENABLE_SERVICE_WORKER&&new(c("ClientServiceWorkerMessage"))(c("RSTConfig").MESSAGE_TYPE,b).sendViaController();(a=this.$1)==null||a.postMessage(b)};b.$3=function(a){return Date.now()-((a=a.remoteLoggerProposeTime)!=null?a:0)>c("RSTConfig").INCIDENT_PROPOSED_PROCESSOR_OWNERSHIP_EXPIRE_MS};b.$4=async function(a,b){if(a==null)return;var e=a.incidentID;if(d("RSTIncidentLoggingMainThread").getLoggedIncidentIDs().has(e)){b.add(e);return}var f=a.sessionID===d("RSTSessionID").getSessionID();if(f){a.hasRecovered=!0;d("RSTEventsMessageQueue").notify(d("RSTEvents").RSTEvent.RECOVERABLE_UNRESPONSIVENESS,{unresponsiveEventRecord:a});b.add(e);return}f=Date.now()-a.lastHeartBeatTimeStamp;if(f<c("RSTConfig").WAIT_MS_FOR_OTHER_SESSION_BEFORE_PROCESSING)return;if(f>c("RSTConfig").OBSOLETE_PENDING_INCIDENT_THRESHOLD_MS){if(d("RSTUtilsMainThread").shouldSkipProcessingIncident(e))return;d("RSTUtils").debugLogImportant("pending incident "+e+" cleaned");b.add(e);return}f=a.remoteLoggerSessionID==null||this.$3(a);if(f){await c("RSTIndexedDBSafe").updateIncidentInDB(function(a){if(a.incidentID!==e)return!1;d("RSTUtils").debugLogImportant("propose as logger for incident "+a.incidentID);a.remoteLoggerSessionID=d("RSTSessionID").getSessionID();a.remoteLoggerProposeTime=Date.now();return!0});return}if(a.remoteLoggerSessionID===d("RSTSessionID").getSessionID()&&!this.$3(a)){d("RSTUtils").debugLogImportant("act as logger for incident "+e);if(a.hasRecovered)d("RSTEventsMessageQueue").notify(d("RSTEvents").RSTEvent.RECOVERABLE_UNRESPONSIVENESS,{unresponsiveEventRecord:a}),b.add(e);else{if(a.incidentType!==c("RSTConstants").incidentType.unexpectedExit&&a.unrecoverLastsForMs<c("RSTConfig").UNRECOVER_LASTS_THRESHOLD_MS)return;!c("RSTConfig").ONE_UNRECOVERABLE_INCIDENT_PER_SESSION||!this.$2.has(a.sessionID)?(await d("RSTMarkFirstUnrecoverableMainThread").markFirstUnrecoverableIncident(a),d("RSTEventsMessageQueue").notify(d("RSTEvents").RSTEvent.CRASH_INCIDENT,{unresponsiveEventRecord:a}),this.$2.add(a.sessionID)):d("RSTUtils").debugLogImportant("skip logging unrecoverable incident "+e+" "+("from session "+a.sessionID+" since it has been logged"));b.add(e)}}};b.logAndDeleteUnresponsiveEvents=async function(){try{d("RSTEventsMessageQueue").notify(d("RSTEvents").RSTEvent.CHECKING_INDEXDB_FOR_EVENTS,{});var a=await c("RSTIndexedDBSafe").readEventsFromDB(),b=new Set();for(a of a)try{await d("RSTUtils").scheduleYield(),await this.$4(a,b)}catch(a){var e=c("getErrorSafe")(a);c("FBLogger")("responsive-tracker").catching(e).warn((e=e.message)!=null?e:"Failed to process incident")}await c("RSTIndexedDBSafe").clearIncidentFromDB(b)}catch(b){e=c("getErrorSafe")(b);c("FBLogger")("responsive-tracker").catching(e).warn((a=e.message)!=null?a:"Failed to log incidents")}};return a}();b=new a();e=b;g.default=e}),98);
__d("RSTDebugConsoleMainThread",["RSTEvents","RSTEventsMessageQueue","RSTUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(){}g.registerDebugConsole=a}),98);
__d("RSTEventsRegisterUseCasesMainThread",["RSTClearExternalLoggingDataStoreMainThread","RSTClearInteractionDataMainThread","RSTDebugConsoleMainThread","RSTIncidentLoggingMainThread"],(function(a,b,c,d,e,f,g){"use strict";function a(){d("RSTDebugConsoleMainThread").registerDebugConsole(),d("RSTIncidentLoggingMainThread").registerIncidentLogging(),d("RSTClearInteractionDataMainThread").registerClearInteractionData(),d("RSTClearExternalLoggingDataStoreMainThread").registerClearExternalLoggingData()}g["default"]=a}),98);
__d("RSTClearInteractionDataMainThread",["RSTEvents","RSTEventsMessageQueue","RSTInteractionDataMainThread"],(function(a,b,c,d,e,f,g){"use strict";function a(){d("RSTEventsMessageQueue").subscribe(d("RSTEvents").RSTEvent.HEART_BEAT,d("RSTInteractionDataMainThread").clearInteractionData),d("RSTEventsMessageQueue").subscribe(d("RSTEvents").RSTEvent.BROWSER_TAB_BACKGROUND,d("RSTInteractionDataMainThread").clearInteractionData),d("RSTEventsMessageQueue").subscribe(d("RSTEvents").RSTEvent.BROWSER_TAB_FOREGROUND,d("RSTInteractionDataMainThread").clearInteractionData)}g.registerClearInteractionData=a}),98);
__d("RSTInteractionTrackingMainThread",["RSTConfig","RSTEvents","RSTMetadataMainThread","ResponsiveTrackerMainThread","one-trace"],(function(a,b,c,d,e,f,g){"use strict";var h=new Set(["RESPONSIVENESS","INP","LONGTASK","UNKNOWN"]);function a(){if(!c("RSTConfig").SHOULD_CAPTURE_INTERACTION_DATA)return;c("one-trace").subscribe("trace-policy-set",function(a){if(h.has(a.traceType))return;var b=d("RSTMetadataMainThread").getMainThreadMetadata();c("ResponsiveTrackerMainThread").postEvent(d("RSTEvents").RSTEvent.TRACE_POLICY_SET,babelHelpers["extends"]({trace:babelHelpers["extends"]({},a)},b))});c("one-trace").subscribe("trace-end",function(a){if(h.has(a.traceType))return;var b=d("RSTMetadataMainThread").getMainThreadMetadata();c("ResponsiveTrackerMainThread").postEvent(d("RSTEvents").RSTEvent.TRACE_END,babelHelpers["extends"]({trace:babelHelpers["extends"]({},a,{endTimestamp:Date.now()})},b))})}g.start=a}),98);
__d("RSTRecoverableUnresponsivenessTrackingMainThread",["RSTConfig","one-trace","performanceNow"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Set(["INP","LONGTASK"]);function a(){c("one-trace").subscribe("trace-end",function(a){i.has(a.traceType)&&j.getInstance().addEvent(babelHelpers["extends"]({},a))})}function b(){return j.getInstance().getStats()}var j=function(){function a(){this.WINDOW_MS=c("RSTConfig").TRACE_STATS_WINDOW_SIZE_MS,this.MAX_EVENTS=c("RSTConfig").TRACE_STATS_MAX_QUEUE_SIZE,this.eventQueue=[]}a.getInstance=function(){a.instance||(a.instance=new a());return a.instance};var b=a.prototype;b.addEvent=function(a){if(a.startTime==null||a.endTime==null)return;a={traceType:a.traceType,startTime:a.startTime,duration:a.endTime-a.startTime,endTime:a.endTime};this.eventQueue.push(a);this.cleanupOldEvents();this.eventQueue.length>=this.MAX_EVENTS&&this.eventQueue.shift()};b.getStats=function(){this.cleanupOldEvents();var a={};this.eventQueue.forEach(function(b){b.traceType in a?(a[b.traceType].count++,a[b.traceType].totalDurationMs+=b.duration):a[b.traceType]={count:1,totalDurationMs:b.duration,averageDurationMs:0}});for(var b of Object.keys(a)){var c=a[b].totalDurationMs/a[b].count;a[b].averageDurationMs=Math.floor(c)}return a};b.cleanupOldEvents=function(){var a=(h||(h=c("performanceNow")))();while(this.eventQueue.length>0){var b=this.eventQueue[0];if(b.endTime>=a-this.WINDOW_MS)break;this.eventQueue.shift()}};return a}();j.instance=null;g.start=a;g.getStats=b}),98);
__d("RSTMetadataCollectorMainThread",["FBLogger","QPLCrashResiliencePlugin","RSTInteractionTrackingMainThread","RSTRecoverableUnresponsivenessTrackingMainThread"],(function(a,b,c,d,e,f,g){"use strict";var h=!1;function a(){if(h)return;try{d("RSTInteractionTrackingMainThread").start(),d("RSTRecoverableUnresponsivenessTrackingMainThread").start(),d("QPLCrashResiliencePlugin").startQPLCrashResilience(),h=!0}catch(a){c("FBLogger")("responsive-tracker").catching(a).warn("Failed to start RST metadata collector")}}g.start=a}),98);
__d("RSTCloseObserver",["FBLogger","RSTConfig","RSTEvents","RSTSessionID","ResponsiveTrackerMainThread","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";var h=new self.MessageChannel();function i(){if(!c("RSTConfig").ENABLE_SERVICE_WORKER)return;var a={type:c("RSTConfig").MESSAGE_TYPE,event:d("RSTEvents").RSTEvent.BROWSER_TAB_CLOSED,eventTime:Date.now(),DOMData:{hidden:!1},sessionID:d("RSTSessionID").getSessionID(),metadata:null};try{if("serviceWorker"in navigator){var b;(b=navigator.serviceWorker)==null||(b=b.controller)==null||b.postMessage({command:"responsiveness",data:a},[h.port2])}}catch(a){c("FBLogger")("responsive-tracker").catching(c("getErrorSafe")(a)).warn("Failed to send quick browser tab close event to worker")}try{c("ResponsiveTrackerMainThread").postEvent(d("RSTEvents").RSTEvent.BROWSER_TAB_CLOSED)}catch(a){c("FBLogger")("responsive-tracker").catching(c("getErrorSafe")(a)).mustfix("Failed to send browser tab close event to worker")}}function a(){window.addEventListener("pagehide",i)}g.initPageCloseObserver=a}),98);
__d("RSTInteractionDataMainThread",["ALChannel","AdsALReactUtils","FBLogger","RSTConfig","RSTEvents","RSTMetadataMainThread","RSTUtilsMainThread","ResponsiveTrackerMainThread","getReactComponentStackFromDOMElement_THIS_CAN_BREAK"],(function(a,b,c,d,e,f,g){"use strict";var h=5,i=[],j=100,k=10,l=[];function m(a){i.push(a),i.length>h&&i.shift(),l.push(a),l.length>j&&l.shift()}function a(){i.length=0}function b(){var a=i;return a[a.length-1]}function e(){return[].concat(i)}function f(a){a===void 0&&(a=k);return l.slice(-1*a)}function n(a,b){a=a!=null?a:{};var e=a.name,f=a.stack;a=a.context;(e!=null||f!=null)&&m({componentName:e,componentStack:f,componentContext:a,eventType:"click",eventTime:Date.now(),componentText:b});try{e=d("RSTMetadataMainThread").getMainThreadMetadata();c("ResponsiveTrackerMainThread").postEvent(d("RSTEvents").RSTEvent.INTERACTION_DATA,babelHelpers["extends"]({},e))}catch(a){c("FBLogger")("responsive-tracker").catching(a).mustfix("Failed to send interaction data to worker")}}o();function o(){c("RSTConfig").SHOULD_CAPTURE_INTERACTION_DATA&&(d("RSTUtilsMainThread").isMonetizationApp?q():p())}function p(){window.addEventListener("click",function(a){a=a.target;if(!(a instanceof Element))return;try{var b=c("getReactComponentStackFromDOMElement_THIS_CAN_BREAK")(a);b={name:d("RSTUtilsMainThread").getAllowListedComponentName(b),stack:b!=null?b:[],context:d("RSTUtilsMainThread").getReactComponentContext(b,c("RSTConfig").isReactComponentNameBlocked)};a=r(a,b);n(b,a)}catch(a){c("FBLogger")("responsive-tracker").catching(a).mustfix("Failed to get react component stack from Shim")}},!0)}function q(){c("ALChannel").addListener("al_ui_event_capture",function(a){if(a.event!=="click")return;try{var b;b={name:a.reactComponentName,stack:(b=a.reactComponentStack)!=null?b:[],context:d("RSTUtilsMainThread").getReactComponentContext(a.reactComponentStack,d("AdsALReactUtils").isComponentNameBlocked)};a=a.targetElement;a=r(a,b);n(b,a)}catch(a){c("FBLogger")("responsive-tracker").catching(a).mustfix("Failed to get react component stack from AL")}})}function r(a,b){if(!c("RSTConfig").SHOULD_CAPTURE_INTERACTION_ELEMENT_TEXT)return null;if((b==null?void 0:b.stack)==null)return null;for(b of b.stack)if(c("RSTConfig").isReactComponentTextBlocked(b))return null;a=(b=a==null?void 0:a.textContent)!=null?b:null;if(typeof a==="string"){a=a.trim();b=c("RSTConfig").ELEMENT_TEXT_SIZE_LIMIT;a.length>b&&(a=a.substr(0,b)+("... ("+(a.length-b)+" code units omitted)"))}return a===""?null:a}g.clearInteractionData=a;g.getLastInteractionDataSinceLastMessageToWorker=b;g.getInteractionDataSinceLastMessageToWorker=e;g.getInteractionHistory=f}),98);
__d("RSTMetadataMainThread",["CurrentUser","Env","MemoryUtils","RSTAdsManagerUtilsMainThread","RSTConfig","RSTExternalLoggingDataStoreMainThread","RSTInteractionDataMainThread","RSTRecoverableUnresponsivenessTrackingMainThread","RSTUtils","SiteData","performance"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=Date.now(),b=babelHelpers["extends"]({},d("RSTAdsManagerUtilsMainThread").getAdsAnnotations());l(b);var c=Date.now();b.rstAnnotationsCollectedInMs=""+(c-a);return b}function k(){return c("RSTConfig").shouldCollectAdditionalMetadata()?d("RSTExternalLoggingDataStoreMainThread").loggingDataStore.getAllSpanData():{}}function l(a){c("RSTConfig").shouldCollectAdditionalMetadata()&&(p(a),s(a),t(a),r(a),m(a),q(a))}function m(a){var b=d("RSTAdsManagerUtilsMainThread").getAdEntityIds();a.selectedAdIds=b.adIds.join(",");a.selectedAdSetIds=b.adsetIds.join(",");a.selectedCampaignIds=b.campaignIds.join(",")}function n(){try{var a;a=(a=d("RSTInteractionDataMainThread").getLastInteractionDataSinceLastMessageToWorker())==null?void 0:a.componentStack;return a!=null?a:[]}catch(a){return[]}}function o(){try{var a;a=(a=d("RSTInteractionDataMainThread").getLastInteractionDataSinceLastMessageToWorker())==null?void 0:a.componentContext;return a!=null?a:[]}catch(a){return[]}}function p(a){var b=d("RSTInteractionDataMainThread").getInteractionDataSinceLastMessageToWorker().map(function(a){return a.componentName}).filter(function(a){return a!=null}).join(",");b!==""&&(a.interactedComponentsSinceLastResponsiveState=b);b=o();b.length>0&&(a.interactedComponentContextSinceLastResponsiveState=b.join(" < "));b=d("RSTInteractionDataMainThread").getInteractionHistory().map(function(a){return a.componentName}).filter(function(a){return a!=null}).join(",");b!==""&&(a.interactedComponentHistory=b);b=d("RSTInteractionDataMainThread").getInteractionHistory().map(function(a){return d("RSTUtils").getInteractionDetail(a)}).filter(function(a){return a!=null}).join(",");b!==""&&(a.interactionDetailHistory=b)}function q(a){a.crashDataOncall=c("RSTConfig").PROJECT_ONCALL,a.crashLogger=c("RSTConfig").PROJECT_NAME}function r(a){var b=d("RSTExternalLoggingDataStoreMainThread").loggingDataStore.getAll();for(var c of Object.keys(b))a["@"+c]=b[c]}function s(a){var b=d("MemoryUtils").getCurrentMemory({runGC:!1}),c=b.jsHeapSizeLimit,e=b.usedJSHeapSize;b=b.totalJSHeapSize;c!=null&&(a.jsHeapSizeLimit=c.toString());e!=null&&(a.usedJSHeapSize=e.toString());b!=null&&(a.totalJSHeapSize=b.toString())}function t(a){var b=d("RSTRecoverableUnresponsivenessTrackingMainThread").getStats();if(b==null)return;for(var c of Object.keys(b)){var e=b[c];if(e==null)continue;var f=c.toLowerCase();for(var g of Object.keys(e)){var h=e[g];if(h==null)continue;a[f+"-"+g]=h.toString()}}}function a(){var a=document.URL,b=(h||(h=c("Env"))).brsid;try{var e;return{url:a,brsid:b,i1:(e=c("CurrentUser").getID())!=null?e:"0",i2:(e=d("RSTAdsManagerUtilsMainThread").getAdAccountID())!=null?e:"0",i3:(e=d("RSTAdsManagerUtilsMainThread").getBusinessID())!=null?e:"0",cpp:(e=c("SiteData").push_phase)!=null?e:"unknown",cr:""+c("SiteData").client_revision,rcs:n(),st:Math.floor(Date.now()-(i||(i=c("performance"))).now()),annotations:j(),spans:k()}}catch(c){return{url:a,brsid:b,i1:"0",i2:"0",i3:"0"}}}g.getMainThreadMetadata=a}),98);
__d("RSTWebWorkerClientMainThreadImpl",["ErrorGuard","FBLogger","RSTConfig","RSTUtils","ResponsiveTrackerMainThread","Run","WorkerMessagePort","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("gkx")("4909");a=function(){function a(a){this.$1=null,this.$2=!1,this.$3=a}var b=a.prototype;b.$4=function(){this.$1==null&&(this.$1=this.$3());return this.$1};b.startRSTFromMainThread=function(a){var b=this;a===void 0&&(a={});if(!i||this.$2||!d("RSTUtils").isIndexedDBSupported())return;a=Math.max((a=a.extraDelayInMs)!=null?a:0,c("RSTConfig").START_RST_FROM_MAIN_THREAD_EXTRA_DELAY_IN_MS);window.setTimeout(function(){try{var a=b.$4();a=new(d("WorkerMessagePort").WorkerSyncedMessagePort)(a,"RSTWorkerClient");c("ResponsiveTrackerMainThread").init(a);b.$2=!0}catch(b){c("FBLogger")("responsive-tracker").catching(b).warn((a=b==null?void 0:b.message)!=null?a:"Failed to start worker")}},a)};b.startRSTAfterPageLoadFromMainThread=function(a){var b=this;a===void 0&&(a={});d("Run").onAfterLoad(function(){(h||(h=c("ErrorGuard"))).applyWithGuard(function(){return b.startRSTFromMainThread(a)},null,[])})};return a}();g["default"]=a}),98);
__d("RSTWebWorkerClientMainThreadV2",["RSTWebV2WorkerResource","RSTWebWorkerClientMainThreadImpl","WebWorkerV2Resource"],(function(a,b,c,d,e,f,g){"use strict";a=new(c("RSTWebWorkerClientMainThreadImpl"))(function(){return d("WebWorkerV2Resource").createDedicatedV2WebWorker(c("RSTWebV2WorkerResource"),"RSTWebWorker").worker});b=a;g["default"]=b}),98);
__d("WebPerfDeviceInfoLogFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1871697");b=d("FalcoLoggerInternal").create("web_perf_device_info_log",a);e=b;g["default"]=e}),98);
__d("XDeviceClassRealtimeControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/web_perf/get_perf_level/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("WebDevicePerfInfoLogging",["AsyncTypedRequest","JSScheduler","WebDevicePerfInfoData","WebPerfDeviceInfoLogFalcoEvent","XDeviceClassRealtimeControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){var b=document.createElement("canvas");b=b.getContext("webgl")||b.getContext("experimental-webgl");if(!b)return;var c=b.getExtension("WEBGL_debug_renderer_info");if(!c)return;var d=b.getParameter(c.UNMASKED_RENDERER_WEBGL);b=b.getParameter(c.UNMASKED_VENDOR_WEBGL);a.gpu_vendor=b;a.gpu_renderer=d}function j(){var a=window.navigator,b={};a&&a.hardwareConcurrency!==void 0&&(b.cpu_cores=a.hardwareConcurrency);a&&a.deviceMemory!==void 0&&(b.ram=a.deviceMemory);c("WebDevicePerfInfoData").needsFullUpdate&&i(b);return b}function k(){var a=j();c("WebPerfDeviceInfoLogFalcoEvent").log(function(){var b;return{cpu_cores:(b=a.cpu_cores)!=null?b:null,ram:(b=a.ram)!=null?b:null,gpu_renderer:(b=a.gpu_renderer)!=null?b:null,gpu_vendor:(b=a.gpu_vendor)!=null?b:null}})}async function l(){var a=j();a=await new(c("AsyncTypedRequest"))(c("XDeviceClassRealtimeControllerRouteBuilder").buildURL({})).setData(a).promisePayload();return a.devicePerfClassLevel}function a(){(c("WebDevicePerfInfoData").needsFullUpdate||c("WebDevicePerfInfoData").needsPartialUpdate)&&(h||(h=d("JSScheduler"))).scheduleSpeculativeCallback(k)}function b(){return new Promise(function(a,b){c("WebDevicePerfInfoData").needsFullUpdate||c("WebDevicePerfInfoData").needsPartialUpdate?(h||(h=d("JSScheduler"))).scheduleSpeculativeCallback(function(){l().then(a).catch(b)}):a()})}g.doLog=a;g.doLogPromise=b}),98);/*FB_PKG_DELIM*/
__d("CometAudioLanguageMenuItemsMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="29971685009145446"}),null);
__d("CometAudioLanguageMenuItemsMutation.graphql",["CometAudioLanguageMenuItemsMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"SetUserPreferredAudioLanguageResponsePayload",kind:"LinkedField",name:"set_user_preferred_audio_language",plural:!1,selections:[{alias:null,args:null,concreteType:"AudioSettings",kind:"LinkedField",name:"audio_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"preferred_language_string",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometAudioLanguageMenuItemsMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometAudioLanguageMenuItemsMutation",selections:c},params:{id:b("CometAudioLanguageMenuItemsMutation_facebookRelayOperation"),metadata:{},name:"CometAudioLanguageMenuItemsMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometAudioLanguageMenuItemsMutation",["CometAudioLanguageMenuItemsMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h!==void 0?h:h=b("CometAudioLanguageMenuItemsMutation.graphql");g.setUserPreferredAudioLanguageDataMutation=a}),98);
__d("CometVideoPictureInPictureManager.react",["CometSetWatchAndScrollVideoContext","CometVideoPictureInPictureManagerContext","CometWatchAndScrollVideoContext","XCometWatchControllerRouteBuilder","clearTimeout","gkx","react","requireDeferred","setTimeout","useCometRouterDispatcher","useMinifiedProductAttribution"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useContext,l=b.useEffect,m=b.useMemo,n=b.useRef,o=b.useState,p=c("requireDeferred")("VideoHomeTypedLiteLogger").__setRef("CometVideoPictureInPictureManager.react"),q=c("gkx")("22889"),r=50;e=["286211568997787","214604021960500","108677131037"];var s=window.document.pictureInPictureEnabled;function a(a){var b=a.children;a=a.isPipEnabled;var e=c("useCometRouterDispatcher")(),f=a;a=o(null);var g=a[0],h=a[1];a=o(!1);var t=a[0],u=a[1];a=o(!1);var v=a[0],w=a[1],x=n(!1);a=j(function(a){x.current=a},[]);var y=m(function(){return{hasNextChainedVideo:v,isPipEnabled:f,setHasNextChainedVideo:w,setSkippedFromPipPlayer:u,skippedFromPipPlayer:t}},[t,u,v,w,f]),z=o(null),A=z[0],B=z[1],C=k(c("CometWatchAndScrollVideoContext")),D=k(c("CometSetWatchAndScrollVideoContext")),E=n(null),F=n(null),G=c("useMinifiedProductAttribution")(),H=j(function(a){a===void 0&&(a=null),p.onReady(function(b){b.log({attribution_id_v2:G,click_point:a,event:"click"})})},[]),I=j(function(){var a=C==null?void 0:C.videoID,b=C==null?void 0:C.videoUrl;if(a!=null&&b!=null){var d=C==null?void 0:C.routeTracePolicy,f=C==null?void 0:C.subOrigin;b=q?b:c("XCometWatchControllerRouteBuilder").buildURL({v:a});e&&(e.go(b,{passthroughProps:{portableVideoID:A,portalingRouteTracePolicy:d,portalingSubOrigin:f}}),D(null))}},[e,C,A,D]),J=j(function(){g!=null&&(E.current=c("setTimeout")(function(){var a=g.getCurrentState(),b=a.lastPauseReason;a=a.paused;x.current||(f&&(a===!1||a===!0&&b==="product_initiated")?(I(),H("control_pip_player_return_to_tab")):window.document.pictureInPictureElement===null&&(D(null),H("control_pip_player_close")))},r))},[g,f,I,D,H]),K=j(function(){g!=null&&(x.current||(window.navigator.mediaSession.setActionHandler("play",null),window.navigator.mediaSession.setActionHandler("pause",null),window.navigator.mediaSession.setActionHandler("pause",function(){g.pause("product_initiated")})),v||window.navigator.mediaSession.setActionHandler("nexttrack",null))},[g,v,H,a]),L=j(function(a){a.requestPictureInPicture();R(!1);a=a.internal_getVideoElement();F.current=a==null?void 0:a.currentSrc},[]),M=j(function(){if(g!=null){var a=g.getIsDesktopPictureInPicture();if(a){g.exitPictureInPicture();return}L(g)}},[L,g]),N=j(function(a){h(a)},[h]),O=j(function(a){a!=null&&B(a)},[B]);z=m(function(){return{openPipPlayer:M,setController:N,setPipPortableVideoID:O}},[M,N,O]);var P=n(!1);a=o(!1);var Q=a[0],R=a[1];l(function(){var a=null;if(s&&g!=null&&window.document.pictureInPictureElement){var b=g.internal_getVideoElement();b=b==null?void 0:b.currentSrc;var c=!1,d=!1;a=g.subscribe(function(){var a=g.getCurrentState(),b=a.playing;a=a.isDesktopPictureInPicture;!c&&b&&P.current&&!x.current&&(P.current=!1,R(!0));d&&!a&&J();!d&&a&&K();c=b;d=a});b!==F.current?!Q?(g.play("user_initiated"),P.current=!0):L(g):f&&(K(),F.current=b)}return function(){a!=null&&a.remove()}},[L,g,M,v,K,J,f,Q]);l(function(){return function(){E.current!=null&&(c("clearTimeout")(E.current),E.current=null)}},[]);return i.jsx(d("CometVideoPictureInPictureManagerContext").CometVideoPictureInPictureManagerContext.Provider,{value:y,children:i.jsx(d("CometVideoPictureInPictureManagerContext").CometVideoPictureInPictureManagerAPIContext.Provider,{value:z,children:b})})}a.displayName=a.name+" [from "+f.id+"]";g.EXCLUDED_PROVIDERS=e;g.CometVideoPictureInPictureManager=a}),98);
__d("useLiveCostreamerTagSubscription_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9770086849717179"}),null);
__d("useLiveCostreamerTagSubscription.graphql",["VideoPlayerRelay_video$normalization.graphql","useLiveCostreamerTagSubscription_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{kind:"Variable",name:"data",variableName:"input"}],d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e=[d],f={alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"tagged_page",plural:!1,selections:[d,{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"currently_live_video",plural:!1,selections:e,storageKey:null}],storageKey:null},g={args:null,documentName:"useLiveCostreamerTagSubscription",fragmentName:"VideoPlayerCostreamingControl_video",fragmentPropName:"video",kind:"ModuleImport"};e={alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:[d,{alias:null,args:null,concreteType:"VideoLiveCostreamingStreamersConnection",kind:"LinkedField",name:"live_costreaming_streamers",plural:!1,selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"nodes",plural:!0,selections:e,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null}],storageKey:null}],storageKey:null};var h={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useLiveCostreamerTagSubscription",selections:[{alias:null,args:c,concreteType:"LiveVideoTagSubscribeResponsePayload",kind:"LinkedField",name:"live_video_tag_subscribe",plural:!1,selections:[f,{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"tagged_video",plural:!1,selections:[d,{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"if_viewer_can_see_costreaming_tools",plural:!1,selections:[g],storageKey:null},{alias:null,args:null,concreteType:"VideoLiveCostreamingStreamersConnection",kind:"LinkedField",name:"live_costreaming_streamers",plural:!1,selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"currently_live_video",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometVideoPlayerCostreamingThumbnailRowInner_video"}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},e],storageKey:null}],type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useLiveCostreamerTagSubscription",selections:[{alias:null,args:c,concreteType:"LiveVideoTagSubscribeResponsePayload",kind:"LinkedField",name:"live_video_tag_subscribe",plural:!1,selections:[f,{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"tagged_video",plural:!1,selections:[d,{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"if_viewer_can_see_costreaming_tools",plural:!1,selections:[g,d],storageKey:null},{alias:null,args:null,concreteType:"VideoLiveCostreamingStreamersConnection",kind:"LinkedField",name:"live_costreaming_streamers",plural:!1,selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"currently_live_video",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"video_channel",plural:!1,selections:[h,d],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[h,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:i,storageKey:null},d],storageKey:null},{args:null,fragment:b("VideoPlayerRelay_video$normalization.graphql"),kind:"FragmentSpread"},{alias:null,args:null,concreteType:"VideoThumbnail",kind:"LinkedField",name:"preferred_thumbnail",plural:!1,selections:[{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:i,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"image_preview_payload",storageKey:null},d],storageKey:null}],storageKey:null},d],storageKey:null}],storageKey:null}],storageKey:null},e],storageKey:null}]},params:{id:b("useLiveCostreamerTagSubscription_facebookRelayOperation"),metadata:{subscriptionName:"live_video_tag_subscribe"},name:"useLiveCostreamerTagSubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("useLiveCostreamerTagSubscription.react",["CometRelay","react","react-compiler-runtime","useLiveCostreamerTagSubscription.graphql","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useMemo;function a(a,e,f){var g=d("react-compiler-runtime").c(8),i;g[0]===Symbol["for"]("react.memo_cache_sentinel")?(i=h!==void 0?h:h=b("useLiveCostreamerTagSubscription.graphql"),g[0]=i):i=g[0];i=i;var k;g[1]===Symbol["for"]("react.memo_cache_sentinel")?(k=c("uuidv4")(),g[1]=k):k=g[1];g[2]!==a||g[3]!==e?(k={input:{client_subscription_id:k,tagged_page_id:a,tagged_video_id:e}},g[2]=a,g[3]=e,g[4]=k):k=g[4];g[5]!==f||g[6]!==k?(a={onNext:f,subscription:i,updater:j,variables:k},g[5]=f,g[6]=k,g[7]=a):a=g[7];e=a;i=e;d("CometRelay").useSubscription(i)}function j(a){var b;a=a.getRootField("live_video_tag_subscribe");var c=a==null||(b=a.getLinkedRecord("tagged_page"))==null?void 0:b.getLinkedRecord("currently_live_video");a=a==null?void 0:a.getLinkedRecord("tagged_video");c==null&&a!=null&&a.setValue(null,"if_viewer_can_see_costreaming_tools")}g["default"]=a}),98);
__d("LiveCostreamerTagSubscription.react",["useLiveCostreamerTagSubscription.react"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.onNext,d=a.pageID;a=a.videoID;c("useLiveCostreamerTagSubscription.react")(d,a,b);return null}g["default"]=a}),98);
__d("LiveVideoLatencyMenuContextProvider_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"LiveVideoLatencyMenuContextProvider_video",selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"if_viewer_can_use_latency_menu",plural:!1,selections:[{args:null,documentName:"LiveVideoLatencyMenuContextProvider_video_if_viewer_can_use_latency_menu",fragmentName:"VideoPlayerSettingsMenuLatencyPane_video",fragmentPropName:"video",kind:"ModuleImport"}],storageKey:null},action:"NONE",path:"if_viewer_can_use_latency_menu"},{kind:"RequiredField",field:{alias:"if_viewer_can_use_latency_menu_toggle",args:null,concreteType:"Video",kind:"LinkedField",name:"if_viewer_can_use_latency_menu",plural:!1,selections:[{args:null,documentName:"LiveVideoLatencyMenuContextProvider_video_if_viewer_can_use_latency_menu_toggle",fragmentName:"VideoPlayerSettingsMenuLatencyPaneToggle_video",fragmentPropName:"video",kind:"ModuleImport"}],storageKey:null},action:"NONE",path:"if_viewer_can_use_latency_menu_toggle"}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("LiveVideoLatencyMenu.react",["fbt","CometRelay","LiveVideoLatencyMenuContextProvider_video.graphql","VideoPlayerHooks","react","react-compiler-runtime","recoverableViolation","useSelectedLatencySetting"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=j||(j=d("react"));j.useMemo;f=h._(/*BTDS*/"Latency");var m=[o("low"),o("normal")],n=l.createContext({liveVideoLatencyMenuPaneMatchPointer:null,liveVideoLatencyMenuPaneToggleMatchPointer:null});function o(a){switch(a){case"low":return{description:h._(/*BTDS*/"A near-realtime experience."),title:h._(/*BTDS*/"Low latency"),value:a};case"normal":return{description:h._(/*BTDS*/"Best for performance and slower connections."),title:h._(/*BTDS*/"Normal"),value:a};case"ultra-low":return{description:h._(/*BTDS*/"Best for interactive broadcasts."),title:h._(/*BTDS*/"Ultra-low"),value:a};default:a;c("recoverableViolation")("Setting "+a+" is not valid","gaming_video");return{description:h._(/*BTDS*/"Error"),title:h._(/*BTDS*/"Error"),value:a}}}function a(a,b){var e=d("react-compiler-runtime").c(10),f=(k||(k=d("VideoPlayerHooks"))).useController(),g=k.useLatencyLevel();a=c("useSelectedLatencySetting")(a,b);var h=a[1];e[0]!==g?(b=o(g),e[0]=g,e[1]=b):b=e[1];a=b;b=a.title;e[2]!==f||e[3]!==g||e[4]!==h?(a=function(a){g!==a&&(h(a),f.setLatencyLevel(a))},e[2]=f,e[3]=g,e[4]=h,e[5]=a):a=e[5];a=a;var i;e[6]!==g||e[7]!==a||e[8]!==b?(i={selectedLatencySetting:g,selectedLatencySettingTitle:b,setSelectedLatencySetting:a},e[6]=g,e[7]=a,e[8]=b,e[9]=i):i=e[9];return i}var p=i!==void 0?i:i=b("LiveVideoLatencyMenuContextProvider_video.graphql");function e(a){var b=d("react-compiler-runtime").c(7),c=a.children;a=a.video;a=d("CometRelay").useFragment(p,a);bb0:{if(a==null){var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={liveVideoLatencyMenuPaneMatchPointer:null,liveVideoLatencyMenuPaneToggleMatchPointer:null},b[0]=e):e=b[0];e=e;break bb0}var f;b[1]!==a.if_viewer_can_use_latency_menu||b[2]!==a.if_viewer_can_use_latency_menu_toggle?(f={liveVideoLatencyMenuPaneMatchPointer:a.if_viewer_can_use_latency_menu,liveVideoLatencyMenuPaneToggleMatchPointer:a.if_viewer_can_use_latency_menu_toggle},b[1]=a.if_viewer_can_use_latency_menu,b[2]=a.if_viewer_can_use_latency_menu_toggle,b[3]=f):f=b[3];e=f}a=e;b[4]!==c||b[5]!==a?(f=l.jsx(n.Provider,{value:a,children:c}),b[4]=c,b[5]=a,b[6]=f):f=b[6];return f}g.LATENCY_MENU_TITLE=f;g.LATENCY_SETTING_OPTIONS=m;g.LiveVideoLatencyMenuContext=n;g.getLiveVideoLatencySettingToInfoMapping=o;g.useLatencySettingState=a;g.LiveVideoLatencyMenuContextProvider=e}),226);
__d("VideoPlayerAudioTrackUtils",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";var i=function(a,b){if(b==null)return void 0;a=String(a).substring(0,2);try{return new Intl.DisplayNames([a],{type:"language"}).of(b)}catch(a){return void 0}};a=function(a,b){if(a==null)return h._(/*BTDS*/"Default");b=i(b,a.lang);b=b!=null?b:h._(/*BTDS*/"Default");var c=null;a.role==="dub"?c=h._(/*BTDS*/"Dubbed"):(a==null?void 0:a.role)==="description"&&(c=h._(/*BTDS*/"Description"));return c!=null?b.toString()+" - "+c.toString():b};g.getIntlDisplayName=i;g.getAudioTrackLabelLocalized=a}),226);
__d("VideoPlayerCaptionsControl_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerCaptionsControl_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"captions_url",storageKey:null},{args:null,kind:"FragmentSpread",name:"useVideoPlayerAvailableCaptionsLocalesFromRelay_video"}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerCaptionsMenu.react",["fbt","$InternalEnum","CometKeys","VideoPlayerCaptionsMenuCaptionsDisplayMainPane.react","VideoPlayerCaptionsMenuCaptionsDisplayPane.react","VideoPlayerCaptionsMenuMainPane.react","VideoPlayerHooks","react","react-compiler-runtime","useLayerKeyCommands"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react"));e=i;e.useCallback;var l=e.useEffect;e.useMemo;var m=e.useRef,n=e.useState,o=b("$InternalEnum")({CAPTIONS_BG_COLOR:"captionsBackgroundColor",CAPTIONS_BG_OPACITY:"captionsBackgroundOpacity",CAPTIONS_DISPLAY_MAIN:"captionsDisplayMain",CAPTIONS_TEXT_COLOR:"captionsTextColor",CAPTIONS_TEXT_SIZE:"captionsTextSize",CAPTIONS_MAIN:"captionsMain"});function a(a){var b=d("react-compiler-runtime").c(36),e=a.availableCaptionsLocales,f=a.captionsListExpanded,g=a.children,i=a.onClose,p=a.onPressLog,q=a.selectedCaptionsLocale,r=a.setCaptionsListExpanded;a=a.setSelectedCaptionsLocale;g=g===void 0?null:g;var s=(j||(j=d("VideoPlayerHooks"))).useCaptionDisplayStyle(),t=n(o.CAPTIONS_MAIN),u=t[0];t=t[1];var v=m(null),w=m(null),x;b[0]!==i?(x=function(a){v.current&&w.current&&a.target instanceof HTMLElement&&document.contains(a.target)&&!v.current.contains(a.target)&&w.current.contains(a.target)&&i()},b[0]=i,b[1]=x):x=b[1];var y=x,z;b[2]!==y?(x=function(){document.addEventListener("click",y);return function(){document.removeEventListener("click",y)}},z=[y],b[2]=y,b[3]=x,b[4]=z):(x=b[3],z=b[4]);l(x,z);b[5]===Symbol["for"]("react.memo_cache_sentinel")?(x={key:c("CometKeys").ESCAPE},z=h._(/*BTDS*/"Close captions menu"),b[5]=x,b[6]=z):(x=b[5],z=b[6]);b[7]!==i?(x=[{command:x,description:z,handler:function(){i()}}],b[7]=i,b[8]=x):x=b[8];z=x;x=z;c("useLayerKeyCommands")(x);b[9]!==e||b[10]!==f||b[11]!==g||b[12]!==p||b[13]!==q||b[14]!==r||b[15]!==a?(z=k.jsx(d("VideoPlayerCaptionsMenuMainPane.react").VideoPlayerCaptionsMenuMainPane,{availableCaptionsLocales:e,captionsListExpanded:f,onPressLog:p,selectedCaptionsLocale:q,setCaptionsListExpanded:r,setPane:t,setSelectedCaptionsLocale:a,children:g}),b[9]=e,b[10]=f,b[11]=g,b[12]=p,b[13]=q,b[14]=r,b[15]=a,b[16]=z):z=b[16];x=z;bb0:switch(u){case o.CAPTIONS_MAIN:break bb0;case o.CAPTIONS_DISPLAY_MAIN:b[17]!==s||b[18]!==p?(e=k.jsx(d("VideoPlayerCaptionsMenuCaptionsDisplayMainPane.react").VideoPlayerCaptionsMenuCaptionsDisplayMainPane,{currentCaptionsDisplay:s,onPressLog:p,setPane:t}),b[17]=s,b[18]=p,b[19]=e):e=b[19];x=e;break bb0;case o.CAPTIONS_BG_COLOR:b[20]!==s||b[21]!==p?(f=k.jsx(d("VideoPlayerCaptionsMenuCaptionsDisplayPane.react").VideoPlayerCaptionsMenuCaptionsDisplayPane,{captionsDisplayOption:"captionsBackgroundColor",currentCaptionsDisplay:s,onPressLog:p,setPane:t}),b[20]=s,b[21]=p,b[22]=f):f=b[22];x=f;break bb0;case o.CAPTIONS_BG_OPACITY:b[23]!==s||b[24]!==p?(g=k.jsx(d("VideoPlayerCaptionsMenuCaptionsDisplayPane.react").VideoPlayerCaptionsMenuCaptionsDisplayPane,{captionsDisplayOption:"captionsBackgroundOpacity",currentCaptionsDisplay:s,onPressLog:p,setPane:t}),b[23]=s,b[24]=p,b[25]=g):g=b[25];x=g;break bb0;case o.CAPTIONS_TEXT_SIZE:b[26]!==s?(q=k.jsx(d("VideoPlayerCaptionsMenuCaptionsDisplayPane.react").VideoPlayerCaptionsMenuCaptionsDisplayPane,{captionsDisplayOption:"captionsTextSize",currentCaptionsDisplay:s,setPane:t}),b[26]=s,b[27]=q):q=b[27];x=q;break bb0;case o.CAPTIONS_TEXT_COLOR:b[28]!==s||b[29]!==p?(r=k.jsx(d("VideoPlayerCaptionsMenuCaptionsDisplayPane.react").VideoPlayerCaptionsMenuCaptionsDisplayPane,{captionsDisplayOption:"captionsTextColor",currentCaptionsDisplay:s,onPressLog:p,setPane:t}),b[28]=s,b[29]=p,b[30]=r):r=b[30];x=r}b[31]!==x?(a=k.jsx("div",{ref:v,children:x}),b[31]=x,b[32]=a):a=b[32];b[33]===Symbol["for"]("react.memo_cache_sentinel")?(z=k.jsx("div",babelHelpers["extends"]({className:"x5yr21d x1o0tod xixxii4 x13vifvy xh8yej3 x8knxv4"},{"data-testid":void 0,ref:w})),b[33]=z):z=b[33];b[34]!==a?(u=k.jsxs(k.Fragment,{children:[a,z]}),b[34]=a,b[35]=u):u=b[35];return u}g.VideoPlayerCaptionsMenuPaneType=o;g.VideoPlayerCaptionsMenu=a}),226);
__d("VideoPlayerCaptionsMenuCaptionsDisplayMainPane.react",["fbt","ix","CometImage.react","CometPressable.react","FocusRegion.react","VideoPlayerCaptionsMenu.react","focusScopeQueries","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react"));j.useCallback;var l={menuOptionRow:{color:"x14ctfv",display:"x1lliihq",outline:"x1a2a7pz",paddingTop:"x1y1aw1k",paddingInlineEnd:"xyri2b",paddingBottom:"xwib8y2",paddingInlineStart:"x1c1uobl",textAlign:"x1yc453h",width:"xafpxmx",$$css:!0},pressableOption:{width:"xh8yej3",$$css:!0}},m={captionsBackgroundColor:{Black:"BLACK",Blue:"BLUE",Cyan:"CYAN",Green:"GREEN",Magenta:"MAGENTA",Red:"RED",White:"WHITE",Yellow:"YELLOW"},captionsBackgroundOpacity:{"0%":"TRANSPARENT","25%":"LIGHT","45%":"DEFAULT","75%":"DARK","100%":"OPAQUE"},captionsTextColor:{Black:"BLACK",Blue:"BLUE",Cyan:"CYAN",Green:"GREEN",Magenta:"MAGENTA",Red:"RED",White:"WHITE",Yellow:"YELLOW"},captionsTextSize:{"(50%)":"SMALLEST","(75%)":"SMALL","(100%)":"DEFAULT","(125%)":"MEDIUM","(150%)":"BIG","(175%)":"BIGGER","(200%)":"BIGGEST"}},n={"Background Color":{ftbLabel:h._(/*BTDS*/"Background Color"),name:"captionsBackgroundColor"},"Background Opacity":{ftbLabel:h._(/*BTDS*/"Background Opacity"),name:"captionsBackgroundOpacity"},"Text Color":{ftbLabel:h._(/*BTDS*/"Text Color"),name:"captionsTextColor"},"Text Size":{ftbLabel:h._(/*BTDS*/"Text Size"),name:"captionsTextSize"}},o={Black:h._(/*BTDS*/"Black"),Blue:h._(/*BTDS*/"Blue"),Cyan:h._(/*BTDS*/"Cyan"),Green:h._(/*BTDS*/"Green"),Magenta:h._(/*BTDS*/"Magenta"),Red:h._(/*BTDS*/"Red"),White:h._(/*BTDS*/"White"),Yellow:h._(/*BTDS*/"Yellow")};function p(a){var b=null,c=null;switch(a){case"(50%)":b=h._(/*BTDS*/"Small");c="X-";break;case"(75%)":b=h._(/*BTDS*/"Small");break;case"(125%)":b=h._(/*BTDS*/"Large");break;case"(150%)":b=h._(/*BTDS*/"Large");c="X-";break;case"(175%)":b=h._(/*BTDS*/"Large");c="XX-";break;case"(200%)":b=h._(/*BTDS*/"Large");c="XXX-";break;case"(100%)":b=h._(/*BTDS*/"Medium")}return k.jsxs("span",{children:[c!=null&&c,b,a]})}p.displayName=p.name+" [from "+f.id+"]";var q={captionsBackgroundColor:d("VideoPlayerCaptionsMenu.react").VideoPlayerCaptionsMenuPaneType.CAPTIONS_BG_COLOR,captionsBackgroundOpacity:d("VideoPlayerCaptionsMenu.react").VideoPlayerCaptionsMenuPaneType.CAPTIONS_BG_OPACITY,captionsTextColor:d("VideoPlayerCaptionsMenu.react").VideoPlayerCaptionsMenuPaneType.CAPTIONS_TEXT_COLOR,captionsTextSize:d("VideoPlayerCaptionsMenu.react").VideoPlayerCaptionsMenuPaneType.CAPTIONS_TEXT_SIZE};function r(a){var b=d("react-compiler-runtime").c(24),e=a.onPressLog,f=a.option,g=a.optionVal,h=a.setPane,j=n[f].name;b[0]!==j||b[1]!==e||b[2]!==f||b[3]!==h?(a=function(){h(q[j]),e&&e("captions_display_main_menu",f)},b[0]=j,b[1]=e,b[2]=f,b[3]=h,b[4]=a):a=b[4];a=a;var m;bb0:switch(j){case"captionsTextColor":case"captionsBackgroundColor":m=o[g];break bb0;default:m=g}var r=f.replace(" ","");r="video-player-captions-menu-captions-display-main-"+r;var s;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(s={className:"x1ypdohk x1rg5ohu x1nxh6w3 x1s688f x1uncgzr"},b[5]=s):s=b[5];var t=n[f],u;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(u={className:"x1nxh6w3 xo1l8bm"},b[6]=u):u=b[6];var v;b[7]!==j||b[8]!==g||b[9]!==m?(v=j==="captionsTextSize"?p(g):m,b[7]=j,b[8]=g,b[9]=m,b[10]=v):v=b[10];b[11]!==v||b[12]!==r?(g=k.jsx("div",babelHelpers["extends"]({},u,{"data-testid":void 0,children:v})),b[11]=v,b[12]=r,b[13]=g):g=b[13];b[14]!==t.ftbLabel||b[15]!==g?(u=k.jsxs("div",babelHelpers["extends"]({},s,{children:[t.ftbLabel,g]})),b[14]=t.ftbLabel,b[15]=g,b[16]=u):u=b[16];b[17]===Symbol["for"]("react.memo_cache_sentinel")?(v={className:"x1rg5ohu"},r={className:"x1lliihq"},s={display:"table-cell"},b[17]=s,b[18]=v,b[19]=r):(s=b[17],v=b[18],r=b[19]);b[20]===Symbol["for"]("react.memo_cache_sentinel")?(t=k.jsx("div",babelHelpers["extends"]({},v,{children:k.jsx("div",babelHelpers["extends"]({},r,{children:k.jsx("div",{style:s,children:k.jsx(c("CometImage.react"),{src:i("480588")})})}))})),b[20]=t):t=b[20];b[21]!==a||b[22]!==u?(g=k.jsxs(c("CometPressable.react"),{onPress:a,xstyle:l.menuOptionRow,children:[u,t]}),b[21]=a,b[22]=u,b[23]=g):g=b[23];return g}function a(a){var b=d("react-compiler-runtime").c(17),e=a.currentCaptionsDisplay,f=a.onPressLog,g=a.setPane;b[0]!==g?(a=function(){g(d("VideoPlayerCaptionsMenu.react").VideoPlayerCaptionsMenuPaneType.CAPTIONS_MAIN)},b[0]=g,b[1]=a):a=b[1];a=a;var j;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(j={className:"x6s0dn4 x14ctfv x1ypdohk x78zum5 x1s688f x1lku1pv"},b[2]=j):j=b[2];var o;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(o={className:"x6s0dn4 x3nfvp2"},b[3]=o):o=b[3];var p;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(o=k.jsx("span",babelHelpers["extends"]({},o,{children:k.jsx(c("CometImage.react"),{src:i("480580")})})),p=k.jsx("span",babelHelpers["extends"]({className:"x1nxh6w3 x1s688f x1diwwjn"},{children:h._(/*BTDS*/"Subtitle Options")})),b[4]=o,b[5]=p):(o=b[4],p=b[5]);b[6]!==a?(j=k.jsx("div",babelHelpers["extends"]({},j,{children:k.jsxs(c("CometPressable.react"),{onPress:a,xstyle:l.pressableOption,children:[o,p]})})),b[6]=a,b[7]=j):j=b[7];b[8]===Symbol["for"]("react.memo_cache_sentinel")?(o={className:"x1anpbxc"},b[8]=o):o=b[8];b[9]===Symbol["for"]("react.memo_cache_sentinel")?(p=Object.keys(n),b[9]=p):p=b[9];b[10]!==e||b[11]!==f||b[12]!==g?(a=k.jsx("div",babelHelpers["extends"]({},o,{"data-testid":void 0,children:p.map(function(a){var b=n[a].name,c=m[b];c=Object.fromEntries(Object.entries(c).map(s));c=e!=null?c[e[b]]:"";return k.jsx(r,{onPressLog:f,option:a,optionVal:c,setPane:g},a)})})),b[10]=e,b[11]=f,b[12]=g,b[13]=a):a=b[13];b[14]!==j||b[15]!==a?(o=k.jsxs(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,recoverFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,children:[j,a]}),b[14]=j,b[15]=a,b[16]=o):o=b[16];return o}function s(a){var b=a[0];a=a[1];return[a,b]}g.captionsDisplayOptionsMap=m;g.colorsFBTMap=o;g.getFontSizeDivWithFBTLabel=p;g.VideoPlayerCaptionsMenuCaptionsDisplayMainPane=a}),226);
__d("VideoPlayerCaptionsSettingMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8917695971664599"}),null);
__d("VideoPlayerCaptionsSettingMutation.graphql",["VideoPlayerCaptionsSettingMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"VideoPlayerCaptionsSettingResponsePayload",kind:"LinkedField",name:"video_player_captions_setting",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"success",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"VideoPlayerCaptionsSettingMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"VideoPlayerCaptionsSettingMutation",selections:c},params:{id:b("VideoPlayerCaptionsSettingMutation_facebookRelayOperation"),metadata:{},name:"VideoPlayerCaptionsSettingMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("VideoPlayerCaptionsSettingMutation",["CometRelay","VideoPlayerCaptionsSettingMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("VideoPlayerCaptionsSettingMutation.graphql");function a(a,b,c){return d("CometRelay").commitMutation(a,{mutation:i,onCompleted:c&&c.onCompleted,onError:c&&c.onError,optimisticResponse:{video_captions_setting:{success:!0}},variables:{input:{captions_background_color:b.captions_background_color,captions_background_opacity:b.captions_background_opacity,captions_text_color:b.captions_text_color,captions_text_size:b.captions_text_size,client_mutation_id:"www_captions_settings"}}})}g.commit=a}),98);
__d("VideoPlayerCaptionsMenuCaptionsDisplayPane.react",["fbt","ix","CometImage.react","CometPressable.react","CometRelay","FDSIcon.react","FocusRegion.react","VideoPlayerCaptionsMenu.react","VideoPlayerCaptionsMenuCaptionsDisplayMainPane.react","VideoPlayerCaptionsSettingMutation","VideoPlayerHooks","fbicon","focusScopeQueries","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=j||(j=d("react")),m=j.useCallback,n={menuOptionRow:{color:"x14ctfv",display:"x1lliihq",outline:"x1a2a7pz",paddingTop:"x1y1aw1k",paddingInlineEnd:"xyri2b",paddingBottom:"xwib8y2",paddingInlineStart:"x1c1uobl",textAlign:"x1yc453h",$$css:!0},pressableOption:{width:"xh8yej3",$$css:!0}},o={captionsBackgroundColor:h._(/*BTDS*/"Background Color"),captionsBackgroundOpacity:h._(/*BTDS*/"Background Opacity"),captionsTextColor:h._(/*BTDS*/"Text Color"),captionsTextSize:h._(/*BTDS*/"Text Size")},p=function(a){return{captions_background_color:a.captionsBackgroundColor,captions_background_opacity:a.captionsBackgroundOpacity,captions_text_color:a.captionsTextColor,captions_text_size:a.captionsTextSize}};function q(a){var b=a.captionsDisplayOption,e=a.currentCaptionsDisplay,f=a.onPressLog,g=a.option,h=a.selected,j=a.setPane,o=(k||(k=d("VideoPlayerHooks"))).useController();a=h;var q=d("VideoPlayerCaptionsMenuCaptionsDisplayMainPane.react").captionsDisplayOptionsMap[b];h=null;switch(b){case"captionsTextColor":case"captionsBackgroundColor":h=d("VideoPlayerCaptionsMenuCaptionsDisplayMainPane.react").colorsFBTMap[g];break;default:h=g}var r="video-player-captions-menu-captions-display-pane-"+b+"-"+g;r=m(function(){a=!0;if(e!=null){e[b]=q[g];o.setCaptionsDisplayStyle(babelHelpers["extends"]({},e));var c=p(e);d("VideoPlayerCaptionsSettingMutation").commit(s,c)}j(d("VideoPlayerCaptionsMenu.react").VideoPlayerCaptionsMenuPaneType.CAPTIONS_DISPLAY_MAIN);f&&f(b)},[e,q,b,o,g]);var s=d("CometRelay").useRelayEnvironment();return l.jsxs(c("CometPressable.react"),{"aria-pressed":a,onPress:r,testid:void 0,xstyle:n.menuOptionRow,children:[l.jsx("div",babelHelpers["extends"]({className:"x1rg5ohu x1849jeq"},{children:a&&l.jsx("div",{"data-testid":void 0,children:l.jsx(c("FDSIcon.react"),{color:"white",icon:d("fbicon")._(i("477813"),16)})})})),b==="captionsTextSize"?d("VideoPlayerCaptionsMenuCaptionsDisplayMainPane.react").getFontSizeDivWithFBTLabel(g):l.jsx("div",babelHelpers["extends"]({className:"x1ypdohk x1rg5ohu"},{children:h}))]})}q.displayName=q.name+" [from "+f.id+"]";function a(a){var b=d("react-compiler-runtime").c(26),e=a.captionsDisplayOption,f=a.currentCaptionsDisplay,g=a.onPressLog,h=a.setPane;a=o[e];var j=d("VideoPlayerCaptionsMenuCaptionsDisplayMainPane.react").captionsDisplayOptionsMap[e],k=f!=null?f[e]:null,m;b[0]!==h?(m=function(){h(d("VideoPlayerCaptionsMenu.react").VideoPlayerCaptionsMenuPaneType.CAPTIONS_DISPLAY_MAIN)},b[0]=h,b[1]=m):m=b[1];m=m;var p="video-player-captions-menu-captions-display-pane-"+e,r;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(r={className:"x6s0dn4 x14ctfv x1ypdohk x78zum5 x1nxh6w3 x1s688f x1lku1pv"},b[2]=r):r=b[2];var s=p+"-topBar",t;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(t={className:"x6s0dn4 x3nfvp2 x1849jeq"},b[3]=t):t=b[3];b[4]===Symbol["for"]("react.memo_cache_sentinel")?(t=l.jsx("span",babelHelpers["extends"]({},t,{children:l.jsx(c("CometImage.react"),{src:i("480580")})})),b[4]=t):t=b[4];b[5]!==m||b[6]!==a||b[7]!==s?(r=l.jsx("div",babelHelpers["extends"]({},r,{children:l.jsxs(c("CometPressable.react"),{onPress:m,testid:void 0,xstyle:n.pressableOption,children:[t,a]})})),b[5]=m,b[6]=a,b[7]=s,b[8]=r):r=b[8];b[9]===Symbol["for"]("react.memo_cache_sentinel")?(t={className:"x1nxh6w3 xo1l8bm x1anpbxc"},b[9]=t):t=b[9];b[10]!==j?(m=Object.keys(j),b[10]=j,b[11]=m):m=b[11];b[12]!==j||b[13]!==k||b[14]!==e||b[15]!==f||b[16]!==g||b[17]!==h||b[18]!==m?(a=m.map(function(a){var b=k===j[a];return l.jsx(q,{captionsDisplayOption:e,currentCaptionsDisplay:f,onPressLog:g,option:a,selected:b,setPane:h},a)}),b[12]=j,b[13]=k,b[14]=e,b[15]=f,b[16]=g,b[17]=h,b[18]=m,b[19]=a):a=b[19];b[20]!==a||b[21]!==p?(s=l.jsx("div",babelHelpers["extends"]({},t,{"data-testid":void 0,children:a})),b[20]=a,b[21]=p,b[22]=s):s=b[22];b[23]!==s||b[24]!==r?(m=l.jsxs(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,recoverFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,children:[r,s]}),b[23]=s,b[24]=r,b[25]=m):m=b[25];return m}g.VideoPlayerCaptionsMenuCaptionsDisplayPane=a}),226);
__d("VideoPlayerCaptionsMenuMainPane.react",["fbt","ix","CometPressable.react","CometScrollableArea.react","FDSIcon.react","FocusRegion.react","VideoPlayerCaptionsMenuTopBar.react","VideoPlayerHooks","fbicon","focusScopeQueries","isTruthy","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=j||(j=d("react"));b=j;var m=b.useEffect,n=b.useRef,o={menuOptionRow:{color:"x14ctfv",display:"x1lliihq",fontSize:"x1nxh6w3",fontWeight:"xo1l8bm",minWidth:"xfvyar9",outline:"x1a2a7pz",paddingTop:"x1y1aw1k",paddingInlineEnd:"xyri2b",paddingBottom:"xwib8y2",paddingInlineStart:"x1c1uobl",textAlign:"x1yc453h",":hover_backgroundColor":"xx8nu07",$$css:!0}},p=5;function q(a){var b,e=d("react-compiler-runtime").c(27),f=a.captions,g=a.captionsVisible,j=a.controller,m=a.focused,n=a.onPressLog,p=a.setSelectedCaptionsLocale;a=(k||(k=d("VideoPlayerHooks"))).useIsVideoBroadcast();a=f.localizedCreationMethod!=null||a;b="video-player-captions-menu-language-list-item-"+((b=f.localizedLanguage)!=null?b:"");var q;e[0]!==f.captionsUrl||e[1]!==f.locale||e[2]!==f.localizedLanguage||e[3]!==g||e[4]!==j||e[5]!==n||e[6]!==p?(q=function(){var a;f.locale!=null&&p(f.locale);g||j.setCaptionsVisible(!0);f.captionsUrl!=null&&j.setCaptionsUrl(f.captionsUrl);n&&n("captions_language_selector",(a=f.localizedLanguage)!=null?a:"")},e[0]=f.captionsUrl,e[1]=f.locale,e[2]=f.localizedLanguage,e[3]=g,e[4]=j,e[5]=n,e[6]=p,e[7]=q):q=e[7];var r;e[8]===Symbol["for"]("react.memo_cache_sentinel")?(r={className:"x1rg5ohu xw4jnvo"},e[8]=r):r=e[8];var s;e[9]!==m||e[10]!==b?(s=m&&l.jsx("div",{"data-testid":void 0,children:l.jsx(c("FDSIcon.react"),{color:"white",icon:d("fbicon")._(i("477813"),16)})}),e[9]=m,e[10]=b,e[11]=s):s=e[11];e[12]!==s?(r=l.jsx("div",babelHelpers["extends"]({},r,{children:s})),e[12]=s,e[13]=r):r=e[13];e[14]===Symbol["for"]("react.memo_cache_sentinel")?(s={className:"x1ypdohk x1rg5ohu x1hm9lzh xzjbwwf"},e[14]=s):s=e[14];var t=c("isTruthy")(f.localizedCountry)?" "+f.localizedCountry:null,u;e[15]!==a?(u=!a&&l.jsxs(l.Fragment,{children:[" ",h._(/*BTDS*/"(Provided by Author)")]}),e[15]=a,e[16]=u):u=e[16];e[17]!==f.localizedLanguage||e[18]!==t||e[19]!==u?(a=l.jsxs("div",babelHelpers["extends"]({},s,{children:[f.localizedLanguage,t,u]})),e[17]=f.localizedLanguage,e[18]=t,e[19]=u,e[20]=a):a=e[20];e[21]!==m||e[22]!==q||e[23]!==r||e[24]!==a||e[25]!==b?(s=l.jsxs(c("CometPressable.react"),{"aria-pressed":m,onPress:q,testid:void 0,xstyle:o.menuOptionRow,children:[r,a]}),e[21]=m,e[22]=q,e[23]=r,e[24]=a,e[25]=b,e[26]=s):s=e[26];return s}var r="Toggle On";function a(a){var b=d("react-compiler-runtime").c(66),e=a.availableCaptionsLocales,f=a.captionsListExpanded,g=a.children,j=a.onPressLog,s=a.selectedCaptionsLocale,t=a.setCaptionsListExpanded,u=a.setPane,v=a.setSelectedCaptionsLocale,w=(k||(k=d("VideoPlayerHooks"))).useController(),x=k.useCaptionsVisible(),y=e!=null?e.length:0,z=n(!1),A;b[0]!==y||b[1]!==x||b[2]!==v?(a=function(){x||v(""),x&&y===0&&!z.current&&(z.current=!0,v(r))},A=[x,v,y],b[0]=y,b[1]=x,b[2]=v,b[3]=a,b[4]=A):(a=b[3],A=b[4]);m(a,A);if(e==null)return null;b[5]!==e||b[6]!==j||b[7]!==u?(a=l.jsx(c("VideoPlayerCaptionsMenuTopBar.react"),{availableCaptionsLocales:e,onPressLog:j,setPane:u}),b[5]=e,b[6]=j,b[7]=u,b[8]=a):a=b[8];b[9]===Symbol["for"]("react.memo_cache_sentinel")?(A={className:"x1anpbxc x15eivr9"},b[9]=A):A=b[9];b[10]!==y||b[11]!==w||b[12]!==s||b[13]!==v?(u=y===0&&l.jsxs(c("CometPressable.react"),{"aria-pressed":s===r,onPress:function(){v(r),w.setCaptionsVisible(!0)},xstyle:o.menuOptionRow,children:[l.jsx("div",babelHelpers["extends"]({className:"x1rg5ohu xw4jnvo"},{children:s===r&&l.jsx(c("FDSIcon.react"),{color:"white",icon:d("fbicon")._(i("477813"),16)})})),l.jsx("div",babelHelpers["extends"]({className:"x1ypdohk x1rg5ohu x1hm9lzh xzjbwwf"},{children:h._(/*BTDS*/"On")}))]}),b[10]=y,b[11]=w,b[12]=s,b[13]=v,b[14]=u):u=b[14];var B=s==="",C;b[15]!==w||b[16]!==v?(C=function(){v(""),w.setCaptionsVisible(!1)},b[15]=w,b[16]=v,b[17]=C):C=b[17];var D;b[18]===Symbol["for"]("react.memo_cache_sentinel")?(D={className:"x1rg5ohu xw4jnvo"},b[18]=D):D=b[18];var E;b[19]!==s?(E=s===""&&l.jsx(c("FDSIcon.react"),{color:"white",icon:d("fbicon")._(i("477813"),16)}),b[19]=s,b[20]=E):E=b[20];b[21]!==E?(D=l.jsx("div",babelHelpers["extends"]({},D,{children:E})),b[21]=E,b[22]=D):D=b[22];b[23]===Symbol["for"]("react.memo_cache_sentinel")?(E=l.jsx("div",babelHelpers["extends"]({className:"x1ypdohk x1rg5ohu x1hm9lzh xzjbwwf"},{children:h._(/*BTDS*/"Off")})),b[23]=E):E=b[23];b[24]!==D||b[25]!==B||b[26]!==C?(E=l.jsxs(c("CometPressable.react"),{"aria-pressed":B,onPress:C,xstyle:o.menuOptionRow,children:[D,E]}),b[24]=D,b[25]=B,b[26]=C,b[27]=E):E=b[27];if(b[28]!==e||b[29]!==x||b[30]!==w||b[31]!==j||b[32]!==s||b[33]!==v){b[35]!==x||b[36]!==w||b[37]!==j||b[38]!==s||b[39]!==v?(D=function(a){var b=a.locale===s;return a.localizedLanguage!=null?l.jsx(q,{captions:a,captionsVisible:x,controller:w,focused:b,onPressLog:j,setSelectedCaptionsLocale:v},a.locale):null},b[35]=x,b[36]=w,b[37]=j,b[38]=s,b[39]=v,b[40]=D):D=b[40];B=e.slice(0,4).map(D);b[28]=e;b[29]=x;b[30]=w;b[31]=j;b[32]=s;b[33]=v;b[34]=B}else B=b[34];b[41]!==y||b[42]!==f||b[43]!==t?(C=y>=p&&!f&&l.jsx(c("CometPressable.react"),{onPress:function(){t(!0)},xstyle:o.menuOptionRow,children:l.jsx("div",babelHelpers["extends"]({className:"x1ypdohk x1rg5ohu x9pbi5e"},{children:h._(/*BTDS*/"See more")}))}),b[41]=y,b[42]=f,b[43]=t,b[44]=C):C=b[44];b[45]!==e||b[46]!==f||b[47]!==x||b[48]!==w||b[49]!==s||b[50]!==v?(D=f&&e.slice(4).map(function(a){var b=a.locale===s;return a.localizedLanguage!=null?l.jsx(q,{captions:a,captionsVisible:x,controller:w,focused:b,setSelectedCaptionsLocale:v},a.locale):null}),b[45]=e,b[46]=f,b[47]=x,b[48]=w,b[49]=s,b[50]=v,b[51]=D):D=b[51];b[52]!==f||b[53]!==t?(e=f&&l.jsx(c("CometPressable.react"),{onPress:function(){t(!1)},xstyle:o.menuOptionRow,children:l.jsx("div",babelHelpers["extends"]({className:"x1ypdohk x1rg5ohu x9pbi5e"},{children:h._(/*BTDS*/"See less")}))}),b[52]=f,b[53]=t,b[54]=e):e=b[54];b[55]!==E||b[56]!==B||b[57]!==C||b[58]!==D||b[59]!==e||b[60]!==u?(f=l.jsx(c("CometScrollableArea.react"),{hideScrollbar:!0,children:l.jsxs("div",babelHelpers["extends"]({},A,{"data-testid":void 0,children:[u,E,B,C,D,e]}))}),b[55]=E,b[56]=B,b[57]=C,b[58]=D,b[59]=e,b[60]=u,b[61]=f):f=b[61];b[62]!==g||b[63]!==f||b[64]!==a?(A=l.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,recoverFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,children:l.jsxs("div",{"data-testid":void 0,children:[a,g,f]})}),b[62]=g,b[63]=f,b[64]=a,b[65]=A):A=b[65];return A}g.VideoPlayerCaptionsMenuMainPane=a}),226);
__d("VideoPlayerCaptionsMenuTopBar.react",["fbt","ix","CometImage.react","CometPressable.react","VideoPlayerCaptionsMenu.react","VideoPlayerHooks","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=j||(j=d("react"));j.useCallback;var m={pressableOption:{width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(18),e=a.availableCaptionsLocales,f=a.onPressLog,g=a.setPane;b[0]!==f||b[1]!==g?(a=function(){g(d("VideoPlayerCaptionsMenu.react").VideoPlayerCaptionsMenuPaneType.CAPTIONS_DISPLAY_MAIN),f&&f("captions_main_menu_top_bar")},b[0]=f,b[1]=g,b[2]=a):a=b[2];a=a;var j=(k||(k=d("VideoPlayerHooks"))).useIsLive(),o=k.useIsVideoBroadcast();o=o&&!j;b[3]!==e||b[4]!==o?(j=(e==null?void 0:e.some(n))||o,b[3]=e,b[4]=o,b[5]=j):j=b[5];e=j;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(o={className:"x14ctfv x78zum5 x1jzhcrs"},b[6]=o):o=b[6];var p,q;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(j=l.jsx("div",babelHelpers["extends"]({className:"x1nxh6w3 x1s688f"},{children:h._(/*BTDS*/"Subtitles")})),p={className:"x6s0dn4 x14ctfv x1ypdohk x3nfvp2 x1bhwmg6 x13a6bvl xymharo"},q={className:"x3nfvp2"},b[7]=j,b[8]=p,b[9]=q):(j=b[7],p=b[8],q=b[9]);b[10]===Symbol["for"]("react.memo_cache_sentinel")?(p=l.jsxs("div",babelHelpers["extends"]({},p,{children:[l.jsx("span",babelHelpers["extends"]({},q,{children:l.jsx(c("CometImage.react"),{src:i("492300")})})),l.jsx("div",babelHelpers["extends"]({className:"x3nfvp2 xo1l8bm xdzw4kq"},{children:h._(/*BTDS*/"Options")}))]})),b[10]=p):p=b[10];b[11]!==a?(q=l.jsx("div",babelHelpers["extends"]({},o,{children:l.jsxs(c("CometPressable.react"),{onPress:a,testid:void 0,xstyle:m.pressableOption,children:[j,p]})})),b[11]=a,b[12]=q):q=b[12];b[13]!==e?(o=e!=null&&e&&l.jsx("div",babelHelpers["extends"]({className:"x1nxh6w3 x1k4tb9n"},{children:h._(/*BTDS*/"Auto-generated")})),b[13]=e,b[14]=o):o=b[14];b[15]!==q||b[16]!==o?(j=l.jsxs("div",{children:[q,o]}),b[15]=q,b[16]=o,b[17]=j):j=b[17];return j}function n(a){return a.localizedCreationMethod!=null}g["default"]=a}),226);
__d("VideoPlayerCaptionsControl.react",["fbt","ix","CometRelay","IntlCurrentLocale","VideoPlayerCaptionsControl_video.graphql","VideoPlayerCaptionsMenu.react","VideoPlayerControlIcon.react","VideoPlayerDefaultControlsProperties","VideoPlayerHooks","VideoPlayerLoggingSuboriginContext","VideoPlayerUserInteractionCounter","fbicon","react","requireDeferred","useMinifiedProductAttribution","usePlayerOriginRouteTracePolicy","useVideoPlayerAvailableCaptionsLocalesFromRelay"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m=k||(k=d("react"));e=k;var n=e.useCallback,o=e.useContext,p=e.useEffect,q=e.useMemo,r=e.useRef,s=e.useState,t=c("requireDeferred")("VideoHomeTypedLiteLogger").__setRef("VideoPlayerCaptionsControl.react"),u="asr",v=function(a){return a.length<2?null:a.substr(0,2)};function a(a){var e=a.alignMenuToIcon;e=e===void 0?!1:e;var f=a.availableCaptionsLocales,g=a.captionsVisible,k=a.children;k=k===void 0?null:k;var w=a.compactMenu,x=a.icon,y=a.initialCaptionsUrl,z=a.menuOpened,A=a.onMenuOpen,B=a.onUserInteraction,C=a.setMenuOpened;a=a.video;var D=h._(/*BTDS*/"Captions");d("VideoPlayerUserInteractionCounter").useVideoPlayerUserInteraction("video_captions_menu",z===d("VideoPlayerDefaultControlsProperties").VideoMenuType.VIDEO_CAPTIONS_MENU,B);B=d("CometRelay").useFragment(j!==void 0?j:j=b("VideoPlayerCaptionsControl_video.graphql"),a);var E=(l||(l=d("VideoPlayerHooks"))).useMuted(),F=l.useController(),G=c("usePlayerOriginRouteTracePolicy")(),H=c("useVideoPlayerAvailableCaptionsLocalesFromRelay")(B),I=q(function(){var a;return((a=f!=null?f:H)!=null?a:[]).slice().sort(function(a,b){return((a=a.localizedLanguage)!=null?a:"")>((a=b.localizedLanguage)!=null?a:"")?1:-1})},[f,H]),J=y!=null?y:B==null?void 0:B.captions_url;a=s("");var K=a[0],L=a[1],M=r(null),N=r(null);p(function(){I.forEach(function(a){a.captionsUrl===J&&a.locale!=null&&(M.current==null&&(M.current=a.locale),L(a.locale))})},[I,J]);var O=c("IntlCurrentLocale").code;p(function(){var a;a=v((a=M.current)!=null?a:"");M.current!==u&&a!=null&&a!==v(O)&&N.current===null?(F.setCaptionsVisible(!1),N.current=!1):E&&!g&&K!==""&&N.current===null?(N.current=!0,F.setCaptionsVisible(!0)):!E&&N.current===!0&&(F.setCaptionsVisible(!1),N.current=!1)},[g,F,E,O,K]);var P=z===d("VideoPlayerDefaultControlsProperties").VideoMenuType.VIDEO_CAPTIONS_MENU;y=s(!1);B=y[0];a=y[1];var Q=o(c("VideoPlayerLoggingSuboriginContext")),R=c("useMinifiedProductAttribution")(),S=n(function(a,b){a===void 0&&(a=null),b===void 0&&(b=null),t.onReady(function(c){c.log({attribution_id_v2:R,click_point:a,event:"click",event_target_info:G,event_target_sub_type:b,player_suborigin:Q})})},[R,G,Q]);return m.jsxs("div",babelHelpers["extends"]({},{0:{className:"x1rg5ohu x1k70j0n xbelrpt xzueoph xdzw4kq"},1:{className:"x1rg5ohu x1k70j0n xbelrpt xzueoph xdzw4kq x1n2onr6 xuxw1ft"}}[!!(e===!0)<<0],{"data-testid":void 0,children:[P&&m.jsx("div",babelHelpers["extends"]({role:"dialog"},{0:{className:"x1av4zun xjwep3j x1t39747 x1wcsgtt x1pczhz8 xacj9c0 x14ctfv x89ytp0 x1hdnelj xgmxx4u xyamay9 xv54qhq x1l90r2v xf7dkkf x10l6tqk xk6ci0l x1602a87"},2:{className:"x1av4zun xjwep3j x1t39747 x1wcsgtt x1pczhz8 xacj9c0 x14ctfv x89ytp0 x1hdnelj xgmxx4u xyamay9 xv54qhq x1l90r2v xf7dkkf x10l6tqk x1602a87 xwjie4w"},1:{className:"x1av4zun xjwep3j x1t39747 x1wcsgtt x1pczhz8 xacj9c0 x14ctfv x89ytp0 x1hdnelj xgmxx4u xyamay9 xv54qhq x1l90r2v xf7dkkf x10l6tqk x1602a87 x1g75g36"},3:{className:"x1av4zun xjwep3j x1t39747 x1wcsgtt x1pczhz8 xacj9c0 x14ctfv x89ytp0 x1hdnelj xgmxx4u xyamay9 xv54qhq x1l90r2v xf7dkkf x10l6tqk x1602a87 x1g75g36"}}[!!(w===!0)<<1|!!(e===!0)<<0],{children:m.jsx(d("VideoPlayerCaptionsMenu.react").VideoPlayerCaptionsMenu,{availableCaptionsLocales:I,captionsListExpanded:B,onClose:function(){C!=null&&C(null)},onPressLog:S,selectedCaptionsLocale:K,setCaptionsListExpanded:a,setSelectedCaptionsLocale:L,children:k})})),m.jsx(c("VideoPlayerControlIcon.react"),{icon:x==null?g?d("fbicon")._(i("662652"),20):d("fbicon")._(i("662655"),20):x,label:D,onPress:function(){C!=null&&C(P?null:d("VideoPlayerDefaultControlsProperties").VideoMenuType.VIDEO_CAPTIONS_MENU),!P&&A!=null&&A(),S("closed_captions_button")},tooltip:D})]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("VideoPlayerCastControlShimImpl.modern.react",["deferredLoadComponent","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";a=c("deferredLoadComponent")(c("requireDeferred")("VideoPlayerCastControl.react").__setRef("VideoPlayerCastControlShimImpl.modern.react"));g["default"]=a}),98);
__d("VideoPlayerCastControlShim.react",["CometPlaceholder.react","VideoPlayerCastControlShimImpl.modern.react","VideoPlayerControlsGroups.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=["isVisible"],i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(8),e,f;b[0]!==a?(e=a.isVisible,f=babelHelpers.objectWithoutPropertiesLoose(a,h),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);b[3]!==f?(a=j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(c("VideoPlayerCastControlShimImpl.modern.react"),babelHelpers["extends"]({},f))}),b[3]=f,b[4]=a):a=b[4];b[5]!==e||b[6]!==a?(f=j.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:e,noPaddingEnd:!0,noPaddingStart:!0,children:a}),b[5]=e,b[6]=a,b[7]=f):f=b[7];return f}g["default"]=a}),98);
__d("VideoPlayerCometFeedStoryControlsImplLive_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerCometFeedStoryControlsImplLive_video",selections:[{args:null,kind:"FragmentSpread",name:"VideoPlayerLiveVideoControls_video"}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerExpandSidePanelControl.react",["fbt","ix","CometTahoeSidePaneContext","VideoPlayerControlIcon.react","fbicon","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react")),l=j.useContext;function a(){var a=d("react-compiler-runtime").c(12),b=l(c("CometTahoeSidePaneContext")),e=b.rightRailExpanded,f=b.setRightRailExpanded;a[0]!==e?(b=e?h._(/*BTDS*/"Collapse comments"):h._(/*BTDS*/"Expand comments"),a[0]=e,a[1]=b):b=a[1];b=b;var g;a[2]===Symbol["for"]("react.memo_cache_sentinel")?(g={className:"x1rg5ohu x1k70j0n xbelrpt xzueoph xdzw4kq"},a[2]=g):g=a[2];var j;a[3]!==e?(j=e?d("fbicon")._(i("557039"),20):d("fbicon")._(i("557052"),20),a[3]=e,a[4]=j):j=a[4];var m;a[5]!==e||a[6]!==f?(m=function(){f(!e)},a[5]=e,a[6]=f,a[7]=m):m=a[7];a[8]!==b||a[9]!==j||a[10]!==m?(g=k.jsx("div",babelHelpers["extends"]({},g,{children:k.jsx(c("VideoPlayerControlIcon.react"),{icon:j,label:b,onPress:m,tooltip:b})})),a[8]=b,a[9]=j,a[10]=m,a[11]=g):g=a[11];return g}g["default"]=a}),226);
__d("VideoPlayerLiveVideoControls_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerLiveVideoControls_video",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"is_clipping_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"live_rewind_enabled",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[a],storageKey:null},{args:null,kind:"FragmentSpread",name:"VideoPlayerWatchAndScrollControl_video"},{args:null,kind:"FragmentSpread",name:"LiveVideoLatencyMenuContextProvider_video"},{args:null,kind:"FragmentSpread",name:"VideoPlayerCaptionsControl_video"},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"if_viewer_can_see_community_moderation_tools",plural:!1,selections:[{args:null,documentName:"VideoPlayerLiveVideoControls_video",fragmentName:"VideoPlayerModeratorControl_video",fragmentPropName:"video",kind:"ModuleImport"}],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"if_viewer_can_use_live_rewind",plural:!1,selections:[{args:null,documentName:"VideoPlayerLiveVideoControls_video_if_viewer_can_use_live_rewind",fragmentName:"VideoPlayerLiveRewindControlsGroup_video",fragmentPropName:"video",kind:"ModuleImport"}],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"if_viewer_can_use_clipping",plural:!1,selections:[{args:null,documentName:"VideoPlayerLiveVideoControls_video_if_viewer_can_use_clipping",fragmentName:"VideoPlayerClipVideoControl_video",fragmentPropName:"video",kind:"ModuleImport"}],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"if_viewer_can_see_costreaming_tools",plural:!1,selections:[{args:null,documentName:"VideoPlayerLiveVideoControls_video_if_viewer_can_see_costreaming_tools",fragmentName:"VideoPlayerCostreamingControl_video",fragmentPropName:"video",kind:"ModuleImport"}],storageKey:null}],type:"Video",abstractKey:null}}();e.exports=a}),null);
__d("VideoPlayerQuietModeControl.react",["fbt","ix","CometTahoeSidePaneContext","VideoPlayerControlIcon.react","fbicon","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react")),l=j.useContext;function a(){var a=d("react-compiler-runtime").c(12),b=l(c("CometTahoeSidePaneContext")),e=b.rightRailHidden,f=b.setRightRailHidden;a[0]!==e?(b=e?h._(/*BTDS*/"Show comments and reactions"):h._(/*BTDS*/"Hide comments and reactions"),a[0]=e,a[1]=b):b=a[1];b=b;var g;a[2]===Symbol["for"]("react.memo_cache_sentinel")?(g={className:"x1rg5ohu x1k70j0n xbelrpt xzueoph xdzw4kq"},a[2]=g):g=a[2];var j;a[3]!==e?(j=e?d("fbicon")._(i("942218"),20):d("fbicon")._(i("942221"),20),a[3]=e,a[4]=j):j=a[4];var m;a[5]!==e||a[6]!==f?(m=function(){f(!e)},a[5]=e,a[6]=f,a[7]=m):m=a[7];a[8]!==b||a[9]!==j||a[10]!==m?(g=k.jsx("div",babelHelpers["extends"]({},g,{children:k.jsx(c("VideoPlayerControlIcon.react"),{icon:j,label:b,onPress:m,tooltip:b})})),a[8]=b,a[9]=j,a[10]=m,a[11]=g):g=a[11];return g}g["default"]=a}),226);
__d("VideoPlayerSettingsMenuQualityPaneToggle.react",["fbt","ix","CometImage.react","CometPressable.react","VideoPlayerSettingsMenu.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l={pressableOption:{width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(14),e=a.selectedVideoQuality,f=a.setPane;a=a.targetVideoQuality;var g;b[0]!==f?(g=function(){f(d("VideoPlayerSettingsMenu.react").VideoPlayerSettingsMenuPaneType.QUALITY)},b[0]=f,b[1]=g):g=b[1];var j,m;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(j=k.jsx("div",babelHelpers["extends"]({className:"x1ypdohk x1s688f"},{children:h._(/*BTDS*/"Quality")})),m={className:"x6s0dn4 x14ctfv x1ypdohk x78zum5 x1bhwmg6 x13a6bvl x13fj5qh x450l9j"},b[2]=j,b[3]=m):(j=b[2],m=b[3]);var n;b[4]!==e||b[5]!==a?(n=e==="notselected"?k.jsx("span",{"data-testid":void 0,children:"\xa0"}):e==="auto"?k.jsxs(k.Fragment,{children:[k.jsx("span",{"data-testid":void 0,children:h._(/*BTDS*/"Auto")}),a!=null?k.jsxs(k.Fragment,{children:[k.jsx("span",{children:"\xa0"}),k.jsx("span",{"data-testid":void 0,children:a})]}):null]}):k.jsx("span",{"data-testid":void 0,children:e}),b[4]=e,b[5]=a,b[6]=n):n=b[6];b[7]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"x3nfvp2 xmgb6t1 xwklpps"},b[7]=e):e=b[7];b[8]===Symbol["for"]("react.memo_cache_sentinel")?(a=k.jsx("span",babelHelpers["extends"]({},e,{children:k.jsx(c("CometImage.react"),{src:i("480587")})})),b[8]=a):a=b[8];b[9]!==n?(e=k.jsxs("div",babelHelpers["extends"]({},m,{children:[n,a]})),b[9]=n,b[10]=e):e=b[10];b[11]!==g||b[12]!==e?(m=k.jsxs(c("CometPressable.react"),{onPress:g,testid:void 0,xstyle:l.pressableOption,children:[j,e]}),b[11]=g,b[12]=e,b[13]=m):m=b[13];return m}g["default"]=a}),226);
__d("VideoPlayerSettingsMenu.react",["fbt","$InternalEnum","CometErrorBoundary.react","CometKeys","CometPlaceholder.react","CometRelay","LiveVideoLatencyMenu.react","PlaybackSpeedExperiments","VideoPlayerHooks","VideoPlayerSettingsMenuAudioTrackPane.react","VideoPlayerSettingsMenuMainPane.react","VideoPlayerSettingsMenuPlaybackSpeedPane.react","VideoPlayerSettingsMenuQualityPane.react","react","react-compiler-runtime","recoverableViolation","useLayerKeyCommands"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react"));e=i;e.useCallback;var l=e.useContext,m=e.useEffect;e.useMemo;var n=e.useRef,o=e.useState,p=b("$InternalEnum")({LATENCY:"latency",MAIN:"main",PLAYBACK_SPEED:"playbackSpeed",QUALITY:"quality",AUDIO:"audio"});function a(a){var b=d("react-compiler-runtime").c(57),e=a.children,f=a.forceShowPlaybackRateControl,g=a.onClose,i=a.originalVideoLanguage;a=a.videoID;e=e===void 0?null:e;var q=(j||(j=d("VideoPlayerHooks"))).useCaptionsLoaded(),r=j.useCaptionsVisible(),s=j.useSelectedVideoQuality(),t;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(t=[],b[0]=t):t=b[0];t=o(t);var u=t[0],v=t[1];t=o(null);var w=t[0],x=t[1],y=j.useController(),z;b[1]!==y?(t=function(){if(y==null)return;var a=y.subscribe(function(){var a;x((a=y.getCurrentState().targetAudioTrack)!=null?a:null);v((a=y.getCurrentState().availableAudioTracks)!=null?a:[])});return function(){a.remove()}},z=[y],b[1]=y,b[2]=t,b[3]=z):(t=b[2],z=b[3]);m(t,z);t=j.useInbandCaptionsAutogenerated();z=j.useTargetVideoQuality();var A=o(p.MAIN),B=A[0],C=A[1];A=o(r);r=A[0];A=A[1];var D=j.usePlaybackRate(),E=j.useIsLive(),F=j.useIsLiveRewindActive(),G=l(d("LiveVideoLatencyMenu.react").LiveVideoLatencyMenuContext);G=G.liveVideoLatencyMenuPaneMatchPointer;var H=j.useShouldShowPlaybackRateControl(),I;b[4]!==f||b[5]!==H?(I=f===!0||d("PlaybackSpeedExperiments").enableCometPlaybackSpeedControl()&&H,b[4]=f,b[5]=H,b[6]=I):I=b[6];f=I;b[7]!==E||b[8]!==F||b[9]!==B?(H=function(){E&&!F&&B===p.PLAYBACK_SPEED&&C(p.MAIN)},I=[F,C,E,B],b[7]=E,b[8]=F,b[9]=B,b[10]=H,b[11]=I):(H=b[10],I=b[11]);m(H,I);b[12]!==u.length||b[13]!==B?(H=function(){u.length<=1&&B===p.AUDIO&&C(p.MAIN)},b[12]=u.length,b[13]=B,b[14]=H):H=b[14];b[15]!==u||b[16]!==B?(I=[u,B],b[15]=u,b[16]=B,b[17]=I):I=b[17];m(H,I);var J=n(null),K=n(null);b[18]!==g?(H=function(a){J.current&&K.current&&a.target instanceof HTMLElement&&document.contains(a.target)&&!J.current.contains(a.target)&&K.current.contains(a.target)&&g()},b[18]=g,b[19]=H):H=b[19];var L=H;b[20]!==L?(I=function(){document.addEventListener("click",L);return function(){document.removeEventListener("click",L)}},H=[L],b[20]=L,b[21]=I,b[22]=H):(I=b[21],H=b[22]);m(I,H);b[23]===Symbol["for"]("react.memo_cache_sentinel")?(I={key:c("CometKeys").ESCAPE},H=h._(/*BTDS*/"Close video settings menu"),b[23]=I,b[24]=H):(I=b[23],H=b[24]);b[25]!==g?(I=[{command:I,description:H,handler:function(){g()}}],b[25]=g,b[26]=I):I=b[26];H=I;I=H;c("useLayerKeyCommands")(I);H=w!=null?w:null;b[27]!==u||b[28]!==q||b[29]!==r||b[30]!==e||b[31]!==t||b[32]!==E||b[33]!==D||b[34]!==s||b[35]!==f||b[36]!==H||b[37]!==z?(I=k.jsx(c("VideoPlayerSettingsMenuMainPane.react"),{availableAudioTracks:u,captionsLoaded:q,captionsVisibleOptimistic:r,inbandCaptionsAutogenerated:t,isLive:E,playbackRate:D,selectedVideoQuality:s,setIsCaptionsVisible:A,setPane:C,shouldEnablePlaybackRateSupport:f,targetAudioTrack:H,targetVideoQuality:z,children:e}),b[27]=u,b[28]=q,b[29]=r,b[30]=e,b[31]=t,b[32]=E,b[33]=D,b[34]=s,b[35]=f,b[36]=H,b[37]=z,b[38]=I):I=b[38];A=I;bb0:switch(B){case p.LATENCY:if(G==null){c("recoverableViolation")("Latency components should not be null","gaming_video");break bb0}b[39]===Symbol["for"]("react.memo_cache_sentinel")?(q={setPane:C},b[39]=q):q=b[39];b[40]!==G?(r=k.jsx(c("CometErrorBoundary.react"),{children:k.jsx(c("CometPlaceholder.react"),{fallback:null,children:k.jsx(d("CometRelay").MatchContainer,{match:G,props:q})})}),b[40]=G,b[41]=r):r=b[41];A=r;break bb0;case p.MAIN:break bb0;case p.PLAYBACK_SPEED:b[42]!==D?(e=k.jsx(c("VideoPlayerSettingsMenuPlaybackSpeedPane.react"),{playbackRate:D,setPane:C}),b[42]=D,b[43]=e):e=b[43];A=e;break bb0;case p.QUALITY:b[44]!==s?(t=k.jsx(c("VideoPlayerSettingsMenuQualityPane.react"),{selectedVideoQuality:s,setPane:C}),b[44]=s,b[45]=t):t=b[45];A=t;break bb0;case p.AUDIO:b[46]!==u||b[47]!==E||b[48]!==i||b[49]!==w||b[50]!==a?(f=!E&&u.length>1?k.jsx(c("VideoPlayerSettingsMenuAudioTrackPane.react"),{availableAudioTracks:u,originalVideoLanguage:i!=null?i:null,setPane:C,targetAudioTrack:w!=null?w:null,videoID:a!=null?a:null}):null,b[46]=u,b[47]=E,b[48]=i,b[49]=w,b[50]=a,b[51]=f):f=b[51];A=f}b[52]!==A?(H=k.jsx("div",{ref:J,children:A}),b[52]=A,b[53]=H):H=b[53];b[54]===Symbol["for"]("react.memo_cache_sentinel")?(z=k.jsx("div",babelHelpers["extends"]({className:"xjbqb8w x5yr21d x1o0tod xg6iff7 x1g81zrj xixxii4 x13vifvy xh8yej3 x8knxv4"},{"data-testid":void 0,ref:K})),b[54]=z):z=b[54];b[55]!==H?(I=k.jsxs(k.Fragment,{children:[H,z]}),b[55]=H,b[56]=I):I=b[56];return I}g.VideoPlayerSettingsMenuPaneType=p;g.VideoPlayerSettingsMenu=a}),226);
__d("VideoPlayerSettingsMenuAudioTrackPane.react",["ix","AutoDubbingConsumptionFalcoEvent","CometAudioLanguageMenuItemsMutation","CometFeedStoryMetaSectionMiddot.react","CometImage.react","CometPressable.react","CometRelay","CometVideoPlayerAutoDubbingWWWStrings","CurrentLocale","FDSTextPairing.react","FocusRegion.react","VideoPlayerAudioTrackUtils","VideoPlayerHooks","VideoPlayerSettingsMenu.react","focusScopeQueries","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react"));b=i;var l=b.useEffect,m=b.useRef,n={menuOptionRow:{color:"x14ctfv",display:"x1lliihq",minWidth:"xfvyar9",outline:"x1a2a7pz",paddingTop:"xyqdw3p",paddingInlineEnd:"xyri2b",paddingBottom:"xg8j3zb",paddingInlineStart:"x1c1uobl",textAlign:"x1yc453h",$$css:!0},pressableOption:{width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(31),e=a.availableAudioTracks,f=a.originalVideoLanguage,g=a.setPane,i=a.targetAudioTrack,o=a.videoID,p=(j||(j=d("VideoPlayerHooks"))).useController();a=d("CometRelay").useMutation(d("CometAudioLanguageMenuItemsMutation").setUserPreferredAudioLanguageDataMutation);var q=a[0];b[0]!==q?(a=function(a){a!=null&&q({variables:{input:{language_code:a}}})},b[0]=q,b[1]=a):a=b[1];var r=a;b[2]!==o?(a=function(a,b,d,e,f){var g={client_extra_data:{dubbing_type_from:d==null?"original":d,dubbing_type_to:e==null?"original":e,lang_from:a!=null?a:"original",lang_to:b!=null?b:"original"},event:f,video_id:o!=null?o:""};c("AutoDubbingConsumptionFalcoEvent").log(function(){return g})},b[2]=o,b[3]=a):a=b[3];var s=a;b[4]!==f?(a=function(a){var b;b=(b=a==null?void 0:a.lang)!=null?b:null;(a==null?void 0:a.lang)===null&&a.role==null&&(b=f!=null?f:null);return b},b[4]=f,b[5]=a):a=b[5];var t=a,u=m(null),v=function(a){var b=t(a),c=t(i);p.selectVideoVariant({lang:a.lang,role:a.role});r(b);s(c,b,i==null?void 0:i.role,a.role,"fb_reel_auto_dub_consumption_preferred_language_changed");u.current!=null&&u.current.remove();u.current=p.subscribe(function(){var d;if(((d=p.getCurrentState().targetAudioTrack)==null?void 0:d.id)===a.id){s(c,b,i==null?void 0:i.role,a.role,"fb_reel_auto_dub_consumption");(d=u.current)==null||d.remove()}})};b[6]!==p?(a=[p],b[6]=p,b[7]=a):a=b[7];l(function(){return function(){var a;(a=u.current)==null||a.remove()}},a);b[8]!==f?(a=function(a){var b=a==null?void 0:a.lang;b==null&&(a==null?void 0:a.role)==null&&(b=f!=null?f:null);b=d("VideoPlayerAudioTrackUtils").getIntlDisplayName(c("CurrentLocale").get(),b);var e=null;a.role==null?e=b==null?k.jsx("div",{children:d("CometVideoPlayerAutoDubbingWWWStrings").ORIGINAL_AUDIO_LABEL}):k.jsxs("div",{children:[d("CometVideoPlayerAutoDubbingWWWStrings").getLanguageLabel(b),k.jsx(c("CometFeedStoryMetaSectionMiddot.react"),{}),d("CometVideoPlayerAutoDubbingWWWStrings").ORIGINAL_AUDIO_LABEL]}):b!=null&&(e=d("CometVideoPlayerAutoDubbingWWWStrings").getLanguageLabel(b));return e},b[8]=f,b[9]=a):a=b[9];var w=a;a=d("FocusRegion.react").FocusRegion;var x=d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,y=d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,z="VideoPlayerSettingsMenu/changeAudioTrackPane";b[10]===Symbol["for"]("react.memo_cache_sentinel")?(z={className:"x6s0dn4 x14ctfv x1ypdohk x78zum5 x1s688f x1lku1pv"},b[10]=z):z=b[10];var A;b[11]!==g?(A=function(){return g(d("VideoPlayerSettingsMenu.react").VideoPlayerSettingsMenuPaneType.MAIN)},b[11]=g,b[12]=A):A=b[12];var B;b[13]===Symbol["for"]("react.memo_cache_sentinel")?(B={className:"x6s0dn4 x3nfvp2 xmgb6t1 x165d6jo"},b[13]=B):B=b[13];b[14]===Symbol["for"]("react.memo_cache_sentinel")?(B=k.jsx("span",babelHelpers["extends"]({},B,{children:k.jsx(c("CometImage.react"),{src:h("480579")})})),b[14]=B):B=b[14];b[15]!==A?(z=k.jsx("div",babelHelpers["extends"]({},z,{children:k.jsxs(c("CometPressable.react"),{onPress:A,testid:void 0,xstyle:n.pressableOption,children:[B,d("CometVideoPlayerAutoDubbingWWWStrings").VOD_TRANSLATIONS_MENU_ITEM]})})),b[15]=A,b[16]=z):z=b[16];b[17]===Symbol["for"]("react.memo_cache_sentinel")?(B=k.jsx("div",babelHelpers["extends"]({className:"x1j9u4d2 xyamay9"},{children:k.jsx(c("FDSTextPairing.react"),{body:d("CometVideoPlayerAutoDubbingWWWStrings").VOD_TRANSLATIONS_DESCRIPTION,bodyColor:"white",level:4})})),A={className:"x1hm9lzh x1anpbxc xn80e1m"},b[17]=B,b[18]=A):(B=b[17],A=b[18]);var C="VideoPlayerSettingsMenu/changeAudioTrackPaneList";C=e.map(function(a){var b=(i==null?void 0:i.id)===a.id,d=w(a);if(d!=null)return k.jsx("div",{children:k.jsxs(c("CometPressable.react"),{onPress:function(){return v(a)},testid:void 0,xstyle:n.menuOptionRow,children:[k.jsx("div",babelHelpers["extends"]({className:"xiakxrv x1rgw4pv x1vjm0to xnqoqkk x16lu3ki x1rg5ohu xmgb6t1 x1sa5p1d x1yrsyyn x1icxu4v x10b6aqq x25sj25"},{children:b&&k.jsx("div",babelHelpers["extends"]({className:"x14hiurz x13t61ll x1kchd1x x1u0fnx4 xbxn0j6 x1rg5ohu xqu0tyb xe9ewy2 x1kgmq87 x10l6tqk x51ohtg"},{"data-testid":void 0}))})),k.jsx("div",babelHelpers["extends"]({},{0:{className:"x1ypdohk x1rg5ohu"},1:{className:"x1ypdohk x1rg5ohu x1s688f"}}[!!b<<0],{"data-testid":void 0,children:d}))]})},a.id)});b[19]!==A||b[20]!==C?(e=k.jsx("div",babelHelpers["extends"]({},A,{"data-testid":void 0,children:C})),b[19]=A,b[20]=C,b[21]=e):e=b[21];b[22]!==z||b[23]!==B||b[24]!==e?(A=k.jsxs("div",{"data-testid":void 0,children:[z,B,e]}),b[22]=z,b[23]=B,b[24]=e,b[25]=A):A=b[25];b[26]!==a||b[27]!==A||b[28]!==x||b[29]!==y?(C=k.jsx(a,{autoFocusQuery:x,recoverFocusQuery:y,children:A}),b[26]=a,b[27]=A,b[28]=x,b[29]=y,b[30]=C):C=b[30];return C}g["default"]=a}),98);
__d("VideoPlayerSettingsMenuAudioTrackPaneToggle.react",["ix","CometImage.react","CometPressable.react","CometVideoPlayerAutoDubbingWWWStrings","CurrentLocale","VideoPlayerAudioTrackUtils","VideoPlayerSettingsMenu.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={pressableOption:{width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(30),e=a.setPane;a=a.targetAudioTrack;var f,g,i,l,m,n,o;if(b[0]!==e||b[1]!==(a==null?void 0:a.lang)||b[2]!==(a==null?void 0:a.role)){var p=d("VideoPlayerAudioTrackUtils").getIntlDisplayName(c("CurrentLocale").get(),a==null?void 0:a.lang);f=c("CometPressable.react");b[11]!==e?(l=function(){e(d("VideoPlayerSettingsMenu.react").VideoPlayerSettingsMenuPaneType.AUDIO)},b[11]=e,b[12]=l):l=b[12];m="VideoPlayerSettingsMenu/mainPaneAudioTrackItem";n=k.pressableOption;b[13]===Symbol["for"]("react.memo_cache_sentinel")?(o=j.jsx("div",babelHelpers["extends"]({className:"x1ypdohk x1s688f"},{children:d("CometVideoPlayerAutoDubbingWWWStrings").VOD_TRANSLATIONS_MENU_ITEM})),i={className:"x6s0dn4 x14ctfv x1ypdohk x78zum5 x1bhwmg6 x13a6bvl x13fj5qh x450l9j xn80e1m"},b[13]=i,b[14]=o):(i=b[13],o=b[14]);g="VideoPlayerSettingsMenu/mainPaneAudioTrackItemLabelManuallySelected";p=(a==null?void 0:a.role)===null?d("CometVideoPlayerAutoDubbingWWWStrings").VOD_TRANSLATIONS_OFF:(a==null?void 0:a.role)==="dub"&&p!=null?d("CometVideoPlayerAutoDubbingWWWStrings").getLanguageLabel(p):null;b[0]=e;b[1]=a==null?void 0:a.lang;b[2]=a==null?void 0:a.role;b[3]=f;b[4]=g;b[5]=p;b[6]=i;b[7]=l;b[8]=m;b[9]=n;b[10]=o}else f=b[3],g=b[4],p=b[5],i=b[6],l=b[7],m=b[8],n=b[9],o=b[10];b[15]!==g||b[16]!==p?(a=j.jsx("span",{"data-testid":void 0,children:p}),b[15]=g,b[16]=p,b[17]=a):a=b[17];b[18]===Symbol["for"]("react.memo_cache_sentinel")?(g={className:"x3nfvp2 xmgb6t1 xwklpps"},b[18]=g):g=b[18];b[19]===Symbol["for"]("react.memo_cache_sentinel")?(p=j.jsx("span",babelHelpers["extends"]({},g,{children:j.jsx(c("CometImage.react"),{src:h("480587")})})),b[19]=p):p=b[19];b[20]!==i||b[21]!==a?(g=j.jsxs("div",babelHelpers["extends"]({},i,{children:[a,p]})),b[20]=i,b[21]=a,b[22]=g):g=b[22];b[23]!==f||b[24]!==g||b[25]!==l||b[26]!==m||b[27]!==n||b[28]!==o?(p=j.jsxs(f,{onPress:l,testid:void 0,xstyle:n,children:[o,g]}),b[23]=f,b[24]=g,b[25]=l,b[26]=m,b[27]=n,b[28]=o,b[29]=p):p=b[29];return p}g["default"]=a}),98);
__d("VideoPlayerSettingsMenuMainPane.react",["CometErrorBoundary.react","CometPlaceholder.react","CometRelay","FocusRegion.react","LiveVideoLatencyMenu.react","VideoPlayerSettingsMenuAudioTrackPaneToggle.react","VideoPlayerSettingsMenuPlaybackPaneToggle.react","VideoPlayerSettingsMenuQualityPaneToggle.react","focusScopeQueries","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext;function a(a){var b=d("react-compiler-runtime").c(23),e=a.availableAudioTracks,f=a.children,g=a.isLive,h=a.playbackRate,k=a.selectedVideoQuality,l=a.setPane,m=a.shouldEnablePlaybackRateSupport,n=a.targetAudioTrack;a=a.targetVideoQuality;var o=j(d("LiveVideoLatencyMenu.react").LiveVideoLatencyMenuContext);o=o.liveVideoLatencyMenuPaneToggleMatchPointer;g=!g&&e.length>1?c("gkx")("24336"):!1;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"x14ctfv x78zum5 x1hoihq8 x1lku1pv"},b[0]=e):e=b[0];b[1]!==k||b[2]!==l||b[3]!==a?(e=i.jsx("div",babelHelpers["extends"]({},e,{children:i.jsx(c("VideoPlayerSettingsMenuQualityPaneToggle.react"),{selectedVideoQuality:k,setPane:l,targetVideoQuality:a})})),b[1]=k,b[2]=l,b[3]=a,b[4]=e):e=b[4];b[5]!==l||b[6]!==g||b[7]!==n?(k=g&&i.jsx("div",babelHelpers["extends"]({className:"x14ctfv x78zum5 x1hoihq8 x1lku1pv"},{children:i.jsx(c("VideoPlayerSettingsMenuAudioTrackPaneToggle.react"),{setPane:l,targetAudioTrack:n})})),b[5]=l,b[6]=g,b[7]=n,b[8]=k):k=b[8];b[9]===Symbol["for"]("react.memo_cache_sentinel")?(a={className:"x14ctfv x78zum5 x1hoihq8 x1lku1pv"},b[9]=a):a=b[9];b[10]!==h||b[11]!==l||b[12]!==m?(g=i.jsx("div",babelHelpers["extends"]({},a,{children:i.jsx(c("VideoPlayerSettingsMenuPlaybackPaneToggle.react"),{playbackRate:h,setPane:l,shouldEnablePlaybackRateSupport:m})})),b[10]=h,b[11]=l,b[12]=m,b[13]=g):g=b[13];b[14]!==o||b[15]!==l?(n=o!=null&&i.jsx("div",babelHelpers["extends"]({className:"x14ctfv x78zum5 x1hoihq8 x1lku1pv"},{children:i.jsx(c("CometErrorBoundary.react"),{children:i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(d("CometRelay").MatchContainer,{match:o,props:{setPane:l}})})})})),b[14]=o,b[15]=l,b[16]=n):n=b[16];b[17]!==f||b[18]!==e||b[19]!==k||b[20]!==g||b[21]!==n?(a=i.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,recoverFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,children:i.jsxs("div",{"data-testid":void 0,children:[e,k,g,n,f]})}),b[17]=f,b[18]=e,b[19]=k,b[20]=g,b[21]=n,b[22]=a):a=b[22];return a}g["default"]=a}),98);
__d("VideoPlayerSettingsMenuPlaybackPaneToggle.react",["fbt","ix","CometImage.react","CometPressable.react","VideoPlayerSettingsMenu.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l={pressableOption:{width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(13),e=a.playbackRate,f=a.setPane;a=a.shouldEnablePlaybackRateSupport;if(!a)return null;b[0]!==f?(a=function(){f(d("VideoPlayerSettingsMenu.react").VideoPlayerSettingsMenuPaneType.PLAYBACK_SPEED)},b[0]=f,b[1]=a):a=b[1];var g,j;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(g=k.jsx("div",babelHelpers["extends"]({className:"x1ypdohk x1s688f"},{children:h._(/*BTDS*/"Playback Speed")})),j={className:"x6s0dn4 x14ctfv x1ypdohk x78zum5 x1bhwmg6 x13a6bvl x13fj5qh x450l9j"},b[2]=g,b[3]=j):(g=b[2],j=b[3]);var m;b[4]!==e?(m=k.jsx("span",{"data-testid":void 0,children:e}),b[4]=e,b[5]=m):m=b[5];b[6]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"x3nfvp2 xmgb6t1 xwklpps"},b[6]=e):e=b[6];b[7]===Symbol["for"]("react.memo_cache_sentinel")?(e=k.jsx("span",babelHelpers["extends"]({},e,{children:k.jsx(c("CometImage.react"),{src:i("480587")})})),b[7]=e):e=b[7];b[8]!==m?(j=k.jsxs("div",babelHelpers["extends"]({},j,{children:[m,e]})),b[8]=m,b[9]=j):j=b[9];b[10]!==a||b[11]!==j?(e=k.jsxs(c("CometPressable.react"),{onPress:a,testid:void 0,xstyle:l.pressableOption,children:[g,j]}),b[10]=a,b[11]=j,b[12]=e):e=b[12];return e}g["default"]=a}),226);
__d("VideoPlayerSettingsMenuPlaybackSpeedPane.react",["fbt","ix","CometImage.react","CometPressable.react","FocusRegion.react","VideoPlayerHooks","VideoPlayerSettingsMenu.react","focusScopeQueries","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=j||d("react"),m={menuOptionRow:{color:"x14ctfv",display:"x1lliihq",minWidth:"xfvyar9",outline:"x1a2a7pz",paddingTop:"xyqdw3p",paddingInlineEnd:"xyri2b",paddingBottom:"xg8j3zb",paddingInlineStart:"x1c1uobl",textAlign:"x1yc453h",$$css:!0},pressableOption:{width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(15),e=a.playbackRate,f=a.setPane,g=(k||(k=d("VideoPlayerHooks"))).useController();b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a={className:"x6s0dn4 x14ctfv x1ypdohk x78zum5 x1s688f x1lku1pv"},b[0]=a):a=b[0];var j;b[1]!==f?(j=function(){return f(d("VideoPlayerSettingsMenu.react").VideoPlayerSettingsMenuPaneType.MAIN)},b[1]=f,b[2]=j):j=b[2];var n;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(n={className:"x3nfvp2 xmgb6t1 x165d6jo"},b[3]=n):n=b[3];var o;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(n=l.jsx("span",babelHelpers["extends"]({},n,{children:l.jsx(c("CometImage.react"),{src:i("480579")})})),o=h._(/*BTDS*/"Playback Speed"),b[4]=n,b[5]=o):(n=b[4],o=b[5]);b[6]!==j?(a=l.jsx("div",babelHelpers["extends"]({},a,{children:l.jsxs(c("CometPressable.react"),{onPress:j,testid:void 0,xstyle:m.pressableOption,children:[" ",n,o]})})),b[6]=j,b[7]=a):a=b[7];b[8]===Symbol["for"]("react.memo_cache_sentinel")?(n={className:"x1hm9lzh x1anpbxc"},b[8]=n):n=b[8];b[9]!==g||b[10]!==e?(o=l.jsx("div",babelHelpers["extends"]({},n,{"data-testid":void 0,children:[.5,.75,1,1.25,1.5,1.75,2].map(function(a){var b=e===a,d=h._(/*BTDS*/"Set the playback speed to {playback_rate_option}{is_playback_rate_option_selected}",[h._param("playback_rate_option",a),h._param("is_playback_rate_option_selected",b?", selected":"")]);return l.jsx("div",{children:l.jsxs(c("CometPressable.react"),{"aria-checked":b,"aria-label":d,onPress:function(){g.setPlaybackRate(a)},testid:void 0,xstyle:m.menuOptionRow,children:[l.jsx("div",babelHelpers["extends"]({className:"x17j41np x1rgw4pv x1vjm0to xnqoqkk x16lu3ki x1rg5ohu xmgb6t1 x1sa5p1d x1yrsyyn x1icxu4v x10b6aqq x25sj25"},{children:b&&l.jsx("div",babelHelpers["extends"]({className:"x14hiurz x13t61ll x1kchd1x x1u0fnx4 xbxn0j6 x1rg5ohu xqu0tyb xe9ewy2 x1kgmq87 x10l6tqk x51ohtg"},{"data-testid":void 0}))})),l.jsx("div",babelHelpers["extends"]({},{0:{className:"x1ypdohk x1rg5ohu"},1:{className:"x1ypdohk x1rg5ohu x1s688f"}}[!!b<<0],{"data-testid":void 0,children:a}))]})},a)})})),b[9]=g,b[10]=e,b[11]=o):o=b[11];b[12]!==a||b[13]!==o?(j=l.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,recoverFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,children:l.jsxs("div",{"data-testid":void 0,children:[a,o]})}),b[12]=a,b[13]=o,b[14]=j):j=b[14];return j}g["default"]=a}),226);
__d("VideoPlayerSettingsMenuQualityPane.react",["fbt","ix","CometImage.react","CometPressable.react","FocusRegion.react","VideoPlayerHooks","VideoPlayerSettingsMenu.react","focusScopeQueries","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=j||d("react"),m={menuOptionRow:{color:"x14ctfv",display:"x1lliihq",minWidth:"xfvyar9",outline:"x1a2a7pz",paddingTop:"xyqdw3p",paddingInlineEnd:"xyri2b",paddingBottom:"xg8j3zb",paddingInlineStart:"x1c1uobl",textAlign:"x1yc453h",$$css:!0},pressableOption:{width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(26),e=a.selectedVideoQuality,f=a.setPane;a=(k||(k=d("VideoPlayerHooks"))).useAvailableVideoQualities();var g=k.useIsAbrEnabled(),j=k.useController(),n;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(n={className:"x6s0dn4 x14ctfv x1ypdohk x78zum5 x1s688f x1lku1pv"},b[0]=n):n=b[0];var o;b[1]!==f?(o=function(){return f(d("VideoPlayerSettingsMenu.react").VideoPlayerSettingsMenuPaneType.MAIN)},b[1]=f,b[2]=o):o=b[2];var p;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(p={className:"x6s0dn4 x3nfvp2 xmgb6t1 x165d6jo"},b[3]=p):p=b[3];var q;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(p=l.jsx("span",babelHelpers["extends"]({},p,{children:l.jsx(c("CometImage.react"),{src:i("480579")})})),q=h._(/*BTDS*/"Quality"),b[4]=p,b[5]=q):(p=b[4],q=b[5]);b[6]!==o?(n=l.jsx("div",babelHelpers["extends"]({},n,{children:l.jsxs(c("CometPressable.react"),{onPress:o,testid:void 0,xstyle:m.pressableOption,children:[p,q]})})),b[6]=o,b[7]=n):n=b[7];b[8]===Symbol["for"]("react.memo_cache_sentinel")?(p={className:"x1hm9lzh x1anpbxc"},b[8]=p):p=b[8];b[9]!==j||b[10]!==g||b[11]!==e?(q=g?l.jsx("div",{children:l.jsxs(c("CometPressable.react"),{onPress:function(){j.selectVideoQuality("auto")},testid:void 0,xstyle:m.menuOptionRow,children:[l.jsx("div",babelHelpers["extends"]({className:"xiakxrv x1rgw4pv x1vjm0to xnqoqkk x16lu3ki x1rg5ohu xmgb6t1 x1sa5p1d x1yrsyyn x1icxu4v x10b6aqq x25sj25"},{children:e==="auto"&&l.jsx("div",babelHelpers["extends"]({className:"x14hiurz x13t61ll x1kchd1x x1u0fnx4 xbxn0j6 x1rg5ohu xqu0tyb xe9ewy2 x1kgmq87 x10l6tqk x51ohtg"},{"data-testid":void 0}))})),l.jsx("div",babelHelpers["extends"]({},{0:{className:"x1ypdohk x1rg5ohu"},1:{className:"x1ypdohk x1rg5ohu x1s688f"}}[!!(e==="auto")<<0],{"data-testid":void 0,children:h._(/*BTDS*/"Auto")}))]})},"auto"):null,b[9]=j,b[10]=g,b[11]=e,b[12]=q):q=b[12];if(b[13]!==a||b[14]!==j||b[15]!==e){b[17]!==j||b[18]!==e?(o=function(a){var b=e===a;return l.jsx("div",{children:l.jsxs(c("CometPressable.react"),{onPress:function(){j.selectVideoQuality(a)},testid:void 0,xstyle:m.menuOptionRow,children:[l.jsx("div",babelHelpers["extends"]({className:"xiakxrv x1rgw4pv x1vjm0to xnqoqkk x16lu3ki x1rg5ohu xmgb6t1 x1sa5p1d x1yrsyyn x1icxu4v x10b6aqq x25sj25"},{children:b&&l.jsx("div",babelHelpers["extends"]({className:"x14hiurz x13t61ll x1kchd1x x1u0fnx4 xbxn0j6 x1rg5ohu xqu0tyb xe9ewy2 x1kgmq87 x10l6tqk x51ohtg"},{"data-testid":void 0}))})),l.jsx("div",babelHelpers["extends"]({},{0:{className:"x1ypdohk x1rg5ohu"},1:{className:"x1ypdohk x1rg5ohu x1s688f"}}[!!b<<0],{"data-testid":void 0,children:a}))]})},a)},b[17]=j,b[18]=e,b[19]=o):o=b[19];g=a.map(o).reverse();b[13]=a;b[14]=j;b[15]=e;b[16]=g}else g=b[16];b[20]!==q||b[21]!==g?(o=l.jsxs("div",babelHelpers["extends"]({},p,{"data-testid":void 0,children:[q,g]})),b[20]=q,b[21]=g,b[22]=o):o=b[22];b[23]!==o||b[24]!==n?(a=l.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,recoverFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,children:l.jsxs("div",{"data-testid":void 0,children:[n,o]})}),b[23]=o,b[24]=n,b[25]=a):a=b[25];return a}g["default"]=a}),226);
__d("VideoPlayerSettingsControl.react",["fbt","ix","VideoPlayerControlIcon.react","VideoPlayerDefaultControlsProperties","VideoPlayerSettingsMenu.react","VideoPlayerUserInteractionCounter","fbicon","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react")),l=j.useState;function a(a){var b=d("react-compiler-runtime").c(29),e=a.alignMenuToIcon,f=a.children,g=a.compactMenu,j=a.forceShowPlaybackRateControl,m=a.icon,n=a.menuOpened,o=a.onMenuOpen,p=a.onUserInteraction,q=a.originalVideoLanguage,r=a.ref,s=a.setMenuOpened;a=a.videoID;e=e===void 0?!1:e;f=f===void 0?null:f;var t=l(!1),u=t[0],v=t[1];b[0]===Symbol["for"]("react.memo_cache_sentinel")?(t=h._(/*BTDS*/"Settings"),b[0]=t):t=b[0];t=t;var w=s!=null;d("VideoPlayerUserInteractionCounter").useVideoPlayerUserInteraction("video_settings_menu",w?n===d("VideoPlayerDefaultControlsProperties").VideoMenuType.VIDEO_SETTINGS_MENU:u,p);var x=w?n===d("VideoPlayerDefaultControlsProperties").VideoMenuType.VIDEO_SETTINGS_MENU:u;b[1]!==e?(p={0:{className:"x1rg5ohu x1k70j0n xbelrpt xzueoph xdzw4kq"},1:{className:"x1rg5ohu x1k70j0n xbelrpt xzueoph xdzw4kq x1n2onr6 xuxw1ft"}}[!!(e===!0)<<0],b[1]=e,b[2]=p):p=b[2];b[3]!==e||b[4]!==f||b[5]!==g||b[6]!==j||b[7]!==w||b[8]!==x||b[9]!==q||b[10]!==s||b[11]!==a?(n=x&&k.jsx("div",babelHelpers["extends"]({},{0:{className:"xjb1437 xacj9c0 x14ctfv x89ytp0 x889kno x1x5flf6 x1a8lsjc xwn43p0 x10l6tqk x1fwd5yv"},2:{className:"xjb1437 xacj9c0 x14ctfv x89ytp0 x889kno x1x5flf6 x1a8lsjc xwn43p0 x10l6tqk xwjie4w"},1:{className:"xjb1437 xacj9c0 x14ctfv x89ytp0 x889kno x1x5flf6 x1a8lsjc xwn43p0 x10l6tqk x3m8u43"},3:{className:"xjb1437 xacj9c0 x14ctfv x89ytp0 x889kno x1x5flf6 x1a8lsjc xwn43p0 x10l6tqk x3m8u43"}}[!!(g===!0)<<1|!!(e===!0)<<0],{children:k.jsx(d("VideoPlayerSettingsMenu.react").VideoPlayerSettingsMenu,{forceShowPlaybackRateControl:j,onClose:function(){w?s!=null&&s(null):v(!1)},originalVideoLanguage:q!=null?q:null,videoID:a!=null?a:null,children:f})})),b[3]=e,b[4]=f,b[5]=g,b[6]=j,b[7]=w,b[8]=x,b[9]=q,b[10]=s,b[11]=a,b[12]=n):n=b[12];b[13]!==m?(e=m==null?d("fbicon")._(i("497567"),20):m,b[13]=m,b[14]=e):e=b[14];b[15]!==w||b[16]!==x||b[17]!==u||b[18]!==o||b[19]!==s?(f=function(){w?s!=null&&s(x?null:d("VideoPlayerDefaultControlsProperties").VideoMenuType.VIDEO_SETTINGS_MENU):v(!u),!x&&o!=null&&o()},b[15]=w,b[16]=x,b[17]=u,b[18]=o,b[19]=s,b[20]=f):f=b[20];b[21]!==e||b[22]!==f?(g=k.jsx(c("VideoPlayerControlIcon.react"),{icon:e,label:t,onPress:f,tooltip:t}),b[21]=e,b[22]=f,b[23]=g):g=b[23];b[24]!==r||b[25]!==p||b[26]!==n||b[27]!==g?(j=k.jsxs("div",babelHelpers["extends"]({},p,{ref:r,children:[n,g]})),b[24]=r,b[25]=p,b[26]=n,b[27]=g,b[28]=j):j=b[28];return j}a.displayName="VideoPlayerSettingsControl";g["default"]=a}),226);
__d("VideoPlayerWatchAndScrollControl_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerWatchAndScrollControl_video",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"playable_duration_in_ms",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"has_professional_features_for_watch",storageKey:null}],type:"VideoOwner",abstractKey:"__isVideoOwner"},a],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_huddle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"Video",abstractKey:null}}();e.exports=a}),null);
__d("useVideoPlayerWatchAndScrollControlNUXQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="29450006731309811"}),null);
__d("useVideoPlayerWatchAndScrollControlNUXQuery.graphql",["useVideoPlayerWatchAndScrollControlNUXQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"nux_id",value:9347}],c={alias:null,args:null,kind:"ScalarField",name:"should_show",storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerWatchAndScrollControlNUXQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[c],storageKey:"nux(nux_id:9347)"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useVideoPlayerWatchAndScrollControlNUXQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:"nux(nux_id:9347)"}]},params:{id:b("useVideoPlayerWatchAndScrollControlNUXQuery_facebookRelayOperation"),metadata:{},name:"useVideoPlayerWatchAndScrollControlNUXQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useVideoPlayerWatchAndScrollControlNUX",["fbt","CometRelay","CometWatchAndScrollTriggerContext","react","react-compiler-runtime","recoverableViolation","requireDeferred","useFDSCallout","useVideoPlayerWatchAndScrollControlNUXQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;e=j||d("react");e.useCallback;var k=e.useContext,l=e.useEffect,m=e.useState,n=c("requireDeferred")("CometDismissFBNuxMutation").__setRef("useVideoPlayerWatchAndScrollControlNUX"),o=c("requireDeferred")("CometLogImpressionFBNuxMutation").__setRef("useVideoPlayerWatchAndScrollControlNUX"),p={nux:{maxWidth:"xw5ewwj",$$css:!0}},q=9347,r=i!==void 0?i:i=b("useVideoPlayerWatchAndScrollControlNUXQuery.graphql");function a(a){var b=d("react-compiler-runtime").c(19),e=k(c("CometWatchAndScrollTriggerContext")),f=e.setIsTriggerDisabled;e=m(null);var g=e[0],i=e[1],j=d("CometRelay").useRelayEnvironment();b[0]!==j||b[1]!==f?(e=function(){f!=null&&f(!0),i(!1),n.onReady(function(a){a.commit(j,q)})},b[0]=j,b[1]=f,b[2]=e):e=b[2];var u=e,v;b[3]!==a||b[4]!==j||b[5]!==g?(e=function(){if(a&&g===null){var b=d("CometRelay").fetchQuery(j,r,{fetchPolicy:"store-or-network"}).subscribe({next:function(b){var c;b=(b==null||(c=b.nux)==null?void 0:c.should_show)||!1;i(b);b&&a&&o.onReady(function(a){a.commit(j,q,t,s)})}});return function(){b.unsubscribe()}}},v=[j,a,g],b[3]=a,b[4]=j,b[5]=g,b[6]=e,b[7]=v):(e=b[6],v=b[7]);l(e,v);b[8]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"Watch and scroll feature tooltip"),b[8]=e):e=b[8];b[9]===Symbol["for"]("react.memo_cache_sentinel")?(v=h._(/*BTDS*/"Continue watching while you browse Facebook."),b[9]=v):v=b[9];var w;b[10]!==u?(w=function(){u()},b[10]=u,b[11]=w):w=b[11];var x;b[12]===Symbol["for"]("react.memo_cache_sentinel")?(x=function(){i(!1)},b[12]=x):x=b[12];b[13]!==w?(e={align:"end","aria-label":e,arrowStyle:"inset",content:v,disableAutoFlip:!0,hasCloseButton:!0,onClose:w,onHide:x,position:"below",type:"accent",xstyle:p.nux},b[13]=w,b[14]=e):e=b[14];v=c("useFDSCallout")(e,g===!0&&a||!1);x=v.anchorRef;b[15]!==x||b[16]!==u||b[17]!==g?(w={handleDismissNUX:u,nuxRef:x,shouldShowNUX:g},b[15]=x,b[16]=u,b[17]=g,b[18]=w):w=b[18];return w}function s(){c("recoverableViolation")("logimpression fb nux mutation failed for video player watch and scroll control.","watch_www_and_off_platform")}function t(){}g["default"]=a}),226);
__d("VideoPlayerWatchAndScrollControl.react",["fbt","ix","CastingStateHooks","CometPictureInPictureExpContext","CometRelay","CometRouteRenderType","CometVideoPictureInPictureManager.react","CometVideoPictureInPictureManagerContext","CometWatchAndScrollControlNUXContext","CometWatchAndScrollTriggerContext","JSResourceForInteraction","VideoPlayerControlIcon.react","VideoPlayerHooks","VideoPlayerInstreamAdsStateHooks","VideoPlayerWatchAndScrollControl_video.graphql","VideoPlayerWithWatchAndScrollTrigger.react","emptyFunction","fbicon","gkx","react","react-compiler-runtime","requireDeferred","useCometLazyDialog","useCometRouterDispatcher","useCometRouterState","useIsVideoHomePlayerOriginFromTracePolicy","useMinifiedProductAttribution","usePlayerOriginRouteTracePolicy","useVideoPlayerWatchAndScrollControlNUX","useWatchAndScrollTrigger"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m=k||(k=d("react"));e=k;e.useCallback;var n=e.useContext,o=e.useEffect,p=e.useState,q=c("requireDeferred")("VideoHomeTypedLiteLogger").__setRef("VideoPlayerWatchAndScrollControl.react"),r=c("JSResourceForInteraction")("CometCastingStopWatchAndScrollDialog.react").__setRef("VideoPlayerWatchAndScrollControl.react"),s=6e4,t=window.document.pictureInPictureEnabled;function a(a){var e,f,g=d("react-compiler-runtime").c(56),k=a.subOrigin;a=a.video;var u=n(c("CometWatchAndScrollTriggerContext")),v=u.isControlShown,w=u.setIsControlShown;u=d("CometRouteRenderType").useIsPushView();var x=(l||(l=d("VideoPlayerHooks"))).useIsFullscreen(),y=c("useCometRouterDispatcher")(),z=c("useCometRouterState")(),A=(z=z==null?void 0:z.main.route.tabKey)!=null?z:"undefined";z=d("CometRelay").useFragment(j!==void 0?j:j=b("VideoPlayerWatchAndScrollControl_video.graphql"),a);var B=z==null?void 0:z.id;a=(a=z==null?void 0:z.playable_duration_in_ms)!=null?a:0;var C=z==null?void 0:z.is_huddle,D=z==null?void 0:z.url,E,F;g[0]!==w?(E=function(){w!=null&&w(!0)},F=[w],g[0]=w,g[1]=E,g[2]=F):(E=g[1],F=g[2]);o(E,F);var G=c("usePlayerOriginRouteTracePolicy")();E=c("useIsVideoHomePlayerOriginFromTracePolicy")(G);F=(z==null||(e=z.owner)==null?void 0:e.has_professional_features_for_watch)===!0&&a>=s&&v&&!E;var H=l.usePlaying(),I=l.useController();a=I.getPlayheadPosition();var J=a>=10;v=p(!1);E=v[0];var K=v[1];a=p(!1);var L=a[0],aa=a[1];v=p(!1);a=v[0];var ba=v[1];v=d("VideoPlayerInstreamAdsStateHooks").useInstreamAdsStateValue();v=v==="STARTING_INDICATOR"||v==="PLAY_NI_VIDEO"||v==="START_AD"||v==="PLAY_LONGER_AD";var M=c("useMinifiedProductAttribution")(),N,O;g[3]!==J||g[4]!==H?(N=function(){H&&J&&K(!0)},O=[J,H],g[3]=J,g[4]=H,g[5]=N,g[6]=O):(N=g[5],O=g[6]);o(N,O);var P=d("CastingStateHooks").useIsCastingAnyVideo();N=c("useCometLazyDialog")(r);var Q=N[0];O=!v&&E&&F;N=c("useVideoPlayerWatchAndScrollControlNUX")(O);var R=N.handleDismissNUX;v=N.nuxRef;E=N.shouldShowNUX;var S=E===!0&&O;F=n(c("CometWatchAndScrollControlNUXContext"));var T=F.setIsVideoPlayerWatchAndScrollControlNUXVisible,U=n(c("CometPictureInPictureExpContext"));g[7]!==S||g[8]!==T?(N=function(){T&&T(S)},E=[S,T],g[7]=S,g[8]=T,g[9]=N,g[10]=E):(N=g[9],E=g[10]);o(N,E);var V=d("useWatchAndScrollTrigger").useWatchAndScrollTrigger(k,d("VideoPlayerWithWatchAndScrollTrigger.react").WatchAndScrollTriggerType.WNS_CONTROL,B,D),W=l.useIsPremiumMusicVideo(),X=z==null||(f=z.owner)==null?void 0:f.id;g[11]!==W||g[12]!==X||g[13]!==U?(O=function(){var a=d("CometVideoPictureInPictureManagerContext").isInPictureInPictureExp(),b=d("CometVideoPictureInPictureManagerContext").isInPictureInPictureExpControlGroup();U.setPictureInPictureExpConfig({isInPictureInPictureExp:a,isInPictureInPictureExpControlGroup:b,isSkipAndChainingDisabled:!1});t&&a&&aa(!0);a=(a||b)&&(W||d("CometVideoPictureInPictureManager.react").EXCLUDED_PROVIDERS.includes(X));a&&ba(!0)},g[11]=W,g[12]=X,g[13]=U,g[14]=O):O=g[14];F=O;var Y=G==="comet.videos.tahoe";g[15]!==P||g[16]!==V||g[17]!==Q||g[18]!==B?(N=function(){P&&B!=null?Q({onClose:c("emptyFunction"),onContinue:V,startingVideoType:"wns"},c("emptyFunction")):V()},g[15]=P,g[16]=V,g[17]=Q,g[18]=B,g[19]=N):N=g[19];var Z=N;g[20]!==I||g[21]!==y||g[22]!==R||g[23]!==L||g[24]!==S||g[25]!==Z||g[26]!==M||g[27]!==G||g[28]!==k||g[29]!==A?(E=function(){Z(),L?(q.onReady(function(a){a.log({attribution_id_v2:M,click_point:"control_picture_in_picture",event:"click",event_target_info:G,player_suborigin:k})}),I.requestPictureInPicture()):q.onReady(function(a){a.log({attribution_id_v2:M,click_point:"control_watch_and_scroll",event:"click",event_target_info:A})}),S===!0&&R(),y&&y.popPushView()},g[20]=I,g[21]=y,g[22]=R,g[23]=L,g[24]=S,g[25]=Z,g[26]=M,g[27]=G,g[28]=k,g[29]=A,g[30]=E):E=g[30];D=E;var $=k==="live_producer";g[31]!==I||g[32]!==y||g[33]!==Y||g[34]!==R||g[35]!==L||g[36]!==x||g[37]!==S||g[38]!==Z||g[39]!==M||g[40]!==$||g[41]!==G||g[42]!==k||g[43]!==A?(z=function(){Z(),L?(q.onReady(function(a){a.log({attribution_id_v2:M,click_point:"control_picture_in_picture",event:"click",event_target_info:G,player_suborigin:k})}),I.requestPictureInPicture()):q.onReady(function(a){a.log({attribution_id_v2:M,click_point:"control_watch_and_scroll",event:"click",event_target_info:A})}),S===!0&&R(),x&&I.requestSetIsFullscreen(!1),y!=null&&($||Y)&&y.go("/",{})},g[31]=I,g[32]=y,g[33]=Y,g[34]=R,g[35]=L,g[36]=x,g[37]=S,g[38]=Z,g[39]=M,g[40]=$,g[41]=G,g[42]=k,g[43]=A,g[44]=z):z=g[44];O=z;N=u?D:O;if(c("gkx")("20836")){g[45]===Symbol["for"]("react.memo_cache_sentinel")?(E=h._(/*BTDS*/"Continue watching while you use Workplace"),g[45]=E):E=g[45];z=E}else if(C===!0){g[46]===Symbol["for"]("react.memo_cache_sentinel")?(u=h._(/*BTDS*/"Continue listening while you browse Facebook."),g[46]=u):u=g[46];z=u}else{g[47]===Symbol["for"]("react.memo_cache_sentinel")?(D=h._(/*BTDS*/"Continue watching while you browse Facebook."),g[47]=D):D=g[47];z=D}if(L){g[48]===Symbol["for"]("react.memo_cache_sentinel")?(O=h._(/*BTDS*/"Enter Picture in Picture Mode"),g[48]=O):O=g[48];z=O}g[49]!==a||g[50]!==S||g[51]!==z||g[52]!==v||g[53]!==F||g[54]!==N?(E=a?null:m.jsx("div",{onMouseEnter:F,ref:v,children:m.jsx(c("VideoPlayerControlIcon.react"),{color:"white",icon:d("fbicon")._(i("150489"),20),label:z,onPress:N,tooltip:S?null:z})}),g[49]=a,g[50]=S,g[51]=z,g[52]=v,g[53]=F,g[54]=N,g[55]=E):E=g[55];return E}g["default"]=a}),226);
__d("VideoPlayerLiveVideoControls.react",["CometPlaceholder.react","CometRelay","CometTahoeCustomVideoAreaContext","CometTahoeSidePaneContext","CometTrackingNodeProvider.react","LiveCostreamerTagSubscription.react","LiveVideoLatencyMenu.react","VideoPlayerCaptionsControl.react","VideoPlayerCastControlShim.react","VideoPlayerControlsBottomRowAddOnContext","VideoPlayerControlsContainerOverlay.react","VideoPlayerControlsGroups.react","VideoPlayerExpandSidePanelControl.react","VideoPlayerHooks","VideoPlayerLiveVideoControls_video.graphql","VideoPlayerPlaybackControl.react","VideoPlayerQuietModeControl.react","VideoPlayerSettingsControl.react","VideoPlayerVolumeControl.react","VideoPlayerWatchAndScrollControl.react","gkx","react","react-compiler-runtime","useVideoPlayerBigPlayButtonOverlay"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react"));e=i;var l=e.useContext,m=e.useState,n=h!==void 0?h:h=b("VideoPlayerLiveVideoControls_video.graphql");function o(a){var b,e,f=d("react-compiler-runtime").c(85),g=d("CometRelay").useFragment(n,a.video),h=(j||(j=d("VideoPlayerHooks"))).useEnded(),i=j.useIsFullscreen(),o=l(d("VideoPlayerControlsBottomRowAddOnContext").VideoPlayerControlsBottomRowAddOnContext),p=l(c("CometTahoeSidePaneContext"));p=p.rightRailHidden;var q=c("useVideoPlayerBigPlayButtonOverlay")();q=q.bigPlayButtonIsVisible;var r=j.useCaptionsLoaded(),s=j.useCaptionsVisible(),t=m(null),u=t[0];t=t[1];var v=l(d("CometTahoeCustomVideoAreaContext").CometTahoeCustomVideoAreaContext);v=v.customVideoAreaHidden;if(h)return null;h=a.disablePlaybackControls;var w=a.expandControl,x=a.isControlsVisible,y=a.isExpandControlVisible,z=a.isVolumeControlVisible,A=a.isWatchAndScrollControlVisible,B=a.onUserInteraction,C=a.shouldRenderCaptionsControl,D=a.shouldRenderCostreamControl,E=a.shouldRenderModeratorControl,F=a.subOrigin;y=y===void 0?!1:y;A=A===void 0?!1:A;C=C===void 0?!0:C;D=D===void 0?!1:D;E=E===void 0?!1:E;var G=g==null?void 0:g.id,H=g==null||(b=g.owner)==null?void 0:b.id,I=g==null?void 0:g.if_viewer_can_see_costreaming_tools,J=I!=null,K=g==null?void 0:g.if_viewer_can_use_clipping,L=(g==null?void 0:g.is_clipping_enabled)===!0,M=g==null?void 0:g.if_viewer_can_see_community_moderation_tools,N=M!=null,O=g==null?void 0:g.if_viewer_can_use_live_rewind;e=((e=g==null?void 0:g.live_rewind_enabled)!=null?e:!1)&&a.shouldHideRewindControls!==!0;y=y||x||h===!0&&!q;A=A||x||h===!0&&!q;f[0]!==w||f[1]!==y?(q=k.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:y,noPaddingEnd:!0,noPaddingStart:!0,children:w}),f[0]=w,f[1]=y,f[2]=q):q=f[2];w=q;f[3]!==a.shouldRenderWatchAndScrollControl||f[4]!==A||f[5]!==F||f[6]!==g?(y=a.shouldRenderWatchAndScrollControl===!0&&F!=null&&g!=null?k.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:A,children:k.jsx(c("VideoPlayerWatchAndScrollControl.react"),{subOrigin:F,video:g})}):null,f[3]=a.shouldRenderWatchAndScrollControl,f[4]=A,f[5]=F,f[6]=g,f[7]=y):y=f[7];q=y;A=F==="watch_scroll";y=c("gkx")("24335")?C===!0:!A;f[8]!==O||f[9]!==h||f[10]!==x||f[11]!==e||f[12]!==B||f[13]!==a.shouldRenderPauseControl?(C=e?k.jsx(d("CometRelay").MatchContainer,{match:O,props:{isControlsVisible:x&&!h,onUserInteraction:B,video:O}}):k.jsxs(k.Fragment,{children:[Boolean(a.shouldRenderPauseControl)?k.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:x&&!h,children:k.jsx(c("VideoPlayerPlaybackControl.react"),{})}):null,k.jsx(d("VideoPlayerControlsGroups.react").Expanded,{children:k.jsx(k.Fragment,{})})]}),f[8]=O,f[9]=h,f[10]=x,f[11]=e,f[12]=B,f[13]=a.shouldRenderPauseControl,f[14]=C):C=f[14];f[15]!==H||f[16]!==G?(A=H!=null&&G!=null&&k.jsx(c("LiveCostreamerTagSubscription.react"),{pageID:H,videoID:G}),f[15]=H,f[16]=G,f[17]=A):A=f[17];f[18]!==J||f[19]!==I||f[20]!==i||f[21]!==D||f[22]!==G?(O=J&&D&&G!=null&&!i&&k.jsx(c("CometPlaceholder.react"),{fallback:null,children:k.jsx(d("CometRelay").MatchContainer,{match:I,props:{video:I}})}),f[18]=J,f[19]=I,f[20]=i,f[21]=D,f[22]=G,f[23]=O):O=f[23];f[24]!==i||f[25]!==a.shouldRenderQuietModeControl?(e=a.shouldRenderQuietModeControl===!0&&!i&&k.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:!0,noPaddingEnd:!0,children:k.jsx(c("VideoPlayerQuietModeControl.react"),{})}),f[24]=i,f[25]=a.shouldRenderQuietModeControl,f[26]=e):e=f[26];f[27]!==i||f[28]!==a.shouldRenderExpandSidePanelControl||f[29]!==p?(H=a.shouldRenderExpandSidePanelControl===!0&&!i&&!p&&k.jsx(c("VideoPlayerExpandSidePanelControl.react"),{}),f[27]=i,f[28]=a.shouldRenderExpandSidePanelControl,f[29]=p,f[30]=H):H=f[30];f[31]!==K||f[32]!==L||f[33]!==G?(J=L&&G!=null&&k.jsx(d("CometRelay").MatchContainer,{match:K,props:{video:K,videoID:G}}),f[31]=K,f[32]=L,f[33]=G,f[34]=J):J=f[34];f[35]!==N||f[36]!==M||f[37]!==E||f[38]!==G?(I=N&&E?k.jsx(c("CometPlaceholder.react"),{fallback:null,children:k.jsx(d("CometRelay").MatchContainer,{match:M,props:{video:M,videoID:G}})}):null,f[35]=N,f[36]=M,f[37]=E,f[38]=G,f[39]=I):I=f[39];f[40]!==o||f[41]!==h||f[42]!==u||f[43]!==B||f[44]!==g?(D=h===!0?null:k.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:257,children:k.jsx(d("LiveVideoLatencyMenu.react").LiveVideoLatencyMenuContextProvider,{video:g,children:k.jsx(c("VideoPlayerSettingsControl.react"),{alignMenuToIcon:(o==null?void 0:o.getBottomRowAddOn())!=null,menuOpened:u,onUserInteraction:B,setMenuOpened:t})})}),f[40]=o,f[41]=h,f[42]=u,f[43]=B,f[44]=g,f[45]=D):D=f[45];f[46]!==o||f[47]!==r||f[48]!==s||f[49]!==y||f[50]!==x||f[51]!==u||f[52]!==B||f[53]!==g?(i=r&&y?k.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:x,children:k.jsx(c("VideoPlayerCaptionsControl.react"),{alignMenuToIcon:(o==null?void 0:o.getBottomRowAddOn())!=null,captionsVisible:s,menuOpened:u,onUserInteraction:B,setMenuOpened:t,video:g})}):null,f[46]=o,f[47]=r,f[48]=s,f[49]=y,f[50]=x,f[51]=u,f[52]=B,f[53]=g,f[54]=i):i=f[54];f[55]!==h||f[56]!==x||f[57]!==a.shouldRenderCastControl||f[58]!==F||f[59]!==g?(p=a.shouldRenderCastControl===!0&&F!=null&&g!=null?k.jsx(c("VideoPlayerCastControlShim.react"),{isVisible:x&&!h,subOrigin:F}):null,f[55]=h,f[56]=x,f[57]=a.shouldRenderCastControl,f[58]=F,f[59]=g,f[60]=p):p=f[60];f[61]!==x||f[62]!==e||f[63]!==H||f[64]!==J||f[65]!==I||f[66]!==D||f[67]!==i||f[68]!==p||f[69]!==A||f[70]!==O?(K=k.jsxs(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:x,children:[A,O,e,H,J,I,D,i,p]}),f[61]=x,f[62]=e,f[63]=H,f[64]=J,f[65]=I,f[66]=D,f[67]=i,f[68]=p,f[69]=A,f[70]=O,f[71]=K):K=f[71];f[72]!==B?(L=k.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:114,children:k.jsx(c("VideoPlayerVolumeControl.react"),{onUserInteraction:B})}),f[72]=B,f[73]=L):L=f[73];f[74]!==z||f[75]!==L?(N=k.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:z,noPaddingStart:!0,children:L}),f[74]=z,f[75]=L,f[76]=N):N=f[76];f[77]!==v||f[78]!==w||f[79]!==x||f[80]!==K||f[81]!==N||f[82]!==C||f[83]!==q?(M=k.jsxs(c("VideoPlayerControlsContainerOverlay.react"),{isBackgroundVisible:x,isVisible:v,children:[C,K,w,q,N]}),f[77]=v,f[78]=w,f[79]=x,f[80]=K,f[81]=N,f[82]=C,f[83]=q,f[84]=M):M=f[84];return M}function a(a){var b=d("react-compiler-runtime").c(2),e;b[0]!==a?(e=k.jsx(c("CometPlaceholder.react"),{fallback:null,children:k.jsx(o,babelHelpers["extends"]({},a))}),b[0]=a,b[1]=e):e=b[1];return e}g["default"]=a}),98);
__d("VideoPlayerCometFeedStoryControlsImplLive.react",["CometRelay","VideoPlayerCometFeedStoryControlsImplLive_video.graphql","VideoPlayerLiveVideoControls.react","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(15),f=a.disablePlaybackControls,g=a.expandControl,i=a.isAdVideo,k=a.isControlsVisible,l=a.isExpandControlVisible,m=a.isVolumeControlVisible,n=a.isWatchAndScrollControlVisible,o=a.isWatchAndScrollDisabled,p=a.onUserInteraction,q=a.reactionVideoChannelType,r=a.shouldHideRewindControls,s=a.subOrigin,t=a.video;a=a.videoTahoeUrl;t=d("CometRelay").useFragment(h!==void 0?h:h=b("VideoPlayerCometFeedStoryControlsImplLive_video.graphql"),t);var u=c("gkx")("22809"),v=!i;u=!u&&!i&&o!==!0;e[0]!==f||e[1]!==g||e[2]!==k||e[3]!==l||e[4]!==m||e[5]!==n||e[6]!==p||e[7]!==q||e[8]!==r||e[9]!==s||e[10]!==v||e[11]!==u||e[12]!==t||e[13]!==a?(i=j.jsx(c("VideoPlayerLiveVideoControls.react"),{disablePlaybackControls:f,expandControl:g,isControlsVisible:k,isExpandControlVisible:l,isVolumeControlVisible:m,isWatchAndScrollControlVisible:n,onUserInteraction:p,reactionVideoChannelType:q,shouldHideRewindControls:r,shouldRenderCastControl:v,shouldRenderWatchAndScrollControl:u,subOrigin:s,video:t,videoTahoeUrl:a}),e[0]=f,e[1]=g,e[2]=k,e[3]=l,e[4]=m,e[5]=n,e[6]=p,e[7]=q,e[8]=r,e[9]=s,e[10]=v,e[11]=u,e[12]=t,e[13]=a,e[14]=i):i=e[14];return i}g["default"]=a}),98);
__d("VideoPlayerCometFeedStoryControlsImplNotLive_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"__relay_internal__pv__FBReels_enable_view_dubbed_audio_type_gkrelayprovider"}],kind:"Fragment",metadata:null,name:"VideoPlayerCometFeedStoryControlsImplNotLive_video",selections:[{condition:"__relay_internal__pv__FBReels_enable_view_dubbed_audio_type_gkrelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"XFBDubbedTrackMap",kind:"LinkedField",name:"dubbed_track_mapping",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"audio_lang",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dubbing_type",storageKey:null}],storageKey:null}]},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"VideoPlayerScrubberWithPreview_video"},{args:null,kind:"FragmentSpread",name:"VideoPlayerScrubberBottomWithPreview_video"},{args:null,kind:"FragmentSpread",name:"VideoPlayerWatchAndScrollControl_video"},{args:null,kind:"FragmentSpread",name:"VideoPlayerCaptionsControl_video"},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"recipient_group",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"captions_url",storageKey:null},{args:null,kind:"FragmentSpread",name:"useVideoPlayerAvailableCaptionsLocalesFromRelay_video"}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerScrubberRenderer_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerScrubberRenderer_video",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"video_player_scrubber_base_content_renderer",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"VideoPlayerScrubberRenderer_video",fragmentName:"VideoPlayerScrubberBaseContentSegmented_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"XFBVideoPlayerScrubberBaseContentSegmentedRenderer",abstractKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerScrubberRenderer.react",["CometRelay","VideoPlayerScrubberBaseContentDefault.react","VideoPlayerScrubberRenderer_video.graphql","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(7),f=a.scrubberProps;a=a.video;a=d("CometRelay").useFragment(h!==void 0?h:h=b("VideoPlayerScrubberRenderer_video.graphql"),a);if((a==null?void 0:a.video_player_scrubber_base_content_renderer)==null){var g;e[0]!==f?(g=j.jsx(c("VideoPlayerScrubberBaseContentDefault.react"),babelHelpers["extends"]({},f)),e[0]=f,e[1]=g):g=e[1];return g}g=a==null?void 0:a.video_player_scrubber_base_content_renderer;e[2]!==f?(a=babelHelpers["extends"]({},f),e[2]=f,e[3]=a):a=e[3];e[4]!==g||e[5]!==a?(f=j.jsx(d("CometRelay").MatchContainer,{match:g,props:a}),e[4]=g,e[5]=a,e[6]=f):f=e[6];return f}g["default"]=a}),98);
__d("VideoPlayerScrubberWithPreview_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerScrubberWithPreview_video",selections:[{args:null,kind:"FragmentSpread",name:"VideoPlayerScrubberPreview_video"},{args:null,kind:"FragmentSpread",name:"VideoPlayerScrubberRenderer_video"}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerScrubberWithPreview.react",["CometRelay","VideoPlayerScrubber.react","VideoPlayerScrubberPreview.react","VideoPlayerScrubberRenderer.react","VideoPlayerScrubberWithPreview_video.graphql","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(9),f=a.onUserInteraction,g=a.timelinePlayedXStyle;a=a.video;var i=d("CometRelay").useFragment(h!==void 0?h:h=b("VideoPlayerScrubberWithPreview_video.graphql"),a);e[0]!==g||e[1]!==i?(a=function(a){return j.jsx(c("VideoPlayerScrubberRenderer.react"),{scrubberProps:babelHelpers["extends"]({},a,{timelinePlayedXStyle:g}),video:i})},e[0]=g,e[1]=i,e[2]=a):a=e[2];var k;e[3]!==i?(k=function(a){return j.jsx(c("VideoPlayerScrubberPreview.react"),{timestampSec:a,video:i})},e[3]=i,e[4]=k):k=e[4];var l;e[5]!==f||e[6]!==a||e[7]!==k?(l=j.jsx(c("VideoPlayerScrubber.react"),{onUserInteraction:f,renderScrubber:a,renderTooltip:k}),e[5]=f,e[6]=a,e[7]=k,e[8]=l):l=e[8];return l}g["default"]=a}),98);
__d("VideoPlayerCometFeedStoryControlsImplNotLive.react",["fbt","CometRelay","CometTrackingNodeProvider.react","VideoPlayerCaptionsControl.react","VideoPlayerCastControlShim.react","VideoPlayerCometFeedStoryControlsImplNotLive_video.graphql","VideoPlayerControlsContainerOverlay.react","VideoPlayerControlsGroups.react","VideoPlayerHooks","VideoPlayerPlaybackControl.react","VideoPlayerPlaybackTimer.react","VideoPlayerScrubberWithPreview.react","VideoPlayerSettingsControl.react","VideoPlayerVolumeControl.react","VideoPlayerWatchAndScrollControl.react","gkx","nux:31","nux:87","react","react-compiler-runtime","useCurrentRouteBuilder","useEmptyFunction","useVideoPlayerAvailableCaptionsLocalesFromRelay","useVideoPlayerBigPlayButtonOverlay"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=j||(j=d("react")),m=j.useState,n=(f=(e=b("nux:87"))==null?void 0:e("comet_playback_speed_prompt_headroom_test"))!=null?f:c("useEmptyFunction"),o=(f=(e=b("nux:31"))==null?void 0:e("comet_group_video_caption_setting"))!=null?f:c("useEmptyFunction"),p={nux:{maxWidth:"xw5ewwj",$$css:!0}};function a(a){var e=d("react-compiler-runtime").c(70),f=a.disablePlaybackControls,g=a.expandControl,j=a.isAdVideo,r=a.isControlsVisible,s=a.isExpandControlVisible,t=a.isVolumeControlVisible,u=a.isWatchAndScrollControlVisible,v=a.isWatchAndScrollDisabled,w=a.onUserInteraction,x=a.scrubberTimelinePlayedXStyle,y=a.subOrigin,z=a.video;a=a.videoTahoeUrl;z=d("CometRelay").useFragment(i!==void 0?i:i=b("VideoPlayerCometFeedStoryControlsImplNotLive_video.graphql"),z);var A;if(e[0]!==(z==null?void 0:z.dubbed_track_mapping)){var B;A=z==null||(B=z.dubbed_track_mapping)==null||(B=B.find(q))==null?void 0:B.audio_lang;e[0]=z==null?void 0:z.dubbed_track_mapping;e[1]=A}else A=e[1];A=A;var C=(k||(k=d("VideoPlayerHooks"))).useShouldShowPlaybackRateControl(),D;e[2]!==C||e[3]!==y?(D=["discover","entry_point"].includes(y)&&C,e[2]=C,e[3]=y,e[4]=D):D=e[4];C=D;C=(D=n(C))!=null?D:[void 0,void 0];D=C[0];C=C[1];var E=(z==null?void 0:z.recipient_group)!=null&&(z==null?void 0:z.captions_url)!=null;E=E;var F;e[5]===Symbol["for"]("react.memo_cache_sentinel")?(F=h._(/*BTDS*/"Notification about new captions feature"),e[5]=F):F=e[5];e[6]===Symbol["for"]("react.memo_cache_sentinel")?(F={align:"end","aria-label":F,arrowStyle:"inset",content:h._(/*BTDS*/"New! Use Settings to turn on auto-generated captions."),hasCloseButton:!0,position:"above",type:"accent",xstyle:p.nux},e[6]=F):F=e[6];F=o(F,E);E=c("useVideoPlayerBigPlayButtonOverlay")();E=E.bigPlayButtonIsVisible;r=!F&&C===!0||r;u=u||r||f===!0&&!E;s=s||f===!0&&!j&&!E;E=c("gkx")("22809");var G=c("useVideoPlayerAvailableCaptionsLocalesFromRelay")(z),H=k.useCaptionsLoaded(),I=k.useCaptionsVisible();H=H||((H=G==null?void 0:G.length)!=null?H:0)>0;var J=c("useCurrentRouteBuilder")();J=J==null?void 0:J.buildURL().toString();a=f!==!0&&a==null&&(J==null?void 0:J.includes("/watch/"))===!0;e[7]!==j||e[8]!==v||e[9]!==u||e[10]!==y||e[11]!==z?(J=!E&&!j&&v!==!0&&z!=null?l.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:u,children:l.jsx(c("VideoPlayerWatchAndScrollControl.react"),{subOrigin:y,video:z})}):null,e[7]=j,e[8]=v,e[9]=u,e[10]=y,e[11]=z,e[12]=J):J=e[12];E=J;v=!F&&C===!0||s;e[13]!==g||e[14]!==v?(u=l.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:v,noPaddingEnd:!0,noPaddingStart:!0,children:g}),e[13]=g,e[14]=v,e[15]=u):u=e[15];J=u;C=m(null);s=C[0];g=C[1];e[16]!==a?(v=l.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:114,children:l.jsx(c("VideoPlayerPlaybackControl.react"),{isNPC:a})}),e[16]=a,e[17]=v):v=e[17];e[18]!==f?(u=f===!0?null:l.jsx(c("VideoPlayerPlaybackTimer.react"),{}),e[18]=f,e[19]=u):u=e[19];e[20]!==r||e[21]!==v||e[22]!==u?(C=l.jsxs(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:r,children:[v,u]}),e[20]=r,e[21]=v,e[22]=u,e[23]=C):C=e[23];a=r&&!f;e[24]!==w||e[25]!==x||e[26]!==z?(v=l.jsx(c("VideoPlayerScrubberWithPreview.react"),{onUserInteraction:w,timelinePlayedXStyle:x,video:z}),e[24]=w,e[25]=x,e[26]=z,e[27]=v):v=e[27];e[28]!==a||e[29]!==v?(u=l.jsx(d("VideoPlayerControlsGroups.react").Expanded,{isVisible:a,children:v}),e[28]=a,e[29]=v,e[30]=u):u=e[30];x=r&&!f;a=A!=null?A:null;v=F!=null?F:D;F=(A=z==null?void 0:z.id)!=null?A:null;e[31]!==s||e[32]!==w||e[33]!==a||e[34]!==v||e[35]!==F?(D=l.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:257,children:l.jsx(c("VideoPlayerSettingsControl.react"),{menuOpened:s,onUserInteraction:w,originalVideoLanguage:a,ref:v,setMenuOpened:g,videoID:F})}),e[31]=s,e[32]=w,e[33]=a,e[34]=v,e[35]=F,e[36]=D):D=e[36];e[37]!==x||e[38]!==D?(A=l.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:x,noPaddingEnd:!0,children:D}),e[37]=x,e[38]=D,e[39]=A):A=e[39];e[40]!==G||e[41]!==I||e[42]!==f||e[43]!==s||e[44]!==w||e[45]!==H||e[46]!==r||e[47]!==z?(a=H?l.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:r&&!f,children:l.jsx(c("VideoPlayerCaptionsControl.react"),{availableCaptionsLocales:G,captionsVisible:I,menuOpened:s,onUserInteraction:w,setMenuOpened:g,video:z})}):null,e[40]=G,e[41]=I,e[42]=f,e[43]=s,e[44]=w,e[45]=H,e[46]=r,e[47]=z,e[48]=a):a=e[48];e[49]!==f||e[50]!==j||e[51]!==r||e[52]!==y||e[53]!==z?(v=!j&&z!=null?l.jsx(c("VideoPlayerCastControlShim.react"),{isVisible:r&&!f,subOrigin:y}):null,e[49]=f,e[50]=j,e[51]=r,e[52]=y,e[53]=z,e[54]=v):v=e[54];e[55]!==w?(F=l.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:114,children:l.jsx(c("VideoPlayerVolumeControl.react"),{onUserInteraction:w})}),e[55]=w,e[56]=F):F=e[56];e[57]!==t||e[58]!==F?(x=l.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:t,noPaddingStart:!0,children:F}),e[57]=t,e[58]=F,e[59]=x):x=e[59];e[60]!==J||e[61]!==r||e[62]!==C||e[63]!==u||e[64]!==A||e[65]!==a||e[66]!==v||e[67]!==x||e[68]!==E?(D=l.jsxs(c("VideoPlayerControlsContainerOverlay.react"),{isBackgroundVisible:r,children:[C,u,A,a,v,J,E,x]}),e[60]=J,e[61]=r,e[62]=C,e[63]=u,e[64]=A,e[65]=a,e[66]=v,e[67]=x,e[68]=E,e[69]=D):D=e[69];return D}function q(a){return a.dubbing_type==="NONE"}g["default"]=a}),226);
__d("VideoPlayerWithVideoCardsOverlay_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerWithVideoCardsOverlay_video",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"comet_video_player_with_video_card_renderer",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"VideoPlayerWithVideoCardsOverlay_video",fragmentName:"VideoPlayerVideoCardsOverlay_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometVideoPlayerWithVideoCardRenderer",abstractKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerWithVideoCardsOverlay.react",["CometPlaceholder.react","CometRelay","VideoPlayerWithVideoCardsOverlay_video.graphql","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(7),f=a.cardsHidden,g=a.surface;a=a.video;a=d("CometRelay").useFragment(h!==void 0?h:h=b("VideoPlayerWithVideoCardsOverlay_video.graphql"),a);var i;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(i={className:"x6s0dn4 x78zum5 x5yr21d xh8yej3"},e[0]=i):i=e[0];a=a==null?void 0:a.comet_video_player_with_video_card_renderer;var k;e[1]!==f||e[2]!==g?(k={cardsHidden:f,surface:g},e[1]=f,e[2]=g,e[3]=k):k=e[3];e[4]!==a||e[5]!==k?(f=j.jsx("div",babelHelpers["extends"]({},i,{children:j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(d("CometRelay").MatchContainer,{match:a,props:k})})})),e[4]=a,e[5]=k,e[6]=f):f=e[6];return f}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("LSCleanupSession",["LSIssueNewEbTaskAndGetTaskIDV2","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][cleanupSession] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.i64.eq(a[1],c.i64.cast([0,0]))?d[2]=c.i64.cast([0,21]):(c.i64.eq(a[1],c.i64.cast([0,1]))?d[10]=c.i64.cast([0,20]):d[10]=c.i64.cast([0,20]),d[2]=d[10]),c.filter(c.db.table(258).fetch(),function(b){return(b.initiatorId===a[0]||b.responderId===a[0])&&c.i64.eq(b.clientType,a[2])}).next().then(function(e,f){var g=e.done;e=e.value;return g?c.filter(c.db.table(258).fetch(),function(b){return c.i64.eq(b.clientType,a[2])}).next().then(function(f,h){var e=f.done;f=f.value;return e?c.db.table(258).add({sessionId:c.i64.cast([-1,4294967295]),responderId:a[0],initiatorId:a[0],messageType:d[2],clientType:a[2]}):(h=f.item,c.sequence([function(a){return d[19]=h.sessionId,d[20]=h.responderId,d[21]=h.initiatorId,d[17]=h.responderUserId,d[18]=h.initiatorUserId,c.forEach(c.db.table(258).fetch([[[d[19]]]]),function(a){var b=a.update;a.item;return b({messageType:d[2]})})},function(e){return a[0]===d[21]?(c.i64.eq(a[2],c.i64.cast([0,1]))?d[22]=d[17]:d[22]=void 0,d[11]=d[22]):(a[0]===d[20]?(c.i64.eq(a[2],c.i64.cast([0,1]))?d[23]=d[18]:d[23]=void 0,d[22]=d[23]):d[22]=void 0,d[11]=d[22]),c.i64.eq(a[2],c.i64.cast([0,1]))?d[12]=d[17]:d[12]=void 0,c.i64.eq(a[2],c.i64.cast([0,1]))?d[13]=d[18]:d[13]=void 0,d[14]=new c.Map(),d[14].set("session_id",d[19]),d[14].set("responder_id",d[20]),d[14].set("initiator_id",d[21]),d[14].set("message_payload",h.messagePayload),d[14].set("pake_secret",h.pakeSecret),d[14].set("sender_id",a[0]),d[14].set("message_type",d[2]),d[14].set("client_type",a[2]),d[14].set("message_recipient_id",d[11]),d[14].set("initiator_user_id",d[13]),d[14].set("responder_user_id",d[12]),d[15]=c.toJSON(d[14]),c.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),"PakeMessages",c.i64.cast([0,717]),d[15],c.i64.cast([0,0]),c.i64.cast([0,93]),c.i64.cast([0,0]),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[16]=a[0],a})}]))}):(f=e.item,d[13]=f.sessionId,d[14]=f.responderId,d[15]=f.initiatorId,d[10]=f.messageType,d[11]=f.responderUserId,d[12]=f.initiatorUserId,c.i64.eq(d[10],c.i64.cast([0,15]))||c.i64.eq(d[10],c.i64.cast([0,21]))||c.i64.eq(d[10],c.i64.cast([0,20]))?c.resolve(0):c.sequence([function(a){return c.forEach(c.db.table(258).fetch([[[d[13]]]]),function(a){var b=a.update;a.item;return b({messageType:d[2]})})},function(e){return a[0]===d[15]?(c.i64.eq(a[2],c.i64.cast([0,1]))?d[22]=d[11]:d[22]=void 0,d[16]=d[22]):(a[0]===d[14]?(c.i64.eq(a[2],c.i64.cast([0,1]))?d[23]=d[12]:d[23]=void 0,d[22]=d[23]):d[22]=void 0,d[16]=d[22]),c.i64.eq(a[2],c.i64.cast([0,1]))?d[17]=d[11]:d[17]=void 0,c.i64.eq(a[2],c.i64.cast([0,1]))?d[18]=d[12]:d[18]=void 0,d[19]=new c.Map(),d[19].set("session_id",d[13]),d[19].set("responder_id",d[14]),d[19].set("initiator_id",d[15]),d[19].set("message_payload",f.messagePayload),d[19].set("pake_secret",f.pakeSecret),d[19].set("sender_id",a[0]),d[19].set("message_type",d[2]),d[19].set("client_type",a[2]),d[19].set("message_recipient_id",d[16]),d[19].set("initiator_user_id",d[18]),d[19].set("responder_user_id",d[17]),d[20]=c.toJSON(d[19]),c.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),"PakeMessages",c.i64.cast([0,717]),d[20],c.i64.cast([0,0]),c.i64.cast([0,93]),c.i64.cast([0,0]),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[21]=a[0],a})}]))})},function(a){return d[4]=c.i64.of_float(Date.now()),d[5]=c.i64.random(),d[7]="Finishing execution. Execution time: ",d[8]=c.i64.to_string(c.i64.sub(d[4],d[0])),d[9]=" ms",d[6]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][cleanupSession] ",d[6],d[7],d[6],d[8],d[6],d[9]].join("")),c.i64.eq(c.i64.mod_(d[5],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[10]=",",d[11]=c.createArray(),void 0!==void 0?d[12]=(d[11].push(void 0),d[11]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"cleanupSession",[d[7],d[10],d[8],d[10],d[9]].join(""),d[11],c.i64.cast([0,4]))):c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSPakeMessagesCleanupSessionStoredProcedure";a.__tables__=["pake_messages"];e.exports=a}),null);
__d("LSCleanupSessionStoredProcedure",["LSCleanupSession","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSCleanupSession"),e.deviceId,e.cleanupReason,e.clientType);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("CleanupPakeSession",["LSCleanupSessionStoredProcedure","LSFactory","LSIntEnum","MAWOneTimeCodeGating","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var e=a.cleanupReason,g=a.clientType,j=a.deviceId;a=a.storage;return!d("MAWOneTimeCodeGating").isOneTimeCodeEnabled()?(i||(i=b("Promise"))).resolve():a.runInTransaction(function(a){return c("LSCleanupSessionStoredProcedure")(c("LSFactory")(a),{cleanupReason:(h||(h=d("LSIntEnum"))).ofNumber(e),clientType:h.ofNumber(g),deviceId:j})},"readwrite",void 0,void 0,f.id+":41")}g["default"]=a}),98);
__d("FBIconCautionCircleOutline20.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-446 -398)",children:i.jsxs(d("XPlatReactSVG").G,{children:[i.jsx(d("XPlatReactSVG").Path,{d:"m101.5 200.17.5 4.83.5-4.83s0-.42-.5-.42-.5.42-.5.42",transform:"translate(354 204.5)"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"m100.754 200.247.5 4.83c.093.897 1.4.897 1.492 0l.5-4.83.004-.077c0-.176-.04-.38-.168-.594-.214-.36-.6-.576-1.082-.576-.481 0-.868.216-1.082.576a1.144 1.144 0 0 0-.168.594l.004.077zm.996-.077h.5c0 .07-.01.117-.043.174-.058.097-.163.156-.207.156-.044 0-.149-.059-.207-.156a.302.302 0 0 1-.043-.174z",transform:"translate(354 204.5)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M103 207.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0",transform:"translate(354 204.5)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M102 193.5c-5.523 0-10 4.477-10 10s4.477 10 10 10 10-4.477 10-10-4.477-10-10-10m0 1.304c4.795 0 8.696 3.901 8.696 8.696s-3.901 8.696-8.696 8.696-8.696-3.901-8.696-8.696 3.901-8.696 8.696-8.696",transform:"translate(354 204.5)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconTabletOutline20.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-446 -398)",children:i.jsxs(d("XPlatReactSVG").G,{transform:"translate(355.5 191.5)",children:[i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M93.5 211.5 107.5 211.5 107.5 210 93.5 210z"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M106.078 226.5H94.922a2.422 2.422 0 0 1-2.422-2.422v-15.156a2.422 2.422 0 0 1 2.422-2.422h11.156a2.422 2.422 0 0 1 2.422 2.422v15.156a2.422 2.422 0 0 1-2.422 2.422zm0-1.5c.51 0 .922-.413.922-.922v-15.156a.922.922 0 0 0-.922-.922H94.922a.922.922 0 0 0-.922.922v15.156c0 .51.413.922.922.922h11.156z"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M93.5 222 107.5 222 107.5 220.5 93.5 220.5z"}),i.jsx(d("XPlatReactSVG").Path,{d:"M101.5 223.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("MWPakeQPLEvents",["qpl"],(function(a,b,c,d,e,f,g){"use strict";a=c("qpl")._(231349365,"1751");g.pakeInitiatorQplEvent=a}),98);
__d("PAKEMessageQplLoggingAction",[],(function(a,b,c,d,e,f){a=Object.freeze({ADD_MARKER:0,END_SUCCESS:1,END_FAILURE:2,ADD_ERROR_ANNOTATION:3});f["default"]=a}),66);
__d("LSQplInteractionHelper.nop",["FBLogger","I64","MWPakeQPLEvents","PAKEMessageQplLoggingAction","Promise","QPLUserFlow"],(function(a,b,c,d,e,f,g){"use strict";var h,i;a=function(a,e,f,g,j){a=(i||(i=d("I64"))).to_int32(g);switch(a){case c("PAKEMessageQplLoggingAction").ADD_MARKER:f==null?c("FBLogger")("labyrinth_web").mustfix("PAKE: markerName is null when adding DS PAKE marker."):c("QPLUserFlow").addPoint(d("MWPakeQPLEvents").pakeInitiatorQplEvent,f);break;case c("PAKEMessageQplLoggingAction").END_FAILURE:f==null?c("FBLogger")("labyrinth_web").mustfix("PAKE: markerName is null when adding failure DS PAKE marker."):c("QPLUserFlow").endFailure(d("MWPakeQPLEvents").pakeInitiatorQplEvent,f);break;case c("PAKEMessageQplLoggingAction").END_SUCCESS:c("QPLUserFlow").endSuccess(d("MWPakeQPLEvents").pakeInitiatorQplEvent);break;case c("PAKEMessageQplLoggingAction").ADD_ERROR_ANNOTATION:j==null?c("FBLogger")("labyrinth_web").mustfix("PAKE: pakeMessageType is null when annotating PAKE error."):c("QPLUserFlow").addAnnotations(d("MWPakeQPLEvents").pakeInitiatorQplEvent,{"int":{errorCode:(i||(i=d("I64"))).to_int32(j)}});break}return(h||(h=b("Promise"))).resolve()};a.__nop_name__="LSQplInteractionHelper";g["default"]=a}),98);
__d("LSDecryptPakeSecret",["LSLogMebClientEvent.nop","LSQplInteractionHelper.nop","LSSymmetricEncryptionCreateDecryptedString.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][decryptPakeSecret] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.filter(c.db.table(258).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.clientType,a[2])&&c.i64.eq(b.sessionId,a[0])}).next().then(function(e,f){var g=e.done;e=e.value;return g?c.sequence([function(a){return c.nativeOperation(b("LSQplInteractionHelper.nop"),"PAKE_DS_DECRYPT_SECRET_NO_SESSION_ONGOING_FAILURE",c.i64.cast([0,0]),void 0)},function(a){return d[12]="PAKE: Failed to decrypt PAKE secrets as no session was ongoing.",c.nativeOperation(b("LSQplInteractionHelper.nop"),void 0,c.i64.cast([0,3]),c.i64.cast([0,7]))},function(b){return c.islc(c.filter(c.db.table(258).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.clientType,a[2])&&c.i64.eq(b.sessionId,a[0])}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(b,d){d=b.done;b=b.value;return d?c.db.table(258).add({sessionId:a[0],messageType:c.i64.cast([0,7]),clientType:a[2]}):(b.item,c.forEach(c.db.table(258).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({messageType:c.i64.cast([0,7])})}))})},function(a){return function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSPakeMessagesDecryptPakeSecretStoredProcedure] ","",d[12]].join("")),d[13]=c.createArray(),void 0!==void 0?d[14]=(d[13].push(void 0),d[13]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSPakeMessagesDecryptPakeSecretStoredProcedure",[d[12]].join(""),d[13],c.i64.cast([0,3]))},function(a){return a=[void 0,c.i64.cast([-1,4294967294])],d[2]=a[0],d[3]=a[1],a}]):(f=e.item,c.sequence([function(e){return d[13]=f.responderId,d[14]=f.initiatorId,d[15]=f.pakeSecret,d[13]!==void 0?c.sequence([function(e){return d[14]!==void 0?c.sequence([function(e){return d[15]!==void 0?c.sequence([function(a){return c.nativeOperation(b("LSQplInteractionHelper.nop"),"PAKE_DS_DECRYPT_SECRET_GENERATE_PAKE_AAD_START",c.i64.cast([0,0]),void 0)},function(a){return d[20]="_",c.nativeOperation(b("LSQplInteractionHelper.nop"),"PAKE_DS_DECRYPT_SECRET_NATIVE_OP_START",c.i64.cast([0,0]),void 0)},function(e){return c.nativeOperation(b("LSSymmetricEncryptionCreateDecryptedString.nop"),a[1],c.blobs.of_string(["v1",d[20],c.i64.to_string(a[0]),d[20],d[13],d[20],d[14],d[20],c.i64.to_string(f.clientType)].join("")),d[15]).then(function(a){return a=a,d[21]=a[0],a})},function(e){return d[21]!==void 0?c.resolve((e=[d[21],c.i64.cast([0,0])],d[22]=e[0],d[23]=e[1],e)):c.sequence([function(a){return d[25]="PAKE: Failed to decrypt PAKE secrets as key was incorrect.",c.nativeOperation(b("LSQplInteractionHelper.nop"),void 0,c.i64.cast([0,3]),c.i64.cast([0,10]))},function(b){return c.islc(c.filter(c.db.table(258).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.clientType,a[2])&&c.i64.eq(b.sessionId,a[0])}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(b,d){d=b.done;b=b.value;return d?c.db.table(258).add({sessionId:a[0],messageType:c.i64.cast([0,10]),clientType:a[2]}):(b.item,c.forEach(c.db.table(258).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({messageType:c.i64.cast([0,10])})}))})},function(a){return function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSPakeMessagesDecryptPakeSecretStoredProcedure] ","",d[25]].join("")),d[26]=c.createArray(),void 0!==void 0?d[27]=(d[26].push(void 0),d[26]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSPakeMessagesDecryptPakeSecretStoredProcedure",[d[25]].join(""),d[26],c.i64.cast([0,3]))},function(a){return a=[void 0,c.i64.cast([-1,4294967295])],d[22]=a[0],d[23]=a[1],a}])},function(a){return a=[d[22],d[23]],d[18]=a[0],d[19]=a[1],a}]):c.sequence([function(a){return c.nativeOperation(b("LSQplInteractionHelper.nop"),"PAKE_DS_DECRYPT_SECRET_PAKE_SECRET_NULL_FAILURE",c.i64.cast([0,0]),void 0)},function(a){return d[21]="PAKE: Failed to decrypt PAKE secrets as there was no secret to decrypt.",c.nativeOperation(b("LSQplInteractionHelper.nop"),void 0,c.i64.cast([0,3]),c.i64.cast([0,8]))},function(b){return c.islc(c.filter(c.db.table(258).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.clientType,a[2])&&c.i64.eq(b.sessionId,a[0])}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(b,d){d=b.done;b=b.value;return d?c.db.table(258).add({sessionId:a[0],messageType:c.i64.cast([0,8]),clientType:a[2]}):(b.item,c.forEach(c.db.table(258).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({messageType:c.i64.cast([0,8])})}))})},function(a){return function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSPakeMessagesDecryptPakeSecretStoredProcedure] ","",d[21]].join("")),d[22]=c.createArray(),void 0!==void 0?d[23]=(d[22].push(void 0),d[22]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSPakeMessagesDecryptPakeSecretStoredProcedure",[d[21]].join(""),d[22],c.i64.cast([0,3]))},function(a){return a=[void 0,c.i64.cast([-1,4294967294])],d[18]=a[0],d[19]=a[1],a}])},function(a){return a=[d[18],d[19]],d[16]=a[0],d[17]=a[1],a}]):c.sequence([function(a){return c.nativeOperation(b("LSQplInteractionHelper.nop"),"PAKE_DS_DECRYPT_SECRET_INITIATOR_ID_NULL_FAILURE",c.i64.cast([0,0]),void 0)},function(a){return d[19]="PAKE: Failed to decrypt PAKE secrets as initiator id was null.",c.nativeOperation(b("LSQplInteractionHelper.nop"),void 0,c.i64.cast([0,3]),c.i64.cast([0,8]))},function(b){return c.islc(c.filter(c.db.table(258).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.clientType,a[2])&&c.i64.eq(b.sessionId,a[0])}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(b,d){d=b.done;b=b.value;return d?c.db.table(258).add({sessionId:a[0],messageType:c.i64.cast([0,8]),clientType:a[2]}):(b.item,c.forEach(c.db.table(258).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({messageType:c.i64.cast([0,8])})}))})},function(a){return function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSPakeMessagesDecryptPakeSecretStoredProcedure] ","",d[19]].join("")),d[20]=c.createArray(),void 0!==void 0?d[21]=(d[20].push(void 0),d[20]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSPakeMessagesDecryptPakeSecretStoredProcedure",[d[19]].join(""),d[20],c.i64.cast([0,3]))},function(a){return a=[void 0,c.i64.cast([-1,4294967294])],d[16]=a[0],d[17]=a[1],a}])},function(a){return a=[d[16],d[17]],d[11]=a[0],d[12]=a[1],a}]):c.sequence([function(a){return c.nativeOperation(b("LSQplInteractionHelper.nop"),"PAKE_DS_DECRYPT_SECRET_RESPONDER_ID_NULL_FAILURE",c.i64.cast([0,0]),void 0)},function(a){return d[17]="PAKE: Failed to decrypt PAKE secrets as responder id was null.",c.nativeOperation(b("LSQplInteractionHelper.nop"),void 0,c.i64.cast([0,3]),c.i64.cast([0,8]))},function(b){return c.islc(c.filter(c.db.table(258).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.clientType,a[2])&&c.i64.eq(b.sessionId,a[0])}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(b,d){d=b.done;b=b.value;return d?c.db.table(258).add({sessionId:a[0],messageType:c.i64.cast([0,8]),clientType:a[2]}):(b.item,c.forEach(c.db.table(258).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({messageType:c.i64.cast([0,8])})}))})},function(a){return function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSPakeMessagesDecryptPakeSecretStoredProcedure] ","",d[17]].join("")),d[18]=c.createArray(),void 0!==void 0?d[19]=(d[18].push(void 0),d[18]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSPakeMessagesDecryptPakeSecretStoredProcedure",[d[17]].join(""),d[18],c.i64.cast([0,3]))},function(a){return a=[void 0,c.i64.cast([-1,4294967294])],d[11]=a[0],d[12]=a[1],a}])},function(a){return a=[d[11],d[12]],d[2]=a[0],d[3]=a[1],a}]))})},function(a){return d[5]=c.i64.of_float(Date.now()),d[6]=c.i64.random(),d[8]="Finishing execution. Execution time: ",d[9]=c.i64.to_string(c.i64.sub(d[5],d[0])),d[10]=" ms",d[7]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][decryptPakeSecret] ",d[7],d[8],d[7],d[9],d[7],d[10]].join("")),c.i64.eq(c.i64.mod_(d[6],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[11]=",",d[12]=c.createArray(),void 0!==void 0?d[13]=(d[12].push(void 0),d[12]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"decryptPakeSecret",[d[8],d[11],d[9],d[11],d[10]].join(""),d[12],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[2],d[3]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSPakeMessagesDecryptPakeSecretStoredProcedure";a.__tables__=["pake_messages"];e.exports=a}),null);
__d("LSDecryptPakeSecretStoredProcedure",["LSDecryptPakeSecret","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSDecryptPakeSecret"),e.sessionId,e.encryptionKey,e.clientType);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSFinishAddPeerDevice",["LSAppendDataTraceAddon","LSArrayGetObjectAt","LSBase64Encode.nop","LSCreateDebugToken.nop","LSCreateDerivedKeys.nop","LSCreateSignature_v2.nop","LSDeleteBackupOnClient","LSGenerateLocalKeys","LSGetBlobFromString.nop","LSHmac_v2.nop","LSIsEncryptionVersionSecure","LSIsMobileClient","LSIssueNewEbTaskAndGetTaskIDV2","LSLogMebClientEvent.nop","LSOcmfClientEvolve_v2.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsFinishAddPeerDeviceStoredProcedure] Beginning execution."),c.sequence([function(a){return void 0!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),void 0,c.i64.cast([0,1434]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[8]=a[0],a})},function(a){return d[8]?d[9]=!0:d[9]=!1,d[9]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[11]="LSDataTraceMciTraceLog native op not supported",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBTraceUtils] ","",d[11]].join("")),d[10]=c.createArray(),void 0!==void 0?d[12]=(d[10].push(void 0),d[10]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils",d[11],d[10],c.i64.cast([0,3]))):c.resolve()}])},function(e){return c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}).next().then(function(e,f){f=e.done;e=e.value;return f?c.sequence([function(a){return c.db.table(168).fetch().next().then(function(a,d){var e=a.done;a=a.value;return e?0:(d=a.item,c.storedProcedure(b("LSDeleteBackupOnClient"),d.backupId,void 0,!1,void 0,"null",!0))})},function(e){return d[8]=a[0].get("backup_id"),c.storedProcedure(b("LSGenerateLocalKeys"),!1).then(function(a){return a=a,d[9]=a[0],d[10]=a[1],a})},function(e){return d[9]!==void 0?c.sequence([function(a){return d[11]=d[9].get("device_key"),d[12]=d[9].get("epoch_storage_key"),d[13]=d[9].get("epoch_auth_key"),d[14]=d[11].get("device_private_key"),d[15]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[16]=a[0],a})},function(a){return d[16]?d[44]=(d[15].push(c.i64.cast([0,0])),d[15]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[17]=a[0],a})},function(a){return d[17]?d[44]=(d[15].push(c.i64.cast([0,2])),d[15]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[18]=a[0],a})},function(a){return d[18]?d[44]=(d[15].push(c.i64.cast([0,3])),d[15]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[19]=a[0],a})},function(a){return d[19]?d[44]=(d[15].push(c.i64.cast([0,4])),d[15]):0,d[20]="",d[21]=c.i64.of_int32(d[15].length),c.i64.gt(d[21],c.i64.cast([0,0]))?c.loopAsync(d[21],function(a){return d[44]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[15],d[44]).then(function(a){return a=a,d[45]=a[0],d[46]=a[1],a})},function(a){return d[20]=[d[20],"_",c.i64.to_string(d[45])].join("")}])}):c.resolve()},function(a){return c.nativeOperation(b("LSGetBlobFromString.nop"),["supported_versions_",d[20],"revision_version_",c.i64.to_string(c.i64.cast([0,1]))].join("")).then(function(a){return a=a,d[22]=a[0],a})},function(a){return c.nativeOperation(b("LSCreateSignature_v2.nop"),d[14],c.blob("Mg=="),d[22]).then(function(a){return a=a,d[23]=a[0],a})},function(a){return c.blobs.neq(d[23],void 0)?c.sequence([function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[23]).then(function(a){return a=a,d[44]=a[0],a})},function(a){return d[24]=d[44]}]):c.resolve(d[24]=void 0)},function(e){return d[25]=a[0].get("temp_ocmf_client_state"),c.nativeOperation(b("LSOcmfClientEvolve_v2.nop"),d[25]).then(function(a){return a=a,d[26]=a[0],d[27]=a[1],a})},function(a){return c.blobs.neq(void 0,void 0)?c.sequence([function(a){return c.nativeOperation(b("LSOcmfClientEvolve_v2.nop"),void 0).then(function(a){return a=a,d[44]=a[0],d[45]=a[1],a})},function(a){return a=[d[26],d[27],d[44],d[45]],d[28]=a[0],d[29]=a[1],d[30]=a[2],d[31]=a[3],a}]):c.resolve((a=[d[26],d[27],void 0,void 0],d[28]=a[0],d[29]=a[1],d[30]=a[2],d[31]=a[3],a))},function(b){return d[32]=d[11].get("device_public_key"),d[33]=d[11].get("device_private_key"),d[34]=d[12].get("epoch_storage_public_key"),d[35]=d[12].get("epoch_storage_private_key"),d[36]=d[13].get("epoch_auth_public_key"),d[37]=d[13].get("epoch_auth_private_key"),d[38]=a[0].get("mailbox_root_key"),d[39]=a[0].get("oblivious_validation_token"),c.forEach(c.filter(c.db.table(168).fetch([[[d[8]]]]),function(a){return c.i64.eq(a.backupId,d[8])&&c.i64.lt(a.authorityLevel,c.i64.cast([0,20]))}),function(a){return a["delete"]()})},function(a){return c.db.table(168).add({backupId:d[8],devicePublicKeyBlob:d[32],devicePrivateKeyBlob:d[33],epochStoragePublicKeyBlob:d[34],epochStoragePrivateKeyBlob:d[35],epochAuthPublicKeyBlob:d[36],epochAuthPrivateKeyBlob:d[37],mailboxRootKeyBlob:d[38],ocmfClientStateBlob:d[28],obliviousValidationTokenBlob:d[39],authorityLevel:c.i64.cast([0,20]),backupTenancy:c.i64.cast([0,1]),revisionVersion:c.i64.cast([0,1]),encryptionVersion:c.i64.cast([0,0])})},function(e){return d[40]=a[0].get("add_peer_epoch_data"),d[41]=c.i64.of_int32(d[40].length),c.i64.gt(d[41],c.i64.cast([0,0]))?c.loopAsync(d[41],function(a){return d[44]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[40],d[44]).then(function(a){return a=a,d[45]=a[0],d[46]=a[1],a})},function(a){return d[47]=d[45].get("epoch_id"),d[48]=d[45].get("epoch_anon_id"),d[49]=d[45].get("epoch_root_key"),d[50]=d[45].get("epoch_status"),d[51]=d[45].get("epoch_head"),c.forEach(c.filter(c.db.table(169).fetch([[[d[47]]]]),function(a){return c.i64.eq(a.epochId,d[47])&&c.i64.lt(a.authorityLevel,c.i64.cast([0,80]))}),function(a){return a["delete"]()})},function(a){return c.db.table(169).add({epochId:d[47],authorityLevel:c.i64.cast([0,80]),backupId:d[8],epochAnonIdBlob:d[48],epochRootKeyBlob:d[49],epochStatus:d[50],epochHead:d[51]})}])}):c.resolve()},function(a){return c.count(c.db.table(169).fetch()).then(function(a){return d[42]=a})},function(a){return c.i64.le(d[42],c.i64.cast([0,1]))?c.sequence([function(a){return c.db.table(169).fetch().next().then(function(a,e){var f=a.done;a=a.value;return f?c.sequence([function(a){return d[46]="No epoch available in epochs table",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsFinishAddPeerDeviceStoredProcedure] ","",d[46]].join("")),d[47]=c.createArray(),void 0!==void 0?d[48]=(d[47].push(void 0),d[47]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsFinishAddPeerDeviceStoredProcedure",[d[46]].join(""),d[47],c.i64.cast([0,3]))},function(a){return d[44]=void 0}]):(e=a.item,d[46]=new c.Map(),d[46].set("epoch_id",e.epochId),d[46].set("backup_id",e.backupId),d[46].set("epoch_anon_id_blob",e.epochAnonIdBlob),d[46].set("epoch_root_key_blob",e.epochRootKeyBlob),d[46].set("epoch_status",e.epochStatus),d[46].set("epoch_head",e.epochHead),d[46].set("authority_level",e.authorityLevel),d[44]=d[46])})},function(a){return d[43]=d[44]}]):c.sequence([function(a){return d[44]="Multiple epochs available in epochs table",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsFinishAddPeerDeviceStoredProcedure] ","",d[44]].join("")),d[45]=c.createArray(),void 0!==void 0?d[46]=(d[45].push(void 0),d[45]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsFinishAddPeerDeviceStoredProcedure",[d[44]].join(""),d[45],c.i64.cast([0,3]))},function(a){return d[43]=void 0}])},function(e){return d[43]!==void 0?c.sequence([function(a){return d[44]=d[43].get("epoch_anon_id_blob"),d[45]=d[43].get("epoch_root_key_blob"),d[46]=d[11].get("device_public_key"),d[47]=c.createArray(),d[51]=(d[47].push(c.i64.cast([0,32])),d[47]),c.nativeOperation(b("LSBase64Encode.nop"),d[44]).then(function(a){return a=a,d[48]=a[0],a})},function(a){return d[48]!==void 0?c.sequence([function(a){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),c.blobs.of_string(["epoch_devices","_",d[48]].join("")),void 0,d[45],d[47]).then(function(a){return a=a,d[51]=a[0],a})},function(a){return d[51]?d[52]=!1:d[52]=!0,d[52]?c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoEpochUtils] THIS IS NOT EXPECTED. Found null keys while deriving keys for epoch. Returning empty blobish"),d[55]="THIS IS NOT EXPECTED. Found null keys while deriving keys for epoch. Returning empty blobish",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoEpochUtils] ","",d[55]].join("")),d[54]=c.createArray(),void 0!==void 0?d[57]=(d[54].push(void 0),d[54]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoEpochUtils",d[55],d[54],c.i64.cast([0,3]))},function(a){return c.nativeOperation(b("LSGetBlobFromString.nop"),"").then(function(a){return a=a,d[56]=a[0],a})},function(a){return d[53]=d[56]}]):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[51],c.i64.cast([0,0])).then(function(a){return a=a,d[54]=a[0],d[55]=a[1],a})},function(a){return d[53]=d[54]}])},function(a){return d[49]=d[53]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoEpochUtils] THIS IS NOT EXPECTED. Failed to base64 encode epoch anon id. Returning empty blobish"),d[52]="THIS IS NOT EXPECTED. Failed to base64 encode epoch anon id. Returning empty blobish",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoEpochUtils] ","",d[52]].join("")),d[51]=c.createArray(),void 0!==void 0?d[54]=(d[51].push(void 0),d[51]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoEpochUtils",d[52],d[51],c.i64.cast([0,3]))},function(a){return c.nativeOperation(b("LSGetBlobFromString.nop"),"").then(function(a){return a=a,d[53]=a[0],a})},function(a){return d[49]=d[53]}])},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),d[49],d[46]).then(function(a){return a=a,d[50]=a[0],a})},function(e){return c.blobs.neq(d[50],void 0)?c.sequence([function(a){return d[51]=d[11].get("device_public_key"),c.nativeOperation(b("LSBase64Encode.nop"),d[51]).then(function(a){return a=a,d[52]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[50]).then(function(a){return a=a,d[53]=a[0],a})},function(a){return d[54]=d[43].get("epoch_root_key_blob"),c.blobs.neq(d[54],void 0)?c.sequence([function(a){return d[81]=c.createArray(),d[87]=(d[81].push(c.i64.cast([0,18])),d[81]),c.nativeOperation(b("LSCreateDerivedKeys.nop"),c.blob("bWViL2RlYnVnL2ZpbmdlcnByaW50L01FQkVwb2NoUm9vdEtleQ=="),void 0,d[54],d[81]).then(function(a){return a=a,d[82]=a[0],a})},function(a){return d[82]!==void 0?c.sequence([function(a){return d[87]=c.i64.of_int32(d[82].length),c.i64.ge(d[87],c.i64.cast([0,1]))?c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[82],c.i64.cast([0,0])).then(function(a){return a=a,d[89]=a[0],d[90]=a[1],a})},function(a){return d[88]=d[89]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBFingerprint] CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM."),d[90]="CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM.",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBFingerprint] ","",d[90]].join("")),d[89]=c.createArray(),void 0!==void 0?d[91]=(d[89].push(void 0),d[89]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBFingerprint",d[90],d[89],c.i64.cast([0,3]))},function(a){return d[88]=void 0}])},function(a){return d[83]=d[88]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBFingerprint] CreateDerivedKeys returned null. This should never happen; aborting dasm VM."),d[88]="CreateDerivedKeys returned null. This should never happen; aborting dasm VM.",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBFingerprint] ","",d[88]].join("")),d[87]=c.createArray(),void 0!==void 0?d[89]=(d[87].push(void 0),d[87]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBFingerprint",d[88],d[87],c.i64.cast([0,3]))},function(a){return d[83]=void 0}])},function(a){return c.blobs.neq(d[83],void 0)?d[84]=!0:d[84]=!1,d[84]?0:(function(a){c.logger(a).mustfix(a)}("LS::assert is failed. Attempting to coerce a null value to nonnull."),c["throw"]("LS::assert is failed. Attempting to coerce a null value to nonnull.")),c.nativeOperation(b("LSBase64Encode.nop"),d[83]).then(function(a){return a=a,d[85]=a[0],a})},function(a){return d[85]!==void 0?d[86]=d[85]:d[86]="encodingfailed",d[55]=d[86]}]):c.resolve(d[55]="null")},function(a){return d[56]=d[12].get("epoch_storage_public_key"),c.nativeOperation(b("LSBase64Encode.nop"),d[56]).then(function(a){return a=a,d[57]=a[0],a})},function(a){return d[58]=d[9].get("epoch_storage_public_key_sig"),c.nativeOperation(b("LSBase64Encode.nop"),d[58]).then(function(a){return a=a,d[59]=a[0],a})},function(a){return d[60]=d[13].get("epoch_auth_public_key"),c.nativeOperation(b("LSBase64Encode.nop"),d[60]).then(function(a){return a=a,d[61]=a[0],a})},function(a){return d[62]=d[9].get("epoch_auth_public_key_sig"),c.nativeOperation(b("LSBase64Encode.nop"),d[62]).then(function(a){return a=a,d[63]=a[0],a})},function(e){return d[64]=d[11].get("device_private_key"),d[65]=a[0].get("mailbox_root_key"),d[66]=d[12].get("epoch_storage_private_key"),c.blobs.neq(d[65],void 0)?c.sequence([function(a){return d[81]=new c.Map(),c.nativeOperation(b("LSCreateDebugToken.nop"),d[65],"private_key",d[64],c.i64.cast([0,1]),d[81]).then(function(a){return a=a,d[82]=a[0],a})},function(a){return c.blobs.neq(d[82],void 0)?d[83]=d[82]:d[83]=void 0,d[67]=d[83]}]):c.resolve(d[67]=void 0)},function(a){return c.blobs.neq(d[67],void 0)?c.sequence([function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[67]).then(function(a){return a=a,d[81]=a[0],a})},function(a){return d[68]=d[81]}]):c.resolve(d[68]=void 0)},function(a){return c.blobs.neq(d[65],void 0)?c.sequence([function(a){return d[81]=new c.Map(),c.nativeOperation(b("LSCreateDebugToken.nop"),d[65],"ocmf_client_state",d[28],c.i64.cast([0,1]),d[81]).then(function(a){return a=a,d[82]=a[0],a})},function(a){return c.blobs.neq(d[82],void 0)?d[83]=d[82]:d[83]=void 0,d[69]=d[83]}]):c.resolve(d[69]=void 0)},function(a){return c.blobs.neq(d[69],void 0)?c.sequence([function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[69]).then(function(a){return a=a,d[81]=a[0],a})},function(a){return d[70]=d[81]}]):c.resolve(d[70]=void 0)},function(a){return c.blobs.neq(d[65],void 0)?c.sequence([function(a){return d[81]=new c.Map(),c.nativeOperation(b("LSCreateDebugToken.nop"),d[65],"epoch_storage_private_key",d[66],c.i64.cast([0,1]),d[81]).then(function(a){return a=a,d[82]=a[0],a})},function(a){return c.blobs.neq(d[82],void 0)?d[83]=d[82]:d[83]=void 0,d[71]=d[83]}]):c.resolve(d[71]=void 0)},function(a){return c.blobs.neq(d[71],void 0)?c.sequence([function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[71]).then(function(a){return a=a,d[81]=a[0],a})},function(a){return d[72]=d[81]}]):c.resolve(d[72]=void 0)},function(e){return d[73]=a[0].get("backup_id"),c.nativeOperation(b("LSBase64Encode.nop"),d[29]).then(function(a){return a=a,d[74]=a[0],a})},function(e){return d[75]=a[0].get("server_data_id"),d[76]=d[43].get("epoch_id"),d[77]=new c.Map(),d[77].set("supported_encryption_versions",d[15]),d[77].set("client_version",c.i64.cast([0,1])),d[77].set("version_sig",d[24]==null?"":d[24]),d[78]=new c.Map(),d[78].set("backup_id",d[73]),d[78].set("device_epoch_hmac",d[53]==null?"":d[53]),d[78].set("epoch_root_key_fingerprint",d[55]),d[78].set("device_public_key",d[52]==null?"":d[52]),d[78].set("epoch_auth_pubkey",d[61]==null?"":d[61]),d[78].set("epoch_auth_pubkey_sig",d[63]==null?"":d[63]),d[78].set("epoch_storage_pubkey",d[57]==null?"":d[57]),d[78].set("epoch_storage_pubkey_sig",d[59]==null?"":d[59]),d[78].set("ocmf_rotation_token",d[74]==null?"":d[74]),d[78].set("server_data_id",d[75]),d[78].set("device_registration_id",a[1]),d[78].set("base_epoch_id",d[76]),d[78].set("encryption_version_data",d[77]),d[78].set("private_key_debug_token",d[68]),d[78].set("ocmf_client_state_debug_token",d[70]),d[78].set("epoch_storage_pvtkey_debug_token",d[72]),d[78].set("trace_id",void 0),d[78].set("occam_only_eligible",!0),d[79]=c.toJSON(d[78]),c.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),"encrypted_backups_setup",c.i64.cast([0,50017]),d[79],c.i64.cast([0,0]),c.i64.cast([0,93]),c.i64.cast([0,0]),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[80]=a[0],a})}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsFinishAddPeerDeviceStoredProcedure] $device_epoch_hmac found to be null"),d[51]=c.createArray(),void 0!==void 0?d[52]=(d[51].push(void 0),d[51]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsFinishAddPeerDeviceStoredProcedure","$device_epoch_hmac found to be null",d[51],c.i64.cast([0,3]))},function(a){return c.storedProcedure(b("LSDeleteBackupOnClient"),d[8],"backup_init_flow",!0,void 0,void 0,!1)},function(a){return c.forEach(c.db.table(169).fetch(),function(a){return a["delete"]()})}])}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsFinishAddPeerDeviceStoredProcedure] Error! There should be exactly one open epoch. Deleting local state and terminating device addition"),d[44]=c.createArray(),void 0!==void 0?d[45]=(d[44].push(void 0),d[44]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsFinishAddPeerDeviceStoredProcedure","Error! There should be exactly one open epoch. Deleting local state and terminating device addition",d[44],c.i64.cast([0,3]))},function(a){return c.storedProcedure(b("LSDeleteBackupOnClient"),d[8],"backup_init_flow",!0,void 0,void 0,!1)},function(a){return c.forEach(c.db.table(169).fetch(),function(a){return a["delete"]()})}])}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsFinishAddPeerDeviceStoredProcedure] Error! Error in generating the keys. Deleting local state and terminating device addition"),d[11]=c.createArray(),void 0!==void 0?d[12]=(d[11].push(void 0),d[11]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsFinishAddPeerDeviceStoredProcedure","Error! Error in generating the keys. Deleting local state and terminating device addition",d[11],c.i64.cast([0,3]))},function(a){return c.storedProcedure(b("LSDeleteBackupOnClient"),d[8],"backup_init_flow",!0,void 0,void 0,!1)},function(a){return c.forEach(c.db.table(169).fetch(),function(a){return a["delete"]()})}])}]):(e.item,d[8]="An authoritative row already exists, aborting execution of add peer device",d[8]!==void 0?(function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsFinishAddPeerDeviceStoredProcedure] ","",d[8]].join("")),d[9]=c.createArray(),void 0!==void 0?d[10]=(d[9].push(void 0),d[9]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsFinishAddPeerDeviceStoredProcedure",d[8],d[9],c.i64.cast([0,3]))):c.resolve())})},function(a){return d[2]=c.i64.of_float(Date.now()),d[3]=c.i64.random(),d[5]="Finishing execution. Execution time: ",d[6]=c.i64.to_string(c.i64.sub(d[2],d[0])),d[7]=" ms",d[4]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsFinishAddPeerDeviceStoredProcedure] ",d[4],d[5],d[4],d[6],d[4],d[7]].join("")),c.i64.eq(c.i64.mod_(d[3],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[8]=",",d[9]=c.createArray(),void 0!==void 0?d[10]=(d[9].push(void 0),d[9]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsFinishAddPeerDeviceStoredProcedure",[d[5],d[8],d[6],d[8],d[7]].join(""),d[9],c.i64.cast([0,4]))):c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsFinishAddPeerDeviceStoredProcedure";a.__tables__=["secure_encrypted_backups_client_state","secure_encrypted_backups_epochs"];e.exports=a}),null);
__d("LSDeserializeSecretsAndAddDevice",["LSArrayGetObjectAt","LSBase64Decode.nop","LSDeserializeFromJsonIntoDictionaryV2.nop","LSFinishAddPeerDevice","LSQplInteractionHelper.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(a){return c.nativeOperation(b("LSQplInteractionHelper.nop"),"MEB_DS_DESERIALIZE_SECRETS_NATIVE_OP_START",c.i64.cast([0,0]),void 0)},function(e){return c.nativeOperation(b("LSDeserializeFromJsonIntoDictionaryV2.nop"),a[0]).then(function(a){return a=a,d[0]=a[0],a})},function(a){return c.nativeOperation(b("LSQplInteractionHelper.nop"),"MEB_DS_DESERIALIZE_SECRETS_NATIVE_OP_END",c.i64.cast([0,0]),void 0)},function(a){return d[1]=d[0].get("temp_ocmf_client_state"),c.nativeOperation(b("LSBase64Decode.nop"),d[1]).then(function(a){return a=a,d[2]=a[0],a})},function(a){return d[3]=d[0].get("mailbox_root_key"),c.nativeOperation(b("LSBase64Decode.nop"),d[3]).then(function(a){return a=a,d[4]=a[0],a})},function(a){return d[5]=d[0].get("oblivious_validation_token"),c.nativeOperation(b("LSBase64Decode.nop"),d[5]).then(function(a){return a=a,d[6]=a[0],a})},function(a){return d[7]=c.createArray(),d[8]=d[0].get("add_peer_epoch_data_serializable"),d[9]=c.i64.of_int32(d[8].length),c.i64.gt(d[9],c.i64.cast([0,0]))?c.loopAsync(d[9],function(a){return d[14]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[8],d[14]).then(function(a){return a=a,d[15]=a[0],d[16]=a[1],a})},function(a){return d[17]=d[15].get("epoch_anon_id"),c.nativeOperation(b("LSBase64Decode.nop"),d[17]).then(function(a){return a=a,d[18]=a[0],a})},function(a){return d[19]=d[15].get("epoch_root_key"),c.nativeOperation(b("LSBase64Decode.nop"),d[19]).then(function(a){return a=a,d[20]=a[0],a})},function(a){return d[21]=d[15].get("epoch_id"),d[22]=d[15].get("epoch_status"),d[23]=new c.Map(),d[23].set("epoch_id",d[21]),d[23].set("epoch_anon_id",d[18]==null?c.blob(""):d[18]),d[23].set("epoch_root_key",d[20]==null?c.blob(""):d[20]),d[23].set("epoch_status",d[22]),d[24]=d[15].get("epoch_head"),d[24]!==void 0?c.sequence([function(a){return c.nativeOperation(b("LSBase64Decode.nop"),d[24]).then(function(a){return a=a,d[25]=a[0],a})},function(a){return d[23].set("epoch_head",d[25])}]):c.resolve()},function(a){return d[25]=(d[7].push(d[23]),d[7])}])}):c.resolve()},function(e){return d[10]=d[0].get("backup_id"),d[11]=d[0].get("server_data_id"),d[12]=new c.Map(),d[12].set("backup_id",d[10]),d[12].set("server_data_id",d[11]),d[12].set("temp_ocmf_client_state",d[2]==null?c.blob(""):d[2]),d[12].set("mailbox_root_key",d[4]==null?c.blob(""):d[4]),d[12].set("oblivious_validation_token",d[6]==null?c.blob(""):d[6]),d[12].set("add_peer_epoch_data",d[7]),d[12]!==void 0?c.sequence([function(e){return c.storedProcedure(b("LSFinishAddPeerDevice"),d[12],a[1])},function(a){return d[13]=!0}]):c.resolve(d[13]=!1)},function(a){return e[0]=d[13]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsDeserializeSecretsAndAddDeviceStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSDeserializeSecretsAndAddDeviceStoredProcedure",["LSDeserializeSecretsAndAddDevice","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSDeserializeSecretsAndAddDevice"),e.serializedPayload,e.deviceRegistrationId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSGetActiveSession",["LSLogMebClientEvent.nop","LSQplInteractionHelper.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(b){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][getActiveSession] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.count(c.filter(c.db.table(258).fetch(),function(b){return c.i64.eq(b.messageType,c.i64.cast([0,0]))&&c.i64.eq(b.clientType,a[1])&&b.initiatorId===void 0||c.i64.eq(b.clientType,a[1])&&b.initiatorId===a[0]&&![c.i64.cast([0,1]),c.i64.cast([0,2]),c.i64.cast([0,3]),c.i64.cast([0,4]),c.i64.cast([0,21]),c.i64.cast([0,15]),c.i64.cast([0,23])].some(function(a){return c.i64.eq(b.messageType,a)})&&c.i64.neq(b.sessionId,c.i64.cast([-1,4294967295]))})).then(function(a){return d[2]=a})},function(e){return c.i64.le(d[2],c.i64.cast([0,1]))?c.sequence([function(e){return c.filter(c.db.table(258).fetch(),function(b){return c.i64.eq(b.messageType,c.i64.cast([0,0]))&&c.i64.eq(b.clientType,a[1])&&b.initiatorId===void 0||c.i64.eq(b.clientType,a[1])&&b.initiatorId===a[0]&&![c.i64.cast([0,1]),c.i64.cast([0,2]),c.i64.cast([0,3]),c.i64.cast([0,4]),c.i64.cast([0,21]),c.i64.cast([0,15]),c.i64.cast([0,23])].some(function(a){return c.i64.eq(b.messageType,a)})&&c.i64.neq(b.sessionId,c.i64.cast([-1,4294967295]))}).next().then(function(a,e){var f=a.done;a=a.value;return f?c.sequence([function(a){return c.nativeOperation(b("LSQplInteractionHelper.nop"),void 0,c.i64.cast([0,3]),c.i64.cast([0,17]))},function(a){return a=[c.i64.cast([-1,4294967295]),void 0,void 0],d[12]=a[0],d[13]=a[1],d[14]=a[2],a}]):(e=a.item,c.sequence([function(a){return d[19]=e.responderId,d[19]!==void 0?c.resolve((a=[c.i64.cast([0,0]),e.sessionId,d[19]],d[16]=a[0],d[17]=a[1],d[18]=a[2],a)):c.sequence([function(a){return c.nativeOperation(b("LSQplInteractionHelper.nop"),"PAKE_DS_SESSION_ONGOING_RESPONDER_ID_NULL_FAILURE",c.i64.cast([0,0]),void 0)},function(a){return c.nativeOperation(b("LSQplInteractionHelper.nop"),void 0,c.i64.cast([0,3]),c.i64.cast([0,8]))},function(a){return a=[c.i64.cast([-1,4294967294]),void 0,void 0],d[16]=a[0],d[17]=a[1],d[18]=a[2],a}])},function(a){return a=[d[16],d[17],d[18]],d[12]=a[0],d[13]=a[1],d[14]=a[2],a}]))})},function(a){return a=[d[12],d[13],d[14]],d[3]=a[0],d[4]=a[1],d[5]=a[2],a}]):c.sequence([function(a){return c.nativeOperation(b("LSQplInteractionHelper.nop"),void 0,c.i64.cast([0,3]),c.i64.cast([0,18]))},function(a){return a=[c.i64.cast([-1,4294967294]),void 0,void 0],d[3]=a[0],d[4]=a[1],d[5]=a[2],a}])},function(a){return d[6]=c.i64.of_float(Date.now()),d[7]=c.i64.random(),d[9]="Finishing execution. Execution time: ",d[10]=c.i64.to_string(c.i64.sub(d[6],d[0])),d[11]=" ms",d[8]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][getActiveSession] ",d[8],d[9],d[8],d[10],d[8],d[11]].join("")),c.i64.eq(c.i64.mod_(d[7],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[12]=",",d[13]=c.createArray(),void 0!==void 0?d[14]=(d[13].push(void 0),d[13]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"getActiveSession",[d[9],d[12],d[10],d[12],d[11]].join(""),d[13],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[3],d[4],d[5]],e[0]=a[0],e[1]=a[1],e[2]=a[2],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSPakeMessagesGetActiveSessionStoredProcedure";a.__tables__=["pake_messages"];e.exports=a}),null);
__d("LSGetActiveSessionStoredProcedure",["LSGetActiveSession","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSGetActiveSession"),e.initiatorId,e.clientType);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSSendPakeMessage",["LSIssueNewEbTaskAndGetTaskIDV2","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][sendPakeMessage] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.filter(c.db.table(258).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.clientType,a[4])&&c.i64.eq(b.sessionId,a[0])}).next().then(function(e,f){var g=e.done;e=e.value;return g?c.islc(c.filter(c.db.table(258).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.clientType,a[4])&&c.i64.eq(b.sessionId,a[0])}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(b,d){d=b.done;b=b.value;return d?c.db.table(258).add({sessionId:a[0],messageType:c.i64.cast([0,7]),clientType:a[4]}):(b.item,c.forEach(c.db.table(258).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({messageType:c.i64.cast([0,7])})}))}):(f=e.item,d[17]=f.responderId,d[18]=f.initiatorId,d[15]=f.responderUserId,d[16]=f.initiatorUserId,a[1]===d[18]?(c.i64.eq(a[4],c.i64.cast([0,1]))?d[19]=d[15]:d[19]=void 0,d[9]=d[19]):(a[1]===d[17]?(c.i64.eq(a[4],c.i64.cast([0,1]))?d[20]=d[16]:d[20]=void 0,d[19]=d[20]):d[19]=void 0,d[9]=d[19]),c.i64.eq(a[4],c.i64.cast([0,1]))?d[10]=d[15]:d[10]=void 0,c.i64.eq(a[4],c.i64.cast([0,1]))?d[11]=d[16]:d[11]=void 0,d[12]=new c.Map(),d[12].set("session_id",a[0]),d[12].set("responder_id",d[17]),d[12].set("initiator_id",d[18]),d[12].set("message_payload",a[2]==null?f.messagePayload:a[2]),d[12].set("pake_secret",f.pakeSecret),d[12].set("sender_id",a[1]),d[12].set("message_type",a[3]),d[12].set("client_type",a[4]),d[12].set("message_recipient_id",d[9]),d[12].set("initiator_user_id",d[11]),d[12].set("responder_user_id",d[10]),d[13]=c.toJSON(d[12]),c.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),"PakeMessages",c.i64.cast([0,717]),d[13],c.i64.cast([0,0]),c.i64.cast([0,93]),c.i64.cast([0,0]),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[14]=a[0],a}))})},function(a){return d[3]=c.i64.of_float(Date.now()),d[4]=c.i64.random(),d[6]="Finishing execution. Execution time: ",d[7]=c.i64.to_string(c.i64.sub(d[3],d[0])),d[8]=" ms",d[5]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][sendPakeMessage] ",d[5],d[6],d[5],d[7],d[5],d[8]].join("")),c.i64.eq(c.i64.mod_(d[4],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[9]=",",d[10]=c.createArray(),void 0!==void 0?d[11]=(d[10].push(void 0),d[10]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"sendPakeMessage",[d[6],d[9],d[7],d[9],d[8]].join(""),d[10],c.i64.cast([0,4]))):c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSPakeMessagesSendPakeMessageStoredProcedure";a.__tables__=["pake_messages"];e.exports=a}),null);
__d("LSSendPakeMessageOne",["LSBase64Encode.nop","LSIssueNewEbTaskAndGetTaskIDV2","LSLogMebClientEvent.nop","LSQplInteractionHelper.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][sendPakeMessageOne] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.nativeOperation(b("LSBase64Encode.nop"),a[2]).then(function(a){return a=a,d[2]=a[0],a})},function(e){return c.filter(c.db.table(258).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.clientType,a[3])&&c.i64.eq(b.sessionId,a[0])}).next().then(function(e,f){var g=e.done;e=e.value;return g?c.sequence([function(a){return c.nativeOperation(b("LSQplInteractionHelper.nop"),void 0,c.i64.cast([0,3]),c.i64.cast([0,7]))},function(b){return c.islc(c.filter(c.db.table(258).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.clientType,a[3])&&c.i64.eq(b.sessionId,a[0])}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(b,d){d=b.done;b=b.value;return d?c.db.table(258).add({sessionId:a[0],messageType:c.i64.cast([0,7]),clientType:a[3]}):(b.item,c.forEach(c.db.table(258).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({messageType:c.i64.cast([0,7])})}))})}]):(f=e.item,d[10]=f.responderId,d[10]!==void 0?(c.i64.eq(a[3],c.i64.cast([0,1]))?d[11]=f.responderUserId:d[11]=void 0,c.i64.eq(a[3],c.i64.cast([0,1]))?d[12]=f.initiatorUserId:d[12]=void 0,d[13]=new c.Map(),d[13].set("session_id",a[0]),d[13].set("responder_id",d[10]),d[13].set("initiator_id",a[1]),d[13].set("message_payload",d[2]==null?"":d[2]),d[13].set("message_payload_v2",void 0),d[13].set("pake_secret",void 0),d[13].set("sender_id",a[1]),d[13].set("message_type",c.i64.cast([0,1])),d[13].set("client_type",a[3]),d[13].set("message_recipient_id",d[11]),d[13].set("initiator_user_id",d[12]),d[13].set("responder_user_id",d[11]),d[14]=c.toJSON(d[13]),c.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),"PakeMessages",c.i64.cast([0,717]),d[14],c.i64.cast([0,0]),c.i64.cast([0,93]),c.i64.cast([0,0]),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[15]=a[0],a})):c.sequence([function(a){return c.nativeOperation(b("LSQplInteractionHelper.nop"),void 0,c.i64.cast([0,3]),c.i64.cast([0,8]))},function(b){return c.islc(c.filter(c.db.table(258).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.clientType,a[3])&&c.i64.eq(b.sessionId,a[0])}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(b,d){d=b.done;b=b.value;return d?c.db.table(258).add({sessionId:a[0],messageType:c.i64.cast([0,8]),clientType:a[3]}):(b.item,c.forEach(c.db.table(258).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({messageType:c.i64.cast([0,8])})}))})}]))})},function(a){return d[4]=c.i64.of_float(Date.now()),d[5]=c.i64.random(),d[7]="Finishing execution. Execution time: ",d[8]=c.i64.to_string(c.i64.sub(d[4],d[0])),d[9]=" ms",d[6]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][sendPakeMessageOne] ",d[6],d[7],d[6],d[8],d[6],d[9]].join("")),c.i64.eq(c.i64.mod_(d[5],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[10]=",",d[11]=c.createArray(),void 0!==void 0?d[12]=(d[11].push(void 0),d[11]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"sendPakeMessageOne",[d[7],d[10],d[8],d[10],d[9]].join(""),d[11],c.i64.cast([0,4]))):c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSPakeMessagesSendPakeMessageOneStoredProcedure";a.__tables__=["pake_messages"];e.exports=a}),null);
__d("LSSendPakeMessageOneStoredProcedure",["LSSendPakeMessageOne","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSSendPakeMessageOne"),e.sessionId,e.initiatorId,e.messagePayload,e.clientType);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSSendPakeMessageStoredProcedure",["LSSendPakeMessage","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSSendPakeMessage"),e.sessionId,e.senderId,e.messagePayload,e.messageType,e.clientType);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MWChatEncryptedBackupsAccessCodeInputStep.react",["fbt","EBSMGatingUI","EOTRTypes","FDSProgressButtonIndeterminate.react","MWChatEncryptedBackupsAccessCodeInput.react","MWChatEncryptedBackupsLayout.react","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsSetIsDialogPersistedContext","MWEBNoMobileEOTRInformationalDialog.entrypoint","MWEBODSEntityKey.enum","MWEBODSEntityName.enum","MWEBUntrustedMobileEOTRInformationalDialog.entrypoint","MWEBVirtualDevicesContext.react","MWEncryptedBackupsLocalStorageEntryEnum","MWEncryptedBackupsOtcRestoreSteps","MWXButton.react","MWXText.react","QPLUserFlow","RelayHooks","promiseDone","react","react-compiler-runtime","requireDeferred","useEOTRPhaseTwoAndThree","useEncryptedBackupsQplImpressionRef","useLabyrinthLogging","useMAWEncryptedBackupsRestoreToast","useMWChatEncryptedBackupsAddDevice","useMWEBFlowSourceContext","usePushPage","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=["onHighIntent"],j,k,l=k||(k=d("react"));b=k;b.useCallback;var m=b.useContext,n=b.useState,o=c("requireDeferred")("MWEBUseLocalStorage").__setRef("MWChatEncryptedBackupsAccessCodeInputStep.react"),p=c("requireDeferred")("MWEncryptedBackupsSharedState").__setRef("MWChatEncryptedBackupsAccessCodeInputStep.react"),q=h._(/*BTDS*/"Submit");function a(a){var b=d("react-compiler-runtime").c(55),e=a.onClose,f=a.onComplete,g=a.onForgotRC,k=a.onSkip,s=a.pushPage;a=a.shouldShowForgotButton;a=a===void 0?!0:a;var t;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(t={},b[0]=t):t=b[0];t=c("usePushPage")(c("MWEBNoMobileEOTRInformationalDialog.entrypoint"),t);var u=t[0];t=t[1];if(b[1]!==t){t.onHighIntent;var v=babelHelpers.objectWithoutPropertiesLoose(t,i);v=v;b[1]=t;b[2]=v}else v=b[2];var w=c("useEOTRPhaseTwoAndThree")();b[3]===Symbol["for"]("react.memo_cache_sentinel")?(t={},b[3]=t):t=b[3];t=c("usePushPage")(c("MWEBUntrustedMobileEOTRInformationalDialog.entrypoint"),t);var x=t[0],y=(j||(j=c("useReStore")))();b[4]===Symbol["for"]("react.memo_cache_sentinel")?(t=h._(/*BTDS*/"Enter your 40-character code to restore messages on this device."),b[4]=t):t=b[4];t=t;var z=n(""),A=z[0],B=z[1];z=n(!1);var C=z[0],D=z[1];z=d("useLabyrinthLogging").useLabyrinthLoggingFlow();var E=z.startFlow,F=m(c("MWChatEncryptedBackupsSetIsDialogPersistedContext")).setIsDialogPersisted;b[5]!==F?(z=function(){d("MWChatEncryptedBackupsLogging").endFailure({errorName:"wrong_recovery_code",event:d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,odsEntityKey:c("MWEBODSEntityKey.enum").INCORRECT_RECOVERY_CODE,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_RC_RESTORE_AUTH}),c("QPLUserFlow").markError(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"invalid_recovery_code_input"),D(!0),F==null||F(!1)},b[5]=F,b[6]=z):z=b[6];z=z;var G=c("useMAWEncryptedBackupsRestoreToast")(),H=G.showErrorToast,I=c("useMWEBFlowSourceContext")();b[7]!==C?(G=function(a){C&&D(!1),B(a)},b[7]=C,b[8]=G):G=b[8];G=G;var J=d("RelayHooks").useRelayEnvironment(),K;b[9]!==y||b[10]!==f?(K=function(){var a;c("QPLUserFlow").addPoint((a=d("MWChatEncryptedBackupsQPLEvents")).restoreDeviceAuthQplEvent,"add_device_success");c("QPLUserFlow").addPoint(a.restoreQplEvent,"restore_auth_finished_and_dismissed");p.onReady(function(a){a=a.upsertEBSharedStateEntry;c("promiseDone")(a({db:y,stateKey:c("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_RESTORED_SUCCESSFULLY}))});o.onReady(r);d("MWChatEncryptedBackupsLogging").endSuccess({annotations:{bool:{is_backend_setup:d("EBSMGatingUI").isBackendSetupSuccessfulForEBSM()}},event:a.restoreQplEvent});d("MWChatEncryptedBackupsLogging").endSuccess({event:a.restoreDeviceAuthQplEvent,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_RC_RESTORE_AUTH});f()},b[9]=y,b[10]=f,b[11]=K):K=b[11];K=K;var L;b[12]!==F||b[13]!==H?(L=function(a){d("MWChatEncryptedBackupsLogging").endFailure({errorName:a,event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent}),d("MWChatEncryptedBackupsLogging").endFailure({errorName:a,event:d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_RC_RESTORE_AUTH}),H(),F==null||F(!1)},b[12]=F,b[13]=H,b[14]=L):L=b[14];L=L;var M;b[15]!==z||b[16]!==K||b[17]!==L||b[18]!==J?(M={environment:J,onComplete:K,onFailure:L,onInvalidRecoveryCode:z},b[15]=z,b[16]=K,b[17]=L,b[18]=J,b[19]=M):M=b[19];z=c("useMWChatEncryptedBackupsAddDevice")(M);var N=z[0];K=z[1];L=c("useEncryptedBackupsQplImpressionRef")(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"RESTORE_ENTER_RECOVERY_CODE_SCREEN_IMPRESSION",void 0,function(){P!=null&&c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_OPTION_DISPLAYED_RESTORE_SCREEN")});b[20]!==w||b[21]!==e||b[22]!==f||b[23]!==g||b[24]!==v||b[25]!==s||b[26]!==u||b[27]!==x||b[28]!==a?(J=a?l.jsx(c("MWXButton.react"),babelHelpers["extends"]({},w===d("EOTRTypes").EOTRFlow.NO_MOBILE?v:null,{label:h._(/*BTDS*/"Don\u2019t have your code?"),onPress:function(){w===d("EOTRTypes").EOTRFlow.NO_MOBILE?u({onClose:e,onComplete:f}):w===d("EOTRTypes").EOTRFlow.UNTRUSTED_MOBILE?x({onClose:e,onComplete:f,pushPage:s}):(c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"RESTORE_ENTER_RECOVERY_CODE_SCREEN_ACTION_DONT_HAVE_RC"),g())},testid:void 0,type:"secondary"})):null,b[20]=w,b[21]=e,b[22]=f,b[23]=g,b[24]=v,b[25]=s,b[26]=u,b[27]=x,b[28]=a,b[29]=J):J=b[29];M=J;b[30]!==e||b[31]!==f||b[32]!==k||b[33]!==s?(z=function(){d("MWEncryptedBackupsOtcRestoreSteps").pushByOneTimeCodePage({onClose:e,onOtcComplete:f,onSkip:k,pushPage:s})},b[30]=e,b[31]=f,b[32]=k,b[33]=s,b[34]=z):z=b[34];var O=z;v=d("MWEBVirtualDevicesContext.react").useMWEBVirtualDevices();a=v.virtualDeviceInfo;var P=a.doesUserHaveOtcEligibleDevices?l.jsx(c("MWXButton.react"),{label:h._(/*BTDS*/"Use a one-time code instead"),onPress:function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_RESTORE_USE_ONE_TIME_CODE_CLICK"),O()},reduceEmphasis:!1,testid:void 0,type:"secondary"}):null;J=P!=null?P:M;b[35]!==A||b[36]!==N||b[37]!==I||b[38]!==K||b[39]!==F||b[40]!==E?(z=K?l.jsx(c("FDSProgressButtonIndeterminate.react"),{label:q}):l.jsx(c("MWXButton.react"),{disabled:A.length<40,label:q,onPress:function(){var a;c("QPLUserFlow").addPoint((a=d("MWChatEncryptedBackupsQPLEvents")).restoreQplEvent,"RESTORE_ENTER_RECOVERY_CODE_SCREEN_ACTION_SUBMIT");var b=I();c("QPLUserFlow").addAnnotations(a.restoreQplEvent,{string:{restore_type:"recovery_code",source:b}});E({additionalAnnotations:{device_type:"OFFLINE"},event:a.restoreDeviceAuthQplEvent,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_RC_RESTORE_AUTH,source:b});c("QPLUserFlow").addPoint(a.restoreDeviceAuthQplEvent,"add_device_begin");F==null||F(!0);N(A)},testid:void 0}),b[35]=A,b[36]=N,b[37]=I,b[38]=K,b[39]=F,b[40]=E,b[41]=z):z=b[41];v=K?null:J;b[42]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"Restore your chat history"),M=l.jsx("div",babelHelpers["extends"]({className:"xwib8y2"},{children:l.jsx(c("MWXText.react"),{type:"meta3",children:t})})),b[42]=a,b[43]=M):(a=b[42],M=b[43]);b[44]!==A||b[45]!==G?(K=l.jsx(c("MWChatEncryptedBackupsAccessCodeInput.react"),{onValueChange:G,smallInput:!1,value:A}),b[44]=A,b[45]=G,b[46]=K):K=b[46];b[47]!==C?(J=C?l.jsx("div",babelHelpers["extends"]({className:"x106a9eq x1xnnf8n xz9dl7a"},{children:l.jsx(c("MWXText.react"),{align:"center",color:"negative",testid:void 0,type:"meta3",children:h._(/*BTDS*/"Incorrect 40-character code. Try again.")})})):null,b[47]=C,b[48]=J):J=b[48];b[49]!==L||b[50]!==z||b[51]!==v||b[52]!==K||b[53]!==J?(t=l.jsxs(c("MWChatEncryptedBackupsLayout.react"),{actionsDirection:"column",primaryAction:z,ref:L,secondaryAction:v,showTopMargin:!1,title:a,children:[M,K,J]}),b[49]=L,b[50]=z,b[51]=v,b[52]=K,b[53]=J,b[54]=t):t=b[54];return t}function r(a){var b=a.mwEBCreateLocalStorageEntry;a=a.mwEBDeleteLocalStorageEntry;b(c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_HAS_RESTORED_IN_CURRENT_SESSION);b(c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_HAS_RESTORED_IN_CURRENT_SESSION_2);a(c("MWEncryptedBackupsLocalStorageEntryEnum").EBSM_CORRUPTION_WIPE)}g["default"]=a}),226);
__d("MWChatEncryptedBackupsCreatePinInstruction.react",["fbt","MWChatEncryptedBackupsLayout.react","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsRecoveryCodeIcon.react","MWChatEncryptedBackupsRestoreEndOfRoadDialog.react","MWXButton.react","MWXLink.react","MWXListCell.react","MWXText.react","MWXTextPairing.react","QPLUserFlow","deferredLoadComponent","react","react-compiler-runtime","requireDeferred","useEncryptedBackupsQplImpressionRef","useMWEncryptedBackupsListenForChangesToVirtualDevicesV2"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.useState,l=c("deferredLoadComponent")(c("requireDeferred")("MWChatEncryptedBackupsPinCodeRestoreStep.react").__setRef("MWChatEncryptedBackupsCreatePinInstruction.react")),m="https://www.facebook.com/help/messenger-app/3357856081116516?ref=learn_more";function a(a){var b=d("react-compiler-runtime").c(31),e=a.onClose,f=a.onComplete,g=a.pushPage;a=k(!0);var i=a[0];a=a[1];var o=c("useMWEncryptedBackupsListenForChangesToVirtualDevicesV2")(),p=o.vestaClientID;i&&p!=null&&a(!1);b[0]!==e||b[1]!==g?(o=function(){return g(function(){return j.jsx(c("MWChatEncryptedBackupsRestoreEndOfRoadDialog.react"),{onClose:e})})},b[0]=e,b[1]=g,b[2]=o):o=b[2];var q=o;b[3]!==e||b[4]!==f||b[5]!==g||b[6]!==p?(a=function(){return g(function(){return p==null?null:j.jsx(l,{onClose:e,onComplete:f,onSkip:e,pushPage:g})})},b[3]=e,b[4]=f,b[5]=g,b[6]=p,b[7]=a):a=b[7];var r=a;o=c("useEncryptedBackupsQplImpressionRef")(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"RESTORE_KVS_TROUBLESHOOT_PIN_SCREEN_IMPRESSION");b[8]===Symbol["for"]("react.memo_cache_sentinel")?(a=j.jsx(c("MWChatEncryptedBackupsRecoveryCodeIcon.react"),{}),b[8]=a):a=b[8];var s;b[9]===Symbol["for"]("react.memo_cache_sentinel")?(s=h._(/*BTDS*/"Enter PIN"),b[9]=s):s=b[9];var t;b[10]!==r?(t=function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"RESTORE_KVS_TROUBLESHOOT_PIN_SCREEN_ENTER_PIN_CLICK"),r()},b[10]=r,b[11]=t):t=b[11];b[12]!==i||b[13]!==t?(s=j.jsx(c("MWXButton.react"),{disabled:i,label:s,onPress:t}),b[12]=i,b[13]=t,b[14]=s):s=b[14];b[15]===Symbol["for"]("react.memo_cache_sentinel")?(i=h._(/*BTDS*/"Can\u2019t create PIN?"),b[15]=i):i=b[15];b[16]!==q?(t=j.jsx(c("MWXButton.react"),{label:i,onPress:function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"RESTORE_KVS_TROUBLESHOOT_PIN_SCREEN_CANT_CREATE_PIN_CLICK"),q()},type:"secondary"}),b[16]=q,b[17]=t):t=b[17];b[18]===Symbol["for"]("react.memo_cache_sentinel")?(i={className:"xewm4ob"},b[18]=i):i=b[18];var u;b[19]===Symbol["for"]("react.memo_cache_sentinel")?(i=j.jsx("div",babelHelpers["extends"]({},i,{children:j.jsx(c("MWXText.react"),{align:"center",type:"headlineEmphasized2",children:h._(/*BTDS*/"Create a PIN to restore your chats")})})),u={className:"x162z183 xd9ej83 xm77wn2 xvue9z"},b[19]=i,b[20]=u):(i=b[19],u=b[20]);var v;b[21]===Symbol["for"]("react.memo_cache_sentinel")?(v=h._(/*BTDS*/"Step 1 \u00b7 Find your mobile device"),b[21]=v):v=b[21];var w;b[22]===Symbol["for"]("react.memo_cache_sentinel")?(w=h._(/*BTDS*/"It needs to have secure storage turned on."),b[22]=w):w=b[22];b[23]===Symbol["for"]("react.memo_cache_sentinel")?(v=j.jsx(c("MWXListCell.react"),{content:j.jsx(c("MWXTextPairing.react"),{headline:v,level:4,meta:j.jsxs(j.Fragment,{children:[w," ",j.jsx(c("MWXLink.react"),{href:m,onClick:n,rel:"noreferrer",target:"_blank",children:j.jsx("b",{children:h._(/*BTDS*/"Learn more")})})]})})}),w=j.jsx("br",{}),b[23]=v,b[24]=w):(v=b[23],w=b[24]);var x;b[25]===Symbol["for"]("react.memo_cache_sentinel")?(x=h._(/*BTDS*/"Step 2 \u00b7 Create a PIN on that device"),b[25]=x):x=b[25];b[26]===Symbol["for"]("react.memo_cache_sentinel")?(u=j.jsxs("div",babelHelpers["extends"]({},u,{children:[v,w,j.jsx(c("MWXListCell.react"),{content:j.jsx(c("MWXTextPairing.react"),{headline:x,level:4,meta:j.jsxs(c("MWXText.react"),{type:"meta4",children:[h._(/*BTDS*/"1. Go to Messenger Settings"),j.jsx("br",{}),h._(/*BTDS*/"2. Tap {=m1}",[h._implicitParam("=m1",j.jsx("b",{children:h._(/*BTDS*/"Privacy & safety")}))]),j.jsx("br",{}),h._(/*BTDS*/"3. Tap {=m1}",[h._implicitParam("=m1",j.jsx("b",{children:h._(/*BTDS*/"End-to-end encrypted chats")}))]),j.jsx("br",{}),h._(/*BTDS*/"4. Tap {=m1}",[h._implicitParam("=m1",j.jsx("b",{children:h._(/*BTDS*/"Message storage")}))]),j.jsx("br",{}),h._(/*BTDS*/"5. Tap {=m1}",[h._implicitParam("=m1",j.jsx("b",{children:h._(/*BTDS*/"Create PIN")}))])]})})})]})),b[26]=u):u=b[26];b[27]!==o||b[28]!==s||b[29]!==t?(v=j.jsxs(c("MWChatEncryptedBackupsLayout.react"),{actionsDirection:"column",icon:a,primaryAction:s,ref:o,secondaryAction:t,children:[i,u]}),b[27]=o,b[28]=s,b[29]=t,b[30]=v):v=b[30];return v}function n(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"RESTORE_KVS_TROUBLESHOOT_PIN_SCREEN_LEARN_MORE_LINK_CLICK")}g["default"]=a}),226);
__d("pushRCRestoreStep",["MWEncryptedBackupsForgotRCStep","deferredLoadComponent","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("deferredLoadComponent")(c("requireDeferred")("MWChatEncryptedBackupsAccessCodeInputStep.react").__setRef("pushRCRestoreStep"));function a(a){var b=a.onClose,c=a.onComplete,e=a.onForgotRC,f=a.pushPage,g=a.shouldShowForgotButton;a=function(){d("MWEncryptedBackupsForgotRCStep").pushForgotRCPage({onClose:b,onComplete:c,pushPage:f})};var h=e!=null?e:a;f(function(){return i.jsx(j,{onClose:b,onComplete:c,onForgotRC:h,onSkip:b,pushPage:f,shouldShowForgotButton:g})})}g["default"]=a}),98);
__d("MWChatEncryptedBackupsGenerateNewRecoveryCodeInstruction.react",["fbt","MWChatEncryptedBackupsLayout.react","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsRecoveryCodeIcon.react","MWChatEncryptedBackupsRestoreEndOfRoadDialog.react","MWEBHasSeenAutoRestoreNoticeContext","MWXButton.react","MWXLink.react","MWXListCell.react","MWXMultiStepDialogHeader.react","MWXTextPairing.react","QPLUserFlow","cr:6320","cr:6321","pushRCRestoreStep","react","useEncryptedBackupsQplImpressionRef"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useContext,l="https://www.facebook.com/help/messenger-app/3357856081116516?ref=learn_more";function a(a){var e=a.onClose,f=a.onCloseDialogWithConfirmation,g=a.onComplete,i=a.onDontRestore,m=a.pushPage,n=f!=null;a=k(c("MWEBHasSeenAutoRestoreNoticeContext"));var o=a.hasSeenNotice,p=b("cr:6320")==null?void 0:b("cr:6320")(),q=b("cr:6321")==null?void 0:b("cr:6321")(),r=function(){m(function(){return j.jsxs(j.Fragment,{children:[n?j.jsx(c("MWXMultiStepDialogHeader.react"),{onClose:f,title:null,withCloseButton:!0,withoutBackButton:!0}):null,j.jsx(c("MWChatEncryptedBackupsRestoreEndOfRoadDialog.react"),{onClose:g,onDontRestore:i})]})})};a=c("useEncryptedBackupsQplImpressionRef")(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"RESTORE_TROUBLESHOOT_RC_SCREEN_IMPRESSION");return j.jsx(c("MWChatEncryptedBackupsLayout.react"),{actionsDirection:"column",icon:j.jsx(c("MWChatEncryptedBackupsRecoveryCodeIcon.react"),{}),primaryAction:j.jsx(c("MWXButton.react"),{label:h._(/*BTDS*/"Enter new code"),onPress:function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"RESTORE_TROUBLESHOOT_RC_SCREEN_ACTION_ENTER_CODE"),c("pushRCRestoreStep")({onClose:e,onComplete:function(){p!=null?p({onNextStep:g,pushPage:m}):q!=null?q({hasSeenNotice:o,onNextStep:g,pushPage:m}):e()},pushPage:m,shouldShowForgotButton:!1})},testid:void 0}),ref:a,secondaryAction:j.jsx(c("MWXButton.react"),{label:h._(/*BTDS*/"Can\u2019t generate code?"),onPress:function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"RESTORE_TROUBLESHOOT_RC_SCREEN_ACTION_CANT_GENERATE_CODE"),r()},type:"secondary"}),title:h._(/*BTDS*/"Generate a new code to restore your chats"),children:j.jsxs("div",babelHelpers["extends"]({className:"xvue9z"},{children:[j.jsx(c("MWXListCell.react"),{content:j.jsx(c("MWXTextPairing.react"),{body:j.jsxs(j.Fragment,{children:[h._(/*BTDS*/"It needs to have secure storage turned on. It\u2019s likely to be the device you used to create your original 40-character code.")," ",j.jsx(c("MWXLink.react"),{display_DEPRECATED:"inline",href:l,onClick:function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"RESTORE_TROUBLESHOOT_SCREEN_ACTION_OPEN_LEARN_MORE_LINK")},rel:"noreferrer",target:"_blank",children:j.jsx("b",{children:h._(/*BTDS*/"Learn more")})})]}),bodyColor:"secondary",headline:h._(/*BTDS*/"Step 1 \u00b7 Find your other device"),level:4})}),j.jsx(c("MWXListCell.react"),{content:j.jsx(c("MWXTextPairing.react"),{body:j.jsxs(j.Fragment,{children:[h._(/*BTDS*/"1. Go to Messenger Settings"),j.jsx("br",{}),h._(/*BTDS*/"2. Tap {=m1}",[h._implicitParam("=m1",j.jsx("b",{children:h._(/*BTDS*/"Privacy & safety")}))]),j.jsx("br",{}),h._(/*BTDS*/"3. Tap {=m1}",[h._implicitParam("=m1",j.jsx("b",{children:h._(/*BTDS*/"End-to-end encrypted chats")}))]),j.jsx("br",{}),h._(/*BTDS*/"4. Tap {=m1}",[h._implicitParam("=m1",j.jsx("b",{children:h._(/*BTDS*/"Message storage")}))]),j.jsx("br",{}),h._(/*BTDS*/"5. Tap {=m1}",[h._implicitParam("=m1",j.jsx("b",{children:h._(/*BTDS*/"Generate recovery code")}))])]}),bodyColor:"secondary",headline:h._(/*BTDS*/"Step 2 \u00b7 Generate a new code on that device"),level:4})})]}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWChatEncryptedBackupsCreateRecoveryCodeInstruction.react",["fbt","MWChatEncryptedBackupsGenerateNewRecoveryCodeInstruction.react","MWChatEncryptedBackupsLayout.react","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsRecoveryCodeIcon.react","MWChatEncryptedBackupsRestoreEndOfRoadDialog.react","MWEBHasSeenAutoRestoreNoticeContext","MWXButton.react","MWXLink.react","MWXListCell.react","MWXText.react","MWXTextPairing.react","QPLUserFlow","cr:6320","cr:6321","pushRCRestoreStep","react","useEncryptedBackupsQplImpressionRef","useMWEncryptedBackupsListenForChangesToVirtualDevicesV2"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));e=i;var k=e.useCallback,l=e.useContext,m=e.useState,n="https://www.facebook.com/help/messenger-app/3357856081116516?ref=learn_more";function a(a){var e=a.onClose,f=a.onComplete,g=a.pushPage;a=m(!0);var i=a[0];a=a[1];var o=c("useMWEncryptedBackupsListenForChangesToVirtualDevicesV2")();o=o.offlineDevicesCount;var p=b("cr:6320")==null?void 0:b("cr:6320")(),q=b("cr:6321")==null?void 0:b("cr:6321")(),r=l(c("MWEBHasSeenAutoRestoreNoticeContext")),s=r.hasSeenNotice;i&&o>0&&a(!1);var t=k(function(){return g(function(){return j.jsx(c("MWChatEncryptedBackupsRestoreEndOfRoadDialog.react"),{onClose:e})})},[e,g]),u=k(function(){return g(function(){return j.jsx(c("MWChatEncryptedBackupsGenerateNewRecoveryCodeInstruction.react"),{onClose:e,onComplete:f,pushPage:g})})},[e,f,g]);r=c("useEncryptedBackupsQplImpressionRef")(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"RESTORE_KVS_TROUBLESHOOT_RC_SCREEN_IMPRESSION");return j.jsxs(c("MWChatEncryptedBackupsLayout.react"),{actionsDirection:"column",icon:j.jsx(c("MWChatEncryptedBackupsRecoveryCodeIcon.react"),{}),primaryAction:j.jsx(c("MWXButton.react"),{disabled:i,label:h._(/*BTDS*/"Enter 40-character code"),onPress:function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"RESTORE_KVS_TROUBLESHOOT_RC_SCREEN_ENTER_CODE_CLICK"),c("pushRCRestoreStep")({onClose:e,onComplete:function(){p!=null?p({onNextStep:e,pushPage:g}):q!=null?q({hasSeenNotice:s,onNextStep:e,pushPage:g}):e()},onForgotRC:u,pushPage:g,shouldShowForgotButton:!1})}}),ref:r,secondaryAction:j.jsx(c("MWXButton.react"),{label:h._(/*BTDS*/"Can\u2019t generate code?"),onPress:function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"RESTORE_KVS_TROUBLESHOOT_RC_SCREEN_CANT_GENERATE_CODE_CLICK"),t()},type:"secondary"}),children:[j.jsx("div",babelHelpers["extends"]({className:"xewm4ob"},{children:j.jsx(c("MWXText.react"),{align:"center",type:"headlineEmphasized2",children:h._(/*BTDS*/"Generate a 40-character code to restore your chats")})})),j.jsxs("div",babelHelpers["extends"]({className:"x162z183 xd9ej83 xm77wn2 xvue9z"},{children:[j.jsx(c("MWXListCell.react"),{content:j.jsx(c("MWXTextPairing.react"),{headline:h._(/*BTDS*/"Step 1 \u00b7 Find your mobile device"),level:4,meta:j.jsxs(j.Fragment,{children:[h._(/*BTDS*/"It needs to have secure storage turned on.")," ",j.jsx(c("MWXLink.react"),{display_DEPRECATED:"inline",href:n,onClick:function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"RESTORE_KVS_TROUBLESHOOT_RC_SCREEN_LEARN_MORE_LINK_CLICK")},rel:"noreferrer",target:"_blank",children:j.jsx("b",{children:h._(/*BTDS*/"Learn more")})})]})})}),j.jsx("br",{}),j.jsx(c("MWXListCell.react"),{content:j.jsx(c("MWXTextPairing.react"),{headline:h._(/*BTDS*/"Step 2 \u00b7 Generate a 40-character code on that device"),level:4,meta:j.jsxs(c("MWXText.react"),{type:"meta4",children:[h._(/*BTDS*/"1. Go to Messenger Settings"),j.jsx("br",{}),h._(/*BTDS*/"2. Tap {=m1}",[h._implicitParam("=m1",j.jsx("b",{children:h._(/*BTDS*/"Privacy & safety")}))]),j.jsx("br",{}),h._(/*BTDS*/"3. Tap {=m1}",[h._implicitParam("=m1",j.jsx("b",{children:h._(/*BTDS*/"End-to-end encrypted chats")}))]),j.jsx("br",{}),h._(/*BTDS*/"4. Tap {=m1}",[h._implicitParam("=m1",j.jsx("b",{children:h._(/*BTDS*/"Message storage")}))]),j.jsx("br",{}),h._(/*BTDS*/"5. Tap {=m1}",[h._implicitParam("=m1",j.jsx("b",{children:h._(/*BTDS*/"Generate recovery code")}))])]})})})]}))]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWChatEncryptedBackupsDots3HorizontalIconSmall.react",["ix","FDSDots3HorizontalFilled20Icon","MWXIcon_DEPRECATED.react","cr:1376","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){var a=d("react-compiler-runtime").c(1);if(a[0]===Symbol["for"]("react.memo_cache_sentinel")){var e=b("cr:1376")!=null?new(b("cr:1376"))(h("275834"),24,24):c("FDSDots3HorizontalFilled20Icon");e=j.jsx(c("MWXIcon_DEPRECATED.react"),{color:"primary",icon:e});a[0]=e}else e=a[0];return e}g["default"]=a}),98);
__d("MWChatEncryptedBackupsTextIconSmall.react",["ix","FDSTextFilled20Icon","MWXIcon_DEPRECATED.react","cr:1376","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){var a=d("react-compiler-runtime").c(1);if(a[0]===Symbol["for"]("react.memo_cache_sentinel")){var e=b("cr:1376")!=null?new(b("cr:1376"))(h("275886"),24,24):c("FDSTextFilled20Icon");e=j.jsx(c("MWXIcon_DEPRECATED.react"),{color:"primary",icon:e});a[0]=e}else e=a[0];return e}g["default"]=a}),98);
__d("MWChatEncryptedBackupsEOTRPhaseOne",["fbt","MWChatEncryptedBackupsAddonIcon.react","MWChatEncryptedBackupsChevronRightIconMedium.react","MWChatEncryptedBackupsCreatePinInstruction.react","MWChatEncryptedBackupsCreateRecoveryCodeInstruction.react","MWChatEncryptedBackupsDots3HorizontalIconSmall.react","MWChatEncryptedBackupsInterstitialIcon.react","MWChatEncryptedBackupsLayout.react","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsTextIconSmall.react","MWXListCellPressable.react","MWXText.react","MWXTextPairing.react","QPLUserFlow","react","react-compiler-runtime","useEncryptedBackupsQplImpressionRef"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));i.useCallback;function a(a){var b=d("react-compiler-runtime").c(28),e=a.onClose,f=a.onComplete,g=a.pushPage;b[0]!==e||b[1]!==f||b[2]!==g?(a=function(){return g(function(){return j.jsx(c("MWChatEncryptedBackupsCreatePinInstruction.react"),{onClose:e,onComplete:f,pushPage:g})})},b[0]=e,b[1]=f,b[2]=g,b[3]=a):a=b[3];var i=a;b[4]!==e||b[5]!==f||b[6]!==g?(a=function(){return g(function(){return j.jsx(c("MWChatEncryptedBackupsCreateRecoveryCodeInstruction.react"),{onClose:e,onComplete:f,pushPage:g})})},b[4]=e,b[5]=f,b[6]=g,b[7]=a):a=b[7];var k=a;a=c("useEncryptedBackupsQplImpressionRef")(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"RESTORE_KVS_OPTIONS_IMPRESSION");var l;b[8]===Symbol["for"]("react.memo_cache_sentinel")?(l=j.jsx(c("MWChatEncryptedBackupsInterstitialIcon.react"),{}),b[8]=l):l=b[8];var m;b[9]===Symbol["for"]("react.memo_cache_sentinel")?(m=h._(/*BTDS*/"Restore your end-to-end encrypted chats with your mobile device"),b[9]=m):m=b[9];var n,o;b[10]===Symbol["for"]("react.memo_cache_sentinel")?(n=j.jsx(c("MWXText.react"),{color:"secondary",type:"body4",children:h._(/*BTDS*/"Try one of these methods to get your chats on this device.")}),o={className:"x1miatn0 x2b8uid xk68kj7"},b[10]=n,b[11]=o):(n=b[10],o=b[11]);var p;b[12]===Symbol["for"]("react.memo_cache_sentinel")?(p=j.jsx(c("MWChatEncryptedBackupsChevronRightIconMedium.react"),{}),b[12]=p):p=b[12];var q;b[13]===Symbol["for"]("react.memo_cache_sentinel")?(q=j.jsx(c("MWChatEncryptedBackupsAddonIcon.react"),{icon:j.jsx(c("MWChatEncryptedBackupsDots3HorizontalIconSmall.react"),{})}),b[13]=q):q=b[13];var r;b[14]===Symbol["for"]("react.memo_cache_sentinel")?(r=j.jsx(c("MWXTextPairing.react"),{headline:h._(/*BTDS*/"Learn how to create a PIN"),level:4}),b[14]=r):r=b[14];b[15]!==i?(p=j.jsx(c("MWXListCellPressable.react"),{addOnEnd:p,addOnEndVerticalAlign:"center",addOnStart:q,addOnStartVerticalAlign:"center",content:r,onPress:function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"RESTORE_KVS_PIN_CODE_CLICK"),i()}}),b[15]=i,b[16]=p):p=b[16];b[17]===Symbol["for"]("react.memo_cache_sentinel")?(q=j.jsx(c("MWChatEncryptedBackupsChevronRightIconMedium.react"),{}),b[17]=q):q=b[17];b[18]===Symbol["for"]("react.memo_cache_sentinel")?(r=j.jsx(c("MWChatEncryptedBackupsAddonIcon.react"),{icon:j.jsx(c("MWChatEncryptedBackupsTextIconSmall.react"),{})}),b[18]=r):r=b[18];var s;b[19]===Symbol["for"]("react.memo_cache_sentinel")?(s=j.jsx(c("MWXTextPairing.react"),{headline:h._(/*BTDS*/"Learn how to generate a 40-character code"),level:4}),b[19]=s):s=b[19];b[20]!==k?(q=j.jsx(c("MWXListCellPressable.react"),{addOnEnd:q,addOnEndVerticalAlign:"center",addOnStart:r,addOnStartVerticalAlign:"center",content:s,onPress:function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"RESTORE_KVS_RECOVERY_CODE_CLICK"),k()}}),b[20]=k,b[21]=q):q=b[21];b[22]!==p||b[23]!==q?(r=j.jsxs("div",babelHelpers["extends"]({},o,{children:[p,q]})),b[22]=p,b[23]=q,b[24]=r):r=b[24];b[25]!==a||b[26]!==r?(s=j.jsxs(c("MWChatEncryptedBackupsLayout.react"),{actionsDirection:"row",icon:l,ref:a,title:m,children:[n,r]}),b[25]=a,b[26]=r,b[27]=s):s=b[27];return s}g["default"]=a}),226);
__d("MWChatEncryptedBackupsKVSOnlyRestoreStep.react",["EOTRTypes","MWChatEncryptedBackupsEOTRPhaseOne","cr:10541","cr:10542","react","react-compiler-runtime","useEOTRPhaseTwoAndThree"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=(e=b("cr:10541"))!=null?e:b("cr:10542");function a(a){var b=d("react-compiler-runtime").c(8),e=a.onClose,f=a.onComplete;a=a.pushPage;var g=c("useEOTRPhaseTwoAndThree")();g=g===d("EOTRTypes").EOTRFlow.UNTRUSTED_MOBILE||g===d("EOTRTypes").EOTRFlow.NO_MOBILE;if(g&&j!=null){b[0]!==e||b[1]!==f||b[2]!==a?(g=i.jsx(j,{onClose:e,onComplete:f,pushPage:a}),b[0]=e,b[1]=f,b[2]=a,b[3]=g):g=b[3];return g}b[4]!==e||b[5]!==f||b[6]!==a?(g=i.jsx(c("MWChatEncryptedBackupsEOTRPhaseOne"),{onClose:e,onComplete:f,pushPage:a}),b[4]=e,b[5]=f,b[6]=a,b[7]=g):g=b[7];return g}g["default"]=a}),98);
__d("MWDeserializeSecretsAndAddDevice",["LSDeserializeSecretsAndAddDeviceStoredProcedure","LSFactory"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.initiatorId,d=a.secrets;a=a.storage;return a.runInTransaction(function(a){return c("LSDeserializeSecretsAndAddDeviceStoredProcedure")(c("LSFactory")(a),{deviceRegistrationId:b,serializedPayload:d})},"readwrite",void 0,void 0,f.id+":31")}g["default"]=a}),98);
__d("MWEBAutoRestoreNoticeDialogStep.react",["fbt","CometRelay","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsSettingsDialog.entrypoint","MWXButton.react","MWXColumn.react","MWXColumnItem.react","MWXDialogHeader.react","MWXDialogPage.react","MWXLink.react","MWXRow.react","MWXRowItem.react","MWXText.react","gkx","react","react-compiler-runtime","useCometRelayEntrypointContextualEnvironmentProvider","useEncryptedBackupsQplImpressionRef"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));i.useCallback;var k=c("gkx")("23219");function a(a){var b=d("react-compiler-runtime").c(26),e=a.onComplete,f=a.pushPage;a=c("useEncryptedBackupsQplImpressionRef")(d("MWChatEncryptedBackupsQPLEvents").restoreWithAutoRestoreConsentQplEvent,"AUTO_RESTORE_NOTICE_SCREEN_IMPRESSION");var g=c("useCometRelayEntrypointContextualEnvironmentProvider")(),i;b[0]!==g||b[1]!==e||b[2]!==f?(i=function(){var a=d("CometRelay").loadEntryPoint(g,c("MWChatEncryptedBackupsSettingsDialog.entrypoint"),{});f(function(){return j.jsx(d("CometRelay").EntryPointContainer,{entryPointReference:a,props:{onClose:e,pushPageFromParent:f}})},{withoutBackButton:!0})},b[0]=g,b[1]=e,b[2]=f,b[3]=i):i=b[3];i=i;var l;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(l=h._(/*BTDS*/"Changes to secure storage settings"),b[4]=l):l=b[4];b[5]!==e?(l=j.jsx(c("MWXDialogHeader.react"),{onClose:e,title:l,withBackButton:!1,withCloseButton:!0}),b[5]=e,b[6]=l):l=b[6];if(b[7]!==i){var m;b[9]===Symbol["for"]("react.memo_cache_sentinel")?(m=h._(/*BTDS*/"Settings"),b[9]=m):m=b[9];m=j.jsx(c("MWXLink.react"),{onClick:i,children:m});var n;b[10]!==m?(n=j.jsx(c("MWXText.react"),{color:"blueLink",type:"bodyLink3",children:m}),b[10]=m,b[11]=n):n=b[11];m=h._(/*BTDS*/"After you restore chat history, messages will continue to sync automatically even if you log out and log back in. You can turn this off in {[Armadillo] Inline settings link parameter.}.",[h._param("[Armadillo] Inline settings link parameter.",n)]);b[7]=i;b[8]=m}else m=b[8];b[12]!==m?(n=j.jsx(c("MWXColumnItem.react"),{paddingHorizontal:k?8:0,paddingTop:12,children:j.jsx(c("MWXText.react"),{align:"start",type:"body3",children:m})}),b[12]=m,b[13]=n):n=b[13];b[14]===Symbol["for"]("react.memo_cache_sentinel")?(i=h._(/*BTDS*/"OK"),b[14]=i):i=b[14];b[15]!==e?(m=j.jsx(c("MWXColumnItem.react"),{paddingTop:16,children:j.jsx(c("MWXRow.react"),{align:"end",paddingHorizontal:0,paddingTop:16,children:j.jsx(c("MWXRowItem.react"),{expanding:k,children:j.jsx(c("MWXButton.react"),{label:i,onPress:e,padding:"wide",testid:void 0})})})}),b[15]=e,b[16]=m):m=b[16];b[17]!==n||b[18]!==m?(i=j.jsxs(c("MWXColumn.react"),{paddingVertical:8,children:[n,m]}),b[17]=n,b[18]=m,b[19]=i):i=b[19];b[20]!==a||b[21]!==i?(n=j.jsx("div",{ref:a,children:i}),b[20]=a,b[21]=i,b[22]=n):n=b[22];b[23]!==l||b[24]!==n?(m=j.jsx(c("MWXDialogPage.react"),{footer:null,header:l,children:n}),b[23]=l,b[24]=n,b[25]=m):m=b[25];return m}g["default"]=a}),226);
__d("MWEBRestoreOTCFirstStep.react",["fbt","MWChatEncryptedBackupsQPLEvents","MWEBSyncIcon.react","MWXColumn.react","MWXColumnItem.react","MWXDialogFooter.react","MWXDialogPage.react","MWXText.react","QPLUserFlow","react","react-compiler-runtime","requireDeferredForDisplay","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=c("requireDeferredForDisplay")("MWEncryptedBackupsOtcRestoreSteps").__setRef("MWEBRestoreOTCFirstStep.react");function a(a){var b=d("react-compiler-runtime").c(16),e=a.onCloseDialog,f=a.onComplete,g=a.onSkip,i=a.pushPage;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a={onVisible:l},b[0]=a):a=b[0];a=c("useVisibilityObserver")(a);var m;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(m=h._(/*BTDS*/"Send code"),b[1]=m):m=b[1];b[2]!==e||b[3]!==f||b[4]!==g||b[5]!==i?(m=j.jsx(c("MWXDialogFooter.react"),{callToActionGroupDirection:"backward",primaryCallToAction:{label:m,onPress:function(){k.onReadyImmediately(function(a){a=a.pushByOneTimeCodePage;c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_FIRST_RESTORE_SEND_CODE_CLICK");a({onClose:e,onOtcComplete:f,onSkip:g,pushPage:i})})}}}),b[2]=e,b[3]=f,b[4]=g,b[5]=i,b[6]=m):m=b[6];var n;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(n=j.jsx(c("MWXColumnItem.react"),{align:"center",paddingTop:20,paddingVertical:4}),b[7]=n):n=b[7];var o;b[8]===Symbol["for"]("react.memo_cache_sentinel")?(o=j.jsx(c("MWXColumnItem.react"),{align:"center",paddingTop:0,paddingVertical:8,children:j.jsx(c("MWEBSyncIcon.react"),{})}),b[8]=o):o=b[8];var p;b[9]===Symbol["for"]("react.memo_cache_sentinel")?(p=j.jsx(c("MWXColumnItem.react"),{align:"center",children:j.jsx(c("MWXText.react"),{align:"center",color:"primary",type:"headlineEmphasized2",children:h._(/*BTDS*/"Send a one-time code to restore your chat history")})}),b[9]=p):p=b[9];var q;b[10]===Symbol["for"]("react.memo_cache_sentinel")?(q=j.jsx(c("MWXColumnItem.react"),{align:"center",children:j.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body3",children:h._(/*BTDS*/"Get a one-time code from the Messenger or Facebook mobile app to restore your chat history on this device.")})}),b[10]=q):q=b[10];b[11]!==a?(n=j.jsxs(c("MWXColumn.react"),{align:"center",paddingHorizontal:16,paddingVertical:8,ref:a,spacing:16,children:[n,o,p,q]}),b[11]=a,b[12]=n):n=b[12];b[13]!==m||b[14]!==n?(o=j.jsx(c("MWXDialogPage.react"),{footer:m,header:null,children:n}),b[13]=m,b[14]=n,b[15]=o):o=b[15];return o}function l(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_FIRST_RESTORE_DIALOG_STEP_IMPRESSION")}g["default"]=a}),226);
__d("MWEncryptedBackupsDeviceUtils",[],(function(a,b,c,d,e,f){"use strict";a=[6628568379,173847642670370,350685531728];b=[173847642670370];f.FB_APP_IDS=a;f.TABLET_APP_IDS=b}),66);
__d("MWXIconTablet",["MWXSvgIcon","SVGIcon","cr:22506","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:22506")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWEncryptedBackupsDeviceListCell.react",["fbt","AddOnStartOverride.react","BaseMiddot.react","FDSRelativeTimestamp.react","I64","MWEncryptedBackupsDeviceUtils","MWXIconForListCell.react","MWXIconMobile","MWXIconTablet","MWXListCell.react","MWXTextPairing.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react")),l=i.useMemo;function a(a){var b=a.device;a=l(function(){return b.appId!=null?(j||(j=d("I64"))).to_float(b.appId):null},[b.appId]);var e=d("MWEncryptedBackupsDeviceUtils").TABLET_APP_IDS.includes(a);a=d("MWEncryptedBackupsDeviceUtils").FB_APP_IDS.includes(a)?h._(/*BTDS*/"Facebook"):h._(/*BTDS*/"Messenger");return k.jsx(c("MWXListCell.react"),{addOnStart:k.jsx(c("AddOnStartOverride.react"),{children:k.jsx(c("MWXIconForListCell.react"),{icon:e?c("MWXIconTablet"):c("MWXIconMobile"),size:"large"})}),content:k.jsx(c("MWXTextPairing.react"),{body:b.lastUploadTime!=null&&h._(/*BTDS*/"Last seen {last_seen}",[h._param("last_seen",k.jsx(c("FDSRelativeTimestamp.react"),{date:new Date(Number(b.lastUploadTime)*1e3)}))]),bodyColor:"secondary",headline:b.model!=null?k.jsxs(k.Fragment,{children:[a,k.jsx(c("BaseMiddot.react"),{}),b.model]}):a,level:4})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWXIconExclamationMarkCircleOutline",["MWXSvgIcon","SVGIcon","cr:22308","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:22308")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWEncryptedBackupsOTCEligibleDevicesList.react",["fbt","AddOnStartOverride.react","MWChatEncryptedBackupsQPLEvents","MWEncryptedBackupsDeviceListCell.react","MWXGlimmer.react","MWXIconExclamationMarkCircleOutline","MWXIconForListCell.react","MWXLink.react","MWXList.react","MWXListCell.react","MWXText.react","MWXTextPairing.react","QPLUserFlow","react","react-compiler-runtime","useFetchOTCEligibleEBDevices"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useRef,m={glimmerBody:{borderStartStartRadius:"x10c0hgg",borderStartEndRadius:"x17hxvv9",borderEndEndRadius:"xys2atg",borderEndStartRadius:"x18dcsfh",height:"xlzyvqe",width:"x3hqpx7",$$css:!0},glimmerHeadline:{borderStartStartRadius:"x10c0hgg",borderStartEndRadius:"x17hxvv9",borderEndEndRadius:"xys2atg",borderEndStartRadius:"x18dcsfh",height:"xlzyvqe",width:"xktia5q",$$css:!0},glimmerIcon:{borderStartStartRadius:"xvs2etk",borderStartEndRadius:"xg3wpu6",borderEndEndRadius:"x1jwbhkm",borderEndStartRadius:"xgg4q86",height:"xc9qbxq",width:"x14qfxbe",$$css:!0}};function n(){var a=d("react-compiler-runtime").c(2),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx(c("AddOnStartOverride.react"),{children:j.jsx(c("MWXGlimmer.react"),{index:0,xstyle:m.glimmerIcon})}),a[0]=b):b=a[0];a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx(c("MWXListCell.react"),{addOnStart:b,content:j.jsx(c("MWXTextPairing.react"),{body:j.jsx(c("MWXGlimmer.react"),{index:2,xstyle:m.glimmerBody}),headline:j.jsx(c("MWXGlimmer.react"),{index:1,xstyle:m.glimmerHeadline}),level:4})}),a[1]=b):b=a[1];return b}function a(){var a=d("react-compiler-runtime").c(13),b=c("useFetchOTCEligibleEBDevices")(),e=b.failedToFetchOtcDevices,f=b.isFetchOtcDevicesInFlight,g=b.otcEligibleDevices;b=b.triggerFetchOtcEligibleDevices;var i=l(!1),m,q;a[0]!==e||a[1]!==f||a[2]!==g.length?(m=function(){f||(c("QPLUserFlow").addAnnotations(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,{"int":{otc_eligible_devices:g.length}}),e?i.current||(i.current=!0,c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_DEVICES_LIST_FAILURE")):!i.current&&g.length>0&&(i.current=!0,c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_DEVICES_LIST_LOADED")))},q=[e,f,g.length],a[0]=e,a[1]=f,a[2]=g.length,a[3]=m,a[4]=q):(m=a[3],q=a[4]);k(m,q);if(f){a[5]===Symbol["for"]("react.memo_cache_sentinel")?(m=j.jsx(n,{}),a[5]=m):m=a[5];return m}else if(e){a[6]===Symbol["for"]("react.memo_cache_sentinel")?(q=j.jsx(c("AddOnStartOverride.react"),{children:j.jsx(c("MWXIconForListCell.react"),{icon:c("MWXIconExclamationMarkCircleOutline"),size:"large"})}),a[6]=q):q=a[6];a[7]!==b?(m=j.jsx(c("MWXListCell.react"),{addOnStart:q,content:j.jsx(c("MWXText.react"),{type:"headlineEmphasized4",children:h._(/*BTDS*/"Unable to show your devices. {try_again}",[h._param("try_again",j.jsx(c("MWXText.react"),{color:"blueLink",type:"headlineEmphasized4",children:j.jsx(c("MWXLink.react"),{onClick:b,children:h._(/*BTDS*/"Refresh")})}))])})}),a[7]=b,a[8]=m):m=a[8];return m}else{a[9]!==g?(q=g.toSorted(p).map(o),a[9]=g,a[10]=q):q=a[10];a[11]!==q?(b=j.jsx(c("MWXList.react"),{testid:void 0,children:q}),a[11]=q,a[12]=b):b=a[12];return b}}function o(a){return j.jsx(c("MWEncryptedBackupsDeviceListCell.react"),{device:a},a.deviceId)}o.displayName=o.name+" [from "+f.id+"]";function p(a,b){return Number(b.lastUploadTime)-Number(a.lastUploadTime)}g["default"]=a}),226);
__d("MWEncryptedBackupsOTCEligibleDevicesPopover.react",["MWEncryptedBackupsOTCEligibleDevicesList.react","MWXPopover.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=d("react-compiler-runtime").c(1);var b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsx(c("MWXPopover.react"),{withArrow:!0,children:i.jsx("div",babelHelpers["extends"]({className:"x1xiyphd x1odjw0f x1y1aw1k xf159sx xwib8y2 xmzvs34 x168biu4"},{children:i.jsx(c("MWEncryptedBackupsOTCEligibleDevicesList.react"),{})}))}),a[0]=b):b=a[0];return b}g["default"]=a}),98);
__d("MWFDSExclamationMarkCircleOutline.svg.react",["cr:21639"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:21639")}),98);
__d("MWFDSTablet.svg.react",["FBIconTabletOutline20.svg.react"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("FBIconTabletOutline20.svg.react")}),98);
__d("PAKEDecryptSecretSprocStatusEnum",[],(function(a,b,c,d,e,f){a=Object.freeze({SUCCESS:0,WRONG_KEYS:-1,FAILURE:-2});f["default"]=a}),66);
__d("PAKEGetActiveSessionSprocStatusEnum",[],(function(a,b,c,d,e,f){a=Object.freeze({SUCCESS:0,NO_SESSION:-1,FAILURE:-2});f["default"]=a}),66);
__d("PAKEMessageTypeEnum",[],(function(a,b,c,d,e,f){a=Object.freeze({AWAITING_CLIENT:0,PAKE_MESSAGE_1:1,PAKE_MESSAGE_2_AND_SECRET:2,SESSION_EXPIRED_ERROR:3,MAX_ATTEMPTS_ERROR:4,GENERIC_ERROR:5,MESSAGE_SENT_ERROR:6,PREVIOUS_MESSAGE_MISSING_ERROR:7,INVALID_PREVIOUS_MESSAGE_ERROR:8,ENCRYPTION_ERROR:9,DECRYPTION_ERROR:10,CPACE_STEP_2_ERROR:11,FETCH_SECRETS_ERROR:12,CPACE_STEP_1_ERROR:13,CPACE_STEP_3_ERROR:14,PAKE_HANDSHAKE_SUCCESS:15,SERIALIZATION_ERROR:16,NO_ACTIVE_SESSION:17,MULTIPLE_ACTIVE_SESSIONS_ERROR:18,PROCESS_SECRETS_ERROR:19,TIMEOUT_ERROR:20,FLOW_ABANDONED_ERROR:21,DESERIALIZE_SECRETS_ERROR:22,CODE_REQUESTED:23,PQ_PAKE_MESSAGE_2:24,PQ_PAKE_MESSAGE_3:25,PQ_PAKE_SECRETS:26});f["default"]=a}),66);
__d("PakeInitiatorSprocCalls",["LSDecryptPakeSecretStoredProcedure","LSFactory","LSGetActiveSessionStoredProcedure","LSIntEnum","LSSendPakeMessageOneStoredProcedure","LSSendPakeMessageStoredProcedure","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=a.clientType,e=a.initiatorId,g=a.messagePayload,i=a.sessionId;a=a.storage;c("promiseDone")(a.runInTransaction(function(a){return c("LSSendPakeMessageOneStoredProcedure")(c("LSFactory")(a),{clientType:(h||(h=d("LSIntEnum"))).ofNumber(b),initiatorId:e,messagePayload:g,sessionId:i})},"readwrite",void 0,void 0,f.id+":45"))}function b(a){var b=a.clientType,e=a.initiatorId;a=a.storage;return a.runInTransaction(function(a){return c("LSGetActiveSessionStoredProcedure")(c("LSFactory")(a),{clientType:(h||(h=d("LSIntEnum"))).ofNumber(b),initiatorId:e})},"readwrite",void 0,void 0,f.id+":71")}function e(a){var b=a.clientType,e=a.encryptionKey,g=a.sessionId;a=a.storage;return a.runInTransaction(function(a){return c("LSDecryptPakeSecretStoredProcedure")(c("LSFactory")(a),{clientType:(h||(h=d("LSIntEnum"))).ofNumber(b),encryptionKey:e,sessionId:g})},"readwrite",void 0,void 0,f.id+":92")}function i(a){var b=a.clientType,e=a.messagePayload,g=a.messageType,i=a.senderId,j=a.sessionId;a=a.storage;return a.runInTransaction(function(a){return c("LSSendPakeMessageStoredProcedure")(c("LSFactory")(a),{clientType:(h||(h=d("LSIntEnum"))).ofNumber(b),messagePayload:e,messageType:h.ofNumber(g),senderId:i,sessionId:j})},"readwrite",void 0,void 0,f.id+":116")}g.sendPakeMessageOne=a;g.joinPakeSession=b;g.decryptPakeSecret=e;g.sendPakeMessage=i}),98);
__d("PakeQplLogging",["MWEBODSCategory","MWEBODSEntityKey.enum","MWEBODSEntityName.enum","ODS","QPLEvent","QPLUserFlow"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b){c("QPLUserFlow").getActiveFlowIDs().includes((h||(h=d("QPLEvent"))).getMarkerId(a))||((i||(i=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MW_EB_OTC_AUTH,c("MWEBODSEntityKey.enum").START),c("QPLUserFlow").start(a,{annotations:{string:babelHelpers["extends"]({},b)}}))}function b(a){var b=a.annotations,e=a.errorName,f=a.event;a=a.isUserError;c("QPLUserFlow").endFailure(f,e,{annotations:b});f=a===!0?c("MWEBODSEntityKey.enum").SUCCESS:c("MWEBODSEntityKey.enum").FAIL;(i||(i=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MW_EB_OTC_AUTH,f)}function e(a,b){c("QPLUserFlow").endSuccess(a,{annotations:b}),(i||(i=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MW_EB_OTC_AUTH,c("MWEBODSEntityKey.enum").SUCCESS)}g.startPakeQPLFlow=a;g.endPakeQPLFlowFailure=b;g.endPakeQPLFlowSuccess=e}),98);
__d("deserializeSecretsAndAddDevice",["EBMainThreadEBDBApiDeferred","EBWorkerODSEntityName.enum","FBLogger","I64","LSAuthorityLevel","LSEncryptedBackupsRecoveryCodeStatus","LSIntEnum","MWDeserializeSecretsAndAddDevice","MWEncryptedBackupsDeviceRegistrationId","MWEncryptedBackupsInitializeRestoreDeferred","MWPakeQPLEvents","PAKEMessageTypeEnum","PakeQplLogging","QPLUserFlow","ReQL","cr:21222","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=a.db,e=a.initiatorId,f=a.onAddDeviceFailure,g=a.onAddDeviceFinish;a=a.secrets;var k=function(){};c("QPLUserFlow").addPoint(d("MWPakeQPLEvents").pakeInitiatorQplEvent,"MEB_DESERIALIZE_SECRETS_AND_ADD_DEVICE_START");return c("MWDeserializeSecretsAndAddDevice")({initiatorId:e,secrets:a,storage:b}).then(function(a){a=a[0];a||(c("FBLogger")("labyrinth_web").mustfix("PAKE: deserializeSecretsAndAddDevice sproc failed"),d("PakeQplLogging").endPakeQPLFlowFailure({annotations:{bool:{isUserError:!1},int:{errorCode:c("PAKEMessageTypeEnum").DESERIALIZE_SECRETS_ERROR}},errorName:"MEB_DESERIALIZE_SECRETS_AND_ADD_DEVICE_FAILURE",event:d("MWPakeQPLEvents").pakeInitiatorQplEvent,isUserError:!1}),f());k=d("ReQL").fromTableAscending(b.tables.secure_encrypted_backups_recovery_code_status).subscribe(function(a,e){if(e.operation==="add"||e.operation==="put"){a=e.value.recoveryCodeStatus;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsRecoveryCodeStatus").VALID))){k();c("QPLUserFlow").addPoint((e=d("MWPakeQPLEvents")).pakeInitiatorQplEvent,"MEB_DESERIALIZE_SECRETS_AND_ADD_DEVICE_END");void d("EBMainThreadEBDBApiDeferred").addNewDevice();g();c("QPLUserFlow").addPoint(e.pakeInitiatorQplEvent,"MEB_INITIALIZE_RESTORE_START");d("MWEncryptedBackupsInitializeRestoreDeferred").encryptedBackupsInitializeRestoreDeferred({db:b,onFailure:function(){d("PakeQplLogging").endPakeQPLFlowFailure({annotations:{bool:{isUserError:!1}},errorName:"MEB_INITIALIZE_RESTORE_FAILURE",event:d("MWPakeQPLEvents").pakeInitiatorQplEvent,isUserError:!1})}});c("QPLUserFlow").addPoint(e.pakeInitiatorQplEvent,"MEB_INITIALIZE_RESTORE_END");d("PakeQplLogging").endPakeQPLFlowSuccess(e.pakeInitiatorQplEvent);c("promiseDone")(j(b))}else if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsRecoveryCodeStatus").SYSTEM_ERROR)))c("FBLogger")("labyrinth_web").mustfix("PAKE: LSEncryptedBackupsFinishAddPeerDeviceTask task failed"),d("PakeQplLogging").endPakeQPLFlowFailure({annotations:{bool:{isUserError:!1},int:{errorCode:c("PAKEMessageTypeEnum").DESERIALIZE_SECRETS_ERROR}},errorName:"MEB_FINISH_ADD_PEER_DEVICE_FAILURE",event:d("MWPakeQPLEvents").pakeInitiatorQplEvent,isUserError:!1}),f();else{e="PAKE: Unexpected recovery code status: "+(h||(h=d("I64"))).to_int32(a);c("FBLogger")("labyrinth_web").mustfix(e)}}});return k}).catch(function(a){a="PAKE: error when adding new device using OTC, "+a;c("FBLogger")("labyrinth_web").mustfix(a);d("PakeQplLogging").endPakeQPLFlowFailure({annotations:{bool:{isUserError:!1},int:{errorCode:c("PAKEMessageTypeEnum").DESERIALIZE_SECRETS_ERROR},string:{exceptionMessage:a}},errorName:"MEB_DESERIALIZE_SECRETS_AND_ADD_DEVICE_EXCEPTION",event:d("MWPakeQPLEvents").pakeInitiatorQplEvent,isUserError:!1});f();k();return function(){}})}async function j(a){if(b("cr:21222")!=null){a=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.secure_encrypted_backups_client_state).filter(function(a){a=a.authorityLevel;return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))}));if(a!=null&&a.deviceId!=null){var e=a.deviceId;void (b("cr:21222")==null?void 0:b("cr:21222").fireAndForget("backend","addDeviceWithKeysInWorker",{backupId:a.backupId,deviceRegistrationId:d("MWEncryptedBackupsDeviceRegistrationId").getDeviceRegistrationId(),isAutoRestore:!1,previousDeviceId:e,source:c("EBWorkerODSEntityName.enum").MW_EB_OTC_MAIN_THREAD}))}}}g.default=a}),98);
__d("establishPakeHandshakeAsInitiator",["Base64Utils","FBLogger","I64","MWEncryptedBackupsDeviceRegistrationId","MWPakeQPLEvents","PAKECleanupSessionReasonEnum","PAKEDecryptSecretSprocStatusEnum","PAKEGetActiveSessionSprocStatusEnum","PAKEMessageTypeEnum","PakeCpaceUtils","PakeCpaceWasm","PakeQplLogging","QPLUserFlow","ReQL","clearTimeout","promiseDone","requireDeferred","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("CleanupPakeSession").__setRef("establishPakeHandshakeAsInitiator"),j=c("requireDeferred")("PakeInitiatorSprocCalls").__setRef("establishPakeHandshakeAsInitiator"),k=(h||(h=d("I64"))).of_int32(-1),l=3e3,m="PAKE_INITIATOR_FAILURE";async function a(a){var b=a.clientType,e=a.onGeneralFailure,f=a.onMaxAttemptsReached,g=a.onNoSessionExists,n=a.onSessionExpired,o=a.onSuccessfulSecretDecryption,p=a.onWrongOtc,q=a.otc,r=a.pakeCpaceModule,s=a.storage,t=a.timeout,u=function(){},v=function(){z&&c("clearTimeout")(z)},w=d("MWEncryptedBackupsDeviceRegistrationId").getDeviceRegistrationId();if(w===""){d("PakeQplLogging").endPakeQPLFlowFailure({annotations:{bool:{isUserError:!1},int:{errorCode:c("PAKEMessageTypeEnum").GENERIC_ERROR}},errorName:m,event:d("MWPakeQPLEvents").pakeInitiatorQplEvent,isUserError:!1});return{pakeClient:null,stopTimeout:v,unsubFromMessagesTable:u}}var x=r!=null?r:await d("PakeCpaceWasm").PakeCPaceWasm(),y=x.createCPaceClient(w),z=null,A=null,B=!1,C=d("ReQL").fromTableAscending(s.tables.pake_messages),D=function(){z&&c("clearTimeout")(z),z=c("setTimeout")(function(){e(),u(),i.onReady(function(a){c("promiseDone")(a({cleanupReason:c("PAKECleanupSessionReasonEnum").TIMEOUT,clientType:b,deviceId:w,storage:s}))}),c("FBLogger")("labyrinth_web").mustfix("PAKE handshake failed by timeout")},t)},E=function(){A&&c("clearTimeout")(A),A=c("setTimeout")(function(){c("QPLUserFlow").addPoint(d("MWPakeQPLEvents").pakeInitiatorQplEvent,"PAKE_CPACE_RETRY_JOIN_SESSION"),B=!0,M()},l)},F=function(a){var d=a.messageType,f=a.sessionId;e();j.onReady(function(a){c("promiseDone")(a.sendPakeMessage({clientType:b,messageType:d,senderId:w,sessionId:f,storage:s}))})},G=function(a){var e=a.messagePayload,f=a.responderId,g=a.sessionId;c("QPLUserFlow").addPoint(d("MWPakeQPLEvents").pakeInitiatorQplEvent,"PAKE_CPACE_STEP_THREE_START");if(e==null){c("FBLogger")("labyrinth_web").mustfix("PAKE: When executing step 3 of CPace Handshake messagePayload was null");d("PakeQplLogging").endPakeQPLFlowFailure({annotations:{bool:{isUserError:!1},int:{errorCode:c("PAKEMessageTypeEnum").INVALID_PREVIOUS_MESSAGE_ERROR}},errorName:m,event:d("MWPakeQPLEvents").pakeInitiatorQplEvent,isUserError:!1});return}if(f==null){c("FBLogger")("labyrinth_web").mustfix("PAKE: When executing step 3 of CPace Handshake responderId was null");d("PakeQplLogging").endPakeQPLFlowFailure({annotations:{bool:{isUserError:!1},int:{errorCode:c("PAKEMessageTypeEnum").INVALID_PREVIOUS_MESSAGE_ERROR}},errorName:m,event:d("MWPakeQPLEvents").pakeInitiatorQplEvent,isUserError:!1});return}a=d("Base64Utils").toArrayBuffer(e);var i;try{f=x.clientFinalize(y,new Uint8Array(a));i=f.clientKey1}catch(a){F({messageType:c("PAKEMessageTypeEnum").CPACE_STEP_3_ERROR,sessionId:g});d("PakeQplLogging").endPakeQPLFlowFailure({annotations:{bool:{isUserError:!1},int:{errorCode:c("PAKEMessageTypeEnum").CPACE_STEP_3_ERROR}},errorName:m,event:d("MWPakeQPLEvents").pakeInitiatorQplEvent,isUserError:!1});throw c("FBLogger")("labyrinth_web").mustfixThrow("PAKE: Error executing CPace step 3")}c("QPLUserFlow").addPoint(d("MWPakeQPLEvents").pakeInitiatorQplEvent,"PAKE_DECRYPT_SECRET_START");j.onReady(function(a){c("promiseDone")(a.decryptPakeSecret({clientType:b,encryptionKey:d("PakeCpaceUtils").typedArrayToBuffer(i),sessionId:g,storage:s}),function(e){var f=e[0];e=e[1];v();switch((h||(h=d("I64"))).to_int32(e)){case c("PAKEDecryptSecretSprocStatusEnum").SUCCESS:if(f==null){d("PakeQplLogging").endPakeQPLFlowFailure({annotations:{bool:{isUserError:!1},int:{errorCode:c("PAKEMessageTypeEnum").GENERIC_ERROR}},errorName:m,event:d("MWPakeQPLEvents").pakeInitiatorQplEvent,isUserError:!1});throw c("FBLogger")("labyrinth_web").mustfixThrow("PAKE: decryptedSecret is null despite SPROC success")}c("QPLUserFlow").addPoint(d("MWPakeQPLEvents").pakeInitiatorQplEvent,"PAKE_DECRYPT_SECRET_END");c("promiseDone")(a.sendPakeMessage({clientType:b,messageType:c("PAKEMessageTypeEnum").PAKE_HANDSHAKE_SUCCESS,senderId:w,sessionId:g,storage:s}));o({decryptedSecret:f,initiatorId:w});break;case c("PAKEDecryptSecretSprocStatusEnum").WRONG_KEYS:d("PakeQplLogging").endPakeQPLFlowFailure({annotations:{bool:{isUserError:!0}},errorName:m,event:d("MWPakeQPLEvents").pakeInitiatorQplEvent,isUserError:!0});p();break;case c("PAKEDecryptSecretSprocStatusEnum").FAILURE:d("PakeQplLogging").endPakeQPLFlowFailure({annotations:{bool:{isUserError:!1}},errorName:m,event:d("MWPakeQPLEvents").pakeInitiatorQplEvent,isUserError:!1});F({messageType:c("PAKEMessageTypeEnum").DECRYPTION_ERROR,sessionId:g});break}},function(a){d("PakeQplLogging").endPakeQPLFlowFailure({annotations:{bool:{isUserError:!1},string:{exceptionMessage:a}},errorName:m,event:d("MWPakeQPLEvents").pakeInitiatorQplEvent,isUserError:!1}),F({messageType:c("PAKEMessageTypeEnum").DECRYPTION_ERROR,sessionId:g})})})},H=function(a){var b=a.annotations,e=a.fbLoggerMessage,f=a.isUserError,g=a.messageType,h=a.onFinish;a=a.unsubFromTable;v();a();h();e!=null&&c("FBLogger")("labyrinth_web").mustfix(e,g);d("PakeQplLogging").endPakeQPLFlowFailure({annotations:b,errorName:m,event:d("MWPakeQPLEvents").pakeInitiatorQplEvent,isUserError:f})},I=function(a){var b=a.onPakeStepOneSuccess;u=C.subscribe(function(a,f){if(f.operation!=="put"&&f.operation!=="add")return;a=f.value;f=(h||(h=d("I64"))).to_int32(a.messageType);switch(f){case c("PAKEMessageTypeEnum").PAKE_MESSAGE_1:c("QPLUserFlow").addPoint(d("MWPakeQPLEvents").pakeInitiatorQplEvent,"PAKE_SEND_PAKE_MESSAGE_ONE_END");u();b();break;case c("PAKEMessageTypeEnum").INVALID_PREVIOUS_MESSAGE_ERROR:case c("PAKEMessageTypeEnum").PREVIOUS_MESSAGE_MISSING_ERROR:return H({annotations:{bool:{isUserError:!1},int:{errorCode:f}},fbLoggerMessage:"PAKE: Failed to send PAKE message one due to invalid state",isUserError:!1,messageType:f,onFinish:function(){return e()},unsubFromTable:function(){u()}});case c("PAKEMessageTypeEnum").MESSAGE_SENT_ERROR:return H({annotations:{bool:{isUserError:!1},int:{errorCode:f}},fbLoggerMessage:"PAKE: Failed to send PAKE message one",isUserError:!1,messageType:f,onFinish:function(){return e()},unsubFromTable:function(){u()}});default:break}})},J=function(a){var b=a.sessionId;u=C.subscribe(function(a,g){if(g.operation!=="put"&&g.operation!=="add")return;a=g.value;g=(h||(h=d("I64"))).to_int32(a.messageType);switch(g){case c("PAKEMessageTypeEnum").PAKE_MESSAGE_2_AND_SECRET:u();G({messagePayload:a.messagePayload,responderId:a.responderId,sessionId:b});break;case c("PAKEMessageTypeEnum").MAX_ATTEMPTS_ERROR:return H({annotations:{bool:{isUserError:!0},int:{errorCode:g}},isUserError:!0,messageType:g,onFinish:function(){return f()},unsubFromTable:function(){u()}});case c("PAKEMessageTypeEnum").SESSION_EXPIRED_ERROR:return H({annotations:{bool:{isUserError:!0},int:{errorCode:g}},isUserError:!0,messageType:g,onFinish:function(){return n()},unsubFromTable:function(){u()}});case c("PAKEMessageTypeEnum").GENERIC_ERROR:return H({annotations:{bool:{isUserError:!1},int:{errorCode:g}},fbLoggerMessage:"PAKE: Something went wrong in the responder device",isUserError:!1,messageType:g,onFinish:function(){return e()},unsubFromTable:function(){u()}});case c("PAKEMessageTypeEnum").FETCH_SECRETS_ERROR:return H({annotations:{bool:{isUserError:!1},int:{errorCode:g}},fbLoggerMessage:"PAKE: Responder device failed to fetch secrets.",isUserError:!1,messageType:g,onFinish:function(){return e()},unsubFromTable:function(){u()}});case c("PAKEMessageTypeEnum").FLOW_ABANDONED_ERROR:return H({annotations:{bool:{isUserError:!1},int:{errorCode:g}},fbLoggerMessage:"PAKE: Responder device flow was abandoned.",isUserError:!1,messageType:g,onFinish:function(){return e()},unsubFromTable:function(){u()}});default:return H({annotations:{bool:{isUserError:!1},int:{errorCode:c("PAKEMessageTypeEnum").GENERIC_ERROR}},fbLoggerMessage:"PAKE: Unexpected Message Type when listening for pake step two success "+g,isUserError:!1,messageType:g,onFinish:function(){return e()},unsubFromTable:function(){u()}})}})},K=function(a){var f=a.onJoinSessionSuccess;c("QPLUserFlow").addPoint(d("MWPakeQPLEvents").pakeInitiatorQplEvent,"PAKE_GET_ACTIVE_SESSION_START");j.onReady(function(a){c("promiseDone")(a.joinPakeSession({clientType:b,initiatorId:w,storage:s}),function(a){var b=a[0],i=a[1];a=a[2];i=i!=null?i:k;switch((h||(h=d("I64"))).to_int32(b)){case c("PAKEGetActiveSessionSprocStatusEnum").SUCCESS:if(a==null||i===k){c("FBLogger")("labyrinth_web").mustfix("PAKE: When joining session, responderId or joinedSessionId were unexpectedly null");d("PakeQplLogging").endPakeQPLFlowFailure({annotations:{bool:{isUserError:!1},int:{errorCode:c("PAKEMessageTypeEnum").GENERIC_ERROR}},errorName:m,event:d("MWPakeQPLEvents").pakeInitiatorQplEvent,isUserError:!1});e();return}f(a,i);c("QPLUserFlow").addAnnotations(d("MWPakeQPLEvents").pakeInitiatorQplEvent,{string:{session_id:(h||(h=d("I64"))).to_string(i)}});break;case c("PAKEGetActiveSessionSprocStatusEnum").NO_SESSION:if(B===!1){E();return}d("PakeQplLogging").endPakeQPLFlowFailure({annotations:{bool:{isUserError:!0},int:{errorCode:c("PAKEMessageTypeEnum").NO_ACTIVE_SESSION}},errorName:m,event:d("MWPakeQPLEvents").pakeInitiatorQplEvent,isUserError:!0});g();v();break;case c("PAKEGetActiveSessionSprocStatusEnum").FAILURE:d("PakeQplLogging").endPakeQPLFlowFailure({annotations:{bool:{isUserError:!1},int:{errorCode:c("PAKEMessageTypeEnum").GENERIC_ERROR}},errorName:m,event:d("MWPakeQPLEvents").pakeInitiatorQplEvent,isUserError:!1});c("FBLogger")("labyrinth_web").mustfix("PAKE: When joining session, sproc failed");e();v();break}},function(){d("PakeQplLogging").endPakeQPLFlowFailure({annotations:{bool:{isUserError:!1},int:{errorCode:c("PAKEMessageTypeEnum").GENERIC_ERROR}},errorName:m,event:d("MWPakeQPLEvents").pakeInitiatorQplEvent,isUserError:!1}),c("FBLogger")("labyrinth_web").mustfix("PAKE: When joining session, sproc failed"),e(),v()})})},L=function(a){var e=a.responderId,f=a.sessionId,g;c("QPLUserFlow").addPoint(d("MWPakeQPLEvents").pakeInitiatorQplEvent,"PAKE_CPACE_STEP_ONE_START");try{g=x.clientBegin(y,q,e)}catch(a){F({messageType:c("PAKEMessageTypeEnum").CPACE_STEP_1_ERROR,sessionId:f});d("PakeQplLogging").endPakeQPLFlowFailure({annotations:{bool:{isUserError:!1},int:{errorCode:c("PAKEMessageTypeEnum").CPACE_STEP_1_ERROR}},errorName:m,event:d("MWPakeQPLEvents").pakeInitiatorQplEvent,isUserError:!1});throw c("FBLogger")("labyrinth_web").mustfixThrow("PAKE: Error executing CPace step 1")}c("QPLUserFlow").addPoint(d("MWPakeQPLEvents").pakeInitiatorQplEvent,"PAKE_SEND_MESSAGE_ONE_START");j.onReady(function(a){a.sendPakeMessageOne({clientType:b,initiatorId:w,messagePayload:d("PakeCpaceUtils").typedArrayToBuffer(g),sessionId:f,storage:s})});I({onPakeStepOneSuccess:function(){J({sessionId:f})}})},M=function(){D();d("PakeQplLogging").startPakeQPLFlow(d("MWPakeQPLEvents").pakeInitiatorQplEvent);K({onJoinSessionSuccess:function(a,b){L({responderId:a,sessionId:b})}});return{pakeClient:y,stopTimeout:v,unsubFromMessagesTable:u}};return M()}g.default=a}),98);/*FB_PKG_DELIM*/
__d("AudioSettingsVolumeSetting",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:"default",QUIET:"quiet"});f["default"]=a}),66);
__d("CometVideoPlayerInstreamAdsFeedContextCardContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||(h=d("react"));var i=h.useContext,j=b.createContext({isWatchTab:!1,onNodeChangeFunc:null});function a(){return i(j)}g.CometVideoPlayerInstreamAdsFeedContextCardContext=j;g.useCometVideoPlayerInstreamAdsFeedContextCardContext=a}),98);
__d("CometVideoPlayerNextgendashAvailability",[],(function(a,b,c,d,e,f){a=Object.freeze({AVAILABLE:"AVAILABLE",UNAVAILABLE_NEXTGENDASH_GK:"UNAVAILABLE_NEXTGENDASH_GK",UNAVAILABLE_OZ_PLAYER_AVAILABILITY:"UNAVAILABLE_OZ_PLAYER_AVAILABILITY",UNAVAILABLE_TEMPORARY_FOR_THIS_KIND_OF_VIDEO:"UNAVAILABLE_TEMPORARY_FOR_THIS_KIND_OF_VIDEO",UNAVAILABLE_TEMPORARY_FOR_THIS_KIND_OF_VIDEO_1:"UNAVAILABLE_TEMPORARY_FOR_THIS_KIND_OF_VIDEO_1",UNAVAILABLE_TEMPORARY_FOR_THIS_KIND_OF_VIDEO_2:"UNAVAILABLE_TEMPORARY_FOR_THIS_KIND_OF_VIDEO_2",UNAVAILABLE_TEMPORARY_FOR_THIS_KIND_OF_VIDEO_3:"UNAVAILABLE_TEMPORARY_FOR_THIS_KIND_OF_VIDEO_3",UNAVAILABLE_TEMPORARY_FOR_THIS_KIND_OF_VIDEO_4:"UNAVAILABLE_TEMPORARY_FOR_THIS_KIND_OF_VIDEO_4",UNAVAILABLE_TEMPORARY_FOR_THIS_KIND_OF_VIDEO_5:"UNAVAILABLE_TEMPORARY_FOR_THIS_KIND_OF_VIDEO_5",UNAVAILABLE_FROM_JS_OZ_PLAYER_AVAILABILITY:"UNAVAILABLE_FROM_JS_OZ_PLAYER_AVAILABILITY",UNAVAILABLE_FROM_JS_NO_INFO_FROM_SERVER:"UNAVAILABLE_FROM_JS_NO_INFO_FROM_SERVER",UNAVAILABLE_FROM_JS_NEXTGENDASH_GK:"UNAVAILABLE_FROM_JS_NEXTGENDASH_GK",UNAVAILABLE_FROM_JS_NOT_DESIRED:"UNAVAILABLE_FROM_JS_NOT_DESIRED"});f["default"]=a}),66);
__d("FDSResizeUpFilled20PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("517763"),20);b=a;g["default"]=b}),98);
__d("GraphQLVideoDRMInfo",["isEmptyObject"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.fairplay_cert,d=a.graph_api_video_license_uri,e=a.video_license_uri_map;a=a.widevine_cert;b={fairplayCert:b,graphApiVideoLicenseUri:d!=null?d:null,videoLicenseUriMap:e,widevineCert:a};return b.graphApiVideoLicenseUri===null&&c("isEmptyObject")(b.videoLicenseUriMap)?null:b}g.makeGraphQLVideoDRMInfo=a}),98);
__d("GraphQLVideoP2PSettings",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";var g=b("$InternalEnum").Mirrored(["HiveJava","HiveJS","StatsJS"]);function a(a){return(a=g.cast(a))!=null?a:null}f.HiveTechOrder=g;f.hiveTechOrderOrNull=a}),66);
__d("InstreamAdsConfig",["PMVInterruptionsWWWSitevarConfig","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=1e4,i=15e3,j=5e3,k=200,l=200,m=3e3,n=5e3,o=6e4,p=300,q=6e4,r=6e4,s=3e3,t=16,u=15,v=5,w=200,x=96,y=93,z=92,A=97,B="unified_scheduler",C="is_live_preroll";function a(){return 4e3}function b(){return s}function d(){return 1e3}function e(){return 2e3}function f(){return c("gkx")("24371")?o:3e5}function D(){return i}function E(){return j}function F(){return k}function G(){return h}function H(){return p}function I(){return l}function J(){return!c("gkx")("24372")?m:n}function K(){return c("PMVInterruptionsWWWSitevarConfig").pmv_pre_roll_fetch_timeout_ms}function L(){return q}function M(){return r}g.DEFAULT_LONGER_AD_DURATION=t;g.DEFAULT_AD_COMPLETION_DURATION=u;g.DEFAULT_SKIPPABLE_TIME_THRESHOLD=v;g.DEFAULT_FETCH_TIME_INTERVAL_MS=w;g.UNIFIED_SCHEDULER_AD_INDEX=x;g.FULLSCREEN_AD_INDEX=y;g.CLICK_TO_PLAY_AD_INDEX=z;g.IS_LIVE_PREROLL_INDEX=A;g.UNIFIED_SCHEDULER_TIGGER_SOURCE=B;g.IS_LIVE_PREROLL_TRIGGER_SOURCE=C;g.getNonPmvMaxFetchTimeMS=a;g.getIsLivePrerollMaxFetchTimeMS=b;g.getHaloStartFetchTimeMS=d;g.getNonLiveBeginningTransitionTimeMS=e;g.getNonLiveMidrollGapRuleMS=f;g.getPostRollPreFetchTimeMs=D;g.getPostRollPreFetchEndTimeMs=E;g.getPreFetchTimeDeltaMs=F;g.getPreFetchTimeMs=G;g.getRecheckStartMs=H;g.getStartDeltaMs=I;g.getStartingIndicatorMs=J;g.getPMVInterruptionsPreRollFetchTimeMs=K;g.getUnifiedSchedulerStartDelayMs=L;g.getUnifiedSchedulerFrequencyMs=M}),98);
__d("InstreamAdsExtraFieldsContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||(h=d("react"));var i=h.useContext,j=b.createContext(null);function a(){return i(j)}g.InstreamAdsExtraFieldsContext=j;g.useInstreamAdsExtraFieldsContext=a}),98);
__d("InstreamAdsPalmStateContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||(h=d("react"));var i=h.useContext,j=b.createContext("INIT");function a(){return i(j)}g.InstreamAdsPalmStateContext=j;g.useInstreamAdsPalmStateContext=a}),98);
__d("InstreamPalmStateManagerContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||(h=d("react"));var i=h.useContext;c={setCurrentInsertion:function(){},setExtraFields:function(){},setHideAdBehavior:function(){},setIsEmpty:function(){},setState:function(){}};var j=b.createContext(c);function a(){return i(j)}g.InstreamPalmStateManagerContext=j;g.useInstreamPalmStateManager=a}),98);
__d("InstreamVideoAdBreaksPlayer_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"InstreamVideoAdBreaksPlayer_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"InstreamExtraConfig",kind:"LinkedField",name:"instream_extra_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"instream_halo_delay_time_seconds",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"InstreamVideoAdBreaks",kind:"LinkedField",name:"instream_video_ad_breaks_comet",plural:!1,selections:[{args:null,documentName:"InstreamVideoAdBreaksPlayer_video_instream_video_ad_breaks_comet",fragmentName:"InstreamVideoAdBreaksPlayerImpl_adBreaks",fragmentPropName:"adBreaks",kind:"ModuleImport"}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("InstreamVideoAdBreaksPlayer.react",["CometPlaceholder.react","CometRelay","InstreamVideoAdBreaksPlayer_video.graphql","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(11),f=a.playerFormat,g=a.subOrigin;a=a.video;a=d("CometRelay").useFragment(h!==void 0?h:h=b("InstreamVideoAdBreaksPlayer_video.graphql"),a);var i=a.id,k=a.instream_extra_config;a=a.instream_video_ad_breaks_comet;k=k==null?void 0:k.instream_halo_delay_time_seconds;var l;e[0]!==k?(l={instreamHaloDelayTimeSeconds:k},e[0]=k,e[1]=l):l=e[1];e[2]!==a||e[3]!==f||e[4]!==g||e[5]!==l||e[6]!==i?(k={instreamExtraConfig:l,instreamVideoAdBreaksComet:a,playerFormat:f,subOrigin:g,videoFBID:i},e[2]=a,e[3]=f,e[4]=g,e[5]=l,e[6]=i,e[7]=k):k=e[7];e[8]!==a||e[9]!==k?(f=j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(d("CometRelay").MatchContainer,{match:a,props:k})}),e[8]=a,e[9]=k,e[10]=f):f=e[10];return f}g["default"]=a}),98);
__d("LatencySensitiveType",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({NORMAL:0,LOW:1,ULTRA_LOW:2});c=a;f["default"]=c}),66);
__d("getAvailableMimeCodecsFromDashManifest",[],(function(a,b,c,d,e,f){"use strict";function g(a){var b=/^(audio|video)\/.*$/;return b.test(a)}function a(a,b){var c=[];b=b?window.ManagedMediaSource:window.MediaSource;if(a!=null){var d=/mimeType=\"([^\"]*)\"[^\>]*codecs=\"([^\"]*)\"/g,e=/codecs=\"([^\"]*)\"[^\>]*mimeType=\"([^\"]*)\"/g,f,h=[];while(f=d.exec(a))h.push([f[1],f[2]]);while(f=e.exec(a))h.push([f[2],f[1]]);for(d of h){f=d[0];a=d[1];e=f+'; codecs="'+a+'"';h=f.startsWith("audio")?"audio":f.startsWith("video")?"video":"other";var i=!0,j=!1;g(e)&&(j=!0,i=b?b.isTypeSupported(e):!1);c.push({codecs:a,isRequiredForPlayback:j,isTypeSupported:i,mimeCodec:e,mimeType:f,representationType:h})}}return c}f["default"]=a}),66);
__d("VideoPlayerOzImplementationData",["err","getAvailableMimeCodecsFromDashManifest"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.canUseOz,d=a.dashManifestUrl,e=a.dashManifestUrlOverride_DO_NOT_USE,f=a.dashManifestXmlString,g=a.experimentationConfig,h=a.initialAudioUserPreferredLanguage;a=a.minQualityPreference;if(b!==!0){var i=c("err")("canUseOz="+String(b));i.name="GotCanUseOz/"+String(b);return i}b=e!=null?null:f==null||f===""?null:f;i=e!=null?e:d==null||d===""?null:d;if(b==null&&i==null){f=c("err")("Got no manifest XML and no URL to it");f.name="GotNoManifestOrURL";return f}e=g.getBool("enable_managed_media_source",!1);if(e){if(!window.ManagedMediaSource){d=c("err")("window.ManagedMediaSource is missing");d.name="GotMissingManagedMediaSourceAPI";return d}}else if(!window.MediaSource){f=c("err")("window.MediaSource is missing");f.name="GotMissingMediaSourceAPI";return f}if(b!=null){d=c("getAvailableMimeCodecsFromDashManifest")(b,e).filter(function(a){return a.isRequiredForPlayback});f=d.filter(function(a){return!a.isTypeSupported});if(f.length>0){e=c("err")("%s out of %s codecs in DASH manifest required for playback are unsupported: %s",String(f.length),String(d.length),d.map(function(a){return a.mimeType+"/"+a.codecs+"="+(a.isTypeSupported?"yes":"no")}).join(", "));e.name="GotManifestWithUnsupportedCodecs";return e}}return{experimentationConfig:g,initialAudioUserPreferredLanguage:h!=null?h:null,initialVideoVariant:{lang:h!=null?h:null,role:null},manifest:b,manifestUrl:i,minQualityPreference:a!=null?a:null}}g.makeOzImplementationData=a}),98);
__d("VideoPlayerOzWWWConfig",[],(function(a,b,c,d,e,f){"use strict";var g="oz_www_";a=function(){function a(a){this.$1=a}var b=a.prototype;b.getBool=function(a,b){return this.$1.getBool(g+a,b)};b.getNumber=function(a,b){return this.$1.getNumber(g+a,b)};b.getString=function(a,b){return this.$1.getString(g+a,b)};b.setContext=function(a,b){this.$1.setContext(a,b)};b.getAllContexts=function(){return this.$1.getAllContexts()};return a}();f["default"]=a}),66);
__d("VideoPlayerRelayFragmentRefetchQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9450060145042784"}),null);
__d("VideoPlayerRelayFragmentRefetchQuery.graphql",["VideoPlayerRelay_video$normalization.graphql","VideoPlayerRelayFragmentRefetchQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"id"},c={defaultValue:null,kind:"LocalArgument",name:"playerOrigin"},d={defaultValue:null,kind:"LocalArgument",name:"playerSuborigin"},e=[{kind:"Variable",name:"id",variableName:"id"}];return{fragment:{argumentDefinitions:[a,c,d],kind:"Fragment",metadata:null,name:"VideoPlayerRelayFragmentRefetchQuery",selections:[{alias:null,args:e,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:[{kind:"Variable",name:"playerOrigin",variableName:"playerOrigin"},{kind:"Variable",name:"playerSuborigin",variableName:"playerSuborigin"}],kind:"FragmentSpread",name:"VideoPlayerRelay_video"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,d,a],kind:"Operation",name:"VideoPlayerRelayFragmentRefetchQuery",selections:[{alias:null,args:e,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{args:[{kind:"Variable",name:"VideoPlayerRelay_video$playerOrigin",variableName:"playerOrigin"},{kind:"Variable",name:"VideoPlayerRelay_video$playerSuborigin",variableName:"playerSuborigin"}],fragment:b("VideoPlayerRelay_video$normalization.graphql"),kind:"FragmentSpread"},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("VideoPlayerRelayFragmentRefetchQuery_facebookRelayOperation"),metadata:{},name:"VideoPlayerRelayFragmentRefetchQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("VideoPlayerRelay_video.graphql",["VideoPlayerRelayFragmentRefetchQuery.graphql"],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"playerOrigin"},{defaultValue:null,kind:"LocalArgument",name:"playerSuborigin"}],kind:"Fragment",metadata:{refetch:{connection:null,fragmentPathInResult:["node"],operation:b("VideoPlayerRelayFragmentRefetchQuery.graphql"),identifierInfo:{identifierField:"id",identifierQueryVariableName:"id"}}},name:"VideoPlayerRelay_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"animated_image_caption",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"broadcaster_origin",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"broadcast_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"broadcast_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_live_streaming",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_live_trace_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_looping",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_video_broadcast",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_podcast_video",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"loop_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_spherical",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_spherical_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unsupported_browser_message",storageKey:null},{alias:null,args:null,concreteType:"MusicVideoMetadata",kind:"LinkedField",name:"pmv_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"LatencySensitiveConfig",kind:"LinkedField",name:"latency_sensitive_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"broadcast_latency_sensitivity",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"LivePlaybackInstrumentationConfigParams",kind:"LinkedField",name:"live_playback_instrumentation_configs",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_client_triggered_trace_enabled",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_ncsr",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"permalink_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"captions_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seo_web_crawler_lookaside_url",storageKey:null},{alias:null,args:[{kind:"Variable",name:"player_origin",variableName:"playerOrigin"},{kind:"Variable",name:"player_suborigin",variableName:"playerSuborigin"}],kind:"ScalarField",name:"dash_prefetch_experimental",storageKey:null},{args:null,kind:"FragmentSpread",name:"useVideoPlayerAvailableCaptionsLocalesFromRelay_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerVideoStatusRelayWithFallbackCover_video"},{args:null,kind:"FragmentSpread",name:"useVideoImplementationsParamsRelayImpl_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerShakaConfig_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerShakaPerformanceLoggerRelayImpl_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerShakaPerformanceLoggerBuilder_video"},{args:null,kind:"FragmentSpread",name:"useGraphQLVideoAutoplayGatingResult_video"},{args:null,kind:"FragmentSpread",name:"useGraphQLVideoDRMInfo_video"},{args:null,kind:"FragmentSpread",name:"useGraphQLVideoP2PSettings_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerAudioSettings_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerCaptionsSettings_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerLiveLatencyKnobSettings_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerAudioAvailabilityInfoRelay_video"},{alias:null,args:null,concreteType:"SphericalVideoRenderer",kind:"LinkedField",name:"spherical_video_renderer",plural:!1,selections:[{args:null,documentName:"VideoPlayerRelay_video_spherical_video_renderer",fragmentName:"VideoPlayerSphericalRelay_sphericalVideoRenderer",fragmentPropName:"sphericalVideoRenderer",kind:"ModuleImport"}],storageKey:null},{kind:"Defer",selections:[{args:null,kind:"FragmentSpread",name:"InstreamVideoAdBreaksPlayer_video"}]},{args:null,kind:"FragmentSpread",name:"VideoPlayerVideoIsCastingCover_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerIMFFromVideoMetadataRelay_video"}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerUnsupportedBrowserMessageFallback.react",["ErrorMetadata","FBLogger","VideoPlayerFallbackCover.react","err","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect;b.useMemo;var k=b.useRef;function a(a,b){var e=d("react-compiler-runtime").c(11);bb0:{if(a!=null){var f;if(e[0]!==a||e[1]!==b){var g;f=c("err")("Cannot play video: Unsupported browser message from server: %s",a);f.name="VideoPlayerUnsupportedBrowserMessageFromServer";g=(g=f.metadata)!=null?g:new(c("ErrorMetadata"))();f.metadata=g;g.addEntry("COMET_VIDEO","VIDEO_ID",b);e[0]=a;e[1]=b;e[2]=f}else f=e[2];g=f;break bb0}g=null}var h=g,l=k(!1);e[3]!==h?(f=function(){if(h!=null&&!l.current){var a;l.current=!0;(a=c("FBLogger")("comet_video_player").catching(h)).warn.apply(a,[(a=h.messageFormat)!=null?a:""].concat((a=h.messageParams)!=null?a:[]))}},e[3]=h,e[4]=f):f=e[4];e[5]!==h||e[6]!==b?(g=[h,b],e[5]=h,e[6]=b,e[7]=g):g=e[7];j(f,g);if(a!=null){e[8]!==a||e[9]!==h?(b=i.jsx(c("VideoPlayerFallbackCover.react"),{debugError:h,message:a}),e[8]=a,e[9]=h,e[10]=b):b=e[10];return b}return null}g.useVideoPlayerUnsupportedBrowserMessageFallback=a}),98);
__d("VideoPlayerXImplRelayWrapper.react",["VideoPlayerXImpl.react"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("VideoPlayerXImpl.react")}),98);
__d("XFBLatencySensitiveTypeUtils.facebook",["$InternalEnumUtils","LatencySensitiveType"],(function(a,b,c,d,e,f,g){a=d("$InternalEnumUtils").createToJSEnum(c("LatencySensitiveType"));b=d("$InternalEnumUtils").createFromJSEnum(c("LatencySensitiveType"));g.toJSEnum=a;g.fromJSEnum=b}),98);
__d("useGraphQLVideoAutoplayGatingResult_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGraphQLVideoAutoplayGatingResult_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"autoplay_gating_result",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewer_autoplay_setting",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_autoplay",storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useGraphQLVideoAutoplayGatingResult",["CometRelay","GraphQLVideoAutoplayGatingResult","react-compiler-runtime","useGraphQLVideoAutoplayGatingResult_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var c=d("react-compiler-runtime").c(4);a=d("CometRelay").useFragment(h!==void 0?h:h=b("useGraphQLVideoAutoplayGatingResult_video.graphql"),a);var e;c[0]!==a.autoplay_gating_result||c[1]!==a.can_autoplay||c[2]!==a.viewer_autoplay_setting?(e=d("GraphQLVideoAutoplayGatingResult").makeGraphQLVideoAutoplayGatingResult(a.autoplay_gating_result,a.viewer_autoplay_setting,a.can_autoplay),c[0]=a.autoplay_gating_result,c[1]=a.can_autoplay,c[2]=a.viewer_autoplay_setting,c[3]=e):e=c[3];return e}g["default"]=a}),98);
__d("useGraphQLVideoDRMInfo_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGraphQLVideoDRMInfo_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"drm_info",storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useGraphQLVideoDRMInfo",["CometRelay","GraphQLVideoDRMInfo","react","useGraphQLVideoDRMInfo_video.graphql","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).useRef;function l(a){if(a!=null){a=m(a);return d("GraphQLVideoDRMInfo").makeGraphQLVideoDRMInfo(a)}return null}function m(a){a=JSON.parse(a)||{};var b=a.fairplay_cert,c=a.graph_api_video_license_uri,d=a.video_license_uri_map;a=a.widevine_cert;return{fairplay_cert:b,graph_api_video_license_uri:c,video_license_uri_map:d,widevine_cert:a}}function a(a){a=d("CometRelay").useFragment(h!==void 0?h:h=b("useGraphQLVideoDRMInfo_video.graphql"),a);var e=k(null),f=l(a.drm_info),g=(i||(i=c("useUnsafeRef_DEPRECATED")))(null);e.current!==a.drm_info&&(e.current=a.drm_info,g.current=f);return g.current}g["default"]=a}),98);
__d("useGraphQLVideoP2PSettings_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGraphQLVideoP2PSettings_video",selections:[{alias:null,args:null,concreteType:"VideoP2PSettings",kind:"LinkedField",name:"p2p_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ticket",storageKey:null},{alias:null,args:null,concreteType:"VideoP2PSettingsConfig",kind:"LinkedField",name:"config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"delay_p2p_until_play",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"disable_hivejava_for_livevc",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"VideoHiveCommunityInfo",kind:"LinkedField",name:"community_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"community_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"community_name",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"VideoHiveInitializationOptions",kind:"LinkedField",name:"hive_initialization_options",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoHiveInitializationOptionHiveJava",kind:"LinkedField",name:"hive_java",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"min_version",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hive_tech_order",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"debug_level",storageKey:null}],storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useGraphQLVideoP2PSettings",["CometRelay","GraphQLVideoP2PSettings","recoverableViolation","useGraphQLVideoP2PSettings_video.graphql","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a){var b=null;if(a){var e,f,g,h,i;e={delay_p2p_until_play:(e=(e=a.config)==null?void 0:e.delay_p2p_until_play)!=null?e:!1,disable_hivejava_for_livevc:(e=(e=a.config)==null?void 0:e.disable_hivejava_for_livevc)!=null?e:!1};var j=a.ticket,k=a.community_info;f=(f=a.hive_initialization_options)==null?void 0:f.debug_level;g=(g=(g=a.hive_initialization_options)==null?void 0:g.hive_tech_order.map(function(a){var b=d("GraphQLVideoP2PSettings").hiveTechOrderOrNull(a);b==null&&a!=null&&c("recoverableViolation")("Invalid hive tech order: '"+a+"'","comet_video_player");return b}).filter(Boolean))!=null?g:[];h=(h=a.hive_initialization_options)==null||(h=h.hive_java)==null?void 0:h.min_version;i=(i=a.hive_initialization_options)!=null&&i.hive_java?{minVersion:h}:null;h=a.hive_initialization_options?{HiveJava:i,debugLevel:f,hiveTechOrder:g}:null;f={communityId:(a=k==null?void 0:k.community_id)!=null?a:"unknowncustomer",communityName:(i=k==null?void 0:k.community_name)!=null?i:"Unknown Customer"};b={community_info:f,config:e,hive_initialization_options:h,ticket:j}}return b}function a(a){a=d("CometRelay").useFragment(h!==void 0?h:h=b("useGraphQLVideoP2PSettings_video.graphql"),a);var e=(i||(i=c("useUnsafeRef_DEPRECATED")))(null),f=i(null);a=j((a=a.p2p_settings)!=null?a:null);var g=JSON.stringify(a);e.current!==g&&(e.current=g!=null?g:null,f.current=a!=null?a:null);return f.current}g["default"]=a}),98);
__d("useVideoImplementationsParamsRelayImpl_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"scrubbing_preference",value:"MPEG_DASH"}],b=[{}],c={alias:null,args:null,concreteType:"XFBVideoDeliveryFailureReason",kind:"LinkedField",name:"failure_reason",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message_format",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message_params",storageKey:null}],storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoImplementationsParamsRelayImpl_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_use_oz",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"min_quality_preference",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"audio_user_preferred_language",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_spherical",storageKey:null},{alias:null,args:null,concreteType:"SphericalVideoFallbackUrls",kind:"LinkedField",name:"spherical_video_fallback_urls",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hd",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sd",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"comet_video_player_nextgendash_availability",storageKey:null},{alias:"videoDeliveryLegacyFields",args:[{kind:"Literal",name:"negate",value:!0}],concreteType:"Video",kind:"LinkedField",name:"if_viewer_should_use_video_delivery_response",plural:!1,selections:[{alias:"dash_manifest_xml_string",args:a,kind:"ScalarField",name:"playlist",storageKey:'playlist(scrubbing_preference:"MPEG_DASH")'},{alias:"dash_manifest_url",args:a,kind:"ScalarField",name:"playable_url",storageKey:'playable_url(scrubbing_preference:"MPEG_DASH")'},{alias:"browser_native_sd_url",args:null,kind:"ScalarField",name:"playable_url",storageKey:null},{alias:"browser_native_hd_url",args:[{kind:"Literal",name:"quality",value:"HD"}],kind:"ScalarField",name:"playable_url",storageKey:'playable_url(quality:"HD")'}],storageKey:"if_viewer_should_use_video_delivery_response(negate:true)"},{alias:"videoDeliveryResponseFragment",args:null,concreteType:"Video",kind:"LinkedField",name:"if_viewer_should_use_video_delivery_response",plural:!1,selections:[{kind:"CatchField",field:{alias:"videoDeliveryResponseResult",args:[{kind:"Literal",name:"video_delivery_request",value:{dash_manifest_requests:b,dash_manifest_url_requests:b,hls_playlist_url_requests:b,progressive_url_requests:[{quality:"SD"},{quality:"HD"}]}}],concreteType:"XFBVideoDeliveryResponse",kind:"LinkedField",name:"video_delivery_response",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBDashManifestResponse",kind:"LinkedField",name:"dash_manifests",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"manifest_xml",storageKey:null},c],storageKey:null},{alias:null,args:null,concreteType:"XFBDashManifestUrlResponse",kind:"LinkedField",name:"dash_manifest_urls",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"manifest_url",storageKey:null},c],storageKey:null},{alias:null,args:null,concreteType:"XFBProgressiveUrlResponse",kind:"LinkedField",name:"progressive_urls",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"progressive_url",storageKey:null},c,{alias:null,args:null,concreteType:"XFBProgressiveUrlMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"quality",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBHlsPlaylistUrlResponse",kind:"LinkedField",name:"hls_playlist_urls",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"hls_playlist_url",storageKey:null},c],storageKey:null}],storageKey:'video_delivery_response(video_delivery_request:{"dash_manifest_requests":[{}],"dash_manifest_url_requests":[{}],"hls_playlist_url_requests":[{}],"progressive_url_requests":[{"quality":"SD"},{"quality":"HD"}]})'},to:"RESULT"}],storageKey:null}],type:"Video",abstractKey:null}}();e.exports=a}),null);
__d("useVideoImplementationsParamsRelayImpl",["CometRelay","CometVideoPlayerNextgendashAvailability","getJSEnumSafe","react","react-compiler-runtime","useVideoImplementationsParamsRelayImpl_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useMemo;function a(a,e){var f,g,i,j,k,l,m,n=d("react-compiler-runtime").c(20);a=d("CometRelay").useFragment(h!==void 0?h:h=b("useVideoImplementationsParamsRelayImpl_video.graphql"),a);(f=a.spherical_video_fallback_urls)==null||f.hd;(f=a.spherical_video_fallback_urls)==null||f.sd;(f=a.videoDeliveryLegacyFields)==null||f.dash_manifest_xml_string;(f=a.videoDeliveryLegacyFields)==null||f.dash_manifest_url;(f=a.videoDeliveryLegacyFields)==null||f.browser_native_hd_url;(f=a.videoDeliveryLegacyFields)==null||f.browser_native_sd_url;f=(f=a.videoDeliveryLegacyFields)==null?void 0:f.browser_native_hd_url;g=(g=a.videoDeliveryLegacyFields)==null?void 0:g.browser_native_sd_url;i=(i=a.videoDeliveryLegacyFields)==null?void 0:i.dash_manifest_url;j=(j=a.videoDeliveryLegacyFields)==null?void 0:j.dash_manifest_xml_string;if(n[0]!==a.comet_video_player_nextgendash_availability){var o;o=(o=c("getJSEnumSafe")(c("CometVideoPlayerNextgendashAvailability"),a.comet_video_player_nextgendash_availability))!=null?o:"UNAVAILABLE_FROM_JS_NO_INFO_FROM_SERVER";n[0]=a.comet_video_player_nextgendash_availability;n[1]=o}else o=n[1];k=(k=a.spherical_video_fallback_urls)==null?void 0:k.hd;l=(l=a.spherical_video_fallback_urls)==null?void 0:l.sd;m=(m=a.videoDeliveryResponseFragment)==null?void 0:m.videoDeliveryResponseResult;var p;n[2]!==e.dashManifestUrlOverride_DO_NOT_USE||n[3]!==e.minQualityPreferenceOverrideFromProductSurface||n[4]!==e.preferBrowserNativeImplementation||n[5]!==e.videoPlayerShakaConfig||n[6]!==f||n[7]!==g||n[8]!==i||n[9]!==j||n[10]!==o||n[11]!==k||n[12]!==l||n[13]!==m||n[14]!==a.audio_user_preferred_language||n[15]!==a.can_use_oz||n[16]!==a.id||n[17]!==a.is_spherical||n[18]!==a.min_quality_preference?(p={browserNativeHdUrl:f,browserNativeSdUrl:g,canUseOz:a.can_use_oz,dashManifestUrl:i,dashManifestUrlOverride_DO_NOT_USE:e.dashManifestUrlOverride_DO_NOT_USE,dashManifestXmlString:j,initialAudioUserPreferredLanguage:a.audio_user_preferred_language,isSpherical:a.is_spherical,minQualityPreference:a.min_quality_preference,minQualityPreferenceOverrideFromProductSurface:e.minQualityPreferenceOverrideFromProductSurface,nextgendashAvailability:o,preferBrowserNativeImplementation:e.preferBrowserNativeImplementation,sphericalVideoFallbackHdUrl:k,sphericalVideoFallbackSdUrl:l,videoDeliveryResponseResult:m,videoFBID:a.id,videoPlayerShakaConfig:e.videoPlayerShakaConfig},n[2]=e.dashManifestUrlOverride_DO_NOT_USE,n[3]=e.minQualityPreferenceOverrideFromProductSurface,n[4]=e.preferBrowserNativeImplementation,n[5]=e.videoPlayerShakaConfig,n[6]=f,n[7]=g,n[8]=i,n[9]=j,n[10]=o,n[11]=k,n[12]=l,n[13]=m,n[14]=a.audio_user_preferred_language,n[15]=a.can_use_oz,n[16]=a.id,n[17]=a.is_spherical,n[18]=a.min_quality_preference,n[19]=p):p=n[19];e=p;return e}g["default"]=a}),98);
__d("VideoPlayerShakaConfigContextProvider",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var b=a.prototype;b.setContext=function(a,b){if(this.$1[a]!==b){var c;this.$1=babelHelpers["extends"]({},this.$1,(c={},c[a]=b,c))}};b.setAllContexts=function(a){this.$1=a};b.getAllContexts=function(){return this.$1};return a}();f["default"]=a}),66);
__d("VideoPlayerShakaConfig",["VideoPlayerContextSensitiveConfigResolver","VideoPlayerShakaConfigContextProvider"],(function(a,b,c,d,e,f,g){var h={};a=function(){function a(a,b,d){this.$1=new(c("VideoPlayerShakaConfigContextProvider"))(),this.$2=b||null,this.$3=new(c("VideoPlayerContextSensitiveConfigResolver"))(d),this.$3.setContexts(a||{}),a&&this.$1.setAllContexts(a)}a.setGlobalOverrideConfig=function(a){h=a};var b=a.prototype;b.setContext=function(a,b){var c=this.$1.getAllContexts();this.$1.setContext(a,b);a=this.$1.getAllContexts();c!==a&&this.$3.setContexts(a)};b.setOverrideConfig=function(a){this.$2=a};b.getBool=function(a,b){a=this.$4(a,b);return typeof a==="boolean"?a:b};b.getNumber=function(a,b){a=this.$4(a,b);return typeof a==="number"?a:b};b.getString=function(a,b){a=this.$4(a,b);return typeof a==="string"?a:b};b.getAllContexts=function(){return this.$1.getAllContexts()};b.$4=function(a,b){if(!!h&&typeof h[a]===typeof b)return h[a];if(typeof this.$3.getValue(a)===typeof b)return this.$3.getValue(a);return!!this.$2&&typeof this.$2[a]===typeof b?this.$2[a]:null};return a}();g["default"]=a}),98);
__d("prepareVideoPlayerImplementations",["ErrorMetadata","VideoPlayerOzImplementationData","VideoPlayerOzWWWConfig","VideoPlayerProgressiveImplementationData","VideoPlayerProgressiveImplementationV2.react","VideoPlayerShakaConfig","cr:8921","cr:8922","cr:9524","emptyFunction","err","getErrorSafe","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=(e=b("cr:8922"))==null?void 0:e.makeNextgendashEngineData;function a(a){var e=a.browserNativeHdUrl,f=a.browserNativeSdUrl,g=a.canUseOz,j=a.dashManifestUrl,k=a.dashManifestUrlOverride_DO_NOT_USE,l=a.dashManifestXmlString,m=a.initialAudioUserPreferredLanguage,n=a.isBroadcast,o=a.isLiveStreaming,p=a.isSpherical,q=a.minQualityPreference,r=a.minQualityPreferenceOverrideFromProductSurface,s=a.nextgendashAvailability,t=a.preferBrowserNativeImplementation,u=a.sphericalVideoFallbackHdUrl,v=a.sphericalVideoFallbackSdUrl,w=a.videoDeliveryResponseResult,x=a.videoFBID;a=a.videoPlayerShakaConfig;var y=[],z=[],A=null,B=null,C=null,D=null,E=[],F=[],G=[],H=[],I=[];if(w!=null)if(w.ok!==!0){var J=c("err")("VideoDeliveryResponse API failed: %s",JSON.stringify(w.errors.map(function(a){try{JSON.stringify(a);return a}catch(b){return String(a)}})));J.name="VideoDeliveryResponseAPIFailed";E.push(J)}else{J=w.value;w=i(F,"dash_manifests","DashManifest",J.dash_manifests,c("emptyFunction").thatReturnsTrue,function(a){return a.manifest_xml!=null&&a.manifest_xml!==""?a:null})[0];var K=i(G,"dash_manifest_urls","DashManifestURL",J.dash_manifest_urls,c("emptyFunction").thatReturnsTrue,function(a){return a.manifest_url!=null&&a.manifest_url!==""?a:null})[0],L=i(H,"progressive_urls","ProgressiveURLHD",J.progressive_urls,function(a){return((a=a.metadata)==null?void 0:a.quality)==="HD"},function(a){return a.progressive_url!=null?a:null})[0],M=i(H,"progressive_urls","ProgressiveURLSD",J.progressive_urls,function(a){return((a=a.metadata)==null?void 0:a.quality)==="SD"},function(a){return a.progressive_url!=null?a:null})[0];A=(w=w==null?void 0:w.manifest_xml)!=null?w:null;B=(w=K==null?void 0:K.manifest_url)!=null?w:null;C=(K=L==null?void 0:L.progressive_url)!=null?K:null;D=(w=M==null?void 0:M.progressive_url)!=null?w:null;if(C==null&&D==null&&c("gkx")("8034")){L=i(I,"hls_playlist_urls","HLSPlaylistURL",J.hls_playlist_urls,c("emptyFunction").thatReturnsTrue,function(a){return a.hls_playlist_url!=null?a:null})[0];C=null;D=(K=L==null?void 0:L.hls_playlist_url)!=null?K:null}}else A=l!=null?l:null,B=j!=null?j:null,C=e!=null?e:null,D=f!=null?f:null;p===!0&&(C=u!=null?u:C,D=v!=null?v:D);if(t!==!0){if(h&&b("cr:8921")&&(E.length===0&&(F.length===0||G.length===0||B!=null||A!=null))){M=h({canUseOz:g,dashManifestUrl:B,dashManifestUrlOverride_DO_NOT_USE:k,dashManifestXmlString:A,experimentationConfig:new(c("VideoPlayerShakaConfig"))(),initialAudioUserPreferredLanguage:m,minQualityPreference:q,nextgendashAvailability:s});M instanceof Error?z.push(["VideoPlayerNextgendashImplementation",M]):y.push({Component:b("cr:8921"),data:M,typename:"VideoPlayerNextgendashImplementation"})}if(E.length===0&&(F.length===0||G.length===0||B!=null||A!=null)){w=d("VideoPlayerOzImplementationData").makeOzImplementationData({canUseOz:g,dashManifestUrl:B,dashManifestUrlOverride_DO_NOT_USE:k,dashManifestXmlString:A,experimentationConfig:new(c("VideoPlayerOzWWWConfig"))(a!=null?a:new(c("VideoPlayerShakaConfig"))()),initialAudioUserPreferredLanguage:m,minQualityPreference:q});w instanceof Error?z.push(["VideoPlayerOzImplementation",w]):y.push({Component:b("cr:9524"),data:w,typename:"VideoPlayerOzImplementation"})}}else{J=c("err")("preferBrowserNativeImplementation="+String(t));J.name="VideoImplementationsPreferBrowserNative";h&&b("cr:8921")&&z.push(["VideoPlayerNextgendashImplementation",J]);z.push(["VideoPlayerOzImplementation",J])}if(E.length===0&&(H.length===0||C!=null||D!=null)){L=r!=null?r:q;K=d("VideoPlayerProgressiveImplementationData").makeProgressiveImplementationData({hdSrc:C,hdSrcPreferred:c("gkx")("24369")||L==="HD"||L==="UHD",sdSrc:D});K instanceof Error?z.push(["VideoPlayerProgressiveImplementation",K]):y.push({Component:c("VideoPlayerProgressiveImplementationV2.react"),data:K,typename:"VideoPlayerProgressiveImplementation"})}l=y.length===0;j=[];j.push.apply(j,E);j.push.apply(j,F);j.push.apply(j,G);j.push.apply(j,H);j.push.apply(j,I);j.push.apply(j,z.map(function(a){var b,d=a[0];a=a[1];a=c("getErrorSafe")(a);d=d.replace(/^VideoPlayer/,"").replace(/(Implementation)|(Engine)$/,"")+"Engine";b=c("err").apply(void 0,["Cannot use "+d+" / "+((b=a.messageFormat)!=null?b:a.message)].concat(a.messageFormat!=null?(b=a.messageParams)!=null?b:[]:[]));b.name="VideoPlayerCannotUse"+d+"/"+a.name;return b}));e=null;if(l||c("gkx")("24370")&&j.length>0){f=new Map();for(u=0;u<j.length;++u){v=j[u];M=v.name+": "+((s=v.messageFormat)!=null?s:v.message);f.has(M)||f.set(M,v)}g=Array.from(f.values());B=[];k=[];A=[];for(a=0;a<g.length;++a){m=g[a];B.push(m.name);k.push((w=m.messageFormat)!=null?w:m.message);m.messageFormat!=null&&m.messageParams!=null&&A.push.apply(A,m.messageParams)}e=c("err").apply(void 0,[(l?p===!0?"Cannot play 360 video: ":"Cannot play video: ":p===!0?"Warning for 360 video: ":"Warning: ")+k.join(" ++ ")].concat(A));e.name=B.join("++");e.type=l?"fatal":"warn";e.project="comet_video_player";J=(t=e.metadata)!=null?t:new(c("ErrorMetadata"))();e.metadata=J;x!=null&&J.addEntry("COMET_VIDEO","VIDEO_ID",String(x));J.addEntry("COMET_VIDEO","VIDEO_IMPLEMENTATION_DEBUG_DATA",JSON.stringify({isBroadcast:n,isLiveStreaming:o,isSpherical:p}));if(l)throw e}return{implementations:y,warning:e}}function i(a,b,c,d,e,f){e=d.filter(e);var g=e.map(function(a){return a.failure_reason==null?f(a):null}).filter(Boolean);if(e.length===0)a.push(k(b,c,d));else if(g.length===0){e=e.filter(function(a){return a.failure_reason!=null});e.length===0?a.push(l(b,c,d)):a.push.apply(a,e.map(function(a){return a.failure_reason!=null?j(b,c,a.failure_reason,a.metadata):null}).filter(Boolean))}return g}function j(a,b,d,e){try{var f;f=(f=JSON.stringify(e))!=null?f:String(e)}catch(a){f=String(e)}e=c("err").apply(void 0,["VideoDeliveryResponse "+a+" failure for "+b+": "+d.type+"; metadata=%s"+(d.message_format!=null&&d.message_format!==""?"; "+d.message_format:""),f].concat(d.message_params));e.name="VideoDeliveryResponseFailureReason/"+a+"("+b+")/"+d.type;return e}function k(a,b,d){try{d=(d=JSON.stringify(d))!=null?d:"N/A"}catch(a){d="N/A"}d=c("err")("VideoDeliveryResponse "+a+" failure for "+b+": no matching items; all items: %s",d);d.name="VideoDeliveryResponseContractViolation/"+a+"("+b+")/no_matching";return d}function l(a,b,d){try{d=(d=JSON.stringify(d))!=null?d:"N/A"}catch(a){d="N/A"}d=c("err")("VideoDeliveryResponse "+a+" failure for "+b+": no succeeded or failed items; all items: %s",d);d.name="VideoDeliveryResponseContractViolation/"+a+"("+b+")/no_success_and_failure";return d}g["default"]=a}),98);
__d("useVideoPlayerImplementations",["FBLogger","gkx","prepareVideoPlayerImplementations","react","react-compiler-runtime","useEmptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h;e=h||d("react");var i=e.useEffect;e.useMemo;function a(a){var b=d("react-compiler-runtime").c(3),e,f;b[0]!==a?(e=function(){if(a){var b,d,e;b=(b=a.messageFormat)!=null?b:a.message;d=a.messageFormat!=null?(d=a.messageParams)!=null?d:[]:[];(e=c("FBLogger")("comet_video_player").catching(a)).warn.apply(e,[b].concat(d))}},f=[a],b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);i(e,f)}var j=c("gkx")("24370")?a:c("useEmptyFunction");function b(a){var b=d("react-compiler-runtime").c(2),e;b[0]!==a?(e=c("prepareVideoPlayerImplementations")(a),b[0]=a,b[1]=e):e=b[1];a=e;b=a;j(b.warning);return b}g["default"]=b}),98);
__d("useVideoImplementationsRelayImpl",["react","react-compiler-runtime","useVideoImplementationsParamsRelayImpl","useVideoPlayerImplementations"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useDebugValue;function a(a,b){var e=d("react-compiler-runtime").c(4);a=c("useVideoImplementationsParamsRelayImpl")(a,b);b=c("useVideoPlayerImplementations")(a);var f=b.implementations;b=b.warning;var g;e[0]!==f||e[1]!==a||e[2]!==b?(g={implementations:f,params:a,warning:b},e[0]=f,e[1]=a,e[2]=b,e[3]=g):g=e[3];i(g);return f}g["default"]=a}),98);
__d("useVideoImplementationsRelay",["useVideoImplementationsRelayImpl"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("useVideoImplementationsRelayImpl")}),98);
__d("useVideoPlayerAudioAvailabilityInfoRelay_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerAudioAvailabilityInfoRelay_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"audio_availability",storageKey:null},{alias:null,args:null,concreteType:"VideoMutedSegment",kind:"LinkedField",name:"muted_segments",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"mute_start_time_in_sec",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mute_end_time_in_sec",storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerAudioAvailabilityInfoRelay",["CometRelay","VideoPlayerAudioAvailabilityInfo","react","react-compiler-runtime","useVideoPlayerAudioAvailabilityInfoRelay_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useMemo;function a(a){var c=d("react-compiler-runtime").c(3);a=d("CometRelay").useFragment(h!==void 0?h:h=b("useVideoPlayerAudioAvailabilityInfoRelay_video.graphql"),a);var e;c[0]!==a.audio_availability||c[1]!==a.muted_segments?(e=d("VideoPlayerAudioAvailabilityInfo").makeVideoPlayerAudioAvailabilityInfo({audioAvailability:a.audio_availability,mutedSegmentsUnsanitized:a.muted_segments==null?[]:a.muted_segments.map(j)}),c[0]=a.audio_availability,c[1]=a.muted_segments,c[2]=e):e=c[2];a=e;return a}function j(a){return{muteEndTimeInSec:a.mute_end_time_in_sec,muteStartTimeInSec:a.mute_start_time_in_sec}}g["default"]=a}),98);
__d("useVideoPlayerAudioSettings_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerAudioSettings_video",selections:[{alias:null,args:null,concreteType:"AudioSettings",kind:"LinkedField",name:"audio_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"video_volume_setting",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"audio_user_preferred_language",storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerAudioSettings",["AudioSettingsVolumeSetting","CometRelay","react","react-compiler-runtime","useVideoPlayerAudioSettings_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useMemo;var j=1;e=.5;var k=null,l=new Map([["default",j],["quiet",e]]);function a(a){var e,f=d("react-compiler-runtime").c(5);a=d("CometRelay").useFragment(h!==void 0?h:h=b("useVideoPlayerAudioSettings_video.graphql"),a);e=(e=a.audio_settings)==null?void 0:e.video_volume_setting;var g="DEFAULT";bb0:switch(e){case"DEFAULT":case"QUIET":g=e;break bb0;default:}e=c("AudioSettingsVolumeSetting")[g];if(f[0]!==e){g=(g=l.get(e))!=null?g:j;f[0]=e;f[1]=g}else g=f[1];e=g;a=(g=a.audio_user_preferred_language)!=null?g:k;f[2]!==a||f[3]!==e?(g={audioUserPreferredLanguage:a,preferredVolumeSetting:e},f[2]=a,f[3]=e,f[4]=g):g=f[4];a=g;return a}g["default"]=a}),98);
__d("useVideoPlayerCaptionsSettings_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerCaptionsSettings_video",selections:[{alias:null,args:null,concreteType:"CaptionsSettings",kind:"LinkedField",name:"captions_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"always_show_captions",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"captions_background_color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"captions_background_opacity",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"captions_text_color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"captions_text_size",storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerCaptionsSettings",["CometRelay","react-compiler-runtime","useVideoPlayerCaptionsSettings_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i="DEFAULT",j="BLACK",k="WHITE",l="DEFAULT";function a(a){var c,e,f,g,m=d("react-compiler-runtime").c(8);a=d("CometRelay").useFragment(h!==void 0?h:h=b("useVideoPlayerCaptionsSettings_video.graphql"),a);c=(c=(c=a.captions_settings)==null?void 0:c.always_show_captions)!=null?c:!1;e=(e=(e=a.captions_settings)==null?void 0:e.captions_background_color)!=null?e:j;f=(f=(f=a.captions_settings)==null?void 0:f.captions_background_opacity)!=null?f:i;g=(g=(g=a.captions_settings)==null?void 0:g.captions_text_color)!=null?g:k;a=(a=(a=a.captions_settings)==null?void 0:a.captions_text_size)!=null?a:l;var n;m[0]!==e||m[1]!==f||m[2]!==g||m[3]!==a?(n={captionsBackgroundColor:e,captionsBackgroundOpacity:f,captionsTextColor:g,captionsTextSize:a},m[0]=e,m[1]=f,m[2]=g,m[3]=a,m[4]=n):n=m[4];m[5]!==c||m[6]!==n?(e={alwaysShowCaptions:c,captionDisplayStyle:n},m[5]=c,m[6]=n,m[7]=e):e=m[7];return e}g["default"]=a}),98);
__d("useVideoPlayerIMFFromVideoMetadata",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useDebugValue;b.useMemo;function a(a){var b=d("react-compiler-runtime").c(5),c=a.isVideoBroadcast;a=a.specInlineJson;c=c===!0;var e;b[0]!==c||b[1]!==a?(e={imfExpectedFromEmsg:c,specInlineJson:a},b[0]=c,b[1]=a,b[2]=e):e=b[2];c=e;a=c;b[3]!==a?(e={useVideoPlayerIMFFromVideoMetadata:a},b[3]=a,b[4]=e):e=b[4];i(e);return a}g["default"]=a}),98);
__d("useVideoPlayerIMFFromVideoMetadataRelay_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerIMFFromVideoMetadataRelay_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_video_broadcast",storageKey:null},{alias:null,args:null,concreteType:"VideoIMFData",kind:"LinkedField",name:"video_imf_data",plural:!1,selections:[{args:null,documentName:"useVideoPlayerIMFFromVideoMetadataRelay_video",fragmentName:"useVideoPlayerIMFFromVideoMetadataRelay_video_imf_data",fragmentPropName:"video_imf_data",kind:"ModuleImport"}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerIMFFromVideoMetadataRelay_video_imf_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerIMFFromVideoMetadataRelay_video_imf_data",selections:[{alias:null,args:null,kind:"ScalarField",name:"spec_inline_json",storageKey:null}],type:"VideoIMFData",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerIMFFromVideoMetadataRelay",["CometRelay","react-compiler-runtime","useVideoPlayerIMFFromVideoMetadata","useVideoPlayerIMFFromVideoMetadataRelay_video.graphql","useVideoPlayerIMFFromVideoMetadataRelay_video_imf_data.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var e=d("react-compiler-runtime").c(4);a=d("CometRelay").useFragment(h!==void 0?h:h=b("useVideoPlayerIMFFromVideoMetadataRelay_video.graphql"),a);var f=d("CometRelay").useFragment(i!==void 0?i:i=b("useVideoPlayerIMFFromVideoMetadataRelay_video_imf_data.graphql"),a.video_imf_data);f=f==null?void 0:f.spec_inline_json;var g;e[0]!==f||e[1]!==a.id||e[2]!==a.is_video_broadcast?(g={isVideoBroadcast:a.is_video_broadcast,specInlineJson:f,videoID:a.id},e[0]=f,e[1]=a.id,e[2]=a.is_video_broadcast,e[3]=g):g=e[3];return c("useVideoPlayerIMFFromVideoMetadata")(g)}g["default"]=a}),98);
__d("useVideoPlayerLiveLatencyKnobSettings_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerLiveLatencyKnobSettings_video",selections:[{alias:null,args:null,concreteType:"VideoBroadcastLowLatencyConfig",kind:"LinkedField",name:"broadcast_low_latency_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ll_desired_latency_ms",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ll_latency_tolerance_ms",storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerLiveLatencyKnobSettings",["CometRelay","react-compiler-runtime","useVideoPlayerLiveLatencyKnobSettings_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var c,e=d("react-compiler-runtime").c(3);a=d("CometRelay").useFragment(h!==void 0?h:h=b("useVideoPlayerLiveLatencyKnobSettings_video.graphql"),a);c=(c=(c=a.broadcast_low_latency_config)==null?void 0:c.ll_desired_latency_ms)!=null?c:0;a=(a=(a=a.broadcast_low_latency_config)==null?void 0:a.ll_latency_tolerance_ms)!=null?a:0;var f;e[0]!==c||e[1]!==a?(f={desiredLatencyMs:c,latencyToleranceMs:a},e[0]=c,e[1]=a,e[2]=f):f=e[2];return f}g["default"]=a}),98);
__d("useVideoPlayerShakaConfig_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerShakaConfig_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_spherical",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_gaming_video",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_latency_menu_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_live_streaming",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fbls_tier",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_latency_sensitive_broadcast",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"selected_latency_setting",storageKey:null}]}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerShakaConfig",["CometRelay","VideoPlayerConnectionQuality","VideoPlayerOzWWWGlobalConfig","VideoPlayerShakaConfig","oz-player/networks/OzBandwidthEstimator","react","react-compiler-runtime","useSelectedLatencySetting","useVideoPlayerShakaConfig_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");var j=e.useEffect,k=e.useState;function a(a,e){var f=d("react-compiler-runtime").c(17);e=e.adClientToken;var g=d("CometRelay").useFragment(h!==void 0?h:h=b("useVideoPlayerShakaConfig_video.graphql"),a),i=e!=null,m=g.is_spherical===!0,n=g.is_gaming_video===!0;e=c("useSelectedLatencySetting")((a=g.id)!=null?a:"null",g.selected_latency_setting);var o=e[0];f[0]!==i||f[1]!==n||f[2]!==m||f[3]!==o||f[4]!==g.fbls_tier||f[5]!==g.is_latency_menu_enabled||f[6]!==g.is_latency_sensitive_broadcast||f[7]!==g.is_live_streaming?(a=function(){var a;return new(c("VideoPlayerShakaConfig"))({connection_quality:d("VideoPlayerConnectionQuality").evaluate(l),content_category:n?"gaming":"general",fbls_tier:(a=g.fbls_tier)!=null&&a.startsWith("user")?"user":"general",is_ad:i,is_latency_sensitive_broadcast:g.is_latency_sensitive_broadcast===!0,is_live:g.is_live_streaming===!0,is_spherical:m,latency_level:g.is_latency_menu_enabled===!0?o:"normal",player_format:"inline",servable_via_fmbs:!1,streaming_implementation:"default"})},f[0]=i,f[1]=n,f[2]=m,f[3]=o,f[4]=g.fbls_tier,f[5]=g.is_latency_menu_enabled,f[6]=g.is_latency_sensitive_broadcast,f[7]=g.is_live_streaming,f[8]=a):a=f[8];e=k(a);var p=e[0];f[9]!==i||f[10]!==p?(a=function(){p.setContext("is_ad",i)},e=[p,i],f[9]=i,f[10]=p,f[11]=a,f[12]=e):(a=f[11],e=f[12]);j(a,e);f[13]!==m||f[14]!==p?(a=function(){p.setContext("is_spherical",m)},e=[p,m],f[13]=m,f[14]=p,f[15]=a,f[16]=e):(a=f[15],e=f[16]);j(a,e);return p}function l(){return c("oz-player/networks/OzBandwidthEstimator").getBandwidth(c("VideoPlayerOzWWWGlobalConfig"))}g["default"]=a}),98);
__d("useVideoPlayerShakaPerformanceLoggerBuilder_init.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerShakaPerformanceLoggerBuilder_init",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"VideoPlayerShakaPerformanceLoggerInit",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerShakaPerformanceLoggerBuilder_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerShakaPerformanceLoggerBuilder_video",selections:[{alias:"video_player_shaka_performance_logger_init2",args:null,concreteType:"VideoPlayerShakaPerformanceLoggerInit",kind:"LinkedField",name:"video_player_shaka_performance_logger_init",plural:!1,selections:[{args:null,documentName:"useVideoPlayerShakaPerformanceLoggerBuilder_video",fragmentName:"useVideoPlayerShakaPerformanceLoggerBuilder_init",fragmentPropName:"init",kind:"ModuleImport"},{alias:null,args:null,kind:"ScalarField",name:"per_session_sampling_rate",storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerShakaPerformanceLoggerBuilder",["CometRelay","react-compiler-runtime","useVideoPlayerShakaPerformanceLoggerBuilder_init.graphql","useVideoPlayerShakaPerformanceLoggerBuilder_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;h!==void 0?h:h=b("useVideoPlayerShakaPerformanceLoggerBuilder_init.graphql");function a(a){var c=d("react-compiler-runtime").c(2);a=d("CometRelay").useFragment(i!==void 0?i:i=b("useVideoPlayerShakaPerformanceLoggerBuilder_video.graphql"),a);var e;if(c[0]!==a.video_player_shaka_performance_logger_init2){e=Symbol["for"]("react.early_return_sentinel");bb0:{var f,g=a.video_player_shaka_performance_logger_init2?d("CometRelay").ModuleResource.read(a.video_player_shaka_performance_logger_init2):null;f=(f=a.video_player_shaka_performance_logger_init2)==null?void 0:f.per_session_sampling_rate;if(g!=null&&f!=null){e=new g({perSessionSampleRate:f});break bb0}}c[0]=a.video_player_shaka_performance_logger_init2;c[1]=e}else e=c[1];return e!==Symbol["for"]("react.early_return_sentinel")?e:null}g["default"]=a}),98);
__d("useVideoPlayerShakaPerformanceLoggerRelayImpl_init.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerShakaPerformanceLoggerRelayImpl_init",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"VideoPlayerShakaPerformanceLoggerInit",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerShakaPerformanceLoggerRelayImpl_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerShakaPerformanceLoggerRelayImpl_video",selections:[{alias:null,args:null,concreteType:"VideoPlayerShakaPerformanceLoggerInit",kind:"LinkedField",name:"video_player_shaka_performance_logger_init",plural:!1,selections:[{args:null,documentName:"useVideoPlayerShakaPerformanceLoggerRelayImpl_video",fragmentName:"useVideoPlayerShakaPerformanceLoggerRelayImpl_init",fragmentPropName:"init",kind:"ModuleImport"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"video_player_shaka_performance_logger_should_sample",storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerShakaPerformanceLoggerRelayImpl",["CometRelay","react-compiler-runtime","useVideoPlayerShakaPerformanceLoggerRelayImpl_init.graphql","useVideoPlayerShakaPerformanceLoggerRelayImpl_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;h!==void 0?h:h=b("useVideoPlayerShakaPerformanceLoggerRelayImpl_init.graphql");function a(a){var c=d("react-compiler-runtime").c(3);a=d("CometRelay").useFragment(i!==void 0?i:i=b("useVideoPlayerShakaPerformanceLoggerRelayImpl_video.graphql"),a);var e;c[0]!==a.video_player_shaka_performance_logger_init||c[1]!==a.video_player_shaka_performance_logger_should_sample?(e=a.video_player_shaka_performance_logger_init?d("CometRelay").ModuleResource.read(a.video_player_shaka_performance_logger_init):null,e!=null&&a.video_player_shaka_performance_logger_should_sample===!0&&e.forceShouldSample(),c[0]=a.video_player_shaka_performance_logger_init,c[1]=a.video_player_shaka_performance_logger_should_sample,c[2]=e):e=c[2];return e}g["default"]=a}),98);
__d("useVideoPlayerShakaPerformanceLoggerRelay",["useVideoPlayerShakaPerformanceLoggerRelayImpl"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("useVideoPlayerShakaPerformanceLoggerRelayImpl")}),98);
__d("VideoStatusType",[],(function(a,b,c,d,e,f){a=Object.freeze({ENCODING:1,DELETED:2,ENCODED:3,UPLOADING:5,OK:6,TOO_LONG:7,ENCODE_FAILED:8,UNPUBLISHED:9,SOFT_DELETED:10,UNDISCOVERABLE:11,UPLOAD_FAILED:13,UPLOADED:14,ORIGINAL_VIDEO_DELETED:15});f["default"]=a}),66);
__d("evaluateVideoPlayerVideoStatusFallbackCover",["fbt","ErrorMetadata","VideoPlayerFallbackCover.react","VideoStatusType","err","getGraphQLEnumSafe","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.disableVideoStatusFallbackIf,d=a.overrideGkForVideoStatusFallback_EXPERIMENTAL,e=a.videoFBID;a=a.videoStatusTypeFromGraphQL;e=k({videoFBID:e,videoStatusTypeFromGraphQL:a});a=null;var f;if(d==null&&!c("gkx")("24384"))a=null,f="disabled_by_gk";else if(d===!1)a=null,f="disabled_by_gk_override";else if((b==null?void 0:b(e))===!0){a=null;f="disable_if:"+e.videoAvailabilityStatus+":"+((d=e.videoStatusTypeFromGraphQL)!=null?d:"null")}else{switch(e.videoAvailabilityStatus){case"unknown":a=null;break;case"ok":a=null;break;case"undiscoverable":a=null;break;case"unpublished":a=null;break;case"processing":b=c("gkx")("24385");a=j.jsx(c("VideoPlayerFallbackCover.react"),{debugError:b?e.debugError:null,message:h._(/*BTDS*/"This video is being processed..."),showDebugWithoutError:b,showLearnMoreLink:!1});break;case"processing_failed":a=j.jsx(c("VideoPlayerFallbackCover.react"),{debugError:e.debugError,message:h._(/*BTDS*/"Processing of this video failed.")});break;case"deleted":a=j.jsx(c("VideoPlayerFallbackCover.react"),{debugError:e.debugError,message:h._(/*BTDS*/"This video isn't available right now.")});break;default:e.videoAvailabilityStatus}f=(a==null?"not_needed_for_status:":"fallback_for_status:")+e.videoAvailabilityStatus+":"+String(e.videoStatusTypeFromGraphQL)}return{fallback:a,fallbackDebug:f,videoStatus:e}}function k(a){var b=a.videoFBID;a=a.videoStatusTypeFromGraphQL;var d=[c("getGraphQLEnumSafe")(c("VideoStatusType"),6)].includes(a)?"ok":[c("getGraphQLEnumSafe")(c("VideoStatusType"),9)].includes(a)?"unpublished":[c("getGraphQLEnumSafe")(c("VideoStatusType"),11)].includes(a)?"undiscoverable":[c("getGraphQLEnumSafe")(c("VideoStatusType"),5),c("getGraphQLEnumSafe")(c("VideoStatusType"),14),c("getGraphQLEnumSafe")(c("VideoStatusType"),1),c("getGraphQLEnumSafe")(c("VideoStatusType"),3)].includes(a)?"processing":[c("getGraphQLEnumSafe")(c("VideoStatusType"),13),c("getGraphQLEnumSafe")(c("VideoStatusType"),8),c("getGraphQLEnumSafe")(c("VideoStatusType"),7)].includes(a)?"processing_failed":[c("getGraphQLEnumSafe")(c("VideoStatusType"),10),c("getGraphQLEnumSafe")(c("VideoStatusType"),2)].includes(a)?"deleted":"unknown",e=d==="ok"||d==="unpublished"||d==="undiscoverable"||d==="processing_failed"||d==="deleted"||d==="unknown",f=null;if(d!=="ok"){var g;f=c("err")("Video is now %s due to video_status_type=%s",d,a);g=(g=f.metadata)!=null?g:new(c("ErrorMetadata"))();g.addEntry("COMET_VIDEO","VIDEO_ID",b!=null?b:"");f.metadata=g;f.name="VideoPlayerVideoStatusInfo"}b={debugError:f,isTerminalStatus:e,videoAvailabilityStatus:d,videoStatusTypeFromGraphQL:a};return b}g["default"]=a}),226);
__d("useVideoPlayerVideoStatusRelayWithFallbackCover_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerVideoStatusRelayWithFallbackCover_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"video_status_type",storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerVideoStatusRelayWithFallbackCover",["CometRelay","evaluateVideoPlayerVideoStatusFallbackCover","react","react-compiler-runtime","useInterval","useVideoPlayerVideoStatusRelayWithFallbackCover_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useDebugValue;function a(a,e,f,g){var i=d("react-compiler-runtime").c(5);a=d("CometRelay").useFragment(h!==void 0?h:h=b("useVideoPlayerVideoStatusRelayWithFallbackCover_video.graphql"),a);var k;i[0]!==f||i[1]!==g||i[2]!==a.id||i[3]!==a.video_status_type?(k=c("evaluateVideoPlayerVideoStatusFallbackCover")({disableVideoStatusFallbackIf:f,overrideGkForVideoStatusFallback_EXPERIMENTAL:g,videoFBID:a.id,videoStatusTypeFromGraphQL:a.video_status_type}),i[0]=f,i[1]=g,i[2]=a.id,i[3]=a.video_status_type,i[4]=k):k=i[4];f=k;c("useInterval")(e,f.videoStatus.isTerminalStatus||f.fallback==null?0:1e4);j(f);return f}g["default"]=a}),98);
__d("VideoPlayerRelay.react",["CastingStateHooks","CometPlaceholder.react","CometRelay","CometTrackingNodeProvider.react","ErrorMetadata","FBLogger","InstreamVideoAdBreaksPlayer.react","JSResourceForInteraction","VideoPlayerErrorBoundary.react","VideoPlayerRelay_video.graphql","VideoPlayerUnsupportedBrowserMessageFallback.react","VideoPlayerXImplRelayWrapper.react","XFBLatencySensitiveTypeUtils.facebook","computeAspectRatio","cr:759","defaultErrorBoundaryFallback","deferredLoadComponent","err","getVideoPlayerAutoplayProps","gkx","lazyLoadComponent","normalizeVideoPlayerLoopCount","react","react-compiler-runtime","requireDeferredForDisplay","useEmptyFunction","useGraphQLVideoAutoplayGatingResult","useGraphQLVideoDRMInfo","useGraphQLVideoP2PSettings","useVideoImplementationsRelay","useVideoPlayerAudioAvailabilityInfoRelay","useVideoPlayerAudioSettings","useVideoPlayerAvailableCaptionsLocalesFromRelay","useVideoPlayerCaptionsSettings","useVideoPlayerIMFFromVideoMetadataRelay","useVideoPlayerLiveLatencyKnobSettings","useVideoPlayerShakaConfig","useVideoPlayerShakaPerformanceLoggerBuilder","useVideoPlayerShakaPerformanceLoggerRelay","useVideoPlayerVideoStatusRelayWithFallbackCover"],(function(a,b,c,d,e,f,g){"use strict";var h=["video"],i=["doNotRenderErrorBoundaryIUnderstandIMustProvideMyOwn","errorBoundaryFallback"],j,k,l=k||(k=d("react"));e=k;e.useCallback;var m=e.useEffect,n=e.useRef,o=e.useTransition,p=(f=b("cr:759"))!=null?f:c("useEmptyFunction"),q=c("gkx")("24325"),r=c("gkx")("24326"),s=c("deferredLoadComponent")(c("requireDeferredForDisplay")("VideoPlayerSphericalFallbackCover.react").__setRef("VideoPlayerRelay.react")),t=c("lazyLoadComponent")(c("JSResourceForInteraction")("VideoPlayerVideoIsCastingCover.react").__setRef("VideoPlayerRelay.react"));function u(a){var e=d("react-compiler-runtime").c(13),f,g;e[0]!==a?(g=a.video,f=babelHelpers.objectWithoutPropertiesLoose(a,h),e[0]=a,e[1]=f,e[2]=g):(f=e[1],g=e[2]);a=d("CometRelay").useRefetchableFragment(j!==void 0?j:j=b("VideoPlayerRelay_video.graphql"),g);var i=a[0],k=a[1];g=o();var p=g[1];e[3]!==k?(a=function(){p(function(){k({},{fetchPolicy:"network-only"})})},e[3]=k,e[4]=a):a=e[4];g=a;a=c("useVideoPlayerVideoStatusRelayWithFallbackCover")(i,g,f.disableVideoStatusFallbackIf,f.overrideGkForVideoStatusFallback_EXPERIMENTAL);var q=a.fallback,r=a.fallbackDebug,s=a.videoStatus,t=n(null);e[5]!==r||e[6]!==i||e[7]!==s||e[8]!==q?(g=function(){var a=s,b=t.current;if(q!=null&&(a.videoAvailabilityStatus!==(b==null?void 0:b.videoAvailabilityStatus)||a.videoStatusTypeFromGraphQL!==(b==null?void 0:b.videoStatusTypeFromGraphQL))){t.current=s;c("FBLogger")("comet_video_player").addMetadata("COMET_VIDEO","VIDEO_ID",(a=i.id)!=null?a:"").warn("VideoPlayerRelay rendered the video status fallback: %s",r)}},e[5]=r,e[6]=i,e[7]=s,e[8]=q,e[9]=g):g=e[9];m(g,void 0);if(q!=null)return q;e[10]!==f||e[11]!==i?(a=l.jsx(v,babelHelpers["extends"]({},f,{video:i})),e[10]=f,e[11]=i,e[12]=a):a=e[12];return a}function v(a){var b,e=d("react-compiler-runtime").c(101),f=a.accessToken,g=a.adClientToken,h=a.audioOnly,i=a.autoplayGatingResult,j=a.bufferEndLimit,k=a.bypassUseCometSizeError,m=a.canAutoplay,n=a.children,o=a.disableLoadingIndicator,u=a.externalLogID,v=a.externalLogType,w=a.forceProgressive_EXPERIMENTAL,x=a.graphQLVideoDRMInfo,y=a.initialForceHD,z=a.initialTracePolicy,A=a.loadSequence,B=a.loggingConfig,C=a.loggingToSNAPLAdditionalData,D=a.loggingToVPLAdditionalData,E=a.loopCount,F=a.manifestURL_DO_NOT_USE,G=a.playerFormat,H=a.playerOriginOverride,ba=a.portalingEnabled,ca=a.portalingFromVideoID,da=a.portalingPlaceMetaData,ea=a.portalingRenderPlaceholder,fa=a.poster,ga=a.productAttribution,ha=a.renderVideoPixelsFit,I=a.seoWebCrawlerLookasideUrl,ia=a.seoWebCrawlerVideoTracks,ja=a.source_VPL_LOGGING_HACK,ka=a.startTimestamp,J=a.subOrigin,K=a.video,L=a.volumeSetting;a=a.wrapVideoPixels_EXPERIMENTAL;o=o===void 0?!1:o;w=w===void 0?!1:w;y=y===void 0?!1:y;G=G===void 0?"inline":G;var M=K.id;if(M==null||M===""){var N=c("err")("Cannot play video: Invalid video ID: %s",M===""?"an empty string":String(M));N.name="VideoPlayerInvalidVideoID";N.project="comet_video_player";throw N}N=K.dash_prefetch_experimental;var O=c("useVideoPlayerAvailableCaptionsLocalesFromRelay")(K),la=(O==null?void 0:O.find(aa))!=null;if(e[0]!==((b=K.latency_sensitive_config)==null?void 0:b.broadcast_latency_sensitivity)){var P;b=d("XFBLatencySensitiveTypeUtils.facebook").toJSEnum((b=K.latency_sensitive_config)==null?void 0:b.broadcast_latency_sensitivity);e[0]=(P=K.latency_sensitive_config)==null?void 0:P.broadcast_latency_sensitivity;e[1]=b}else b=e[1];P=b;e[2]!==g?(b={adClientToken:g},e[2]=g,e[3]=b):b=e[3];b=c("useVideoPlayerShakaConfig")(K,b);var ma=p(M),na=c("useGraphQLVideoP2PSettings")(K),Q=c("useGraphQLVideoDRMInfo")(K);Q=x!=null?x:Q;x=!!(Q&&Q.fairplayCert!==null);w=w===!0||x||q&&!!K.is_live_streaming||r&&typeof MediaSource==="undefined";x=y?"HD":null;e[4]!==F||e[5]!==w||e[6]!==x||e[7]!==b?(y={dashManifestUrlOverride_DO_NOT_USE:F,minQualityPreferenceOverrideFromProductSurface:x,preferBrowserNativeImplementation:w,videoPlayerShakaConfig:b},e[4]=F,e[5]=w,e[6]=x,e[7]=b,e[8]=y):y=e[8];F=c("useVideoImplementationsRelay")(K,y);w=c("useVideoPlayerCaptionsSettings")(K);x=c("useVideoPlayerAudioSettings")(K);b=c("useVideoPlayerLiveLatencyKnobSettings")(K);y=b.desiredLatencyMs;b=b.latencyToleranceMs;var oa=c("useVideoPlayerAudioAvailabilityInfoRelay")(K),R=c("useGraphQLVideoAutoplayGatingResult")(K),S;e[9]!==i||e[10]!==m||e[11]!==R?(S=c("getVideoPlayerAutoplayProps")(R,m,i),e[9]=i,e[10]=m,e[11]=R,e[12]=S):S=e[12];i=S;m=c("useVideoPlayerShakaPerformanceLoggerRelay")(K);R=c("useVideoPlayerShakaPerformanceLoggerBuilder")(K);S=c("useVideoPlayerIMFFromVideoMetadataRelay")(K);var T;e[13]!==G||e[14]!==J||e[15]!==K?(T=l.jsx(c("CometPlaceholder.react"),{fallback:null,children:l.jsx(c("InstreamVideoAdBreaksPlayer.react"),{playerFormat:G,subOrigin:J,video:K})}),e[13]=G,e[14]=J,e[15]=K,e[16]=T):T=e[16];T=T;var U=d("CastingStateHooks").useCastingVideoID(),V=d("VideoPlayerUnsupportedBrowserMessageFallback.react").useVideoPlayerUnsupportedBrowserMessageFallback(K.unsupported_browser_message,M);if(V!=null)return V;V=K.permalink_url;var W=K.spherical_video_renderer,X;e[17]!==G||e[18]!==W||e[19]!==J||e[20]!==V?(X=W?l.jsx(d("CometRelay").MatchContainer,{match:W,props:{playerFormat:G,sphericalVideoRenderer:W,subOrigin:J,videoTahoeUrl:V}}):null,e[17]=G,e[18]=W,e[19]=J,e[20]=V,e[21]=X):X=e[21];W=X;V=K.is_spherical;X=K.is_spherical_enabled;var Y=K.permalink_url;if(V===!0&&X!==!0){if(Y==null||Y===""){var Z;X=c("err")("Cannot play video: Empty permalink URL for a spherical video");X.name="VideoPlayerSphericalEmptyPermalinkURL";X.project="comet_video_player";Z=(Z=X.metadata)!=null?Z:new(c("ErrorMetadata"))();Z.addEntry("COMET_VIDEO","VIDEO_ID",M);X.metadata=Z;throw X}e[22]!==Y?(Z=l.jsx(s,{videoTahoeUrl:Y}),e[22]=Y,e[23]=Z):Z=e[23];return Z}if(U!=null&&U===M){e[24]!==K?(X=l.jsx(c("CometPlaceholder.react"),{fallback:null,children:l.jsx(t,{video:K})}),e[24]=K,e[25]=X):X=e[25];return X}U=(Z=(Y=K.live_playback_instrumentation_configs)==null?void 0:Y.is_client_triggered_trace_enabled)!=null?Z:!1;e[26]!==E||e[27]!==K.is_looping||e[28]!==K.loop_count?(X=c("normalizeVideoPlayerLoopCount")(E,K.is_looping,K.loop_count),e[26]=E,e[27]=K.is_looping,e[28]=K.loop_count,e[29]=X):X=e[29];Y=X;e[30]!==K.height||e[31]!==K.width?(Z=c("computeAspectRatio")(K.width,K.height),e[30]=K.height,e[31]=K.width,e[32]=Z):Z=e[32];E=Z;X=c("gkx")("23009")?K.animated_image_caption:void 0;Z=K.is_podcast_video===!0||h;h=K.pmv_metadata!=null;V=V===!0;I=I!=null?I:K.seo_web_crawler_lookaside_url;O=((O=O==null?void 0:O.length)!=null?O:0)>0;L=L!==void 0?L:x.preferredVolumeSetting;var $;e[33]!==m||e[34]!==f||e[35]!==g||e[36]!==la||e[37]!==oa||e[38]!==x.audioUserPreferredLanguage||e[39]!==P||e[40]!==j||e[41]!==k||e[42]!==w.alwaysShowCaptions||e[43]!==w.captionDisplayStyle||e[44]!==n||e[45]!==y||e[46]!==o||e[47]!==ma||e[48]!==u||e[49]!==v||e[50]!==Q||e[51]!==na||e[52]!==F||e[53]!==N||e[54]!==z||e[55]!==T||e[56]!==U||e[57]!==b||e[58]!==A||e[59]!==B||e[60]!==C||e[61]!==D||e[62]!==Y||e[63]!==G||e[64]!==H||e[65]!==ba||e[66]!==ca||e[67]!==da||e[68]!==ea||e[69]!==fa||e[70]!==ga||e[71]!==ha||e[72]!==ia||e[73]!==ja||e[74]!==ka||e[75]!==J||e[76]!==X||e[77]!==Z||e[78]!==h||e[79]!==V||e[80]!==I||e[81]!==O||e[82]!==L||e[83]!==K.broadcast_id||e[84]!==K.broadcast_status||e[85]!==K.broadcaster_origin||e[86]!==K.captions_url||e[87]!==K.is_live_streaming||e[88]!==K.is_live_trace_enabled||e[89]!==K.is_ncsr||e[90]!==K.is_video_broadcast||e[91]!==M||e[92]!==E||e[93]!==i.autoplayGatingResult||e[94]!==i.autoplaySetting||e[95]!==i.canAutoplay||e[96]!==S||e[97]!==R||e[98]!==W||e[99]!==a?($=l.jsx(c("VideoPlayerXImplRelayWrapper.react"),{VideoPlayerShakaPerformanceLoggerClass:m,accessToken:f,adClientToken:g,alt:X,alwaysShowCaptions:w.alwaysShowCaptions,areCaptionsAutogenerated:la,audioAvailabilityInfo:oa,audioOnly:Z,autoplayGatingResult:i.autoplayGatingResult,autoplaySetting:i.autoplaySetting,broadcastId:K.broadcast_id,broadcastLatencySensitivity:P,broadcastStatus:K.broadcast_status,broadcasterOrigin:K.broadcaster_origin,bufferEndLimit:j,bypassUseCometSizeError:k,canAutoplay:i.canAutoplay,captionDisplayStyle:w.captionDisplayStyle,children:n,desiredLatencyMs:y,disableLoadingIndicator:o,expiredVideoUrlRefreshHandler:ma,externalLogID:u,externalLogType:v,graphQLVideoDRMInfo:Q,graphQLVideoP2PSettings:na,implementations:F,initialRepresentationIds:N,initialTracePolicy:z,instreamVideoAdBreaksPlayer:T,isClientTriggeredTraceEnabled:U,isLiveStreaming:K.is_live_streaming,isLiveTraceEnabled:K.is_live_trace_enabled,isNCSR:K.is_ncsr,isPremiumMusicVideo:h,isSpherical:V,isVideoBroadcast:K.is_video_broadcast,latencyToleranceMs:b,loadSequence:A,loggingConfig:B,loggingToSNAPLAdditionalData:C,loggingToVPLAdditionalData:D,loopCount:Y,playerFormat:G,playerOriginOverride:H,portalingEnabled:ba,portalingFromVideoID:ca,portalingPlaceMetaData:da,portalingRenderPlaceholder:ea,poster:fa,productAttribution:ga,renderVideoPixelsFit:ha,seoWebCrawlerLookasideUrl:I,seoWebCrawlerVideoTracks:ia,sideLoadCaptionsExpected:O,sideLoadCaptionsUrl:K.captions_url,source_VPL_LOGGING_HACK:ja,startTimestamp:ka,subOrigin:J,userPreferenceLang:x.audioUserPreferredLanguage,videoFBID:M,videoPixelsAspectRatio:E,videoPlayerIMFFromVideoMetadata:S,videoPlayerShakaPerformanceLoggerBuilder:R,videoPlayerSpherical:W,volumeSetting:L,wrapVideoPixels_EXPERIMENTAL:a},M),e[33]=m,e[34]=f,e[35]=g,e[36]=la,e[37]=oa,e[38]=x.audioUserPreferredLanguage,e[39]=P,e[40]=j,e[41]=k,e[42]=w.alwaysShowCaptions,e[43]=w.captionDisplayStyle,e[44]=n,e[45]=y,e[46]=o,e[47]=ma,e[48]=u,e[49]=v,e[50]=Q,e[51]=na,e[52]=F,e[53]=N,e[54]=z,e[55]=T,e[56]=U,e[57]=b,e[58]=A,e[59]=B,e[60]=C,e[61]=D,e[62]=Y,e[63]=G,e[64]=H,e[65]=ba,e[66]=ca,e[67]=da,e[68]=ea,e[69]=fa,e[70]=ga,e[71]=ha,e[72]=ia,e[73]=ja,e[74]=ka,e[75]=J,e[76]=X,e[77]=Z,e[78]=h,e[79]=V,e[80]=I,e[81]=O,e[82]=L,e[83]=K.broadcast_id,e[84]=K.broadcast_status,e[85]=K.broadcaster_origin,e[86]=K.captions_url,e[87]=K.is_live_streaming,e[88]=K.is_live_trace_enabled,e[89]=K.is_ncsr,e[90]=K.is_video_broadcast,e[91]=M,e[92]=E,e[93]=i.autoplayGatingResult,e[94]=i.autoplaySetting,e[95]=i.canAutoplay,e[96]=S,e[97]=R,e[98]=W,e[99]=a,e[100]=$):$=e[100];return $}function aa(a){return a.localizedCreationMethod!=null}function a(a){var b=d("react-compiler-runtime").c(9),e,f,g;b[0]!==a?(g=a.doNotRenderErrorBoundaryIUnderstandIMustProvideMyOwn,e=a.errorBoundaryFallback,f=babelHelpers.objectWithoutPropertiesLoose(a,i),b[0]=a,b[1]=e,b[2]=f,b[3]=g):(e=b[1],f=b[2],g=b[3]);a=g===void 0?!1:g;b[4]!==f?(g=l.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:13,children:l.jsx(u,babelHelpers["extends"]({},f))}),b[4]=f,b[5]=g):g=b[5];f=g;if(a)return f;g=e!=null?e:c("defaultErrorBoundaryFallback");b[6]!==f||b[7]!==g?(a=l.jsx(c("VideoPlayerErrorBoundary.react"),{description:"VideoPlayerRelayBoundary",fallback:g,children:f}),b[6]=f,b[7]=g,b[8]=a):a=b[8];return a}g["default"]=a}),98);
__d("useInstreamAdsStoryPlaybackControl",["InstreamAdsExtraFieldsContext","InstreamAdsPalmStateContext","InstreamPalmStateManagerContext","VideoPlayerHooks","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useEffect;function a(a){var b=a.freezeTokenRef,c=a.organicController,e=a.previousPlaceDescription,f=d("InstreamAdsPalmStateContext").useInstreamAdsPalmStateContext(),g=d("InstreamPalmStateManagerContext").useInstreamPalmStateManager(),h=(i||(i=d("VideoPlayerHooks"))).useEnded(),l=i.useController(),m=d("InstreamAdsExtraFieldsContext").useInstreamAdsExtraFieldsContext();j(function(){switch(f){case"START":c.pause("commercial_break");k(b,c);break;case"START_AD":var a=c.getCurrentState(),d=a.muted;a=a.volume;l.setMuted(d,"commercial_break");l.setVolume(a);c.pause("commercial_break");k(b,c);break;case"PLAY_NI_VIDEO":c.pause("commercial_break");d=c.getCurrentState();a=d.muted;d=d.volume;l.setMuted(a,"commercial_break");l.setVolume(d);k(b,c);break;case"PLAY_LONGER_AD":c.pause("commercial_break");a=c.getCurrentState();d=a.muted;a=a.volume;l.setMuted(d,"commercial_break");l.setVolume(a);k(b,c);break}switch(e){case"tahoe":k(b,c,function(){c.setMuted(!0,"tahoe_transition_phase_initiated")});l.setMuted(!0,"tahoe_transition_phase_initiated");return;case"watch_and_scroll":k(b,c,function(){c.setMuted(!0,"watch_and_scroll_transition_phase_initiated")});l.setMuted(!0,"watch_and_scroll_transition_phase_initiated");return}},[f,c,l,b,e]);j(function(){if(h){var a;((a=m==null?void 0:m.isAdPod)!=null?a:!1)&&(m==null?void 0:m.adPodIndex)===0?(g.setExtraFields(Object.assign(m||{},{adPodIndex:1})),g.setState("START")):g.setState("END");g.setExtraFields(Object.assign(m||{},{adPlaytime:0,watchTillEnd:h}))}},[h,m,g]);j(function(){var a=function(){l.pause("user_initiated")},b=function(){g.setState("END")};g.setHideAdBehavior({onClose:b,onOpen:a})},[l,g])}function k(a,b,c){if(c)a.current&&(b.unfreeze(a.current),a.current=null),c(),k(a,b);else{a.current=(c=a.current)!=null?c:b.freeze()}}g["default"]=a}),98);/*FB_PKG_DELIM*/
/**
 *
 * This file is generated from fbsource. Please do not modify it directly.
 *
 *
 * @nolint
 * @generated
 * @nopackage
 * @fullSyntaxTransform
 * @preserve-whitespace
 */__d("ls_voprf_utils_v2",["Promise"],(function $module_ls_voprf_utils_v2(global,require,requireDynamic,requireLazy,module,exports){var _require_closure_Promise;


var Module=function(){
var _scriptDir=typeof document!=='undefined'&&document.currentScript?document.currentScript.src:undefined;

return(
function(moduleArg){if(moduleArg===void 0){moduleArg={};}

var Module=moduleArg;var readyPromiseResolve,readyPromiseReject;Module["ready"]=new(_require_closure_Promise||(_require_closure_Promise=require("Promise")))(function(resolve,reject){readyPromiseResolve=resolve;readyPromiseReject=reject;});["_main","getExceptionMessage","___get_exception_message","_free","_memory","_curve_create","_curve_free","_curve_init_ristretto","_get_curve_element_bytes","_get_curve_scalar_bytes","_kdf_create","_kdf_free","_kdf_init_naor_reingold","_sodiumInit","_voprf_create","_voprf_free","_voprf_init_exp_twohashdh","_blind","_verifiable_unblind","_voprf_client_finalize","_voprf_setup","_voprf_evaluate","_voprf_server_finalize","_get_voprf_final_evaluation_bytes","___indirect_function_table","__embind_initialize_bindings","_fflush","___start_em_asm","___stop_em_asm","onRuntimeInitialized"].forEach(function(prop){if(!Object.getOwnPropertyDescriptor(Module["ready"],prop)){Object.defineProperty(Module["ready"],prop,{get:function get(){return abort("You are getting "+prop+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js");},set:function set(){return abort("You are setting "+prop+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js");}});}});var moduleOverrides=Object.assign({},Module);var arguments_=[];var thisProgram="./this.program";var quit_=function quit_(status,toThrow){throw toThrow;};var ENVIRONMENT_IS_WEB=true;var ENVIRONMENT_IS_WORKER=false;var ENVIRONMENT_IS_NODE=false;var ENVIRONMENT_IS_SHELL=false;if(Module["ENVIRONMENT"]){throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -sENVIRONMENT=web or -sENVIRONMENT=node)");}var scriptDirectory="";function locateFile(path){if(Module["locateFile"]){return Module["locateFile"](path,scriptDirectory);}return scriptDirectory+path;}var read_,readAsync,readBinary,setWindowTitle;if(ENVIRONMENT_IS_SHELL){if(typeof process=="object"&&typeof require==="function"||typeof window=="object"||typeof importScripts=="function")throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");if(typeof read!="undefined"){read_=read;}readBinary=function readBinary(f){if(typeof readbuffer=="function"){return new Uint8Array(readbuffer(f));}var data=read(f,"binary");assert(typeof data=="object");return data;};readAsync=function readAsync(f,onload,onerror){setTimeout(function(){return onload(readBinary(f));});};if(typeof clearTimeout=="undefined"){globalThis.clearTimeout=function(id){};}if(typeof setTimeout=="undefined"){globalThis.setTimeout=function(f){return typeof f=="function"?f():abort();};}if(typeof scriptArgs!="undefined"){arguments_=scriptArgs;}else if(typeof arguments!="undefined"){arguments_=arguments;}if(typeof quit=="function"){quit_=function quit_(status,toThrow){setTimeout(function(){if(!(toThrow instanceof ExitStatus)){var toLog=toThrow;if(toThrow&&typeof toThrow=="object"&&toThrow.stack){toLog=[toThrow,toThrow.stack];}err("exiting due to exception: "+toLog);}quit(status);});throw toThrow;};}if(typeof print!="undefined"){if(typeof console=="undefined")console={};console.log=print;console.warn=console.error=typeof printErr!="undefined"?printErr:print;}}else if(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER){if(ENVIRONMENT_IS_WORKER){scriptDirectory=self.location.href;}else if(typeof document!="undefined"&&document.currentScript){scriptDirectory=document.currentScript.src;}if(_scriptDir){scriptDirectory=_scriptDir;}if(scriptDirectory.indexOf("blob:")!==0){scriptDirectory=scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1);}else{scriptDirectory="";}if(!(typeof window=="object"||typeof importScripts=="function"))throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");{read_=function read_(url){var xhr=new XMLHttpRequest();xhr.open("GET",url,false);xhr.send(null);return xhr.responseText;};if(ENVIRONMENT_IS_WORKER){readBinary=function readBinary(url){var xhr=new XMLHttpRequest();xhr.open("GET",url,false);xhr.responseType="arraybuffer";xhr.send(null);return new Uint8Array(xhr.response);};}readAsync=function readAsync(url,onload,onerror){var xhr=new XMLHttpRequest();xhr.open("GET",url,true);xhr.responseType="arraybuffer";xhr.onload=function(){if(xhr.status==200||xhr.status==0&&xhr.response){onload(xhr.response);return;}onerror();};xhr.onerror=onerror;xhr.send(null);};}setWindowTitle=function setWindowTitle(title){return document.title=title;};}else{throw new Error("environment detection error");}var out=Module["print"]||console.log.bind(console);var err=Module["printErr"]||console.error.bind(console);Object.assign(Module,moduleOverrides);moduleOverrides=null;checkIncomingModuleAPI();if(Module["arguments"])arguments_=Module["arguments"];legacyModuleProp("arguments","arguments_");if(Module["thisProgram"])thisProgram=Module["thisProgram"];legacyModuleProp("thisProgram","thisProgram");if(Module["quit"])quit_=Module["quit"];legacyModuleProp("quit","quit_");assert(typeof Module["memoryInitializerPrefixURL"]=="undefined","Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["pthreadMainPrefixURL"]=="undefined","Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["cdInitializerPrefixURL"]=="undefined","Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["filePackagePrefixURL"]=="undefined","Module.filePackagePrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["read"]=="undefined","Module.read option was removed (modify read_ in JS)");assert(typeof Module["readAsync"]=="undefined","Module.readAsync option was removed (modify readAsync in JS)");assert(typeof Module["readBinary"]=="undefined","Module.readBinary option was removed (modify readBinary in JS)");assert(typeof Module["setWindowTitle"]=="undefined","Module.setWindowTitle option was removed (modify setWindowTitle in JS)");assert(typeof Module["TOTAL_MEMORY"]=="undefined","Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY");legacyModuleProp("asm","wasmExports");legacyModuleProp("read","read_");legacyModuleProp("readAsync","readAsync");legacyModuleProp("readBinary","readBinary");legacyModuleProp("setWindowTitle","setWindowTitle");assert(!ENVIRONMENT_IS_WORKER,"worker environment detected but not enabled at build time.  Add 'worker' to `-sENVIRONMENT` to enable.");assert(!ENVIRONMENT_IS_NODE,"node environment detected but not enabled at build time.  Add 'node' to `-sENVIRONMENT` to enable.");assert(!ENVIRONMENT_IS_SHELL,"shell environment detected but not enabled at build time.  Add 'shell' to `-sENVIRONMENT` to enable.");var wasmBinary;if(Module["wasmBinary"])wasmBinary=Module["wasmBinary"];legacyModuleProp("wasmBinary","wasmBinary");var noExitRuntime=Module["noExitRuntime"]||true;legacyModuleProp("noExitRuntime","noExitRuntime");if(typeof WebAssembly!="object"){abort("no native wasm support detected");}var wasmMemory;var wasmExports;var ABORT=false;var EXITSTATUS;function assert(condition,text){if(!condition){abort("Assertion failed"+(text?": "+text:""));}}var HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function updateMemoryViews(){var b=wasmMemory.buffer;Module["HEAP8"]=HEAP8=new Int8Array(b);Module["HEAP16"]=HEAP16=new Int16Array(b);Module["HEAP32"]=HEAP32=new Int32Array(b);Module["HEAPU8"]=HEAPU8=new Uint8Array(b);Module["HEAPU16"]=HEAPU16=new Uint16Array(b);Module["HEAPU32"]=HEAPU32=new Uint32Array(b);Module["HEAPF32"]=HEAPF32=new Float32Array(b);Module["HEAPF64"]=HEAPF64=new Float64Array(b);}assert(!Module["STACK_SIZE"],"STACK_SIZE can no longer be set at runtime.  Use -sSTACK_SIZE at link time");assert(typeof Int32Array!="undefined"&&typeof Float64Array!=="undefined"&&Int32Array.prototype.subarray!=undefined&&Int32Array.prototype.set!=undefined,"JS engine does not provide full typed array support");assert(!Module["wasmMemory"],"Use of `wasmMemory` detected.  Use -sIMPORTED_MEMORY to define wasmMemory externally");assert(!Module["INITIAL_MEMORY"],"Detected runtime INITIAL_MEMORY setting.  Use -sIMPORTED_MEMORY to define wasmMemory dynamically");var wasmTable;function writeStackCookie(){var max=_emscripten_stack_get_end2();assert((max&3)==0);if(max==0){max+=4;}HEAPU32[max>>2]=34821223;HEAPU32[max+4>>2]=2310721022;HEAPU32[0>>2]=1668509029;}function checkStackCookie(){if(ABORT)return;var max=_emscripten_stack_get_end2();if(max==0){max+=4;}var cookie1=HEAPU32[max>>2];var cookie2=HEAPU32[max+4>>2];if(cookie1!=34821223||cookie2!=2310721022){abort("Stack overflow! Stack cookie has been overwritten at "+ptrToString(max)+", expected hex dwords 0x89BACDFE and 0x2135467, but received "+ptrToString(cookie2)+" "+ptrToString(cookie1));}if(HEAPU32[0>>2]!=1668509029){abort("Runtime error: The application has corrupted its heap memory area (address zero)!");}}(function(){var h16=new Int16Array(1);var h8=new Int8Array(h16.buffer);h16[0]=25459;if(h8[0]!==115||h8[1]!==99)throw"Runtime error: expected the system to be little-endian! (Run with -sSUPPORT_BIG_ENDIAN to bypass)";})();var __ATPRERUN__=[];var __ATINIT__=[];var __ATPOSTRUN__=[];var runtimeInitialized=false;var runtimeKeepaliveCounter=0;function preRun(){if(Module["preRun"]){if(typeof Module["preRun"]=="function")Module["preRun"]=[Module["preRun"]];while(Module["preRun"].length){addOnPreRun(Module["preRun"].shift());}}callRuntimeCallbacks(__ATPRERUN__);}function initRuntime(){assert(!runtimeInitialized);runtimeInitialized=true;checkStackCookie();callRuntimeCallbacks(__ATINIT__);}function postRun(){checkStackCookie();if(Module["postRun"]){if(typeof Module["postRun"]=="function")Module["postRun"]=[Module["postRun"]];while(Module["postRun"].length){addOnPostRun(Module["postRun"].shift());}}callRuntimeCallbacks(__ATPOSTRUN__);}function addOnPreRun(cb){__ATPRERUN__.unshift(cb);}function addOnInit(cb){__ATINIT__.unshift(cb);}function addOnPostRun(cb){__ATPOSTRUN__.unshift(cb);}assert(Math.imul,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");assert(Math.fround,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");assert(Math.clz32,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");assert(Math.trunc,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var runDependencies=0;var runDependencyWatcher=null;var dependenciesFulfilled=null;var runDependencyTracking={};function addRunDependency(id){runDependencies++;if(Module["monitorRunDependencies"]){Module["monitorRunDependencies"](runDependencies);}if(id){assert(!runDependencyTracking[id]);runDependencyTracking[id]=1;if(runDependencyWatcher===null&&typeof setInterval!="undefined"){runDependencyWatcher=setInterval(function(){if(ABORT){clearInterval(runDependencyWatcher);runDependencyWatcher=null;return;}var shown=false;for(var dep in runDependencyTracking){if(!shown){shown=true;err("still waiting on run dependencies:");}err("dependency: "+dep);}if(shown){err("(end of list)");}},1e4);}}else{err("warning: run dependency added without ID");}}function removeRunDependency(id){runDependencies--;if(Module["monitorRunDependencies"]){Module["monitorRunDependencies"](runDependencies);}if(id){assert(runDependencyTracking[id]);delete runDependencyTracking[id];}else{err("warning: run dependency removed without ID");}if(runDependencies==0){if(runDependencyWatcher!==null){clearInterval(runDependencyWatcher);runDependencyWatcher=null;}if(dependenciesFulfilled){var callback=dependenciesFulfilled;dependenciesFulfilled=null;callback();}}}function abort(what){if(Module["onAbort"]){Module["onAbort"](what);}what="Aborted("+what+")";err(what);ABORT=true;EXITSTATUS=1;var e=new WebAssembly.RuntimeError(what);readyPromiseReject(e);throw e;}var FS={error:function error(){abort("Filesystem support (FS) was not included. The problem is that you are using files from JS, but files were not used from C/C++, so filesystem support was not auto-included. You can force-include filesystem support with -sFORCE_FILESYSTEM");},init:function init(){FS.error();},createDataFile:function createDataFile(){FS.error();},createPreloadedFile:function createPreloadedFile(){FS.error();},createLazyFile:function createLazyFile(){FS.error();},open:function open(){FS.error();},mkdev:function mkdev(){FS.error();},registerDevice:function registerDevice(){FS.error();},analyzePath:function analyzePath(){FS.error();},ErrnoError:function ErrnoError(){FS.error();}};Module["FS_createDataFile"]=FS.createDataFile;Module["FS_createPreloadedFile"]=FS.createPreloadedFile;var dataURIPrefix="data:application/octet-stream;base64,";function isDataURI(filename){return filename.startsWith(dataURIPrefix);}function isFileURI(filename){return filename.startsWith("file://");}function createExportWrapper(name){return function(){assert(runtimeInitialized,"native function `"+name+"` called before runtime initialization");var f=wasmExports[name];assert(f,"exported native function `"+name+"` not found");return f.apply(null,arguments);};}var EmscriptenEH=function(_Error){"use strict";function EmscriptenEH(){return _Error.apply(this,arguments)||this;}babelHelpers.inheritsLoose(EmscriptenEH,_Error);return EmscriptenEH;}(babelHelpers.wrapNativeSuper(Error));var EmscriptenSjLj=function(_EmscriptenEH){"use strict";function EmscriptenSjLj(){return _EmscriptenEH.apply(this,arguments)||this;}babelHelpers.inheritsLoose(EmscriptenSjLj,_EmscriptenEH);return EmscriptenSjLj;}(EmscriptenEH);var CppException=function(_EmscriptenEH2){"use strict";function CppException(excPtr){var _this;_this=_EmscriptenEH2.call(this,excPtr)||this;_this.excPtr=excPtr;var excInfo=getExceptionMessage(excPtr);_this.name=excInfo[0];_this.message=excInfo[1];return _this;}babelHelpers.inheritsLoose(CppException,_EmscriptenEH2);return CppException;}(EmscriptenEH);var wasmBinaryFile;wasmBinaryFile="crypto_utils_v2.wasm";if(!isDataURI(wasmBinaryFile)){wasmBinaryFile=locateFile(wasmBinaryFile);}function getBinarySync(file){if(file==wasmBinaryFile&&wasmBinary){return new Uint8Array(wasmBinary);}if(readBinary){return readBinary(file);}throw"both async and sync fetching of the wasm failed";}function getBinaryPromise(binaryFile){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch=="function"){return fetch(binaryFile,{credentials:"same-origin"}).then(function(response){if(!response["ok"]){throw"failed to load wasm binary file at '"+binaryFile+"'";}return response["arrayBuffer"]();})["catch"](function(){return getBinarySync(binaryFile);});}}return(_require_closure_Promise||(_require_closure_Promise=require("Promise"))).resolve().then(function(){return getBinarySync(binaryFile);});}function instantiateArrayBuffer(binaryFile,imports,receiver){return getBinaryPromise(binaryFile).then(function(binary){return WebAssembly.instantiate(binary,imports);}).then(function(instance){return instance;}).then(receiver,function(reason){err("failed to asynchronously prepare wasm: "+reason);if(isFileURI(wasmBinaryFile)){err("warning: Loading from a file URI ("+wasmBinaryFile+") is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing");}abort(reason);});}function instantiateAsync(binary,binaryFile,imports,callback){if(!binary&&typeof WebAssembly.instantiateStreaming=="function"&&!isDataURI(binaryFile)&&typeof fetch=="function"){return fetch(binaryFile,{credentials:"same-origin"}).then(function(response){var result=WebAssembly.instantiateStreaming(response,imports);return result.then(callback,function(reason){err("wasm streaming compile failed: "+reason);err("falling back to ArrayBuffer instantiation");return instantiateArrayBuffer(binaryFile,imports,callback);});});}return instantiateArrayBuffer(binaryFile,imports,callback);}function createWasm(){var info={"env":wasmImports,"wasi_snapshot_preview1":wasmImports};function receiveInstance(instance,module){var exports=instance.exports;wasmExports=exports;wasmMemory=wasmExports["memory"];Module["wasmMemory"]=wasmMemory;assert(wasmMemory,"memory not found in wasm exports");updateMemoryViews();wasmTable=wasmExports["__indirect_function_table"];assert(wasmTable,"table not found in wasm exports");addOnInit(wasmExports["__wasm_call_ctors"]);removeRunDependency("wasm-instantiate");return exports;}addRunDependency("wasm-instantiate");var trueModule=Module;function receiveInstantiationResult(result){assert(Module===trueModule,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?");trueModule=null;receiveInstance(result["instance"]);}if(Module["instantiateWasm"]){try{return Module["instantiateWasm"](info,receiveInstance);}catch(e){err("Module.instantiateWasm callback failed with error: "+e);readyPromiseReject(e);}}instantiateAsync(wasmBinary,wasmBinaryFile,info,receiveInstantiationResult)["catch"](readyPromiseReject);return{};}function legacyModuleProp(prop,newName,incomming){if(incomming===void 0){incomming=true;}if(!Object.getOwnPropertyDescriptor(Module,prop)){Object.defineProperty(Module,prop,{configurable:true,get:function get(){var extra=incomming?" (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)":"";abort("`Module."+prop+"` has been replaced by `"+newName+"`"+extra);}});}}function ignoredModuleProp(prop){if(Object.getOwnPropertyDescriptor(Module,prop)){abort("`Module."+prop+"` was supplied but `"+prop+"` not included in INCOMING_MODULE_JS_API");}}function isExportedByForceFilesystem(name){return name==="FS_createPath"||name==="FS_createDataFile"||name==="FS_createPreloadedFile"||name==="FS_unlink"||name==="addRunDependency"||name==="FS_createLazyFile"||name==="FS_createDevice"||name==="removeRunDependency";}function missingGlobal(sym,msg){if(typeof globalThis!=="undefined"){Object.defineProperty(globalThis,sym,{configurable:true,get:function get(){_warnOnce("`"+sym+"` is not longer defined by emscripten. "+msg);return undefined;}});}}missingGlobal("buffer","Please use HEAP8.buffer or wasmMemory.buffer");function missingLibrarySymbol(sym){if(typeof globalThis!=="undefined"&&!Object.getOwnPropertyDescriptor(globalThis,sym)){Object.defineProperty(globalThis,sym,{configurable:true,get:function get(){var msg="`"+sym+"` is a library symbol and not included by default; add it to your library.js __deps or to DEFAULT_LIBRARY_FUNCS_TO_INCLUDE on the command line";var librarySymbol=sym;if(!librarySymbol.startsWith("_")){librarySymbol="$"+sym;}msg+=" (e.g. -sDEFAULT_LIBRARY_FUNCS_TO_INCLUDE='"+librarySymbol+"')";if(isExportedByForceFilesystem(sym)){msg+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you";}_warnOnce(msg);return undefined;}});}unexportedRuntimeSymbol(sym);}function unexportedRuntimeSymbol(sym){if(!Object.getOwnPropertyDescriptor(Module,sym)){Object.defineProperty(Module,sym,{configurable:true,get:function get(){var msg="'"+sym+"' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the Emscripten FAQ)";if(isExportedByForceFilesystem(sym)){msg+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you";}abort(msg);}});}}var ASM_CONSTS={50356:function _(){return Module.getRandomValue();},50392:function _(){if(Module.getRandomValue===undefined){try{var window_="object"===typeof window?window:self;var crypto_=typeof window_.crypto!=="undefined"?window_.crypto:window_.msCrypto;var randomValuesStandard=function randomValuesStandard(){var buf=new Uint32Array(1);crypto_.getRandomValues(buf);return buf[0]>>>0;};randomValuesStandard();Module.getRandomValue=randomValuesStandard;}catch(e){{throw"No secure random number generator found";}}}}};function ExitStatus(status){this.name="ExitStatus";this.message="Program terminated with exit("+status+")";this.status=status;}var callRuntimeCallbacks=function callRuntimeCallbacks(callbacks){while(callbacks.length>0){callbacks.shift()(Module);}};var withStackSave=function withStackSave(f){var stack=stackSave();var ret=f();stackRestore(stack);return ret;};var UTF8Decoder=typeof TextDecoder!="undefined"?new TextDecoder("utf8"):undefined;var UTF8ArrayToString=function UTF8ArrayToString(heapOrArray,idx,maxBytesToRead){var endIdx=idx+maxBytesToRead;var endPtr=idx;while(heapOrArray[endPtr]&&!(endPtr>=endIdx))++endPtr;if(endPtr-idx>16&&heapOrArray.buffer&&UTF8Decoder){return UTF8Decoder.decode(heapOrArray.subarray(idx,endPtr));}var str="";while(idx<endPtr){var u0=heapOrArray[idx++];if(!(u0&128)){str+=String.fromCharCode(u0);continue;}var u1=heapOrArray[idx++]&63;if((u0&224)==192){str+=String.fromCharCode((u0&31)<<6|u1);continue;}var u2=heapOrArray[idx++]&63;if((u0&240)==224){u0=(u0&15)<<12|u1<<6|u2;}else{if((u0&248)!=240)_warnOnce("Invalid UTF-8 leading byte "+ptrToString(u0)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!");u0=(u0&7)<<18|u1<<12|u2<<6|heapOrArray[idx++]&63;}if(u0<65536){str+=String.fromCharCode(u0);}else{var ch=u0-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023);}}return str;};var UTF8ToString=function UTF8ToString(ptr,maxBytesToRead){assert(typeof ptr=="number");return ptr?UTF8ArrayToString(HEAPU8,ptr,maxBytesToRead):"";};var getExceptionMessageCommon=function getExceptionMessageCommon(ptr){return withStackSave(function(){var type_addr_addr=stackAlloc(4);var message_addr_addr=stackAlloc(4);___get_exception_message(ptr,type_addr_addr,message_addr_addr);var type_addr=HEAPU32[type_addr_addr>>2];var message_addr=HEAPU32[message_addr_addr>>2];var type=UTF8ToString(type_addr);_free(type_addr);var message;if(message_addr){message=UTF8ToString(message_addr);_free(message_addr);}return[type,message];});};function getExceptionMessage(ptr){return getExceptionMessageCommon(ptr);}Module["getExceptionMessage"]=getExceptionMessage;function getValue(ptr,type){if(type===void 0){type="i8";}if(type.endsWith("*"))type="*";switch(type){case"i1":return HEAP8[ptr>>0];case"i8":return HEAP8[ptr>>0];case"i16":return HEAP16[ptr>>1];case"i32":return HEAP32[ptr>>2];case"i64":abort("to do getValue(i64) use WASM_BIGINT");case"float":return HEAPF32[ptr>>2];case"double":return HEAPF64[ptr>>3];case"*":return HEAPU32[ptr>>2];default:abort("invalid type for getValue: "+type);}}var ptrToString=function ptrToString(ptr){assert(typeof ptr==="number");ptr>>>=0;return"0x"+ptr.toString(16).padStart(8,"0");};var _warnOnce=function warnOnce(text){if(!_warnOnce.shown)_warnOnce.shown={};if(!_warnOnce.shown[text]){_warnOnce.shown[text]=1;err(text);}};var ___assert_fail=function ___assert_fail(condition,filename,line,func){abort("Assertion failed: "+UTF8ToString(condition)+", at: "+[filename?UTF8ToString(filename):"unknown filename",line,func?UTF8ToString(func):"unknown function"]);};var exceptionCaught=[];var uncaughtExceptionCount=0;function ___cxa_begin_catch(ptr){var info=new ExceptionInfo(ptr);if(!info.get_caught()){info.set_caught(true);uncaughtExceptionCount--;}info.set_rethrown(false);exceptionCaught.push(info);___cxa_increment_exception_refcount(info.excPtr);return info.get_exception_ptr();}var exceptionLast=0;function ExceptionInfo(excPtr){this.excPtr=excPtr;this.ptr=excPtr-24;this.set_type=function(type){HEAPU32[this.ptr+4>>2]=type;};this.get_type=function(){return HEAPU32[this.ptr+4>>2];};this.set_destructor=function(destructor){HEAPU32[this.ptr+8>>2]=destructor;};this.get_destructor=function(){return HEAPU32[this.ptr+8>>2];};this.set_caught=function(caught){caught=caught?1:0;HEAP8[this.ptr+12>>0]=caught;};this.get_caught=function(){return HEAP8[this.ptr+12>>0]!=0;};this.set_rethrown=function(rethrown){rethrown=rethrown?1:0;HEAP8[this.ptr+13>>0]=rethrown;};this.get_rethrown=function(){return HEAP8[this.ptr+13>>0]!=0;};this.init=function(type,destructor){this.set_adjusted_ptr(0);this.set_type(type);this.set_destructor(destructor);};this.set_adjusted_ptr=function(adjustedPtr){HEAPU32[this.ptr+16>>2]=adjustedPtr;};this.get_adjusted_ptr=function(){return HEAPU32[this.ptr+16>>2];};this.get_exception_ptr=function(){var isPointer=___cxa_is_pointer_type(this.get_type());if(isPointer){return HEAPU32[this.excPtr>>2];}var adjusted=this.get_adjusted_ptr();if(adjusted!==0)return adjusted;return this.excPtr;};}function ___resumeException(ptr){if(!exceptionLast){exceptionLast=new CppException(ptr);}throw exceptionLast;}var findMatchingCatch=function findMatchingCatch(args){var thrown=exceptionLast&&exceptionLast.excPtr;if(!thrown){setTempRet0(0);return 0;}var info=new ExceptionInfo(thrown);info.set_adjusted_ptr(thrown);var thrownType=info.get_type();if(!thrownType){setTempRet0(0);return thrown;}for(var arg in args){var caughtType=args[arg];if(caughtType===0||caughtType===thrownType){break;}var adjusted_ptr_addr=info.ptr+16;if(___cxa_can_catch(caughtType,thrownType,adjusted_ptr_addr)){setTempRet0(caughtType);return thrown;}}setTempRet0(thrownType);return thrown;};var ___cxa_find_matching_catch_2=function ___cxa_find_matching_catch_2(){return findMatchingCatch([]);};var ___cxa_find_matching_catch_3=function ___cxa_find_matching_catch_3(arg0){return findMatchingCatch([arg0]);};function __embind_register_bigint(primitiveType,name,size,minRange,maxRange){}function getShiftFromSize(size){switch(size){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+size);}}function embind_init_charCodes(){var codes=new Array(256);for(var i=0;i<256;++i){codes[i]=String.fromCharCode(i);}embind_charCodes=codes;}var embind_charCodes=undefined;function readLatin1String(ptr){var ret="";var c=ptr;while(HEAPU8[c]){ret+=embind_charCodes[HEAPU8[c++]];}return ret;}var awaitingDependencies={};var registeredTypes={};var typeDependencies={};var BindingError=undefined;function throwBindingError(message){throw new BindingError(message);}var InternalError=undefined;function throwInternalError(message){throw new InternalError(message);}function sharedRegisterType(rawType,registeredInstance,options){if(options===void 0){options={};}var name=registeredInstance.name;if(!rawType){throwBindingError("type \""+name+"\" must have a positive integer typeid pointer");}if(Object.prototype.hasOwnProperty.call(registeredTypes,rawType)){if(options.ignoreDuplicateRegistrations){return;}else{throwBindingError("Cannot register type '"+name+"' twice");}}registeredTypes[rawType]=registeredInstance;delete typeDependencies[rawType];if(Object.prototype.hasOwnProperty.call(awaitingDependencies,rawType)){var callbacks=awaitingDependencies[rawType];delete awaitingDependencies[rawType];callbacks.forEach(function(cb){return cb();});}}function registerType(rawType,registeredInstance,options){if(options===void 0){options={};}if(!("argPackAdvance"in registeredInstance)){throw new TypeError("registerType registeredInstance requires argPackAdvance");}return sharedRegisterType(rawType,registeredInstance,options);}function __embind_register_bool(rawType,name,size,trueValue,falseValue){var shift=getShiftFromSize(size);name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":function fromWireType(wt){return!!wt;},"toWireType":function toWireType(destructors,o){return o?trueValue:falseValue;},"argPackAdvance":8,"readValueFromPointer":function readValueFromPointer(pointer){var heap;if(size===1){heap=HEAP8;}else if(size===2){heap=HEAP16;}else if(size===4){heap=HEAP32;}else{throw new TypeError("Unknown boolean type size: "+name);}return this["fromWireType"](heap[pointer>>shift]);},destructorFunction:null});}function handleAllocatorInit(){Object.assign(HandleAllocator.prototype,{get:function get(id){assert(this.allocated[id]!==undefined,"invalid handle: "+id);return this.allocated[id];},has:function has(id){return this.allocated[id]!==undefined;},allocate:function allocate(handle){var id=this.freelist.pop()||this.allocated.length;this.allocated[id]=handle;return id;},free:function free(id){assert(this.allocated[id]!==undefined);this.allocated[id]=undefined;this.freelist.push(id);}});}function HandleAllocator(){this.allocated=[undefined];this.freelist=[];}var emval_handles=new HandleAllocator();function __emval_decref(handle){if(handle>=emval_handles.reserved&&0===--emval_handles.get(handle).refcount){emval_handles.free(handle);}}function count_emval_handles(){var count=0;for(var i=emval_handles.reserved;i<emval_handles.allocated.length;++i){if(emval_handles.allocated[i]!==undefined){++count;}}return count;}function init_emval(){emval_handles.allocated.push({value:undefined},{value:null},{value:true},{value:false});emval_handles.reserved=emval_handles.allocated.length;Module["count_emval_handles"]=count_emval_handles;}var Emval={toValue:function toValue(handle){if(!handle){throwBindingError("Cannot use deleted val. handle = "+handle);}return emval_handles.get(handle).value;},toHandle:function toHandle(value){switch(value){case undefined:return 1;case null:return 2;case true:return 3;case false:return 4;default:{return emval_handles.allocate({refcount:1,value:value});}}}};function simpleReadValueFromPointer(pointer){return this["fromWireType"](HEAP32[pointer>>2]);}function __embind_register_emval(rawType,name){name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":function fromWireType(handle){var rv=Emval.toValue(handle);__emval_decref(handle);return rv;},"toWireType":function toWireType(destructors,value){return Emval.toHandle(value);},"argPackAdvance":8,"readValueFromPointer":simpleReadValueFromPointer,destructorFunction:null});}function embindRepr(v){if(v===null){return"null";}var t=typeof v;if(t==="object"||t==="array"||t==="function"){return v.toString();}else{return""+v;}}function floatReadValueFromPointer(name,shift){switch(shift){case 2:return function(pointer){return this["fromWireType"](HEAPF32[pointer>>2]);};case 3:return function(pointer){return this["fromWireType"](HEAPF64[pointer>>3]);};default:throw new TypeError("Unknown float type: "+name);}}function __embind_register_float(rawType,name,size){var shift=getShiftFromSize(size);name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":function fromWireType(value){return value;},"toWireType":function toWireType(destructors,value){if(typeof value!="number"&&typeof value!="boolean"){throw new TypeError("Cannot convert "+embindRepr(value)+" to "+this.name);}return value;},"argPackAdvance":8,"readValueFromPointer":floatReadValueFromPointer(name,shift),destructorFunction:null});}function integerReadValueFromPointer(name,shift,signed){switch(shift){case 0:return signed?function readS8FromPointer(pointer){return HEAP8[pointer];}:function readU8FromPointer(pointer){return HEAPU8[pointer];};case 1:return signed?function readS16FromPointer(pointer){return HEAP16[pointer>>1];}:function readU16FromPointer(pointer){return HEAPU16[pointer>>1];};case 2:return signed?function readS32FromPointer(pointer){return HEAP32[pointer>>2];}:function readU32FromPointer(pointer){return HEAPU32[pointer>>2];};default:throw new TypeError("Unknown integer type: "+name);}}function __embind_register_integer(primitiveType,name,size,minRange,maxRange){name=readLatin1String(name);if(maxRange===-1){maxRange=4294967295;}var shift=getShiftFromSize(size);var fromWireType=function fromWireType(value){return value;};if(minRange===0){var bitshift=32-8*size;fromWireType=function fromWireType(value){return value<<bitshift>>>bitshift;};}var isUnsignedType=name.includes("unsigned");var checkAssertions=function checkAssertions(value,toTypeName){if(typeof value!="number"&&typeof value!="boolean"){throw new TypeError("Cannot convert \""+embindRepr(value)+"\" to "+toTypeName);}if(value<minRange||value>maxRange){throw new TypeError("Passing a number \""+embindRepr(value)+"\" from JS side to C/C++ side to an argument of type \""+name+"\", which is outside the valid range ["+minRange+", "+maxRange+"]!");}};var toWireType;if(isUnsignedType){toWireType=function toWireType(destructors,value){checkAssertions(value,this.name);return value>>>0;};}else{toWireType=function toWireType(destructors,value){checkAssertions(value,this.name);return value;};}registerType(primitiveType,{name:name,"fromWireType":fromWireType,"toWireType":toWireType,"argPackAdvance":8,"readValueFromPointer":integerReadValueFromPointer(name,shift,minRange!==0),destructorFunction:null});}function __embind_register_memory_view(rawType,dataTypeIndex,name){var typeMapping=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];var TA=typeMapping[dataTypeIndex];function decodeMemoryView(handle){handle=handle>>2;var heap=HEAPU32;var size=heap[handle];var data=heap[handle+1];return new TA(heap.buffer,data,size);}name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":decodeMemoryView,"argPackAdvance":8,"readValueFromPointer":decodeMemoryView},{ignoreDuplicateRegistrations:true});}var stringToUTF8Array=function stringToUTF8Array(str,heap,outIdx,maxBytesToWrite){assert(typeof str==="string");if(!(maxBytesToWrite>0))return 0;var startIdx=outIdx;var endIdx=outIdx+maxBytesToWrite-1;for(var i=0;i<str.length;++i){var u=str.charCodeAt(i);if(u>=55296&&u<=57343){var u1=str.charCodeAt(++i);u=65536+((u&1023)<<10)|u1&1023;}if(u<=127){if(outIdx>=endIdx)break;heap[outIdx++]=u;}else if(u<=2047){if(outIdx+1>=endIdx)break;heap[outIdx++]=192|u>>6;heap[outIdx++]=128|u&63;}else if(u<=65535){if(outIdx+2>=endIdx)break;heap[outIdx++]=224|u>>12;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63;}else{if(outIdx+3>=endIdx)break;if(u>1114111)_warnOnce("Invalid Unicode code point "+ptrToString(u)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x10FFFF).");heap[outIdx++]=240|u>>18;heap[outIdx++]=128|u>>12&63;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63;}}heap[outIdx]=0;return outIdx-startIdx;};var stringToUTF8=function stringToUTF8(str,outPtr,maxBytesToWrite){assert(typeof maxBytesToWrite=="number","stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!");return stringToUTF8Array(str,HEAPU8,outPtr,maxBytesToWrite);};var lengthBytesUTF8=function lengthBytesUTF8(str){var len=0;for(var i=0;i<str.length;++i){var c=str.charCodeAt(i);if(c<=127){len++;}else if(c<=2047){len+=2;}else if(c>=55296&&c<=57343){len+=4;++i;}else{len+=3;}}return len;};function __embind_register_std_string(rawType,name){name=readLatin1String(name);var stdStringIsUTF8=name==="std::string";registerType(rawType,{name:name,"fromWireType":function fromWireType(value){var length=HEAPU32[value>>2];var payload=value+4;var str;if(stdStringIsUTF8){var decodeStartPtr=payload;for(var i=0;i<=length;++i){var currentBytePtr=payload+i;if(i==length||HEAPU8[currentBytePtr]==0){var maxRead=currentBytePtr-decodeStartPtr;var stringSegment=UTF8ToString(decodeStartPtr,maxRead);if(str===undefined){str=stringSegment;}else{str+=String.fromCharCode(0);str+=stringSegment;}decodeStartPtr=currentBytePtr+1;}}}else{var a=new Array(length);for(var i=0;i<length;++i){a[i]=String.fromCharCode(HEAPU8[payload+i]);}str=a.join("");}_free(value);return str;},"toWireType":function toWireType(destructors,value){if(value instanceof ArrayBuffer){value=new Uint8Array(value);}var length;var valueIsOfTypeString=typeof value=="string";if(!(valueIsOfTypeString||value instanceof Uint8Array||value instanceof Uint8ClampedArray||value instanceof Int8Array)){throwBindingError("Cannot pass non-string to std::string");}if(stdStringIsUTF8&&valueIsOfTypeString){length=lengthBytesUTF8(value);}else{length=value.length;}var base=_malloc(4+length+1);var ptr=base+4;HEAPU32[base>>2]=length;if(stdStringIsUTF8&&valueIsOfTypeString){stringToUTF8(value,ptr,length+1);}else{if(valueIsOfTypeString){for(var i=0;i<length;++i){var charCode=value.charCodeAt(i);if(charCode>255){_free(ptr);throwBindingError("String has UTF-16 code units that do not fit in 8 bits");}HEAPU8[ptr+i]=charCode;}}else{for(var i=0;i<length;++i){HEAPU8[ptr+i]=value[i];}}}if(destructors!==null){destructors.push(_free,base);}return base;},"argPackAdvance":8,"readValueFromPointer":simpleReadValueFromPointer,destructorFunction:function destructorFunction(ptr){_free(ptr);}});}var UTF16Decoder=typeof TextDecoder!="undefined"?new TextDecoder("utf-16le"):undefined;var UTF16ToString=function UTF16ToString(ptr,maxBytesToRead){assert(ptr%2==0,"Pointer passed to UTF16ToString must be aligned to two bytes!");var endPtr=ptr;var idx=endPtr>>1;var maxIdx=idx+maxBytesToRead/2;while(!(idx>=maxIdx)&&HEAPU16[idx])++idx;endPtr=idx<<1;if(endPtr-ptr>32&&UTF16Decoder)return UTF16Decoder.decode(HEAPU8.subarray(ptr,endPtr));var str="";for(var i=0;!(i>=maxBytesToRead/2);++i){var codeUnit=HEAP16[ptr+i*2>>1];if(codeUnit==0)break;str+=String.fromCharCode(codeUnit);}return str;};var stringToUTF16=function stringToUTF16(str,outPtr,maxBytesToWrite){assert(outPtr%2==0,"Pointer passed to stringToUTF16 must be aligned to two bytes!");assert(typeof maxBytesToWrite=="number","stringToUTF16(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!");if(maxBytesToWrite===undefined){maxBytesToWrite=2147483647;}if(maxBytesToWrite<2)return 0;maxBytesToWrite-=2;var startPtr=outPtr;var numCharsToWrite=maxBytesToWrite<str.length*2?maxBytesToWrite/2:str.length;for(var i=0;i<numCharsToWrite;++i){var codeUnit=str.charCodeAt(i);HEAP16[outPtr>>1]=codeUnit;outPtr+=2;}HEAP16[outPtr>>1]=0;return outPtr-startPtr;};var lengthBytesUTF16=function lengthBytesUTF16(str){return str.length*2;};var UTF32ToString=function UTF32ToString(ptr,maxBytesToRead){assert(ptr%4==0,"Pointer passed to UTF32ToString must be aligned to four bytes!");var i=0;var str="";while(!(i>=maxBytesToRead/4)){var utf32=HEAP32[ptr+i*4>>2];if(utf32==0)break;++i;if(utf32>=65536){var ch=utf32-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023);}else{str+=String.fromCharCode(utf32);}}return str;};var stringToUTF32=function stringToUTF32(str,outPtr,maxBytesToWrite){assert(outPtr%4==0,"Pointer passed to stringToUTF32 must be aligned to four bytes!");assert(typeof maxBytesToWrite=="number","stringToUTF32(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!");if(maxBytesToWrite===undefined){maxBytesToWrite=2147483647;}if(maxBytesToWrite<4)return 0;var startPtr=outPtr;var endPtr=startPtr+maxBytesToWrite-4;for(var i=0;i<str.length;++i){var codeUnit=str.charCodeAt(i);if(codeUnit>=55296&&codeUnit<=57343){var trailSurrogate=str.charCodeAt(++i);codeUnit=65536+((codeUnit&1023)<<10)|trailSurrogate&1023;}HEAP32[outPtr>>2]=codeUnit;outPtr+=4;if(outPtr+4>endPtr)break;}HEAP32[outPtr>>2]=0;return outPtr-startPtr;};var lengthBytesUTF32=function lengthBytesUTF32(str){var len=0;for(var i=0;i<str.length;++i){var codeUnit=str.charCodeAt(i);if(codeUnit>=55296&&codeUnit<=57343)++i;len+=4;}return len;};var __embind_register_std_wstring=function __embind_register_std_wstring(rawType,charSize,name){name=readLatin1String(name);var decodeString,encodeString,getHeap,lengthBytesUTF,shift;if(charSize===2){decodeString=UTF16ToString;encodeString=stringToUTF16;lengthBytesUTF=lengthBytesUTF16;getHeap=function getHeap(){return HEAPU16;};shift=1;}else if(charSize===4){decodeString=UTF32ToString;encodeString=stringToUTF32;lengthBytesUTF=lengthBytesUTF32;getHeap=function getHeap(){return HEAPU32;};shift=2;}registerType(rawType,{name:name,"fromWireType":function fromWireType(value){var length=HEAPU32[value>>2];var HEAP=getHeap();var str;var decodeStartPtr=value+4;for(var i=0;i<=length;++i){var currentBytePtr=value+4+i*charSize;if(i==length||HEAP[currentBytePtr>>shift]==0){var maxReadBytes=currentBytePtr-decodeStartPtr;var stringSegment=decodeString(decodeStartPtr,maxReadBytes);if(str===undefined){str=stringSegment;}else{str+=String.fromCharCode(0);str+=stringSegment;}decodeStartPtr=currentBytePtr+charSize;}}_free(value);return str;},"toWireType":function toWireType(destructors,value){if(!(typeof value=="string")){throwBindingError("Cannot pass non-string to C++ string type "+name);}var length=lengthBytesUTF(value);var ptr=_malloc(4+length+charSize);HEAPU32[ptr>>2]=length>>shift;encodeString(value,ptr+4,length+charSize);if(destructors!==null){destructors.push(_free,ptr);}return ptr;},"argPackAdvance":8,"readValueFromPointer":simpleReadValueFromPointer,destructorFunction:function destructorFunction(ptr){_free(ptr);}});};function __embind_register_void(rawType,name){name=readLatin1String(name);registerType(rawType,{isVoid:true,name:name,"argPackAdvance":0,"fromWireType":function fromWireType(){return undefined;},"toWireType":function toWireType(destructors,o){return undefined;}});}var _abort=function _abort(){abort("native code called abort()");};var readEmAsmArgsArray=[];var readEmAsmArgs=function readEmAsmArgs(sigPtr,buf){assert(Array.isArray(readEmAsmArgsArray));assert(buf%16==0);readEmAsmArgsArray.length=0;var ch;buf>>=2;while(ch=HEAPU8[sigPtr++]){var chr=String.fromCharCode(ch);var validChars=["d","f","i"];assert(validChars.includes(chr),"Invalid character "+ch+"(\""+chr+"\") in readEmAsmArgs! Use only ["+validChars+"], and do not specify \"v\" for void return argument.");buf+=ch!=105&buf;readEmAsmArgsArray.push(ch==105?HEAP32[buf]:HEAPF64[buf++>>1]);++buf;}return readEmAsmArgsArray;};var runEmAsmFunction=function runEmAsmFunction(code,sigPtr,argbuf){var args=readEmAsmArgs(sigPtr,argbuf);if(!Object.prototype.hasOwnProperty.call(ASM_CONSTS,code))abort("No EM_ASM constant found at address "+code);return ASM_CONSTS[code].apply(null,args);};var _emscripten_asm_const_int=function _emscripten_asm_const_int(code,sigPtr,argbuf){return runEmAsmFunction(code,sigPtr,argbuf);};var getHeapMax=function getHeapMax(){return 1048576;};var _emscripten_get_heap_max=function _emscripten_get_heap_max(){return getHeapMax();};var growMemory=function growMemory(size){var b=wasmMemory.buffer;var pages=size-b.byteLength+65535>>>16;try{wasmMemory.grow(pages);updateMemoryViews();return 1;}catch(e){err("growMemory: Attempted to grow heap from "+b.byteLength+" bytes to "+size+" bytes, but got error: "+e);}};var _emscripten_resize_heap=function _emscripten_resize_heap(requestedSize){var oldSize=HEAPU8.length;requestedSize>>>=0;assert(requestedSize>oldSize);var maxHeapSize=getHeapMax();if(requestedSize>maxHeapSize){err("Cannot enlarge memory, asked to go up to "+requestedSize+" bytes, but the limit is "+maxHeapSize+" bytes!");return false;}var alignUp=function alignUp(x,multiple){return x+(multiple-x%multiple)%multiple;};for(var cutDown=1;cutDown<=4;cutDown*=2){var overGrownHeapSize=oldSize*(1+.2/cutDown);overGrownHeapSize=Math.min(overGrownHeapSize,requestedSize+100663296);var newSize=Math.min(maxHeapSize,alignUp(Math.max(requestedSize,overGrownHeapSize),65536));var replacement=growMemory(newSize);if(replacement){return true;}}err("Failed to grow the heap from "+oldSize+" bytes to "+newSize+" bytes, not enough memory!");return false;};var SYSCALLS={varargs:undefined,get:function get(){assert(SYSCALLS.varargs!=undefined);SYSCALLS.varargs+=4;var ret=HEAP32[SYSCALLS.varargs-4>>2];return ret;},getStr:function getStr(ptr){var ret=UTF8ToString(ptr);return ret;}};var _fd_close=function _fd_close(fd){abort("fd_close called without SYSCALLS_REQUIRE_FILESYSTEM");};function convertI32PairToI53Checked(lo,hi){assert(lo==lo>>>0||lo==(lo|0));assert(hi===(hi|0));return hi+2097152>>>0<4194305-!!lo?(lo>>>0)+hi*4294967296:NaN;}function _fd_seek(fd,offset_low,offset_high,whence,newOffset){var offset=convertI32PairToI53Checked(offset_low,offset_high);return 70;}var printCharBuffers=[null,[],[]];var printChar=function printChar(stream,curr){var buffer=printCharBuffers[stream];assert(buffer);if(curr===0||curr===10){(stream===1?out:err)(UTF8ArrayToString(buffer,0));buffer.length=0;}else{buffer.push(curr);}};var flush_NO_FILESYSTEM=function flush_NO_FILESYSTEM(){_fflush(0);if(printCharBuffers[1].length)printChar(1,10);if(printCharBuffers[2].length)printChar(2,10);};var _fd_write=function _fd_write(fd,iov,iovcnt,pnum){var num=0;for(var i=0;i<iovcnt;i++){var ptr=HEAPU32[iov>>2];var len=HEAPU32[iov+4>>2];iov+=8;for(var j=0;j<len;j++){printChar(fd,HEAPU8[ptr+j]);}num+=len;}HEAPU32[pnum>>2]=num;return 0;};var getWasmTableEntry=function getWasmTableEntry(funcPtr){return wasmTable.get(funcPtr);};var writeArrayToMemory=function writeArrayToMemory(array,buffer){assert(array.length>=0,"writeArrayToMemory array must have a length (should be an array or typed array)");HEAP8.set(array,buffer);};embind_init_charCodes();BindingError=Module["BindingError"]=function(_Error2){"use strict";function BindingError(message){var _this2;_this2=_Error2.call(this,message)||this;_this2.name="BindingError";return _this2;}babelHelpers.inheritsLoose(BindingError,_Error2);return BindingError;}(babelHelpers.wrapNativeSuper(Error));InternalError=Module["InternalError"]=function(_Error3){"use strict";function InternalError(message){var _this3;_this3=_Error3.call(this,message)||this;_this3.name="InternalError";return _this3;}babelHelpers.inheritsLoose(InternalError,_Error3);return InternalError;}(babelHelpers.wrapNativeSuper(Error));handleAllocatorInit();init_emval();function checkIncomingModuleAPI(){ignoredModuleProp("fetchSettings");}var wasmImports={__assert_fail:___assert_fail,__cxa_begin_catch:___cxa_begin_catch,__cxa_find_matching_catch_2:___cxa_find_matching_catch_2,__cxa_find_matching_catch_3:___cxa_find_matching_catch_3,__resumeException:___resumeException,_embind_register_bigint:__embind_register_bigint,_embind_register_bool:__embind_register_bool,_embind_register_emval:__embind_register_emval,_embind_register_float:__embind_register_float,_embind_register_integer:__embind_register_integer,_embind_register_memory_view:__embind_register_memory_view,_embind_register_std_string:__embind_register_std_string,_embind_register_std_wstring:__embind_register_std_wstring,_embind_register_void:__embind_register_void,abort:_abort,emscripten_asm_const_int:_emscripten_asm_const_int,emscripten_get_heap_max:_emscripten_get_heap_max,emscripten_resize_heap:_emscripten_resize_heap,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,invoke_ii:invoke_ii,invoke_iii:invoke_iii,invoke_iiii:invoke_iiii,invoke_v:invoke_v,invoke_vi:invoke_vi,invoke_vii:invoke_vii,invoke_viii:invoke_viii,invoke_viiii:invoke_viiii};var asm=createWasm();var ___wasm_call_ctors=createExportWrapper("__wasm_call_ctors");var _curve_create=Module["_curve_create"]=createExportWrapper("curve_create");var _malloc=Module["_malloc"]=createExportWrapper("malloc");var _curve_free=Module["_curve_free"]=createExportWrapper("curve_free");var _free=Module["_free"]=createExportWrapper("free");var _curve_init_ristretto=Module["_curve_init_ristretto"]=createExportWrapper("curve_init_ristretto");var _get_curve_element_bytes=Module["_get_curve_element_bytes"]=createExportWrapper("get_curve_element_bytes");var _get_curve_scalar_bytes=Module["_get_curve_scalar_bytes"]=createExportWrapper("get_curve_scalar_bytes");var _kdf_create=Module["_kdf_create"]=createExportWrapper("kdf_create");var _kdf_free=Module["_kdf_free"]=createExportWrapper("kdf_free");var _kdf_init_naor_reingold=Module["_kdf_init_naor_reingold"]=createExportWrapper("kdf_init_naor_reingold");var _sodiumInit=Module["_sodiumInit"]=createExportWrapper("sodiumInit");var _voprf_create=Module["_voprf_create"]=createExportWrapper("voprf_create");var _voprf_free=Module["_voprf_free"]=createExportWrapper("voprf_free");var _voprf_init_exp_twohashdh=Module["_voprf_init_exp_twohashdh"]=createExportWrapper("voprf_init_exp_twohashdh");var _blind=Module["_blind"]=createExportWrapper("blind");var _verifiable_unblind=Module["_verifiable_unblind"]=createExportWrapper("verifiable_unblind");var _voprf_client_finalize=Module["_voprf_client_finalize"]=createExportWrapper("voprf_client_finalize");var _voprf_setup=Module["_voprf_setup"]=createExportWrapper("voprf_setup");var _voprf_evaluate=Module["_voprf_evaluate"]=createExportWrapper("voprf_evaluate");var _voprf_server_finalize=Module["_voprf_server_finalize"]=createExportWrapper("voprf_server_finalize");var _get_voprf_final_evaluation_bytes=Module["_get_voprf_final_evaluation_bytes"]=createExportWrapper("get_voprf_final_evaluation_bytes");var ___errno_location=createExportWrapper("__errno_location");var ___getTypeName=createExportWrapper("__getTypeName");var __embind_initialize_bindings=Module["__embind_initialize_bindings"]=createExportWrapper("_embind_initialize_bindings");var _fflush=Module["_fflush"]=createExportWrapper("fflush");var _emscripten_builtin_memalign=createExportWrapper("emscripten_builtin_memalign");var _setThrew=createExportWrapper("setThrew");var setTempRet0=createExportWrapper("setTempRet0");var _emscripten_stack_init2=function _emscripten_stack_init(){return(_emscripten_stack_init2=wasmExports["emscripten_stack_init"])();};var _emscripten_stack_get_free2=function _emscripten_stack_get_free(){return(_emscripten_stack_get_free2=wasmExports["emscripten_stack_get_free"])();};var _emscripten_stack_get_base2=function _emscripten_stack_get_base(){return(_emscripten_stack_get_base2=wasmExports["emscripten_stack_get_base"])();};var _emscripten_stack_get_end2=function _emscripten_stack_get_end(){return(_emscripten_stack_get_end2=wasmExports["emscripten_stack_get_end"])();};var stackSave=createExportWrapper("stackSave");var stackRestore=createExportWrapper("stackRestore");var stackAlloc=createExportWrapper("stackAlloc");var _emscripten_stack_get_current2=function _emscripten_stack_get_current(){return(_emscripten_stack_get_current2=wasmExports["emscripten_stack_get_current"])();};var ___cxa_free_exception=createExportWrapper("__cxa_free_exception");var ___cxa_increment_exception_refcount=createExportWrapper("__cxa_increment_exception_refcount");var ___cxa_decrement_exception_refcount=createExportWrapper("__cxa_decrement_exception_refcount");var ___get_exception_message=Module["___get_exception_message"]=createExportWrapper("__get_exception_message");var ___cxa_can_catch=createExportWrapper("__cxa_can_catch");var ___cxa_is_pointer_type=createExportWrapper("__cxa_is_pointer_type");var dynCall_iiiji=Module["dynCall_iiiji"]=createExportWrapper("dynCall_iiiji");var dynCall_iiij=Module["dynCall_iiij"]=createExportWrapper("dynCall_iiij");var dynCall_iijii=Module["dynCall_iijii"]=createExportWrapper("dynCall_iijii");var dynCall_iiijiji=Module["dynCall_iiijiji"]=createExportWrapper("dynCall_iiijiji");var dynCall_iiijiii=Module["dynCall_iiijiii"]=createExportWrapper("dynCall_iiijiii");var dynCall_jiji=Module["dynCall_jiji"]=createExportWrapper("dynCall_jiji");function invoke_v(index){var sp=stackSave();try{getWasmTableEntry(index)();}catch(e){stackRestore(sp);if(!(e instanceof EmscriptenEH))throw e;_setThrew(1,0);}}function invoke_vii(index,a1,a2){var sp=stackSave();try{getWasmTableEntry(index)(a1,a2);}catch(e){stackRestore(sp);if(!(e instanceof EmscriptenEH))throw e;_setThrew(1,0);}}function invoke_viiii(index,a1,a2,a3,a4){var sp=stackSave();try{getWasmTableEntry(index)(a1,a2,a3,a4);}catch(e){stackRestore(sp);if(!(e instanceof EmscriptenEH))throw e;_setThrew(1,0);}}function invoke_ii(index,a1){var sp=stackSave();try{return getWasmTableEntry(index)(a1);}catch(e){stackRestore(sp);if(!(e instanceof EmscriptenEH))throw e;_setThrew(1,0);}}function invoke_iii(index,a1,a2){var sp=stackSave();try{return getWasmTableEntry(index)(a1,a2);}catch(e){stackRestore(sp);if(!(e instanceof EmscriptenEH))throw e;_setThrew(1,0);}}function invoke_viii(index,a1,a2,a3){var sp=stackSave();try{getWasmTableEntry(index)(a1,a2,a3);}catch(e){stackRestore(sp);if(!(e instanceof EmscriptenEH))throw e;_setThrew(1,0);}}function invoke_vi(index,a1){var sp=stackSave();try{getWasmTableEntry(index)(a1);}catch(e){stackRestore(sp);if(!(e instanceof EmscriptenEH))throw e;_setThrew(1,0);}}function invoke_iiii(index,a1,a2,a3){var sp=stackSave();try{return getWasmTableEntry(index)(a1,a2,a3);}catch(e){stackRestore(sp);if(!(e instanceof EmscriptenEH))throw e;_setThrew(1,0);}}Module["wasmMemory"]=wasmMemory;Module["getValue"]=getValue;Module["stringToUTF8"]=stringToUTF8;Module["lengthBytesUTF8"]=lengthBytesUTF8;Module["writeArrayToMemory"]=writeArrayToMemory;var missingLibrarySymbols=["writeI53ToI64","writeI53ToI64Clamped","writeI53ToI64Signaling","writeI53ToU64Clamped","writeI53ToU64Signaling","readI53FromI64","readI53FromU64","convertI32PairToI53","convertU32PairToI53","zeroMemory","exitJS","isLeapYear","ydayFromDate","arraySum","addDays","setErrNo","inetPton4","inetNtop4","inetPton6","inetNtop6","readSockaddr","writeSockaddr","getHostByName","initRandomFill","randomFill","getCallstack","emscriptenLog","convertPCtoSourceLocation","runMainThreadEmAsm","jstoi_q","jstoi_s","getExecutableName","listenOnce","autoResumeAudioContext","dynCallLegacy","getDynCaller","dynCall","setWasmTableEntry","handleException","runtimeKeepalivePush","runtimeKeepalivePop","callUserCallback","maybeExit","safeSetTimeout","asmjsMangle","asyncLoad","alignMemory","mmapAlloc","getNativeTypeSize","STACK_SIZE","STACK_ALIGN","POINTER_SIZE","ASSERTIONS","getCFunc","ccall","cwrap","uleb128Encode","sigToWasmTypes","generateFuncType","convertJsFunctionToWasm","getEmptyTableSlot","updateTableMap","getFunctionAddress","addFunction","removeFunction","reallyNegative","unSign","strLen","reSign","formatString","intArrayFromString","intArrayToString","AsciiToString","stringToAscii","stringToNewUTF8","stringToUTF8OnStack","registerKeyEventCallback","maybeCStringToJsString","findEventTarget","findCanvasEventTarget","getBoundingClientRect","fillMouseEventData","registerMouseEventCallback","registerWheelEventCallback","registerUiEventCallback","registerFocusEventCallback","fillDeviceOrientationEventData","registerDeviceOrientationEventCallback","fillDeviceMotionEventData","registerDeviceMotionEventCallback","screenOrientation","fillOrientationChangeEventData","registerOrientationChangeEventCallback","fillFullscreenChangeEventData","registerFullscreenChangeEventCallback","JSEvents_requestFullscreen","JSEvents_resizeCanvasForFullscreen","registerRestoreOldStyle","hideEverythingExceptGivenElement","restoreHiddenElements","setLetterbox","softFullscreenResizeWebGLRenderTarget","doRequestFullscreen","fillPointerlockChangeEventData","registerPointerlockChangeEventCallback","registerPointerlockErrorEventCallback","requestPointerLock","fillVisibilityChangeEventData","registerVisibilityChangeEventCallback","registerTouchEventCallback","fillGamepadEventData","registerGamepadEventCallback","registerBeforeUnloadEventCallback","fillBatteryEventData","battery","registerBatteryEventCallback","setCanvasElementSize","getCanvasElementSize","demangle","demangleAll","jsStackTrace","stackTrace","getEnvStrings","checkWasiClock","wasiRightsToMuslOFlags","wasiOFlagsToMuslOFlags","createDyncallWrapper","setImmediateWrapped","clearImmediateWrapped","polyfillSetImmediate","getPromise","makePromise","idsToPromises","makePromiseCallback","setMainLoop","getSocketFromFD","getSocketAddress","FS_createPreloadedFile","FS_modeStringToFlags","FS_getMode","FS_stdin_getChar","_setNetworkCallback","heapObjectForWebGLType","heapAccessShiftForWebGLHeap","webgl_enable_ANGLE_instanced_arrays","webgl_enable_OES_vertex_array_object","webgl_enable_WEBGL_draw_buffers","webgl_enable_WEBGL_multi_draw","emscriptenWebGLGet","computeUnpackAlignedImageSize","colorChannelsInGlTextureFormat","emscriptenWebGLGetTexPixelData","__glGenObject","emscriptenWebGLGetUniform","webglGetUniformLocation","webglPrepareUniformLocationsBeforeFirstUse","webglGetLeftBracePos","emscriptenWebGLGetVertexAttrib","__glGetActiveAttribOrUniform","writeGLArray","registerWebGlEventCallback","runAndAbortIfError","SDL_unicode","SDL_ttfContext","SDL_audio","GLFW_Window","ALLOC_NORMAL","ALLOC_STACK","allocate","writeStringToMemory","writeAsciiToMemory","getTypeName","heap32VectorToArray","requireRegisteredType","init_embind","throwUnboundTypeError","ensureOverloadTable","exposePublicSymbol","replacePublicSymbol","extendError","createNamedFunction","getBasestPointer","registerInheritedInstance","unregisterInheritedInstance","getInheritedInstance","getInheritedInstanceCount","getLiveInheritedInstances","enumReadValueFromPointer","runDestructors","craftInvokerFunction","embind__requireFunction","genericPointerToWireType","constNoSmartPtrRawPointerToWireType","nonConstNoSmartPtrRawPointerToWireType","init_RegisteredPointer","RegisteredPointer","RegisteredPointer_getPointee","RegisteredPointer_destructor","RegisteredPointer_deleteObject","RegisteredPointer_fromWireType","runDestructor","releaseClassHandle","detachFinalizer","attachFinalizer","makeClassHandle","init_ClassHandle","ClassHandle","ClassHandle_isAliasOf","throwInstanceAlreadyDeleted","ClassHandle_clone","ClassHandle_delete","ClassHandle_isDeleted","ClassHandle_deleteLater","flushPendingDeletes","setDelayFunction","RegisteredClass","shallowCopyInternalPointer","downcastPointer","upcastPointer","validateThis","char_0","char_9","makeLegalFunctionName","getStringOrSymbol","craftEmvalAllocator","emval_get_global","emval_lookupTypes","emval_allocateDestructors","emval_addMethodCaller"];missingLibrarySymbols.forEach(missingLibrarySymbol);var unexportedSymbols=["run","addOnPreRun","addOnInit","addOnPreMain","addOnExit","addOnPostRun","addRunDependency","removeRunDependency","FS_createFolder","FS_createPath","FS_createDataFile","FS_createLazyFile","FS_createLink","FS_createDevice","FS_unlink","out","err","callMain","abort","keepRuntimeAlive","wasmTable","wasmExports","stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0","writeStackCookie","checkStackCookie","convertI32PairToI53Checked","ptrToString","getHeapMax","growMemory","ENV","MONTH_DAYS_REGULAR","MONTH_DAYS_LEAP","MONTH_DAYS_REGULAR_CUMULATIVE","MONTH_DAYS_LEAP_CUMULATIVE","ERRNO_CODES","ERRNO_MESSAGES","DNS","Protocols","Sockets","timers","warnOnce","UNWIND_CACHE","readEmAsmArgsArray","readEmAsmArgs","runEmAsmFunction","getWasmTableEntry","handleAllocatorInit","HandleAllocator","freeTableIndexes","functionsInTableMap","setValue","PATH","PATH_FS","UTF8Decoder","UTF8ArrayToString","UTF8ToString","stringToUTF8Array","UTF16Decoder","UTF16ToString","stringToUTF16","lengthBytesUTF16","UTF32ToString","stringToUTF32","lengthBytesUTF32","JSEvents","specialHTMLTargets","currentFullscreenStrategy","restoreOldWindowedStyle","ExitStatus","flush_NO_FILESYSTEM","promiseMap","uncaughtExceptionCount","exceptionLast","exceptionCaught","ExceptionInfo","findMatchingCatch","getExceptionMessageCommon","incrementExceptionRefcount","decrementExceptionRefcount","getExceptionMessage","Browser","wget","SYSCALLS","preloadPlugins","FS_stdin_getChar_buffer","FS","MEMFS","TTY","PIPEFS","SOCKFS","tempFixedLengthArray","miniTempWebGLFloatBuffers","miniTempWebGLIntBuffers","GL","emscripten_webgl_power_preferences","AL","GLUT","EGL","GLEW","IDBStore","SDL","SDL_gfx","GLFW","allocateUTF8","allocateUTF8OnStack","InternalError","BindingError","throwInternalError","throwBindingError","registeredTypes","awaitingDependencies","typeDependencies","tupleRegistrations","structRegistrations","sharedRegisterType","whenDependentTypesAreResolved","embind_charCodes","embind_init_charCodes","readLatin1String","UnboundTypeError","PureVirtualError","embindRepr","registeredInstances","registeredPointers","registerType","getShiftFromSize","integerReadValueFromPointer","floatReadValueFromPointer","simpleReadValueFromPointer","finalizationRegistry","detachFinalizer_deps","deletionQueue","delayFunction","emval_handles","emval_symbols","init_emval","count_emval_handles","Emval","emval_newers","emval_methodCallers","emval_registeredMethods"];unexportedSymbols.forEach(unexportedRuntimeSymbol);var calledRun;dependenciesFulfilled=function runCaller(){if(!calledRun)run();if(!calledRun)dependenciesFulfilled=runCaller;};function stackCheckInit(){_emscripten_stack_init2();writeStackCookie();}function run(){if(runDependencies>0){return;}stackCheckInit();preRun();if(runDependencies>0){return;}function doRun(){if(calledRun)return;calledRun=true;Module["calledRun"]=true;if(ABORT)return;initRuntime();readyPromiseResolve(Module);if(Module["onRuntimeInitialized"])Module["onRuntimeInitialized"]();assert(!Module["_main"],'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]');postRun();}if(Module["setStatus"]){Module["setStatus"]("Running...");setTimeout(function(){setTimeout(function(){Module["setStatus"]("");},1);doRun();},1);}else{doRun();}checkStackCookie();}if(Module["preInit"]){if(typeof Module["preInit"]=="function")Module["preInit"]=[Module["preInit"]];while(Module["preInit"].length>0){Module["preInit"].pop()();}}run();


return moduleArg.ready;
});


}();
if(typeof exports==='object'&&typeof module==='object')
module.exports=Module;else
if(typeof define==='function'&&define['amd'])
define([],function(){return Module;});}),null);/*FB_PKG_DELIM*/
/**
 * License: https://www.facebook.com/legal/license/9cisb7Fe7ih/
 */
__d("immutable-3.7.3",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){(function(b,c){typeof g==="object"&&typeof h!=="undefined"?h.exports=c():b.Immutable=c()})(this,function(){var a=Array.prototype.slice;function b(a,b){b&&(a.prototype=Object.create(b.prototype)),a.prototype.constructor=a}var c="delete",d=5,e=1<<d,f=e-1,g={},h={value:!1},i={value:!1};function j(a){a.value=!1;return a}function k(a){a&&(a.value=!0)}function l(){}function m(a,b){b=b||0;var c=Math.max(0,a.length-b),d=new Array(c);for(var e=0;e<c;e++)d[e]=a[e+b];return d}function n(a){a.size===void 0&&(a.size=a.__iterate(p));return a.size}function o(a,b){return b>=0?+b:n(a)+ +b}function p(){return!0}function q(a,b,c){return(a===0||c!==void 0&&a<=-c)&&(b===void 0||c!==void 0&&b>=c)}function r(a,b){return aa(a,b,0)}function s(a,b){return aa(a,b,b)}function aa(a,b,c){return a===void 0?c:a<0?Math.max(0,b+a):b===void 0?a:Math.min(b,a)}function t(a){return x(a)?a:F(a)}b(u,t);function u(a){return y(a)?a:G(a)}b(v,t);function v(a){return z(a)?a:H(a)}b(w,t);function w(a){return x(a)&&!ba(a)?a:I(a)}function x(a){return!!(a&&a[da])}function y(a){return!!(a&&a[ea])}function z(a){return!!(a&&a[fa])}function ba(a){return y(a)||z(a)}function ca(a){return!!(a&&a[ga])}t.isIterable=x;t.isKeyed=y;t.isIndexed=z;t.isAssociative=ba;t.isOrdered=ca;t.Keyed=u;t.Indexed=v;t.Set=w;var da="@@__IMMUTABLE_ITERABLE__@@",ea="@@__IMMUTABLE_KEYED__@@",fa="@@__IMMUTABLE_INDEXED__@@",ga="@@__IMMUTABLE_ORDERED__@@",ha=0,A=1,B=2,ia=typeof Symbol==="function"&&Symbol.iterator,ja="@@iterator",ka=ia||ja;function C(a){this.next=a}C.prototype.toString=function(){return"[Iterator]"};C.KEYS=ha;C.VALUES=A;C.ENTRIES=B;C.prototype.inspect=C.prototype.toSource=function(){return this.toString()};C.prototype[ka]=function(){return this};function D(a,b,c,d){a=a===0?b:a===1?c:[b,c];d?d.value=a:d={value:a,done:!1};return d}function E(){return{value:void 0,done:!0}}function la(a){return!!oa(a)}function ma(a){return a&&typeof a.next==="function"}function na(a){var b=oa(a);return b&&b.call(a)}function oa(a){a=a&&(ia&&a[ia]||a[ja]);if(typeof a==="function")return a}function pa(a){return a&&typeof a.length==="number"}b(F,t);function F(a){return a===null||a===void 0?xa():x(a)?a.toSeq():Aa(a)}F.of=function(){return F(arguments)};F.prototype.toSeq=function(){return this};F.prototype.toString=function(){return this.__toString("Seq {","}")};F.prototype.cacheResult=function(){!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length);return this};F.prototype.__iterate=function(a,b){return Ca(this,a,b,!0)};F.prototype.__iterator=function(a,b){return Da(this,a,b,!0)};b(G,F);function G(a){return a===null||a===void 0?xa().toKeyedSeq():x(a)?y(a)?a.toSeq():a.fromEntrySeq():ya(a)}G.prototype.toKeyedSeq=function(){return this};b(H,F);function H(a){return a===null||a===void 0?xa():x(a)?y(a)?a.entrySeq():a.toIndexedSeq():za(a)}H.of=function(){return H(arguments)};H.prototype.toIndexedSeq=function(){return this};H.prototype.toString=function(){return this.__toString("Seq [","]")};H.prototype.__iterate=function(a,b){return Ca(this,a,b,!1)};H.prototype.__iterator=function(a,b){return Da(this,a,b,!1)};b(I,F);function I(a){return(a===null||a===void 0?xa():x(a)?y(a)?a.entrySeq():a:za(a)).toSetSeq()}I.of=function(){return I(arguments)};I.prototype.toSetSeq=function(){return this};F.isSeq=va;F.Keyed=G;F.Set=I;F.Indexed=H;var qa="@@__IMMUTABLE_SEQ__@@";F.prototype[qa]=!0;b(ra,H);function ra(a){this._array=a,this.size=a.length}ra.prototype.get=function(a,b){return this.has(a)?this._array[o(this,a)]:b};ra.prototype.__iterate=function(a,b){var c=this._array,d=c.length-1;for(var e=0;e<=d;e++)if(a(c[b?d-e:e],e,this)===!1)return e+1;return e};ra.prototype.__iterator=function(a,b){var c=this._array,d=c.length-1,e=0;return new C(function(){return e>d?E():D(a,e,c[b?d-e++:e++])})};b(sa,G);function sa(a){var b=Object.keys(a);this._object=a;this._keys=b;this.size=b.length}sa.prototype.get=function(a,b){return b!==void 0&&!this.has(a)?b:this._object[a]};sa.prototype.has=function(a){return this._object.hasOwnProperty(a)};sa.prototype.__iterate=function(a,b){var c=this._object,d=this._keys,e=d.length-1;for(var f=0;f<=e;f++){var g=d[b?e-f:f];if(a(c[g],g,this)===!1)return f+1}return f};sa.prototype.__iterator=function(a,b){var c=this._object,d=this._keys,e=d.length-1,f=0;return new C(function(){var g=d[b?e-f:f];return f++>e?E():D(a,g,c[g])})};sa.prototype[ga]=!0;b(ta,H);function ta(a){this._iterable=a,this.size=a.length||a.size}ta.prototype.__iterateUncached=function(a,b){if(b)return this.cacheResult().__iterate(a,b);b=this._iterable;b=na(b);var c=0;if(ma(b)){var d;while(!(d=b.next()).done)if(a(d.value,c++,this)===!1)break}return c};ta.prototype.__iteratorUncached=function(a,b){if(b)return this.cacheResult().__iterator(a,b);b=this._iterable;var c=na(b);if(!ma(c))return new C(E);var d=0;return new C(function(){var b=c.next();return b.done?b:D(a,d++,b.value)})};b(ua,H);function ua(a){this._iterator=a,this._iteratorCache=[]}ua.prototype.__iterateUncached=function(a,b){if(b)return this.cacheResult().__iterate(a,b);b=this._iterator;var c=this._iteratorCache,d=0;while(d<c.length)if(a(c[d],d++,this)===!1)return d;var e;while(!(e=b.next()).done){e=e.value;c[d]=e;if(a(e,d++,this)===!1)break}return d};ua.prototype.__iteratorUncached=function(a,b){if(b)return this.cacheResult().__iterator(a,b);var c=this._iterator,d=this._iteratorCache,e=0;return new C(function(){if(e>=d.length){var b=c.next();if(b.done)return b;d[e]=b.value}return D(a,e,d[e++])})};function va(a){return!!(a&&a[qa])}var wa;function xa(){return wa||(wa=new ra([]))}function ya(a){var b=Array.isArray(a)?new ra(a).fromEntrySeq():ma(a)?new ua(a).fromEntrySeq():la(a)?new ta(a).fromEntrySeq():typeof a==="object"?new sa(a):void 0;if(!b)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+a);return b}function za(a){var b=Ba(a);if(!b)throw new TypeError("Expected Array or iterable object of values: "+a);return b}function Aa(a){var b=Ba(a)||typeof a==="object"&&new sa(a);if(!b)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+a);return b}function Ba(a){return pa(a)?new ra(a):ma(a)?new ua(a):la(a)?new ta(a):void 0}function Ca(a,b,c,d){var e=a._cache;if(e){var f=e.length-1;for(var g=0;g<=f;g++){var h=e[c?f-g:g];if(b(h[1],d?h[0]:g,a)===!1)return g+1}return g}return a.__iterateUncached(b,c)}function Da(a,b,c,d){var e=a._cache;if(e){var f=e.length-1,g=0;return new C(function(){var a=e[c?f-g:g];return g++>f?E():D(b,d?a[0]:g-1,a[1])})}return a.__iteratorUncached(b,c)}b(Ea,t);function Ea(){throw TypeError("Abstract")}b(Fa,Ea);function Fa(){}b(Ga,Ea);function Ga(){}b(Ha,Ea);function Ha(){}Ea.Keyed=Fa;Ea.Indexed=Ga;Ea.Set=Ha;function J(a,b){if(a===b||a!==a&&b!==b)return!0;if(!a||!b)return!1;if(typeof a.valueOf==="function"&&typeof b.valueOf==="function"){a=a.valueOf();b=b.valueOf();if(a===b||a!==a&&b!==b)return!0;if(!a||!b)return!1}return typeof a.equals==="function"&&typeof b.equals==="function"&&a.equals(b)?!0:!1}function Ia(a,b){return b?Ja(b,a,"",{"":a}):Ka(a)}function Ja(a,b,c,d){if(Array.isArray(b))return a.call(d,c,H(b).map(function(c,d){return Ja(a,c,d,b)}));return La(b)?a.call(d,c,G(b).map(function(c,d){return Ja(a,c,d,b)})):b}function Ka(a){if(Array.isArray(a))return H(a).map(Ka).toList();return La(a)?G(a).map(Ka).toMap():a}function La(a){return a&&(a.constructor===Object||a.constructor===void 0)}var Ma=typeof Math.imul==="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(a,b){a=a|0;b=b|0;var c=a&65535,d=b&65535;return c*d+((a>>>16)*d+c*(b>>>16)<<16>>>0)|0};function Na(a){return a>>>1&1073741824|a&3221225471}function K(a){if(a===!1||a===null||a===void 0)return 0;if(typeof a.valueOf==="function"){a=a.valueOf();if(a===!1||a===null||a===void 0)return 0}if(a===!0)return 1;var b=typeof a;if(b==="number"){var c=a|0;c!==a&&(c^=a*4294967295);while(a>4294967295)a/=4294967295,c^=a;return Na(c)}if(b==="string")return a.length>Ya?Oa(a):Pa(a);return typeof a.hashCode==="function"?a.hashCode():Qa(a)}function Oa(b){var a=ab[b];a===void 0&&(a=Pa(b),$a===Za&&($a=0,ab={}),$a++,ab[b]=a);return a}function Pa(b){var a=0;for(var c=0;c<b.length;c++)a=31*a+b.charCodeAt(c)|0;return Na(a)}function Qa(b){var a;if(Ua){a=Va.get(b);if(a!==void 0)return a}a=b[Xa];if(a!==void 0)return a;if(!Sa){a=b.propertyIsEnumerable&&b.propertyIsEnumerable[Xa];if(a!==void 0)return a;a=Ta(b);if(a!==void 0)return a}a=++Wa;Wa&1073741824&&(Wa=0);if(Ua)Va.set(b,a);else if(Ra!==void 0&&Ra(b)===!1)throw new Error("Non-extensible objects are not allowed as keys.");else if(Sa)Object.defineProperty(b,Xa,{enumerable:!1,configurable:!1,writable:!1,value:a});else if(b.propertyIsEnumerable!==void 0&&b.propertyIsEnumerable===b.constructor.prototype.propertyIsEnumerable)b.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},b.propertyIsEnumerable[Xa]=a;else if(b.nodeType!==void 0)b[Xa]=a;else throw new Error("Unable to set a non-enumerable property on object.");return a}var Ra=Object.isExtensible,Sa=function(){try{Object.defineProperty({},"@",{});return!0}catch(a){return!1}}();function Ta(a){if(a&&a.nodeType>0)switch(a.nodeType){case 1:return a.uniqueID;case 9:return a.documentElement&&a.documentElement.uniqueID}}var Ua=typeof WeakMap==="function",Va;Ua&&(Va=new WeakMap());var Wa=0,Xa="__immutablehash__";typeof Symbol==="function"&&(Xa=Symbol(Xa));var Ya=16,Za=255,$a=0,ab={};function bb(a,b){if(!a)throw new Error(b)}function L(a){bb(a!==Infinity,"Cannot perform this action with an infinite size.")}b(M,G);function M(a,b){this._iter=a,this._useKeys=b,this.size=a.size}M.prototype.get=function(a,b){return this._iter.get(a,b)};M.prototype.has=function(a){return this._iter.has(a)};M.prototype.valueSeq=function(){return this._iter.valueSeq()};M.prototype.reverse=function(){var a=this,b=hb(this,!0);this._useKeys||(b.valueSeq=function(){return a._iter.toSeq().reverse()});return b};M.prototype.map=function(a,b){var c=this,d=gb(this,a,b);this._useKeys||(d.valueSeq=function(){return c._iter.toSeq().map(a,b)});return d};M.prototype.__iterate=function(a,b){var c=this,d;return this._iter.__iterate(this._useKeys?function(b,d){return a(b,d,c)}:(d=b?xb(this):0,function(e){return a(e,b?--d:d++,c)}),b)};M.prototype.__iterator=function(a,b){if(this._useKeys)return this._iter.__iterator(a,b);var c=this._iter.__iterator(A,b),d=b?xb(this):0;return new C(function(){var e=c.next();return e.done?e:D(a,b?--d:d++,e.value,e)})};M.prototype[ga]=!0;b(cb,H);function cb(a){this._iter=a,this.size=a.size}cb.prototype.includes=function(a){return this._iter.includes(a)};cb.prototype.__iterate=function(a,b){var c=this,d=0;return this._iter.__iterate(function(b){return a(b,d++,c)},b)};cb.prototype.__iterator=function(a,b){var c=this._iter.__iterator(A,b),d=0;return new C(function(){var b=c.next();return b.done?b:D(a,d++,b.value,b)})};b(db,I);function db(a){this._iter=a,this.size=a.size}db.prototype.has=function(a){return this._iter.includes(a)};db.prototype.__iterate=function(a,b){var c=this;return this._iter.__iterate(function(b){return a(b,b,c)},b)};db.prototype.__iterator=function(a,b){var c=this._iter.__iterator(A,b);return new C(function(){var b=c.next();return b.done?b:D(a,b.value,b.value,b)})};b(eb,G);function eb(a){this._iter=a,this.size=a.size}eb.prototype.entrySeq=function(){return this._iter.toSeq()};eb.prototype.__iterate=function(a,b){var c=this;return this._iter.__iterate(function(b){if(b){wb(b);var d=x(b);return a(d?b.get(1):b[1],d?b.get(0):b[0],c)}},b)};eb.prototype.__iterator=function(a,b){var c=this._iter.__iterator(A,b);return new C(function(){while(!0){var b=c.next();if(b.done)return b;var d=b.value;if(d){wb(d);var e=x(d);return D(a,e?d.get(0):d[0],e?d.get(1):d[1],b)}}})};cb.prototype.cacheResult=M.prototype.cacheResult=db.prototype.cacheResult=eb.prototype.cacheResult=Ab;function fb(a){var b=zb(a);b._iter=a;b.size=a.size;b.flip=function(){return a};b.reverse=function(){var b=a.reverse.apply(this);b.flip=function(){return a.reverse()};return b};b.has=function(b){return a.includes(b)};b.includes=function(b){return a.has(b)};b.cacheResult=Ab;b.__iterateUncached=function(b,c){var d=this;return a.__iterate(function(a,c){return b(c,a,d)!==!1},c)};b.__iteratorUncached=function(b,c){if(b===B){var d=a.__iterator(b,c);return new C(function(){var a=d.next();if(!a.done){var b=a.value[0];a.value[0]=a.value[1];a.value[1]=b}return a})}return a.__iterator(b===A?ha:A,c)};return b}function gb(a,b,c){var d=zb(a);d.size=a.size;d.has=function(b){return a.has(b)};d.get=function(d,e){var f=a.get(d,g);return f===g?e:b.call(c,f,d,a)};d.__iterateUncached=function(d,e){var f=this;return a.__iterate(function(a,e,g){return d(b.call(c,a,e,g),e,f)!==!1},e)};d.__iteratorUncached=function(d,e){var f=a.__iterator(B,e);return new C(function(){var e=f.next();if(e.done)return e;var g=e.value,h=g[0];return D(d,h,b.call(c,g[1],h,a),e)})};return d}function hb(a,b){var c=zb(a);c._iter=a;c.size=a.size;c.reverse=function(){return a};a.flip&&(c.flip=function(){var b=fb(a);b.reverse=function(){return a.flip()};return b});c.get=function(c,d){return a.get(b?c:-1-c,d)};c.has=function(c){return a.has(b?c:-1-c)};c.includes=function(b){return a.includes(b)};c.cacheResult=Ab;c.__iterate=function(b,c){var d=this;return a.__iterate(function(a,c){return b(a,c,d)},!c)};c.__iterator=function(b,c){return a.__iterator(b,!c)};return c}function ib(a,b,c,d){var e=zb(a);d&&(e.has=function(d){var e=a.get(d,g);return e!==g&&!!b.call(c,e,d,a)},e.get=function(d,e){var f=a.get(d,g);return f!==g&&b.call(c,f,d,a)?f:e});e.__iterateUncached=function(e,f){var g=this,h=0;a.__iterate(function(a,f,i){if(b.call(c,a,f,i)){h++;return e(a,d?f:h-1,g)}},f);return h};e.__iteratorUncached=function(e,f){var g=a.__iterator(B,f),h=0;return new C(function(){while(!0){var f=g.next();if(f.done)return f;var i=f.value,j=i[0];i=i[1];if(b.call(c,i,j,a))return D(e,d?j:h++,i,f)}})};return e}function jb(a,b,c){var d=O().asMutable();a.__iterate(function(e,f){d.update(b.call(c,e,f,a),0,function(a){return a+1})});return d.asImmutable()}function kb(a,b,c){var d=y(a),e=(ca(a)?S():O()).asMutable();a.__iterate(function(f,g){e.update(b.call(c,f,g,a),function(a){return a=a||[],a.push(d?[g,f]:f),a})});var f=yb(a);return e.map(function(b){return N(a,f(b))})}function lb(a,b,c,d){var e=a.size;if(q(b,c,e))return a;var f=r(b,e);e=s(c,e);if(f!==f||e!==e)return lb(a.toSeq().cacheResult(),b,c,d);b=e-f;var g;b===b&&(g=b<0?0:b);c=zb(a);c.size=g;!d&&va(a)&&g>=0&&(c.get=function(b,c){b=o(this,b);return b>=0&&b<g?a.get(b+f,c):c});c.__iterateUncached=function(b,c){var e=this;if(g===0)return 0;if(c)return this.cacheResult().__iterate(b,c);var h=0,i=!0,j=0;a.__iterate(function(a,c){if(!(i&&(i=h++<f))){j++;return b(a,d?c:j-1,e)!==!1&&j!==g}});return j};c.__iteratorUncached=function(b,c){if(g!==0&&c)return this.cacheResult().__iterator(b,c);var e=g!==0&&a.__iterator(b,c),h=0,i=0;return new C(function(){while(h++<f)e.next();if(++i>g)return E();var a=e.next();if(d||b===A)return a;else if(b===ha)return D(b,i-1,void 0,a);else return D(b,i-1,a.value[1],a)})};return c}function mb(a,b,c){var d=zb(a);d.__iterateUncached=function(d,e){var f=this;if(e)return this.cacheResult().__iterate(d,e);var g=0;a.__iterate(function(a,e,h){return b.call(c,a,e,h)&&++g&&d(a,e,f)});return g};d.__iteratorUncached=function(d,e){var f=this;if(e)return this.cacheResult().__iterator(d,e);var g=a.__iterator(B,e),h=!0;return new C(function(){if(!h)return E();var a=g.next();if(a.done)return a;var e=a.value,i=e[0];e=e[1];if(!b.call(c,e,i,f)){h=!1;return E()}return d===B?a:D(d,i,e,a)})};return d}function nb(a,b,c,d){var e=zb(a);e.__iterateUncached=function(e,f){var g=this;if(f)return this.cacheResult().__iterate(e,f);var h=!0,i=0;a.__iterate(function(a,f,j){if(!(h&&(h=b.call(c,a,f,j)))){i++;return e(a,d?f:i-1,g)}});return i};e.__iteratorUncached=function(e,f){var g=this;if(f)return this.cacheResult().__iterator(e,f);var h=a.__iterator(B,f),i=!0,j=0;return new C(function(){var a,f;do{a=h.next();if(a.done)if(d||e===A)return a;else if(e===ha)return D(e,j++,void 0,a);else return D(e,j++,a.value[1],a);var k=a.value;f=k[0];k=k[1];i&&(i=b.call(c,k,f,g))}while(i);return e===B?a:D(e,f,k,a)})};return e}function ob(a,b){var c=y(a);b=[a].concat(b).map(function(a){!x(a)?a=c?ya(a):za(Array.isArray(a)?a:[a]):c&&(a=u(a));return a}).filter(function(a){return a.size!==0});if(b.length===0)return a;if(b.length===1){var d=b[0];if(d===a||c&&y(d)||z(a)&&z(d))return d}d=new ra(b);c?d=d.toKeyedSeq():z(a)||(d=d.toSetSeq());d=d.flatten(!0);d.size=b.reduce(function(a,b){if(a!==void 0){b=b.size;if(b!==void 0)return a+b}},0);return d}function pb(a,b,c){var d=zb(a);d.__iterateUncached=function(d,e){var f=0,g=!1;function h(a,i){var j=this;a.__iterate(function(a,e){(!b||i<b)&&x(a)?h(a,i+1):d(a,c?e:f++,j)===!1&&(g=!0);return!g},e)}h(a,0);return f};d.__iteratorUncached=function(d,e){var f=a.__iterator(d,e),g=[],h=0;return new C(function(){while(f){var a=f.next();if(a.done!==!1){f=g.pop();continue}var i=a.value;d===B&&(i=i[1]);if((!b||g.length<b)&&x(i))g.push(f),f=i.__iterator(d,e);else return c?a:D(d,h++,i,a)}return E()})};return d}function qb(a,b,c){var d=yb(a);return a.toSeq().map(function(e,f){return d(b.call(c,e,f,a))}).flatten(!0)}function rb(a,b){var c=zb(a);c.size=a.size&&a.size*2-1;c.__iterateUncached=function(c,d){var e=this,f=0;a.__iterate(function(a,d){return(!f||c(b,f++,e)!==!1)&&c(a,f++,e)!==!1},d);return f};c.__iteratorUncached=function(c,d){var e=a.__iterator(A,d),f=0,g;return new C(function(){if(!g||f%2){g=e.next();if(g.done)return g}return f%2?D(c,f++,b):D(c,f++,g.value,g)})};return c}function sb(a,b,c){b||(b=Bb);var d=y(a),e=0,f=a.toSeq().map(function(b,d){return[d,b,e++,c?c(b,d,a):b]}).toArray();f.sort(function(a,c){return b(a[3],c[3])||a[2]-c[2]}).forEach(d?function(a,b){f[b].length=2}:function(a,b){f[b]=a[1]});return d?G(f):z(a)?H(f):I(f)}function tb(a,b,c){b||(b=Bb);if(c){var d=a.toSeq().map(function(b,d){return[b,c(b,d,a)]}).reduce(function(a,c){return ub(b,a[1],c[1])?c:a});return d&&d[0]}else return a.reduce(function(a,c){return ub(b,a,c)?c:a})}function ub(a,b,c){a=a(c,b);return a===0&&c!==b&&(c===void 0||c===null||c!==c)||a>0}function vb(a,b,c){a=zb(a);a.size=new ra(c).map(function(a){return a.size}).min();a.__iterate=function(a,b){b=this.__iterator(A,b);var c,d=0;while(!(c=b.next()).done)if(a(c.value,d++,this)===!1)break;return d};a.__iteratorUncached=function(a,d){var e=c.map(function(a){return a=t(a),na(d?a.reverse():a)}),f=0,g=!1;return new C(function(){var c;g||(c=e.map(function(a){return a.next()}),g=c.some(function(a){return a.done}));return g?E():D(a,f++,b.apply(null,c.map(function(a){return a.value})))})};return a}function N(a,b){return va(a)?b:a.constructor(b)}function wb(a){if(a!==Object(a))throw new TypeError("Expected [K, V] tuple: "+a)}function xb(a){L(a.size);return n(a)}function yb(a){return y(a)?u:z(a)?v:w}function zb(a){return Object.create((y(a)?G:z(a)?H:I).prototype)}function Ab(){if(this._iter.cacheResult){this._iter.cacheResult();this.size=this._iter.size;return this}else return F.prototype.cacheResult.call(this)}function Bb(a,b){return a>b?1:a<b?-1:0}function Cb(a){var b=na(a);if(!b){if(!pa(a))throw new TypeError("Expected iterable or array-like: "+a);b=na(t(a))}return b}b(O,Fa);function O(a){return a===null||a===void 0?Pb():Db(a)?a:Pb().withMutations(function(b){var c=u(a);L(c.size);c.forEach(function(a,c){return b.set(c,a)})})}O.prototype.toString=function(){return this.__toString("Map {","}")};O.prototype.get=function(a,b){return this._root?this._root.get(0,void 0,a,b):b};O.prototype.set=function(a,b){return Qb(this,a,b)};O.prototype.setIn=function(a,b){return this.updateIn(a,g,function(){return b})};O.prototype.remove=function(a){return Qb(this,a,g)};O.prototype.deleteIn=function(a){return this.updateIn(a,function(){return g})};O.prototype.update=function(a,b,c){return arguments.length===1?a(this):this.updateIn([a],b,c)};O.prototype.updateIn=function(a,b,c){c||(c=b,b=void 0);a=$b(this,Cb(a),b,c);return a===g?void 0:a};O.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=0;this._root=null;this.__hash=void 0;this.__altered=!0;return this}return Pb()};O.prototype.merge=function(){return Xb(this,void 0,arguments)};O.prototype.mergeWith=function(b){var c=a.call(arguments,1);return Xb(this,b,c)};O.prototype.mergeIn=function(b){var c=a.call(arguments,1);return this.updateIn(b,Pb(),function(a){return typeof a.merge==="function"?a.merge.apply(a,c):c[c.length-1]})};O.prototype.mergeDeep=function(){return Xb(this,Yb(void 0),arguments)};O.prototype.mergeDeepWith=function(b){var c=a.call(arguments,1);return Xb(this,Yb(b),c)};O.prototype.mergeDeepIn=function(b){var c=a.call(arguments,1);return this.updateIn(b,Pb(),function(a){return typeof a.mergeDeep==="function"?a.mergeDeep.apply(a,c):c[c.length-1]})};O.prototype.sort=function(a){return S(sb(this,a))};O.prototype.sortBy=function(a,b){return S(sb(this,b,a))};O.prototype.withMutations=function(a){var b=this.asMutable();a(b);return b.wasAltered()?b.__ensureOwner(this.__ownerID):this};O.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new l())};O.prototype.asImmutable=function(){return this.__ensureOwner()};O.prototype.wasAltered=function(){return this.__altered};O.prototype.__iterator=function(a,b){return new Kb(this,a,b)};O.prototype.__iterate=function(a,b){var c=this,d=0;this._root&&this._root.iterate(function(b){d++;return a(b[1],b[0],c)},b);return d};O.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;if(!a){this.__ownerID=a;this.__altered=!1;return this}return Nb(this.size,this._root,a,this.__hash)};function Db(a){return!!(a&&a[Eb])}O.isMap=Db;var Eb="@@__IMMUTABLE_MAP__@@",P=O.prototype;P[Eb]=!0;P[c]=P.remove;P.removeIn=P.deleteIn;function Fb(a,b){this.ownerID=a,this.entries=b}Fb.prototype.get=function(a,b,c,d){a=this.entries;for(var b=0,e=a.length;b<e;b++)if(J(c,a[b][0]))return a[b][1];return d};Fb.prototype.update=function(a,b,c,d,e,f,h){b=e===g;c=this.entries;var i=0;for(var j=c.length;i<j;i++)if(J(d,c[i][0]))break;var l=i<j;if(l?c[i][1]===e:b)return this;k(h);(b||!l)&&k(f);if(b&&c.length===1)return;if(!l&&!b&&c.length>=ec)return Ub(a,c,d,e);h=a&&a===this.ownerID;f=h?c:m(c);l?b?i===j-1?f.pop():f[i]=f.pop():f[i]=[d,e]:f.push([d,e]);if(h){this.entries=f;return this}return new Fb(a,f)};function Gb(a,b,c){this.ownerID=a,this.bitmap=b,this.nodes=c}Gb.prototype.get=function(a,b,c,e){b===void 0&&(b=K(c));var g=1<<((a===0?b:b>>>a)&f),h=this.bitmap;return(h&g)===0?e:this.nodes[ac(h&g-1)].get(a+d,b,c,e)};Gb.prototype.update=function(a,b,c,e,h,i,j){c===void 0&&(c=K(e));var k=(b===0?c:c>>>b)&f,l=1<<k,m=this.bitmap,n=(m&l)!==0;if(!n&&h===g)return this;var o=ac(m&l-1),p=this.nodes,q=n?p[o]:void 0;b=Rb(q,a,b+d,c,e,h,i,j);if(b===q)return this;if(!n&&b&&p.length>=fc)return Wb(a,p,m,k,b);if(n&&!b&&p.length===2&&Sb(p[o^1]))return p[o^1];if(n&&b&&p.length===1&&Sb(b))return b;c=a&&a===this.ownerID;e=n?b?m:m^l:m|l;h=n?b?bc(p,o,b,c):dc(p,o,c):cc(p,o,b,c);if(c){this.bitmap=e;this.nodes=h;return this}return new Gb(a,e,h)};function Hb(a,b,c){this.ownerID=a,this.count=b,this.nodes=c}Hb.prototype.get=function(a,b,c,e){b===void 0&&(b=K(c));var g=(a===0?b:b>>>a)&f;g=this.nodes[g];return g?g.get(a+d,b,c,e):e};Hb.prototype.update=function(a,b,c,e,h,i,j){c===void 0&&(c=K(e));var k=(b===0?c:c>>>b)&f,l=h===g,m=this.nodes,n=m[k];if(l&&!n)return this;l=Rb(n,a,b+d,c,e,h,i,j);if(l===n)return this;b=this.count;if(!n)b++;else if(!l){b--;if(b<gc)return Vb(a,m,b,k)}c=a&&a===this.ownerID;e=bc(m,k,l,c);if(c){this.count=b;this.nodes=e;return this}return new Hb(a,b,e)};function Ib(a,b,c){this.ownerID=a,this.keyHash=b,this.entries=c}Ib.prototype.get=function(a,b,c,d){a=this.entries;for(var b=0,e=a.length;b<e;b++)if(J(c,a[b][0]))return a[b][1];return d};Ib.prototype.update=function(a,b,c,d,e,f,h){c===void 0&&(c=K(d));var i=e===g;if(c!==this.keyHash){if(i)return this;k(h);k(f);return Tb(this,a,b,c,[d,e])}b=this.entries;c=0;for(var j=b.length;c<j;c++)if(J(d,b[c][0]))break;var l=c<j;if(l?b[c][1]===e:i)return this;k(h);(i||!l)&&k(f);if(i&&j===2)return new Jb(a,this.keyHash,b[c^1]);h=a&&a===this.ownerID;f=h?b:m(b);l?i?c===j-1?f.pop():f[c]=f.pop():f[c]=[d,e]:f.push([d,e]);if(h){this.entries=f;return this}return new Ib(a,this.keyHash,f)};function Jb(a,b,c){this.ownerID=a,this.keyHash=b,this.entry=c}Jb.prototype.get=function(a,b,c,d){return J(c,this.entry[0])?this.entry[1]:d};Jb.prototype.update=function(a,b,c,d,e,f,h){c=e===g;var i=J(d,this.entry[0]);if(i?e===this.entry[1]:c)return this;k(h);if(c){k(f);return}if(i){if(a&&a===this.ownerID){this.entry[1]=e;return this}return new Jb(a,this.keyHash,[d,e])}k(f);return Tb(this,a,b,K(d),[d,e])};Fb.prototype.iterate=Ib.prototype.iterate=function(a,b){var c=this.entries;for(var d=0,e=c.length-1;d<=e;d++)if(a(c[b?e-d:d])===!1)return!1};Gb.prototype.iterate=Hb.prototype.iterate=function(a,b){var c=this.nodes;for(var d=0,e=c.length-1;d<=e;d++){var f=c[b?e-d:d];if(f&&f.iterate(a,b)===!1)return!1}};Jb.prototype.iterate=function(a,b){return a(this.entry)};b(Kb,C);function Kb(a,b,c){this._type=b,this._reverse=c,this._stack=a._root&&Mb(a._root)}Kb.prototype.next=function(){var a=this._type,b=this._stack;while(b){var c=b.node,d=b.index++,e;if(c.entry){if(d===0)return Lb(a,c.entry)}else if(c.entries){e=c.entries.length-1;if(d<=e)return Lb(a,c.entries[this._reverse?e-d:d])}else{e=c.nodes.length-1;if(d<=e){c=c.nodes[this._reverse?e-d:d];if(c){if(c.entry)return Lb(a,c.entry);b=this._stack=Mb(c,b)}continue}}b=this._stack=this._stack.__prev}return E()};function Lb(a,b){return D(a,b[0],b[1])}function Mb(a,b){return{node:a,index:0,__prev:b}}function Nb(b,c,d,a){var e=Object.create(P);e.size=b;e._root=c;e.__ownerID=d;e.__hash=a;e.__altered=!1;return e}var Ob;function Pb(){return Ob||(Ob=Nb(0))}function Qb(a,b,c){var d,e;if(!a._root){if(c===g)return a;e=1;d=new Fb(a.__ownerID,[[b,c]])}else{var f=j(h),k=j(i);d=Rb(a._root,a.__ownerID,0,void 0,b,c,f,k);if(!k.value)return a;e=a.size+(f.value?c===g?-1:1:0)}if(a.__ownerID){a.size=e;a._root=d;a.__hash=void 0;a.__altered=!0;return a}return d?Nb(e,d):Pb()}function Rb(a,b,c,d,e,f,h,i){if(!a){if(f===g)return a;k(i);k(h);return new Jb(b,d,[e,f])}return a.update(b,c,d,e,f,h,i)}function Sb(a){return a.constructor===Jb||a.constructor===Ib}function Tb(a,b,c,e,g){if(a.keyHash===e)return new Ib(b,e,[a.entry,g]);var h=(c===0?a.keyHash:a.keyHash>>>c)&f,i=(c===0?e:e>>>c)&f;e=h===i?[Tb(a,b,c+d,e,g)]:(c=new Jb(b,e,g),h<i?[a,c]:[c,a]);return new Gb(b,1<<h|1<<i,e)}function Ub(a,b,c,d){a||(a=new l());c=new Jb(a,K(c),[c,d]);for(d=0;d<b.length;d++){var e=b[d];c=c.update(a,0,void 0,e[0],e[1])}return c}function Vb(a,b,c,d){var e=0,f=0;c=new Array(c);for(var g=0,h=1,i=b.length;g<i;g++,h<<=1){var j=b[g];j!==void 0&&g!==d&&(e|=h,c[f++]=j)}return new Gb(a,e,c)}function Wb(a,b,c,d,f){var g=0,h=new Array(e);for(var i=0;c!==0;i++,c>>>=1)h[i]=c&1?b[g++]:void 0;h[d]=f;return new Hb(a,g+1,h)}function Xb(a,b,c){var d=[];for(var e=0;e<c.length;e++){var f=c[e],g=u(f);x(f)||(g=g.map(function(a){return Ia(a)}));d.push(g)}return Zb(a,b,d)}function Yb(a){return function(b,c,d){return b&&b.mergeDeepWith&&x(c)?b.mergeDeepWith(a,c):a?a(b,c,d):c}}function Zb(a,b,c){c=c.filter(function(a){return a.size!==0});if(c.length===0)return a;return a.size===0&&!a.__ownerID&&c.length===1?a.constructor(c[0]):a.withMutations(function(a){var d=b?function(c,d){a.update(d,g,function(a){return a===g?c:b(a,c,d)})}:function(b,c){a.set(c,b)};for(var e=0;e<c.length;e++)c[e].forEach(d)})}function $b(a,b,c,d){var e=a===g,f=b.next();if(f.done){var h=e?c:a,i=d(h);return i===h?a:i}bb(e||a&&a.set,"invalid keyPath");h=f.value;i=e?g:a.get(h,g);f=$b(i,b,c,d);return f===i?a:f===g?a.remove(h):(e?Pb():a).set(h,f)}function ac(a){a=a-(a>>1&1431655765);a=(a&858993459)+(a>>2&858993459);a=a+(a>>4)&252645135;a=a+(a>>8);a=a+(a>>16);return a&127}function bc(a,b,c,d){d=d?a:m(a);d[b]=c;return d}function cc(a,b,c,d){var e=a.length+1;if(d&&b+1===e){a[b]=c;return a}d=new Array(e);var f=0;for(var g=0;g<e;g++)g===b?(d[g]=c,f=-1):d[g]=a[g+f];return d}function dc(a,b,c){var d=a.length-1;if(c&&b===d){a.pop();return a}c=new Array(d);var e=0;for(var f=0;f<d;f++)f===b&&(e=1),c[f]=a[f+e];return c}var ec=e/4,fc=e/2,gc=e/4;b(Q,Ga);function Q(a){var b=oc();if(a===null||a===void 0)return b;if(hc(a))return a;var c=v(a),f=c.size;if(f===0)return b;L(f);return f>0&&f<e?mc(0,f,d,null,new jc(c.toArray())):b.withMutations(function(a){a.setSize(f),c.forEach(function(b,c){return a.set(c,b)})})}Q.of=function(){return this(arguments)};Q.prototype.toString=function(){return this.__toString("List [","]")};Q.prototype.get=function(a,b){a=o(this,a);if(a<0||a>=this.size)return b;a+=this._origin;b=sc(this,a);return b&&b.array[a&f]};Q.prototype.set=function(a,b){return pc(this,a,b)};Q.prototype.remove=function(a){return this.has(a)?a===0?this.shift():a===this.size-1?this.pop():this.splice(a,1):this};Q.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=this._origin=this._capacity=0;this._level=d;this._root=this._tail=null;this.__hash=void 0;this.__altered=!0;return this}return oc()};Q.prototype.push=function(){var a=arguments,b=this.size;return this.withMutations(function(c){tc(c,0,b+a.length);for(var d=0;d<a.length;d++)c.set(b+d,a[d])})};Q.prototype.pop=function(){return tc(this,0,-1)};Q.prototype.unshift=function(){var a=arguments;return this.withMutations(function(b){tc(b,-a.length);for(var c=0;c<a.length;c++)b.set(c,a[c])})};Q.prototype.shift=function(){return tc(this,1)};Q.prototype.merge=function(){return uc(this,void 0,arguments)};Q.prototype.mergeWith=function(b){var c=a.call(arguments,1);return uc(this,b,c)};Q.prototype.mergeDeep=function(){return uc(this,Yb(void 0),arguments)};Q.prototype.mergeDeepWith=function(b){var c=a.call(arguments,1);return uc(this,Yb(b),c)};Q.prototype.setSize=function(a){return tc(this,0,a)};Q.prototype.slice=function(a,b){var c=this.size;return q(a,b,c)?this:tc(this,r(a,c),s(b,c))};Q.prototype.__iterator=function(a,b){var c=0,d=lc(this,b);return new C(function(){var b=d();return b===kc?E():D(a,c++,b)})};Q.prototype.__iterate=function(a,b){var c=0;b=lc(this,b);var d;while((d=b())!==kc)if(a(d,c++,this)===!1)break;return c};Q.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;if(!a){this.__ownerID=a;return this}return mc(this._origin,this._capacity,this._level,this._root,this._tail,a,this.__hash)};function hc(a){return!!(a&&a[ic])}Q.isList=hc;var ic="@@__IMMUTABLE_LIST__@@",R=Q.prototype;R[ic]=!0;R[c]=R.remove;R.setIn=P.setIn;R.deleteIn=R.removeIn=P.removeIn;R.update=P.update;R.updateIn=P.updateIn;R.mergeIn=P.mergeIn;R.mergeDeepIn=P.mergeDeepIn;R.withMutations=P.withMutations;R.asMutable=P.asMutable;R.asImmutable=P.asImmutable;R.wasAltered=P.wasAltered;function jc(a,b){this.array=a,this.ownerID=b}jc.prototype.removeBefore=function(a,b,c){if(c===b?1<<b:this.array.length===0)return this;var e=c>>>b&f;if(e>=this.array.length)return new jc([],a);var g=e===0,h;if(b>0){var i=this.array[e];h=i&&i.removeBefore(a,b-d,c);if(h===i&&g)return this}if(g&&!h)return this;b=rc(this,a);if(!g)for(c=0;c<e;c++)b.array[c]=void 0;h&&(b.array[e]=h);return b};jc.prototype.removeAfter=function(a,b,c){if(c===b?1<<b:this.array.length===0)return this;var e=c-1>>>b&f;if(e>=this.array.length)return this;var g=e===this.array.length-1,h;if(b>0){var i=this.array[e];h=i&&i.removeAfter(a,b-d,c);if(h===i&&g)return this}if(g&&!h)return this;b=rc(this,a);g||b.array.pop();h&&(b.array[e]=h);return b};var kc={};function lc(a,b){var c=a._origin,f=a._capacity,g=vc(f),h=a._tail;return i(a._root,a._level,0);function i(a,b,c){return b===0?j(a,c):k(a,b,c)}function j(a,d){var i=d===g?h&&h.array:a&&a.array,j=d>c?0:c-d,k=f-d;k>e&&(k=e);return function(){if(j===k)return kc;var a=b?--k:j++;return i&&i[a]}}function k(a,g,h){var j,k=a&&a.array,l=h>c?0:c-h>>g,m=(f-h>>g)+1;m>e&&(m=e);return function(){do{if(j){var a=j();if(a!==kc)return a;j=null}if(l===m)return kc;a=b?--m:l++;j=i(k&&k[a],g-d,h+(a<<g))}while(!0)}}}function mc(b,c,d,e,f,g,a){var h=Object.create(R);h.size=c-b;h._origin=b;h._capacity=c;h._level=d;h._root=e;h._tail=f;h.__ownerID=g;h.__hash=a;h.__altered=!1;return h}var nc;function oc(){return nc||(nc=mc(0,0,d))}function pc(a,b,c){b=o(a,b);if(b>=a.size||b<0)return a.withMutations(function(a){b<0?tc(a,b).set(0,c):tc(a,0,b+1).set(b,c)});b+=a._origin;var d=a._tail,e=a._root,f=j(i);b>=vc(a._capacity)?d=qc(d,a.__ownerID,0,b,c,f):e=qc(e,a.__ownerID,a._level,b,c,f);if(!f.value)return a;if(a.__ownerID){a._root=e;a._tail=d;a.__hash=void 0;a.__altered=!0;return a}return mc(a._origin,a._capacity,a._level,e,d)}function qc(a,b,c,e,g,h){var i=e>>>c&f,j=a&&i<a.array.length;if(!j&&g===void 0)return a;if(c>0){var l=a&&a.array[i];c=qc(l,b,c-d,e,g,h);if(c===l)return a;e=rc(a,b);e.array[i]=c;return e}if(j&&a.array[i]===g)return a;k(h);e=rc(a,b);g===void 0&&i===e.array.length-1?e.array.pop():e.array[i]=g;return e}function rc(a,b){return b&&a&&b===a.ownerID?a:new jc(a?a.array.slice():[],b)}function sc(a,b){if(b>=vc(a._capacity))return a._tail;if(b<1<<a._level+d){var c=a._root;a=a._level;while(c&&a>0)c=c.array[b>>>a&f],a-=d;return c}}function tc(a,b,c){var e=a.__ownerID||new l(),g=a._origin,h=a._capacity;b=g+b;c=c===void 0?h:c<0?h+c:g+c;if(b===g&&c===h)return a;if(b>=c)return a.clear();var i=a._level,j=a._root,k=0;while(b+k<0)j=new jc(j&&j.array.length?[void 0,j]:[],e),i+=d,k+=1<<i;k&&(b+=k,g+=k,c+=k,h+=k);var m=vc(h),n=vc(c);while(n>=1<<i+d)j=new jc(j&&j.array.length?[j]:[],e),i+=d;var o=a._tail,p=n<m?sc(a,c-1):n>m?new jc([],e):o;if(o&&n>m&&b<h&&o.array.length){j=rc(j,e);var q=j;for(var r=i;r>d;r-=d){var s=m>>>r&f;q=q.array[s]=rc(q.array[s],e)}q.array[m>>>d&f]=o}c<h&&(p=p&&p.removeAfter(e,0,c));if(b>=n)b-=n,c-=n,i=d,j=null,p=p&&p.removeBefore(e,0,b);else if(b>g||n<m){k=0;while(j){s=b>>>i&f;if(s!==n>>>i&f)break;s&&(k+=(1<<i)*s);i-=d;j=j.array[s]}j&&b>g&&(j=j.removeBefore(e,i,b-k));j&&n<m&&(j=j.removeAfter(e,i,n-k));k&&(b-=k,c-=k)}if(a.__ownerID){a.size=c-b;a._origin=b;a._capacity=c;a._level=i;a._root=j;a._tail=p;a.__hash=void 0;a.__altered=!0;return a}return mc(b,c,i,j,p)}function uc(a,b,c){var d=[],e=0;for(var f=0;f<c.length;f++){var g=c[f],h=v(g);h.size>e&&(e=h.size);x(g)||(h=h.map(function(a){return Ia(a)}));d.push(h)}e>a.size&&(a=a.setSize(e));return Zb(a,b,d)}function vc(a){return a<e?0:a-1>>>d<<d}b(S,O);function S(a){return a===null||a===void 0?zc():wc(a)?a:zc().withMutations(function(b){var c=u(a);L(c.size);c.forEach(function(a,c){return b.set(c,a)})})}S.of=function(){return this(arguments)};S.prototype.toString=function(){return this.__toString("OrderedMap {","}")};S.prototype.get=function(a,b){a=this._map.get(a);return a!==void 0?this._list.get(a)[1]:b};S.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=0;this._map.clear();this._list.clear();return this}return zc()};S.prototype.set=function(a,b){return Ac(this,a,b)};S.prototype.remove=function(a){return Ac(this,a,g)};S.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()};S.prototype.__iterate=function(a,b){var c=this;return this._list.__iterate(function(b){return b&&a(b[1],b[0],c)},b)};S.prototype.__iterator=function(a,b){return this._list.fromEntrySeq().__iterator(a,b)};S.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;var b=this._map.__ensureOwner(a),c=this._list.__ensureOwner(a);if(!a){this.__ownerID=a;this._map=b;this._list=c;return this}return xc(b,c,a,this.__hash)};function wc(a){return Db(a)&&ca(a)}S.isOrderedMap=wc;S.prototype[ga]=!0;S.prototype[c]=S.prototype.remove;function xc(b,c,d,a){var e=Object.create(S.prototype);e.size=b?b.size:0;e._map=b;e._list=c;e.__ownerID=d;e.__hash=a;return e}var yc;function zc(){return yc||(yc=xc(Pb(),oc()))}function Ac(a,b,c){var d=a._map,f=a._list,h=d.get(b),i=h!==void 0,j,k;if(c===g){if(!i)return a;f.size>=e&&f.size>=d.size*2?(k=f.filter(function(a,b){return a!==void 0&&h!==b}),j=k.toKeyedSeq().map(function(a){return a[0]}).flip().toMap(),a.__ownerID&&(j.__ownerID=k.__ownerID=a.__ownerID)):(j=d.remove(b),k=h===f.size-1?f.pop():f.set(h,void 0))}else if(i){if(c===f.get(h)[1])return a;j=d;k=f.set(h,[b,c])}else j=d.set(b,f.size),k=f.set(f.size,[b,c]);if(a.__ownerID){a.size=j.size;a._map=j;a._list=k;a.__hash=void 0;return a}return xc(j,k)}b(T,Ga);function T(a){return a===null||a===void 0?Gc():Bc(a)?a:Gc().unshiftAll(a)}T.of=function(){return this(arguments)};T.prototype.toString=function(){return this.__toString("Stack [","]")};T.prototype.get=function(a,b){var c=this._head;a=o(this,a);while(c&&a--)c=c.next;return c?c.value:b};T.prototype.peek=function(){return this._head&&this._head.value};T.prototype.push=function(){if(arguments.length===0)return this;var a=this.size+arguments.length,b=this._head;for(var c=arguments.length-1;c>=0;c--)b={value:arguments[c],next:b};if(this.__ownerID){this.size=a;this._head=b;this.__hash=void 0;this.__altered=!0;return this}return Ec(a,b)};T.prototype.pushAll=function(a){a=v(a);if(a.size===0)return this;L(a.size);var b=this.size,c=this._head;a.reverse().forEach(function(a){b++,c={value:a,next:c}});if(this.__ownerID){this.size=b;this._head=c;this.__hash=void 0;this.__altered=!0;return this}return Ec(b,c)};T.prototype.pop=function(){return this.slice(1)};T.prototype.unshift=function(){return this.push.apply(this,arguments)};T.prototype.unshiftAll=function(a){return this.pushAll(a)};T.prototype.shift=function(){return this.pop.apply(this,arguments)};T.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=0;this._head=void 0;this.__hash=void 0;this.__altered=!0;return this}return Gc()};T.prototype.slice=function(a,b){if(q(a,b,this.size))return this;var c=r(a,this.size),d=s(b,this.size);if(d!==this.size)return Ga.prototype.slice.call(this,a,b);d=this.size-c;a=this._head;while(c--)a=a.next;if(this.__ownerID){this.size=d;this._head=a;this.__hash=void 0;this.__altered=!0;return this}return Ec(d,a)};T.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;if(!a){this.__ownerID=a;this.__altered=!1;return this}return Ec(this.size,this._head,a,this.__hash)};T.prototype.__iterate=function(a,b){if(b)return this.reverse().__iterate(a);b=0;var c=this._head;while(c){if(a(c.value,b++,this)===!1)break;c=c.next}return b};T.prototype.__iterator=function(a,b){if(b)return this.reverse().__iterator(a);var c=0,d=this._head;return new C(function(){if(d){var b=d.value;d=d.next;return D(a,c++,b)}return E()})};function Bc(a){return!!(a&&a[Cc])}T.isStack=Bc;var Cc="@@__IMMUTABLE_STACK__@@",Dc=T.prototype;Dc[Cc]=!0;Dc.withMutations=P.withMutations;Dc.asMutable=P.asMutable;Dc.asImmutable=P.asImmutable;Dc.wasAltered=P.wasAltered;function Ec(b,c,d,a){var e=Object.create(Dc);e.size=b;e._head=c;e.__ownerID=d;e.__hash=a;e.__altered=!1;return e}var Fc;function Gc(){return Fc||(Fc=Ec(0))}b(U,Ha);function U(a){return a===null||a===void 0?Mc():Hc(a)?a:Mc().withMutations(function(b){var c=w(a);L(c.size);c.forEach(function(a){return b.add(a)})})}U.of=function(){return this(arguments)};U.fromKeys=function(a){return this(u(a).keySeq())};U.prototype.toString=function(){return this.__toString("Set {","}")};U.prototype.has=function(a){return this._map.has(a)};U.prototype.add=function(a){return Jc(this,this._map.set(a,!0))};U.prototype.remove=function(a){return Jc(this,this._map.remove(a))};U.prototype.clear=function(){return Jc(this,this._map.clear())};U.prototype.union=function(){var b=a.call(arguments,0);b=b.filter(function(a){return a.size!==0});if(b.length===0)return this;return this.size===0&&!this.__ownerID&&b.length===1?this.constructor(b[0]):this.withMutations(function(a){for(var c=0;c<b.length;c++)w(b[c]).forEach(function(b){return a.add(b)})})};U.prototype.intersect=function(){var b=a.call(arguments,0);if(b.length===0)return this;b=b.map(function(a){return w(a)});var c=this;return this.withMutations(function(a){c.forEach(function(c){b.every(function(a){return a.includes(c)})||a.remove(c)})})};U.prototype.subtract=function(){var b=a.call(arguments,0);if(b.length===0)return this;b=b.map(function(a){return w(a)});var c=this;return this.withMutations(function(a){c.forEach(function(c){b.some(function(a){return a.includes(c)})&&a.remove(c)})})};U.prototype.merge=function(){return this.union.apply(this,arguments)};U.prototype.mergeWith=function(b){var c=a.call(arguments,1);return this.union.apply(this,c)};U.prototype.sort=function(a){return Nc(sb(this,a))};U.prototype.sortBy=function(a,b){return Nc(sb(this,b,a))};U.prototype.wasAltered=function(){return this._map.wasAltered()};U.prototype.__iterate=function(a,b){var c=this;return this._map.__iterate(function(b,d){return a(d,d,c)},b)};U.prototype.__iterator=function(a,b){return this._map.map(function(a,b){return b}).__iterator(a,b)};U.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;var b=this._map.__ensureOwner(a);if(!a){this.__ownerID=a;this._map=b;return this}return this.__make(b,a)};function Hc(a){return!!(a&&a[Ic])}U.isSet=Hc;var Ic="@@__IMMUTABLE_SET__@@",V=U.prototype;V[Ic]=!0;V[c]=V.remove;V.mergeDeep=V.merge;V.mergeDeepWith=V.mergeWith;V.withMutations=P.withMutations;V.asMutable=P.asMutable;V.asImmutable=P.asImmutable;V.__empty=Mc;V.__make=Kc;function Jc(a,b){if(a.__ownerID){a.size=b.size;a._map=b;return a}return b===a._map?a:b.size===0?a.__empty():a.__make(b)}function Kc(a,b){var c=Object.create(V);c.size=a?a.size:0;c._map=a;c.__ownerID=b;return c}var Lc;function Mc(){return Lc||(Lc=Kc(Pb()))}b(Nc,U);function Nc(a){return a===null||a===void 0?Sc():Oc(a)?a:Sc().withMutations(function(b){var c=w(a);L(c.size);c.forEach(function(a){return b.add(a)})})}Nc.of=function(){return this(arguments)};Nc.fromKeys=function(a){return this(u(a).keySeq())};Nc.prototype.toString=function(){return this.__toString("OrderedSet {","}")};function Oc(a){return Hc(a)&&ca(a)}Nc.isOrderedSet=Oc;var Pc=Nc.prototype;Pc[ga]=!0;Pc.__empty=Sc;Pc.__make=Qc;function Qc(a,b){var c=Object.create(Pc);c.size=a?a.size:0;c._map=a;c.__ownerID=b;return c}var Rc;function Sc(){return Rc||(Rc=Qc(zc()))}b(W,Fa);function W(a,b){var c,d=function(f){if(f instanceof d)return f;if(!(this instanceof d))return new d(f);if(!c){c=!0;var g=Object.keys(a);Vc(e,g);e.size=g.length;e._name=b;e._keys=g;e._defaultValues=a}this._map=O(f)},e=d.prototype=Object.create(X);e.constructor=d;return d}W.prototype.toString=function(){return this.__toString(Uc(this)+" {","}")};W.prototype.has=function(a){return this._defaultValues.hasOwnProperty(a)};W.prototype.get=function(a,b){if(!this.has(a))return b;b=this._defaultValues[a];return this._map?this._map.get(a,b):b};W.prototype.clear=function(){if(this.__ownerID){this._map&&this._map.clear();return this}var a=this.constructor;return a._empty||(a._empty=Tc(this,Pb()))};W.prototype.set=function(a,b){if(!this.has(a))throw new Error('Cannot set unknown key "'+a+'" on '+Uc(this));a=this._map&&this._map.set(a,b);return this.__ownerID||a===this._map?this:Tc(this,a)};W.prototype.remove=function(a){if(!this.has(a))return this;a=this._map&&this._map.remove(a);return this.__ownerID||a===this._map?this:Tc(this,a)};W.prototype.wasAltered=function(){return this._map.wasAltered()};W.prototype.__iterator=function(a,b){var c=this;return u(this._defaultValues).map(function(a,b){return c.get(b)}).__iterator(a,b)};W.prototype.__iterate=function(a,b){var c=this;return u(this._defaultValues).map(function(a,b){return c.get(b)}).__iterate(a,b)};W.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;var b=this._map&&this._map.__ensureOwner(a);if(!a){this.__ownerID=a;this._map=b;return this}return Tc(this,b,a)};var X=W.prototype;X[c]=X.remove;X.deleteIn=X.removeIn=P.removeIn;X.merge=P.merge;X.mergeWith=P.mergeWith;X.mergeIn=P.mergeIn;X.mergeDeep=P.mergeDeep;X.mergeDeepWith=P.mergeDeepWith;X.mergeDeepIn=P.mergeDeepIn;X.setIn=P.setIn;X.update=P.update;X.updateIn=P.updateIn;X.withMutations=P.withMutations;X.asMutable=P.asMutable;X.asImmutable=P.asImmutable;function Tc(a,b,c){a=Object.create(Object.getPrototypeOf(a));a._map=b;a.__ownerID=c;return a}function Uc(a){return a._name||a.constructor.name||"Record"}function Vc(a,b){try{b.forEach(Wc.bind(void 0,a))}catch(a){}}function Wc(a,b){Object.defineProperty(a,b,{get:function(){return this.get(b)},set:function(a){bb(this.__ownerID,"Cannot set on an immutable record."),this.set(b,a)}})}function Xc(a,b){if(a===b)return!0;if(!x(b)||a.size!==void 0&&b.size!==void 0&&a.size!==b.size||a.__hash!==void 0&&b.__hash!==void 0&&a.__hash!==b.__hash||y(a)!==y(b)||z(a)!==z(b)||ca(a)!==ca(b))return!1;if(a.size===0&&b.size===0)return!0;var c=!ba(a);if(ca(a)){var d=a.entries();return b.every(function(a,b){var e=d.next().value;return e&&J(e[1],a)&&(c||J(e[0],b))})&&d.next().done}var e=!1;if(a.size===void 0)if(b.size===void 0)typeof a.cacheResult==="function"&&a.cacheResult();else{e=!0;var f=a;a=b;b=f}f=!0;b=b.__iterate(function(b,d){if(c?!a.has(b):e?!J(b,a.get(d,g)):!J(a.get(d,g),b)){f=!1;return!1}});return f&&a.size===b}b(Y,H);function Y(a,b,c){if(!(this instanceof Y))return new Y(a,b,c);bb(c!==0,"Cannot step a Range by 0");a=a||0;b===void 0&&(b=Infinity);c=c===void 0?1:Math.abs(c);b<a&&(c=-c);this._start=a;this._end=b;this._step=c;this.size=Math.max(0,Math.ceil((b-a)/c-1)+1);if(this.size===0){if(Yc)return Yc;Yc=this}}Y.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"};Y.prototype.get=function(a,b){return this.has(a)?this._start+o(this,a)*this._step:b};Y.prototype.includes=function(a){a=(a-this._start)/this._step;return a>=0&&a<this.size&&a===Math.floor(a)};Y.prototype.slice=function(a,b){if(q(a,b,this.size))return this;a=r(a,this.size);b=s(b,this.size);return b<=a?new Y(0,0):new Y(this.get(a,this._end),this.get(b,this._end),this._step)};Y.prototype.indexOf=function(a){a=a-this._start;if(a%this._step===0){a=a/this._step;if(a>=0&&a<this.size)return a}return-1};Y.prototype.lastIndexOf=function(a){return this.indexOf(a)};Y.prototype.__iterate=function(a,b){var c=this.size-1,d=this._step,e=b?this._start+c*d:this._start;for(var f=0;f<=c;f++){if(a(e,f,this)===!1)return f+1;e+=b?-d:d}return f};Y.prototype.__iterator=function(a,b){var c=this.size-1,d=this._step,e=b?this._start+c*d:this._start,f=0;return new C(function(){var g=e;e+=b?-d:d;return f>c?E():D(a,f++,g)})};Y.prototype.equals=function(a){return a instanceof Y?this._start===a._start&&this._end===a._end&&this._step===a._step:Xc(this,a)};var Yc;b(Z,H);function Z(a,b){if(!(this instanceof Z))return new Z(a,b);this._value=a;this.size=b===void 0?Infinity:Math.max(0,b);if(this.size===0){if(Zc)return Zc;Zc=this}}Z.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"};Z.prototype.get=function(a,b){return this.has(a)?this._value:b};Z.prototype.includes=function(a){return J(this._value,a)};Z.prototype.slice=function(a,b){var c=this.size;return q(a,b,c)?this:new Z(this._value,s(b,c)-r(a,c))};Z.prototype.reverse=function(){return this};Z.prototype.indexOf=function(a){return J(this._value,a)?0:-1};Z.prototype.lastIndexOf=function(a){return J(this._value,a)?this.size:-1};Z.prototype.__iterate=function(a,b){for(b=0;b<this.size;b++)if(a(this._value,b,this)===!1)return b+1;return b};Z.prototype.__iterator=function(a,b){var c=this,d=0;return new C(function(){return d<c.size?D(a,d++,c._value):E()})};Z.prototype.equals=function(a){return a instanceof Z?J(this._value,a._value):Xc(a)};var Zc;function $c(a,b){var c=function(c){a.prototype[c]=b[c]};Object.keys(b).forEach(c);Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(b).forEach(c);return a}t.Iterator=C;$c(t,{toArray:function(){L(this.size);var a=new Array(this.size||0);this.valueSeq().__iterate(function(b,c){a[c]=b});return a},toIndexedSeq:function(){return new cb(this)},toJS:function(){return this.toSeq().map(function(a){return a&&typeof a.toJS==="function"?a.toJS():a}).__toJS()},toJSON:function(){return this.toSeq().map(function(a){return a&&typeof a.toJSON==="function"?a.toJSON():a}).__toJS()},toKeyedSeq:function(){return new M(this,!0)},toMap:function(){return O(this.toKeyedSeq())},toObject:function(){L(this.size);var a={};this.__iterate(function(b,c){a[c]=b});return a},toOrderedMap:function(){return S(this.toKeyedSeq())},toOrderedSet:function(){return Nc(y(this)?this.valueSeq():this)},toSet:function(){return U(y(this)?this.valueSeq():this)},toSetSeq:function(){return new db(this)},toSeq:function(){return z(this)?this.toIndexedSeq():y(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return T(y(this)?this.valueSeq():this)},toList:function(){return Q(y(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(a,b){return this.size===0?a+b:a+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+b},concat:function(){var b=a.call(arguments,0);return N(this,ob(this,b))},contains:function(a){return this.includes(a)},includes:function(a){return this.some(function(b){return J(b,a)})},entries:function(){return this.__iterator(B)},every:function(a,b){L(this.size);var c=!0;this.__iterate(function(d,e,f){if(!a.call(b,d,e,f)){c=!1;return!1}});return c},filter:function(a,b){return N(this,ib(this,a,b,!0))},find:function(a,b,c){a=this.findEntry(a,b);return a?a[1]:c},findEntry:function(a,b){var c;this.__iterate(function(d,e,f){if(a.call(b,d,e,f)){c=[e,d];return!1}});return c},findLastEntry:function(a,b){return this.toSeq().reverse().findEntry(a,b)},forEach:function(a,b){L(this.size);return this.__iterate(b?a.bind(b):a)},join:function(a){L(this.size);a=a!==void 0?""+a:",";var b="",c=!0;this.__iterate(function(d){c?c=!1:b+=a,b+=d!==null&&d!==void 0?d.toString():""});return b},keys:function(){return this.__iterator(ha)},map:function(a,b){return N(this,gb(this,a,b))},reduce:function(a,b,c){L(this.size);var d,e;arguments.length<2?e=!0:d=b;this.__iterate(function(b,f,g){e?(e=!1,d=b):d=a.call(c,d,b,f,g)});return d},reduceRight:function(a,b,c){var d=this.toKeyedSeq().reverse();return d.reduce.apply(d,arguments)},reverse:function(){return N(this,hb(this,!0))},slice:function(a,b){return N(this,lb(this,a,b,!0))},some:function(a,b){return!this.every(cd(a),b)},sort:function(a){return N(this,sb(this,a))},values:function(){return this.__iterator(A)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(a,b){return n(a?this.toSeq().filter(a,b):this)},countBy:function(a,b){return jb(this,a,b)},equals:function(a){return Xc(this,a)},entrySeq:function(){var a=this;if(a._cache)return new ra(a._cache);var b=a.toSeq().map(bd).toIndexedSeq();b.fromEntrySeq=function(){return a.toSeq()};return b},filterNot:function(a,b){return this.filter(cd(a),b)},findLast:function(a,b,c){return this.toKeyedSeq().reverse().find(a,b,c)},first:function(){return this.find(p)},flatMap:function(a,b){return N(this,qb(this,a,b))},flatten:function(a){return N(this,pb(this,a,!0))},fromEntrySeq:function(){return new eb(this)},get:function(a,b){return this.find(function(b,c){return J(c,a)},void 0,b)},getIn:function(a,b){var c=this;a=Cb(a);var d;while(!(d=a.next()).done){d=d.value;c=c&&c.get?c.get(d,g):g;if(c===g)return b}return c},groupBy:function(a,b){return kb(this,a,b)},has:function(a){return this.get(a,g)!==g},hasIn:function(a){return this.getIn(a,g)!==g},isSubset:function(a){a=typeof a.includes==="function"?a:t(a);return this.every(function(b){return a.includes(b)})},isSuperset:function(a){return a.isSubset(this)},keySeq:function(){return this.toSeq().map(ad).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(a){return tb(this,a)},maxBy:function(a,b){return tb(this,b,a)},min:function(a){return tb(this,a?dd(a):gd)},minBy:function(a,b){return tb(this,b?dd(b):gd,a)},rest:function(){return this.slice(1)},skip:function(a){return this.slice(Math.max(0,a))},skipLast:function(a){return N(this,this.toSeq().reverse().skip(a).reverse())},skipWhile:function(a,b){return N(this,nb(this,a,b,!0))},skipUntil:function(a,b){return this.skipWhile(cd(a),b)},sortBy:function(a,b){return N(this,sb(this,b,a))},take:function(a){return this.slice(0,Math.max(0,a))},takeLast:function(a){return N(this,this.toSeq().reverse().take(a).reverse())},takeWhile:function(a,b){return N(this,mb(this,a,b))},takeUntil:function(a,b){return this.takeWhile(cd(a),b)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=hd(this))}});var $=t.prototype;$[da]=!0;$[ka]=$.values;$.__toJS=$.toArray;$.__toStringMapper=ed;$.inspect=$.toSource=function(){return this.toString()};$.chain=$.flatMap;(function(){try{Object.defineProperty($,"length",{get:function(){if(!t.noLengthWarning){var a;try{throw new Error()}catch(b){a=b.stack}if(a.indexOf("_wrapObject")===-1){console&&emptyFunction&&!1;return this.size}}}})}catch(a){}})();$c(u,{flip:function(){return N(this,fb(this))},findKey:function(a,b){a=this.findEntry(a,b);return a&&a[0]},findLastKey:function(a,b){return this.toSeq().reverse().findKey(a,b)},keyOf:function(a){return this.findKey(function(b){return J(b,a)})},lastKeyOf:function(a){return this.findLastKey(function(b){return J(b,a)})},mapEntries:function(a,b){var c=this,d=0;return N(this,this.toSeq().map(function(e,f){return a.call(b,[f,e],d++,c)}).fromEntrySeq())},mapKeys:function(a,b){var c=this;return N(this,this.toSeq().flip().map(function(d,e){return a.call(b,d,e,c)}).flip())}});c=u.prototype;c[ea]=!0;c[ka]=$.entries;c.__toJS=$.toObject;c.__toStringMapper=function(a,b){return JSON.stringify(b)+": "+ed(a)};$c(v,{toKeyedSeq:function(){return new M(this,!1)},filter:function(a,b){return N(this,ib(this,a,b,!1))},findIndex:function(a,b){a=this.findEntry(a,b);return a?a[0]:-1},indexOf:function(a){a=this.toKeyedSeq().keyOf(a);return a===void 0?-1:a},lastIndexOf:function(a){return this.toSeq().reverse().indexOf(a)},reverse:function(){return N(this,hb(this,!1))},slice:function(a,b){return N(this,lb(this,a,b,!1))},splice:function(a,b){var c=arguments.length;b=Math.max(b|0,0);if(c===0||c===2&&!b)return this;a=r(a,this.size);var d=this.slice(0,a);return N(this,c===1?d:d.concat(m(arguments,2),this.slice(a+b)))},findLastIndex:function(a,b){a=this.toKeyedSeq().findLastKey(a,b);return a===void 0?-1:a},first:function(){return this.get(0)},flatten:function(a){return N(this,pb(this,a,!1))},get:function(a,b){a=o(this,a);return a<0||this.size===Infinity||this.size!==void 0&&a>this.size?b:this.find(function(b,c){return c===a},void 0,b)},has:function(a){a=o(this,a);return a>=0&&(this.size!==void 0?this.size===Infinity||a<this.size:this.indexOf(a)!==-1)},interpose:function(a){return N(this,rb(this,a))},interleave:function(){var a=[this].concat(m(arguments)),b=vb(this.toSeq(),H.of,a),c=b.flatten(!0);b.size&&(c.size=b.size*a.length);return N(this,c)},last:function(){return this.get(-1)},skipWhile:function(a,b){return N(this,nb(this,a,b,!1))},zip:function(){var a=[this].concat(m(arguments));return N(this,vb(this,fd,a))},zipWith:function(a){var b=m(arguments);b[0]=this;return N(this,vb(this,a,b))}});v.prototype[fa]=!0;v.prototype[ga]=!0;$c(w,{get:function(a,b){return this.has(a)?a:b},includes:function(a){return this.has(a)},keySeq:function(){return this.valueSeq()}});w.prototype.has=$.includes;$c(G,u.prototype);$c(H,v.prototype);$c(I,w.prototype);$c(Fa,u.prototype);$c(Ga,v.prototype);$c(Ha,w.prototype);function ad(a,b){return b}function bd(a,b){return[b,a]}function cd(a){return function(){return!a.apply(this,arguments)}}function dd(a){return function(){return-a.apply(this,arguments)}}function ed(a){return typeof a==="string"?JSON.stringify(a):a}function fd(){return m(arguments)}function gd(a,b){return a<b?1:a>b?-1:0}function hd(a){if(a.size===Infinity)return 0;var b=ca(a),c=y(a),d=b?1:0;a=a.__iterate(c?b?function(a,b){d=31*d+jd(K(a),K(b))|0}:function(a,b){d=d+jd(K(a),K(b))|0}:b?function(a){d=31*d+K(a)|0}:function(a){d=d+K(a)|0});return id(a,d)}function id(a,b){b=Ma(b,3432918353);b=Ma(b<<15|b>>>-15,461845907);b=Ma(b<<13|b>>>-13,5);b=(b+3864292196|0)^a;b=Ma(b^b>>>16,2246822507);b=Ma(b^b>>>13,3266489909);b=Na(b^b>>>16);return b}function jd(a,b){return a^b+2654435769+(a<<6)+(a>>2)|0}b={Iterable:t,Seq:F,Collection:Ea,Map:O,OrderedMap:S,List:Q,Stack:T,Set:U,OrderedSet:Nc,Record:W,Range:Y,Repeat:Z,is:J,fromJS:Ia};return b})}var j=!1;function k(){j||(j=!0,i());return h.exports}function a(a){switch(a){case void 0:return k()}}e.exports=a}),null);
__d("immutable",["immutable-3.7.3"],(function(a,b,c,d,e,f){e.exports=b("immutable-3.7.3")()}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("object-assign-4.1.1",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){var a=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;function d(a){if(a===null||a===void 0)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(a)}function e(){try{if(!Object.assign)return!1;var a=new String("abc");a[5]="de";if(Object.getOwnPropertyNames(a)[0]==="5")return!1;var b={};for(a=0;a<10;a++)b["_"+String.fromCharCode(a)]=a;a=Object.getOwnPropertyNames(b).map(function(a){return b[a]});if(a.join("")!=="0123456789")return!1;var c={};"abcdefghijklmnopqrst".split("").forEach(function(a){c[a]=a});return Object.keys(Object.assign({},c)).join("")!=="abcdefghijklmnopqrst"?!1:!0}catch(a){return!1}}g.exports=e()?Object.assign:function(e,f){var g,h=d(e),i;for(var j=1;j<arguments.length;j++){g=Object(arguments[j]);for(var k in g)b.call(g,k)&&(h[k]=g[k]);if(a){i=a(g);for(var l=0;l<i.length;l++)c.call(g,i[l])&&(h[i[l]]=g[i[l]])}}return h}}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a}),null);/*FB_PKG_DELIM*/
__d("FBIconAccessibilityOutline20.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-446 -398)",children:i.jsxs(d("XPlatReactSVG").G,{children:[i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M112 203.5c0 5.523-4.477 10-10 10s-10-4.477-10-10 4.477-10 10-10 10 4.477 10 10zm-1.5 0a8.5 8.5 0 1 0-17 0 8.5 8.5 0 0 0 17 0z",transform:"translate(354 204.5)"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"m96.52 200.464 4.073 1.313c.923.298 1.89.298 2.814 0l4.073-1.313a.75.75 0 1 0-.46-1.428l-4.074 1.313a3.042 3.042 0 0 1-1.892 0l-4.074-1.313a.75.75 0 1 0-.46 1.428z",transform:"translate(354 204.5)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M102 199.5c.784 0 1.375-.645 1.375-1.5 0-1.036-.69-1.5-1.375-1.5-.684 0-1.375.464-1.375 1.5 0 .855.591 1.5 1.375 1.5m1.5 4.154v-1.904a.75.75 0 0 0-.75-.75h-1.5a.75.75 0 0 0-.75.75v1.904l-1.536 5.907a.752.752 0 0 0 .726.939h.21a.75.75 0 0 0 .726-.564l1.288-5.021c.025-.1.147-.1.172 0l1.288 5.021a.75.75 0 0 0 .726.564h.21a.75.75 0 0 0 .726-.94l-1.536-5.906z",transform:"translate(354 204.5)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconAppFacebookCircleOutline20.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{stroke:"none",strokeWidth:1,fillRule:"evenodd",children:i.jsx(d("XPlatReactSVG").Path,{d:"M103.5 193.5c-5.523 0-10 4.477-10 10 0 4.688 3.23 8.612 7.584 9.694V206.5H99v-3h2.084v-1.316c0-3.404 1.54-4.98 4.88-4.98.632 0 1.724.124 2.172.248v2.768a13.32 13.32 0 0 0-1.156-.036c-1.64 0-2.272.62-2.272 2.236v1.08h3.268l-.56 3h-2.704v6.92c4.95-.6 8.788-4.808 8.788-9.92 0-5.523-4.477-10-10-10",transform:"translate(-446 -398) translate(352.5 156.5) translate(0 48)"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconBadgeAdminOutline20.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-446 -398)",children:i.jsxs(d("XPlatReactSVG").G,{children:[i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M104.44 214.374c4.402-1.205 6.815-4.15 7.732-7.837.22-.884.328-1.814.328-2.774v-4.204a1.55 1.55 0 0 0-1.24-1.53c-2.622-.513-5.164-1.508-6.674-3.067a1.509 1.509 0 0 0-2.172 0c-1.51 1.559-4.053 2.554-6.674 3.068a1.55 1.55 0 0 0-1.24 1.529v4.204c0 .961.107 1.89.327 2.774.92 3.687 3.332 6.632 7.734 7.837a3.565 3.565 0 0 0 1.724.039l.154-.039zm-1.483-1.446c-3.824-1.048-5.876-3.553-6.674-6.753a9.963 9.963 0 0 1-.283-2.412v-4.204c0-.034.017-.055.03-.057 2.898-.568 5.68-1.657 7.461-3.497.007-.006.011-.006.017 0 1.782 1.84 4.563 2.929 7.463 3.497.012.002.03.023.03.057v4.204c0 .841-.094 1.65-.284 2.412-.782 3.142-2.775 5.614-6.467 6.694l-.207.059a2.064 2.064 0 0 1-1.086 0z",transform:"translate(352.5 203.5)"}),i.jsx(d("XPlatReactSVG").Path,{d:"m103.814 200.194 1.205 2.408 2.679.384c.29.042.405.404.193.608l-1.933 1.857.458 2.632a.352.352 0 0 1-.507.377l-2.409-1.249-2.41 1.249a.352.352 0 0 1-.506-.377l.458-2.632-1.933-1.857a.356.356 0 0 1 .194-.608l2.678-.384 1.206-2.408a.35.35 0 0 1 .627 0",transform:"translate(352.5 203.5)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconDownloadOutline20.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-446 -398)",children:i.jsxs(d("XPlatReactSVG").G,{fillRule:"nonzero",children:[i.jsx(d("XPlatReactSVG").Path,{d:"M103.132 206.504a1.16 1.16 0 0 0-1.148-1.004h-2.951c-.58 0-1.07.428-1.146 1.002l-1.094 7.998h-1.62c-1.03 0-1.547 1.245-.82 1.975l5.328 5.356c.431.433 1.12.452 1.574.06l.064-.06 5.326-5.354c.728-.731.21-1.977-.821-1.977h-1.616l-1.076-7.996zM95.995 216h1.452a.75.75 0 0 0 .743-.649L99.333 207h2.352l1.124 8.35a.75.75 0 0 0 .744.65h1.451l-4.504 4.527L95.995 216z",transform:"translate(355.5 193)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M92.5 221.25v1.686c0 .864.7 1.564 1.564 1.564h12.872c.864 0 1.564-.7 1.564-1.564v-1.686a.75.75 0 1 0-1.5 0v1.686a.064.064 0 0 1-.064.064H94.064a.064.064 0 0 1-.064-.064v-1.686a.75.75 0 1 0-1.5 0z",transform:"translate(355.5 193)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconInfoCircleOutline20.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-446 -398)",children:i.jsxs(d("XPlatReactSVG").G,{children:[i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M113.5 251.5c0 5.523-4.477 10-10 10s-10-4.477-10-10 4.477-10 10-10 10 4.477 10 10zm-1.5 0a8.5 8.5 0 1 0-17 0 8.5 8.5 0 0 0 17 0z",transform:"translate(352.5 156.5)"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M103 251v5a.75.75 0 1 0 1.5 0v-5.75a.75.75 0 0 0-.75-.75h-1a.75.75 0 1 0 0 1.5h.25z",transform:"translate(352.5 156.5)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M103.5 246.5a1.001 1.001 0 0 0 0 2 1 1 0 0 0 0-2",transform:"translate(352.5 156.5)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconQuestionCircleOutline20.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-446 -398)",children:i.jsxs(d("XPlatReactSVG").G,{children:[i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M113.5 251.5c0 5.523-4.477 10-10 10s-10-4.477-10-10 4.477-10 10-10 10 4.477 10 10zm-1.5 0a8.5 8.5 0 1 0-17 0 8.5 8.5 0 0 0 17 0z",transform:"translate(352.5 156.5)"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M105.041 249.506c0-1.663-1.364-3.006-3.041-3.006-1.677 0-3.041 1.343-3.041 3.006a.75.75 0 1 0 1.5 0c0-.829.687-1.506 1.541-1.506.854 0 1.541.677 1.541 1.506 0 .757-.862 1.485-1.791 1.485a.75.75 0 0 0-.75.75v1.413a.75.75 0 1 0 1.5 0v-.748c1.394-.32 2.541-1.498 2.541-2.9z",transform:"translate(352.5 156.5) translate(1.5)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M101.75 254.5a1.001 1.001 0 0 0 0 2 1.001 1.001 0 0 0 0-2",transform:"translate(352.5 156.5) translate(1.5)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconSettingsOutline20.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-446 -398)",children:i.jsxs(d("XPlatReactSVG").G,{fillRule:"nonzero",children:[i.jsx(d("XPlatReactSVG").Path,{d:"m108.861 200.161 1.084-1.805a.75.75 0 0 0-.113-.917l-1.521-1.52a.75.75 0 0 0-.916-.113l-1.806 1.083a7.709 7.709 0 0 0-1.275-.529l-.51-2.042a.75.75 0 0 0-.728-.568h-2.151a.75.75 0 0 0-.728.568l-.511 2.042a7.709 7.709 0 0 0-1.275.529l-1.806-1.083a.75.75 0 0 0-.916.112l-1.52 1.521a.75.75 0 0 0-.114.917l1.084 1.805c-.214.407-.39.834-.528 1.275l-2.043.51a.75.75 0 0 0-.568.728v2.152a.75.75 0 0 0 .568.727l2.042.51c.138.442.315.868.529 1.276l-1.084 1.805a.75.75 0 0 0 .113.917l1.521 1.52a.75.75 0 0 0 .916.113l1.806-1.083c.408.214.834.39 1.275.529l.51 2.042a.75.75 0 0 0 .728.568h2.151a.75.75 0 0 0 .728-.568l.511-2.042a7.709 7.709 0 0 0 1.275-.529l1.806 1.083a.75.75 0 0 0 .916-.112l1.52-1.521a.75.75 0 0 0 .114-.917l-1.084-1.805c.214-.408.39-.834.529-1.275l2.042-.51a.75.75 0 0 0 .568-.728v-2.152a.75.75 0 0 0-.568-.727l-2.043-.51a7.704 7.704 0 0 0-.528-1.276zm-.257 4.553a.75.75 0 0 0-.546.546 6.211 6.211 0 0 1-.707 1.705.75.75 0 0 0 0 .773l1.006 1.676-.693.693-1.677-1.006a.75.75 0 0 0-.772 0 6.215 6.215 0 0 1-1.704.707.75.75 0 0 0-.547.546l-.474 1.896h-.98l-.474-1.896a.75.75 0 0 0-.547-.546 6.215 6.215 0 0 1-1.704-.706.75.75 0 0 0-.772-.001l-1.677 1.006-.693-.693 1.006-1.676a.75.75 0 0 0 0-.773 6.211 6.211 0 0 1-.707-1.705.75.75 0 0 0-.546-.546l-1.896-.474v-.98l1.896-.474a.75.75 0 0 0 .546-.546c.15-.604.389-1.177.706-1.704a.75.75 0 0 0 .001-.773l-1.006-1.677.693-.693 1.677 1.006a.75.75 0 0 0 .772 0 6.215 6.215 0 0 1 1.704-.707.75.75 0 0 0 .547-.546l.474-1.896h.98l.474 1.896a.75.75 0 0 0 .547.546c.603.15 1.175.388 1.704.706a.75.75 0 0 0 .772 0l1.677-1.005.693.693-1.006 1.677a.75.75 0 0 0 0 .773c.318.527.556 1.1.707 1.704a.75.75 0 0 0 .546.546l1.896.474v.98l-1.896.474z",transform:"translate(354 204.25)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M102 207.75a4 4 0 1 1 0-8 4 4 0 0 1 0 8zm0-1.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5z",transform:"translate(354 204.25)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconTextAlignLeftOutline20.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-446 -398)",children:i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M448.75 402h14.5a.75.75 0 1 0 0-1.5h-14.5a.75.75 0 1 0 0 1.5zm0 4.5h7.5a.75.75 0 1 0 0-1.5h-7.5a.75.75 0 1 0 0 1.5zm0 4.5h14.5a.75.75 0 1 0 0-1.5h-14.5a.75.75 0 1 0 0 1.5zm0 4.5h7.5a.75.75 0 1 0 0-1.5h-7.5a.75.75 0 1 0 0 1.5z"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconTextOutline20.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-446 -398)",children:i.jsxs(d("XPlatReactSVG").G,{fillRule:"nonzero",children:[i.jsx(d("XPlatReactSVG").Path,{d:"M102.563 205.05a.75.75 0 1 0 1.374-.6l-5.25-12a.75.75 0 0 0-1.374 0l-5.25 12a.75.75 0 1 0 1.374.6L98 194.622l4.563 10.43z",transform:"translate(354 209.5)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M94.25 202h7.5a.75.75 0 1 0 0-1.5h-7.5a.75.75 0 1 0 0 1.5zm11.439-4.722c.097-.08.32-.223.648-.371a4.56 4.56 0 0 1 1.895-.407c1.324 0 2.268.963 2.268 2.092v6.158a.75.75 0 1 0 1.5 0v-6.158c0-1.95-1.61-3.592-3.768-3.592a6.05 6.05 0 0 0-2.515.54 4.603 4.603 0 0 0-.977.576.75.75 0 1 0 .949 1.162z",transform:"translate(354 209.5)"}),i.jsx(d("XPlatReactSVG").Path,{d:"m110.504 201.039-.004.075c0 1.11-1.674 2.886-2.965 2.886-1.376 0-2.035-.43-2.035-1.523 0-1.273 1.054-1.977 2.5-1.977h2.82a.75.75 0 0 0-.316.539zM112 199.75a.75.75 0 0 0-.75-.75H108c-2.176 0-4 1.217-4 3.477 0 2.09 1.43 3.023 3.535 3.023 2.14 0 4.465-2.467 4.465-4.386a.75.75 0 0 0-.375-.65l-.063-.032a.75.75 0 0 0 .438-.682z",transform:"translate(354 209.5)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("LSDataUseConsentState",[],(function(a,b,c,d,e,f){a=Object.freeze({UNSET:0,CONSENTED:1,WITHDRAWN:2,NOT_APPLICABLE:3,SEEN:4});f["default"]=a}),66);
__d("LSFetchAccountSyncedFields",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(a){return d[0]=new c.Map(),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),"fetch_account_synced_fields",c.i64.cast([0,160021]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSAccountSettingsFetchAccountSyncedFieldsStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSFetchAccountSyncedFieldsStoredProcedure",["LSFetchAccountSyncedFields","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a){a=a.storedProcedure(c("LSFetchAccountSyncedFields"));return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSPlatformLogout",["LSCookie","LSDatabaseSingleton","QPLUserFlow","cr:10031","gkx","qpl","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useCallback;async function k(){if(!b("cr:10031")||c("gkx")("5547"))return;c("QPLUserFlow").start(c("qpl")._(25311266,"236"),{cancelOnUnload:!0,timeoutInMs:3e3});try{await Promise.all([async function(){var a=await (i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton;await b("cr:10031").deleteDB("logout",a)}(),d("LSCookie").clear()])}catch(a){c("QPLUserFlow").endFailure(c("qpl")._(25311266,"236"),"fail");return}c("QPLUserFlow").endSuccess(c("qpl")._(25311266,"236"))}function a(){return j(k,[])}g.logout=k;g.useLogout=a}),98);
__d("MWFDSMenuItemAccessibility.svg.react",["cr:21821"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:21821")}),98);
__d("MWFDSMenuItemAppFacebook.svg.react",["cr:21525"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:21525")}),98);
__d("MWFDSMenuItemDownload.svg.react",["cr:21918"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:21918")}),98);
__d("MWFDSMenuItemInfoCircle.svg.react",["cr:21955"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:21955")}),98);
__d("MWFDSMenuItemMessageDots.svg.react",["cr:21978"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:21978")}),98);
__d("MWFDSMenuItemQuestionCircle.svg.react",["cr:22013"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:22013")}),98);
__d("MWFDSMenuItemSettings.svg.react",["cr:22034"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:22034")}),98);
__d("MWFDSMenuItemShieldStar.svg.react",["cr:22039"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:22039")}),98);
__d("MWFDSMenuItemText.svg.react",["cr:22056"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:22056")}),98);
__d("MWFDSMenuItemTextAlignLeft.svg.react",["cr:22054"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:22054")}),98);
__d("MWInboxAccessibilitySettingsDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9836562433091987"}),null);
__d("MWInboxAccessibilitySettingsDialogQuery$Parameters",["MWInboxAccessibilitySettingsDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWInboxAccessibilitySettingsDialogQuery_facebookRelayOperation"),metadata:{},name:"MWInboxAccessibilitySettingsDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWInboxAccessibilitySettingsDialog.entrypoint",["JSResourceForInteraction","MWInboxAccessibilitySettingsDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{queryReference:{parameters:c("MWInboxAccessibilitySettingsDialogQuery$Parameters"),variables:{}}}}},root:c("JSResourceForInteraction")("MWInboxAccessibilitySettingsDialog.react").__setRef("MWInboxAccessibilitySettingsDialog.entrypoint")};g["default"]=a}),98);
__d("MWInboxDesktopPromoMenuItem.react",["Actor","MWPBumpEntityKey","MWXIconMenuItemAppMessenger","MWXMenuItem.react","MessengerDesktopDeepLinkUtils","MessengerMSplitFlag","UserAgent","react","react-compiler-runtime","useIsMessengerPWA","useStable","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(){var a=d("react-compiler-runtime").c(10),b=d("Actor").useActor();b=b[0];var e=c("useStable")(j),f=d("MessengerDesktopDeepLinkUtils").useMessengerDesktopPromoEventLogger(e,"MessengerSettingsMenu"),g=f[0];f=f[1];var h=c("UserAgent").isPlatform("Mac OS X")?"skytale-settings-macapp":"skytale-settings-windowsapp";h=c("useIsMessengerPWA")();if(c("MessengerMSplitFlag").is_msplit_account||h)return null;a[0]!==b||a[1]!==e?(h=d("MessengerDesktopDeepLinkUtils").getDeeplinkButtonURI({funnel_session_id:e,id:b,origin:"FB",thread:void 0}),a[0]=b,a[1]=e,a[2]=h):h=a[2];a[3]!==g?(b=function(){g();return d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.sidebar","desktop_promo")},a[3]=g,a[4]=b):b=a[4];a[5]===Symbol["for"]("react.memo_cache_sentinel")?(e=d("MessengerDesktopDeepLinkUtils").getDeeplinkButtonLabel(),a[5]=e):e=a[5];a[6]!==f||a[7]!==h||a[8]!==b?(e=i.jsx(c("MWXMenuItem.react"),{href:h,icon:c("MWXIconMenuItemAppMessenger"),onClick:b,primaryText:e,ref:f,testid:void 0}),a[6]=f,a[7]=h,a[8]=b,a[9]=e):e=a[9];return e}function j(){return c("uuidv4")()}g["default"]=a}),98);
__d("MWXIconMenuItemAppFacebook",["MWXSvgIcon","SVGIcon","cr:22538","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgMenuItemIcon(d("SVGIcon").svgIcon(b("cr:22538")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXIconMenuItemShieldStar",["MWXSvgIcon","SVGIcon","cr:22817","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgMenuItemIcon(d("SVGIcon").svgIcon(b("cr:22817")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWInboxInfoFRXOverflowMenu.react",["fbt","MWPBumpEntityKey","MWXIconMenuItemAppFacebook","MWXIconMenuItemShieldStar","MWXMenu.react","MWXMenuItem.react","emptyFunction","react","react-compiler-runtime","useMWInboxInfoFRX"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(20),e=a.onClose;a=a.thread;var f;b[0]!==a?(f={entryPoint:"groups_report_to_admin",messagingEntrypoint:"thread_details",onPress:c("emptyFunction"),thread:a},b[0]=a,b[1]=f):f=b[1];var g=c("useMWInboxInfoFRX")(f);b[2]!==a?(f={entryPoint:"report_button",messagingEntrypoint:"thread_details",onPress:c("emptyFunction"),thread:a},b[2]=a,b[3]=f):f=b[3];var i=c("useMWInboxInfoFRX")(f);b[4]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"Menu for reporting issues to admins or Facebook"),b[4]=a):a=b[4];b[5]!==e||b[6]!==g?(f=function(a){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.infobar","privacy_support_section_something_wrong"),g(),e==null||e(a)},b[5]=e,b[6]=g,b[7]=f):f=b[7];var k;b[8]===Symbol["for"]("react.memo_cache_sentinel")?(k=h._(/*BTDS*/"Report to admins"),b[8]=k):k=b[8];b[9]!==f?(k=j.jsx(c("MWXMenuItem.react"),{icon:c("MWXIconMenuItemShieldStar"),onClick:f,primaryText:k}),b[9]=f,b[10]=k):k=b[10];b[11]!==e||b[12]!==i?(f=function(a){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.infobar","privacy_support_section_something_wrong"),i(),e==null||e(a)},b[11]=e,b[12]=i,b[13]=f):f=b[13];var l;b[14]===Symbol["for"]("react.memo_cache_sentinel")?(l=h._(/*BTDS*/"Report to Facebook"),b[14]=l):l=b[14];b[15]!==f?(l=j.jsx(c("MWXMenuItem.react"),{icon:c("MWXIconMenuItemAppFacebook"),onClick:f,primaryText:l}),b[15]=f,b[16]=l):l=b[16];b[17]!==k||b[18]!==l?(f=j.jsxs(c("MWXMenu.react"),{"aria-label":a,withArrow:!0,children:[k,l]}),b[17]=k,b[18]=l,b[19]=f):f=b[19];return f}g["default"]=a}),226);
__d("MWInboxMediaGalleryEBRestoreSyncBanner.react",["fbt","MWXCard.react","MWXRow.react","MWXRowItem.react","MWXSpinner.react","MWXText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={files:"files",links:"links",media:"media"};function a(a){var b=d("react-compiler-runtime").c(3);a=a.contentType;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsx(c("MWXRowItem.react"),{children:j.jsx(c("MWXSpinner.react"),{color:"blue",size:20})}),b[0]=e):e=b[0];b[1]!==a?(e=j.jsx(c("MWXCard.react"),{background:"card-flat",children:j.jsxs(c("MWXRow.react"),{align:"center",paddingHorizontal:12,paddingVertical:12,verticalAlign:"center",children:[e,j.jsx(c("MWXRowItem.react"),{children:j.jsx(c("MWXText.react"),{align:"center",color:"primary",type:"body4",children:h._(/*BTDS*/"_j{\"media\":\"Syncing media...\",\"files\":\"Syncing files...\",\"links\":\"Syncing links...\"}",[h._enum(k[a],{media:"media",files:"files",links:"links"})])})})]})}),b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),226);
__d("MWInboxMediaGalleryEBRestoreUpsell.react",["fbt","MWChatEncryptedBackupsQPLSource.enum","MWEBRestoreUpsellTrigger.react","MWXCard.react","MWXLink.react","MWXText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={files:"files may be",links:"links may be",media:"media may be"};function a(a){var b=d("react-compiler-runtime").c(2),e=a.contentType;b[0]!==e?(a=j.jsx(c("MWEBRestoreUpsellTrigger.react"),{markerPrefix:"MEDIA_GALLERY_RESTORE",qplSource:c("MWChatEncryptedBackupsQPLSource.enum").MEDIA_GALLERY_RESTORE,children:function(a,b){return j.jsx(c("MWXCard.react"),{background:"card-flat",children:j.jsx("div",babelHelpers["extends"]({className:"xyamay9 x1l90r2v x1g0dm76 xpdmqnj"},{ref:b,children:j.jsxs(c("MWXText.react"),{align:"center",color:"primary",type:"body4",children:[h._(/*BTDS*/"_j{\"files may be\":\"Some files may be missing.\",\"links may be\":\"Some links may be missing.\",\"media may be\":\"Some media may be missing.\"}",[h._enum(k[e],{"files may be":"files may be","links may be":"links may be","media may be":"media may be"})])," ",j.jsx(c("MWXText.react"),{color:"blueLink",type:"bodyLink4",children:j.jsx(c("MWXLink.react"),{onClick:a,children:h._(/*BTDS*/"Restore now")})})]})}))})}}),b[0]=e,b[1]=a):a=b[1];return a}g["default"]=a}),226);
__d("MWXIconMenuItemText",["MWXSvgIcon","SVGIcon","cr:22838","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgMenuItemIcon(d("SVGIcon").svgIcon(b("cr:22838")),c("gkx")("23219"));g["default"]=a}),98);
__d("MessengerClientEventMinorSurface",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({MUSIC_PLAYER:"music_player",LYRICS_SELECTOR:"lyrics_selector",CHANNELS_FOLDER_SUGGESTED_BROADCAST_CHANNELS_SECTION:"channels_folder_suggested_broadcast_channels_section",CHANNELS_FOLDER_SUGGESTED_BROADCAST_CHANNELS_SEE_MORE_LIST:"channels_folder_suggested_broadcast_channels_see_more_list",COMMUNITIES_ALL_COMMUNITIES_LIST_VIEW:"communities_all_communities_list_view",COMMUNITIES_CHANNEL_LIST_VIEW:"communities_channel_list_view",COMMUNITIES_CHAT_PREVIEW:"communities_chat_preview",COMMUNITIES_COMMUNITY_PREVIEW:"communities_community_preview",COMMUNITIES_MAIN_VIEW_CONNECTED_COMMUNITIES_SECTION:"communities_main_view_connected_communities_section",COMMUNITIES_MAIN_VIEW_CONNECTED_CHANNELS_SECTION:"communities_main_view_connected_channels_section",COMMUNITIES_MAIN_VIEW_TO_REVIEW_SECTION:"communities_main_view_to_review_section",COMMUNITIES_MAIN_VIEW_UNCONNECTED_COMMUNITIES_SECTION:"communities_main_view_unconnected_communities_section",COMMUNITIES_TO_REVIEW_LIST_VIEW:"communities_to_review_list_view",CONTEXT_MENU:"context_menu",NOTE_CREATION_SETTINGS:"note_creation_settings",HIGHLIGHTS_FEED:"highlights_feed",ACTIVITY_LIST:"activity_list",HIGHLIGHTS_TAB_FOOTER:"highlights_tab_footer",HIGHLIGHTS_TAB_IMMERSIVE_VIEW:"highlights_tab_immersive_view",HIGHLIGHTS_TAB_NUX:"highlights_tab_nux",HIGHLIGHTS_TAB_TRAY:"highlights_tab_tray",HIGHLIGHTS_TRAY:"highlights_tray",HOLIDAY_CARD_EDITOR:"holiday_card_editor",JEWEL_FOCUS_VIEW:"jewel_focus_view",LEFT_DRAWER_DISCOVER_CHANNELS_LIST:"left_drawer_discover_channels_list",LEFT_NAV:"left_nav",MAIN_VIEW:"main_view",MEDIA_VIEW:"media_view",MSGR_TAB:"msgr_tab",PYMK_VIEW:"pymk_view",PYMK_FULL_PAGE:"pymk_full_page",THREAD_VIEW:"thread_view",NEW_FRIENDS_FOLDER:"new_friends_folder",SEE_NEW_FRIENDS_PROMPT:"see_new_friends_prompt",INBOX_BANNER:"inbox_banner",INBOX_COMMUNITIES:"inbox_communities",INBOX_COMMUNITIES_LONG_PRESS_PAGE:"inbox_communities_long_press_page",INBOX_MESSAGES:"inbox_messages",INBOX_MESSAGES_BULK_ACTION_PAGE:"inbox_messages_bulk_action_page",INBOX_TRAY:"inbox_tray",INBOX_TRAY_ACTIVE_NOW_LONG_PRESS_PAGE:"inbox_tray_active_now_long_press_page",INBOX_TREP:"inbox_trep",INBOX_FILTER_ALL:"inbox_filter_all",INBOX_FILTER_UNREAD:"inbox_filter_unread",INBOX_FILTER_GROUPS:"inbox_filter_groups",INBOX_FILTER_OUTBOUND:"inbox_filter_outbound",INBOX_FILTER_MARKETPLACE_UNRESPONDED:"inbox_filter_marketplace_unresponded",INBOX_FILTER_MARKETPLACE_RESPONDED:"inbox_filter_marketplace_responded",INBOX_FILTER_MARKETPLACE_HIGHLY_RATED:"inbox_filter_marketplace_highly_rated",INBOX_FILTER_MARKETPLACE_VERY_RESPONSIVE:"inbox_filter_marketplace_very_responsive",LEFT_NAV_COMMUNITIES:"left_nav_communities",LEFT_NAV_STANDALONE_COMMUNITIES:"left_nav_standalone_communities",LEFT_NAV_FB_GROUPS:"left_nav_fb_groups",COMMUNITIES_GROUPS_EDIT_SHEET:"communities_groups_edit_sheet",FIND_CONTACTS_PAGE:"find_contacts_page",CONTACTS_ACCESS_PROMPT:"contacts_access_prompt",STORY_COMPOSER_RMC_CAROUSEL:"story_composer_rmc_carousel",STORY_COMPOSER_CREATION_MODE:"story_composer_creation_mode",STORY_CREATION_CAMERA_VIEW:"story_creation_camera_view",READY_MADE_CONTENT_MIMICRY:"ready_made_content_mimicry",STORY_RING:"story_ring",STORY_CARD:"story_card",COMBINED_VIEWER:"combined_viewer",PROFILE:"profile",THREAD_LIST:"thread_list",ACTIONS_VIEW_STORY:"actions_view_story",PYMK_VIEW_INFO:"pymk_view_info",PYMK_CONTAINER:"pymk_container",CONTACTS_AND_PYMM_CONTAINER:"contacts_and_pymm_container",FIND_FRIENDS:"find_friends",PYMM_CONTAINER:"pymm_container",PYMM_VIEW:"pymm_view",START_CHAT_FILTER_ALL:"start_chat_filter_all",START_CHAT_FILTER_FRIENDS:"start_chat_filter_friends",START_CHAT_FILTER_SUUGESTED:"start_chat_filter_suggested",PYMK_CONTAINER_FRIENDS_TAB:"pymk_container_friends_tab",PYMK_CONTAINER_HIGHLGHTS_TAB:"pymk_container_highlights_tab",PYMK_CONTAINER_INBOX:"pymk_container_inbox",PYMK_CONTAINER_INBOX_ALL_COUNT:"pymk_container_inbox_all_count",PYMK_CONTAINER_JEWEL:"pymk_container_messenger_jewel",PYMK_CONTAINER_LEFT_NAV:"pymk_container_left_nav",PYMK_CONTAINER_SEARCH:"pymk_container_search",PYMK_CONTAINER_STORY_VIEWER:"pymk_container_story_viewer",FRIENDS_GROUP_MEMBERS_SECTION:"friends_group_members_section",GROUP_MEMBERS_RESPOND_SHEET:"group_members_respond_sheet",IMMERSIVE_PROFILE_VIEW_HEADER:"immersive_profile_view_header",IMMERSIVE_PROFILE_RESPOND_SHEET:"immersive_profile_respond_sheet",IMMERSIVE_PROFILE_UNFRIEND_RESPOND_SHEET:"immersive_profile_unfriend_respond_sheet",THREAD_VIEW_ADD_MEMBER_ADMIN_TEXT:"thread_view_add_member_admin_text",THREAD_VIEW_DETAILS_HEADER:"thread_view_details_header",THREAD_VIEW_DETAILS_UNFRIEND_RESPOND_SHEET:"thread_view_details_unfriend_respond_sheet",THREAD_VIEW_HEADER:"thread_view_header",THREAD_VIEW_TITLE:"thread_view_title",THREAD_VIEW_RESPOND_SHEET:"thread_view_respond_sheet",THREAD_VIEW_UNFRIEND_RESPOND_SHEET:"thread_view_unfriend_respond_sheet",UNCONNECTED_GROUP_MEMBERS_SECTION:"unconnected_group_members_section",URL_PREVIEW:"url_preview",THREAD_VIEW_DETAILS_RESPOND_SHEET:"thread_view_details_respond_sheet",THREAD_VIEW_XMA_LINK:"thread_view_xma_link",THREAD_VIEW_XMA_REPLY:"thread_view_xma_reply",THREAD_VIEW_XMA_SHARE:"thread_view_xma_share",THREAD_VIEW_SENDER_TILE:"thread_view_sender_tile",THREAD_VIEW_BANNER:"thread_view_banner",IMMERSIVE_PROFILE_VIEW_ABOUT_SECTION:"immersive_profile_view_about_section",IMMERSIVE_PROFILE_VIEW_CHAT_ACTIONS_SECTION:"immersive_profile_view_chat_actions_section",IMMERSIVE_PROFILE_VIEW_COMMON_CHATS_SECTION:"immersive_profile_view_common_chats_section",IMMERSIVE_PROFILE_VIEW_MUTUAL_FRIENDS_SECTION:"immersive_profile_view_mutual_friends_section",IMMERSIVE_PROFILE_VIEW_PRIVACY_SECTION:"immersive_profile_view_privacy_section",FRIEND_REQUEST_PUSH_NOTIFICATION:"friend_request_push_notification",STORY_PUSH_NOTIFICATION:"story_push_notification",NIX_CONTACT_IMPORT_PUSH_NOTIFICATION:"nix_contact_import_push_notification",NIX_MESSAGE_PUSH_NOTIFICATION:"nix_message_push_notification",FRIEND_REQUESTS_CONTAINER:"friend_requests_container",FRIEND_REQUESTS_VIEW:"friend_requests_view",STORY_MUSIC_EDITOR:"story_music_editor",UNIVERSAL_SEARCH_NULL_STATE:"universal_search_null_state",UNIVERSAL_SEARCH_QUERY_STATE:"universal_search_query_state",NOTE_CREATION_HEADER:"note_creation_header",NOTE_CREATION_CENTER:"note_creation_center",MUSIC_SELECTOR:"music_selector",GAME_SELECTOR:"game_selector",COMBINED_VIEWER_HEADER:"combined_viewer_header",NOTE_CLICKABLE_CONTENT:"note_clickable_content",COMBINED_VIEWER_CONTENT:"combined_viewer_content",COMBINED_VIEWER_FOOTER:"combined_viewer_footer",PARTICIPATION_VIEWER:"participation_viewer",STORY_CREATION_HOMEBASE_HEADER:"story_creation_homebase_header",CONTENT_CREATION_ALBUM_LIST:"content_creation_album_list",STORY_CREATION_HOMEBASE_MODES:"story_creation_homebase_modes",STORY_CREATION_HOMEBASE_ALBUM_PHOTOS:"story_creation_homebase_album_photos",STORY_CREATION_COMPOSER_TOOLBAR:"story_creation_composer_toolbar",STORY_CREATION_COMPOSER_BRUSH_EDITOR:"story_creation_composer_brush_editor",STORY_CREATION_COMPOSER_TEXT_TOOL:"story_creation_composer_text_tool",STORY_CREATION_COMPOSER_STICKER_SELECTOR:"story_creation_composer_sticker_selector",STORY_CREATION_COMPOSER_SETTINGS:"story_creation_composer_settings",STORY_CREATION_COMPOSER_MUSIC_SELECTOR:"story_creation_composer_music_selector",STORY_CREATION_COMPOSER_VIDEO_TOOL:"story_creation_composer_video_tool",STORY_CREATION_COMPOSER_APP_SWITCH_DIALOG:"story_creation_composer_app_switch_dialog",NA:"NA",QP:"qp",COMMUNITIES_IN_COMMON_SHEET:"communities_in_common_sheet",FRIENDS_IN_COMMON_SHEET:"friends_in_common_sheet",GROUPCHATS_IN_COMMON_SHEET:"groupchats_in_common_sheet",FRIENDS_IN_COMMON_SEE_ALL:"friends_in_common_see_all",SIDEBAR_ONE_ON_ONE_CHATS:"sidebar_one_on_one_chats",SIDEBAR_GROUP_CHATS:"sidebar_group_chats",SIDEBAR_COMMUNITY_CHATS:"sidebar_community_chats",SIDEBAR_BROADCAST_CHANNELS:"sidebar_broadcast_channels",GROUP_MEMBERS_FILTER_ALL:"group_members_filter_all",GROUP_MEMBERS_FILTER_ADMINS:"group_members_filter_admins",GROUP_MEMBERS_FILTER_HOSTS:"group_members_filter_hosts",READ_RECEIPT:"read_receipt",BIRTHDAY_SPARK_MESSAGE_COMPOSER:"birthday_spark_message_composer",BIRTHDAY_SPARK_CUSTOM_MESSAGES:"birthday_spark_custom_messages",JEWEL_FRIEND_REQUEST_RESPOND_SHEET:"jewel_friend_request_respond_sheet",PEOPLE_FILTER_ACTIVE:"people_filter_active",PEOPLE_FILTER_ALL:"people_filter_all",PEOPLE_FILTER_FRIEND_REQUESTS:"people_filter_friend_requests"});c=a;f["default"]=c}),66);
__d("MessengerClientEventTargetType",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({ASSET:"asset",BANNER:"banner",BUTTON:"button",BROADCAST_CHANNEL:"broadcast_channel",CAMERA:"camera",COMMUNITY:"community",EVENT:"event",FOLDER:"folder",GROUP:"group",JEWEL_NOTIFICATION:"jewel_notification",PUSH_NOTIFICATION:"push_notification",MESSAGE_THREAD:"message_thread",NOTE:"note",POLL:"poll",POST:"post",PROMPT:"prompt",PROMPT_RESPONSE:"prompt_response",STORY:"story",TAB:"tab",USER:"user",MUSIC:"music",STICKER:"sticker",AVATAR_STICKER:"avatar_sticker",EMOJI:"emoji",REEL:"reel",LINK:"link",PHOTO:"photo",VIDEO:"video",ALBUM:"album",GIF:"gif",GAME:"game",MOODS:"moods",LOCATION:"location",AI_GENERATED_STICKER:"ai_generated_sticker",ADD_YOURS:"add_yours",FACE_PILE:"face_pile",CONTEXT_MENU:"context_menu",PARTICIPATION_VIEWER:"participation_viewer",UPLOAD_STATUS:"upload_status",READY_MADE_CONTENT:"ready_made_content",INBOX_FILTER:"inbox_filter",THREAD_LIST_CONTAINER:"thread_list_container",MEDIA:"media",REELS_RECAP:"reels_recap",START_CHAT_FILTER:"start_chat_filter",AI_BOT:"ai_bot",RECAP_SETTING_PAGE:"recap_setting_page",PEOPLE_FILTER:"people_filter",LOCATION_STICKER:"location_sticker",TIME_STICKER:"time_sticker",DATE_STICKER:"date_sticker",BATTERY_STICKER:"battery_sticker",WEATHER_STICKER:"weather_sticker",USER_NOTE:"user_note",USER_STORY:"user_story",USER_NOTE_STORY:"user_note_story",FRIEND_REQUEST_VIEW:"friend_request_view",IMMERSIVE_PROFILE_VIEW:"immersive_profile_view",JEWEL_PAGE:"jewel_page",MSGR_SETTINGS_PAGE:"msgr_settings_page",INVITE_A_FRIEND_PAGE:"invite_a_friend_page",PYMK_VIEW:"pymk_view",STORY_COMPOSER_EDITOR_PAGE:"story_composer_editor",STORY_COMPOSER_HOMEBASE_PAGE:"story_composer_homebase_page",FB_GROUPS_CONTAINER:"fb_groups_container",INBOX_TRAY_CONTAINER:"inbox_tray_container",PYMK_CONTAINER:"pymk_container",REELS_CONTAINER:"reels_container",STANDALONE_COMMUNITIES_CONTAINER:"standalone_communities_container",FRIEND_REQUESTS_CONTAINER:"friend_requests_container",STORY_TRAY_CONTAINER:"story_tray_container",CHAT_WITH_FRIENDS_CONTAINER:"chat_with_friends_container",PARTICIPATION_VIEWER_CONTAINER:"participation_viewer_container",FRIENDS_LIST_CONTAINER:"friends_list_container",NON_FRIENDS_LIST_CONTAINER:"non_friends_list_container",INVITED_LIST_CONTAINER:"invited_group_members_container",ACTIVE_NOW_LIST_CONTAINER:"active_now_list_container",PYMM_CONTAINER:"pymm_container",COMMUNITIES_GROUPS_EDIT_SHEET:"communities_groups_edit_sheet",FRIEND_REQUEST_RESPONSE_SHEET:"friend_request_response_sheet",UNFRIEND_REQUEST_RESPONSE_SHEET:"unfriend_request_response_sheet",PYMK_VIEW_BOTTOM_SHEET:"pymk_view_bottom_sheet",COMMUNITIES_IN_COMMON_SHEET:"communities_in_common_sheet",FRIENDS_IN_COMMON_SHEET:"friends_in_common_sheet",GROUPCHATS_IN_COMMON_SHEET:"groupchats_in_common_sheet",OPEN_FB_POPUP:"open_fb_popup",UPDATE_FB_POPUP:"update_fb_popup",DOWNLOAD_FB_POPUP:"download_fb_popup",LOG_IN_POPUP:"log_in_popup",STORY_SHARED_POPUP:"story_shared_popup",USER_BIRTHDAY_SPARK:"user_birthday_spark"});c=a;f["default"]=c}),66);
__d("MessengerClientEventType",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({ONE_PX_IMPRESSION:"one_px_impression",VPVD_IMPRESSION:"vpvd_impression",SINGLE_CLICK:"single_click",LONG_PRESS:"long_press",SYSTEM:"system"});c=a;f["default"]=c}),66);
__d("MessengerSettingsActionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("120");b=d("FalcoLoggerInternal").create("messenger_settings_action",a);e=b;g["default"]=e}),98);
__d("logMessengerSettingsFalcoEvent",["MessengerSettingsActionFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.majorSurface,d=a.minorSurface,e=d===void 0?"NA":d;d=a.target;var f=d===void 0?"button":d;d=a.eventType;var g=d===void 0?"single_click":d;c("MessengerSettingsActionFalcoEvent").log(function(){return{event_type:g,surface:{entry_point:void 0,major_surface:b,minor_surface:e},target:{type:f}}})}g["default"]=a}),98);
__d("useMWEditUsernameDialog",["JSResourceForInteraction","LSFactory","LSFetchAccountSyncedFieldsStoredProcedure","emptyFunction","promiseDone","react","react-compiler-runtime","useAsyncReStore","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef,k=c("JSResourceForInteraction")("MWEditUsernameDialog.react").__setRef("useMWEditUsernameDialog");function a(){var a=d("react-compiler-runtime").c(5),b=c("useAsyncReStore")(),e=c("useMWXLazyDialog")(k),f=e[0],g=j(!1),h;a[0]!==b?(e=function(){if(g.current===!0)return;g.current=!0;c("promiseDone")(b,l)},h=[b,g],a[0]=b,a[1]=e,a[2]=h):(e=a[1],h=a[2]);i(e,h);a[3]!==f?(e=function(a,b){f({entryPoint:b,initialUsername:a},c("emptyFunction"))},a[3]=f,a[4]=e):e=a[4];return e}function l(a){c("promiseDone")(a.runInTransaction(m,"readwrite",void 0,void 0,f.id+":44"))}function m(a){return c("LSFetchAccountSyncedFieldsStoredProcedure")(c("LSFactory")(a))}g["default"]=a}),98);
__d("MWInboxSettingEditUsernameMenuItem.react",["fbt","MWPActor.react","MWXIconMenuItemText","MWXMenuItem.react","ReQL","ReQLSuspense","logMessengerSettingsFalcoEvent","react","react-compiler-runtime","useMWEditUsernameDialog","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||c("react");function a(){var a=d("react-compiler-runtime").c(12),b=(j||(j=c("useReStore")))(),e=d("MWPActor.react").useActor(),g;a[0]!==e||a[1]!==b.tables.contacts?(g=function(){return d("ReQL").fromTableAscending(b.tables.contacts).getKeyRange(e)},a[0]=e,a[1]=b.tables.contacts,a[2]=g):g=a[2];var i;a[3]!==e||a[4]!==b?(i=[b,e],a[3]=e,a[4]=b,a[5]=i):i=a[5];var l=d("ReQLSuspense").useFirst(g,i,f.id+":29"),m=c("useMWEditUsernameDialog")();if(l==null)return null;a[6]!==l.username||a[7]!==m?(g=function(){c("logMessengerSettingsFalcoEvent")({majorSurface:"msgr_settings"}),m(l.username,"msgr_settings")},a[6]=l.username,a[7]=m,a[8]=g):g=a[8];a[9]===Symbol["for"]("react.memo_cache_sentinel")?(i=h._(/*BTDS*/"Edit username"),a[9]=i):i=a[9];a[10]!==g?(i=k.jsx(c("MWXMenuItem.react"),{icon:c("MWXIconMenuItemText"),onClick:g,primaryText:i}),a[10]=g,a[11]=i):i=a[11];return i}g["default"]=a}),226);
__d("MWInboxSettingsDialog.entrypoint",["JSResourceForInteraction","useCometHomeChatSettingsQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{chatSettingsQueryReference:{parameters:b("useCometHomeChatSettingsQuery$Parameters"),variables:{}}}}},root:c("JSResourceForInteraction")("MWInboxSettingsDialogEntrypoint.react").__setRef("MWInboxSettingsDialog.entrypoint")};g["default"]=a}),98);
__d("MWXIconMenuItemAccessibility",["MWXSvgIcon","SVGIcon","cr:22530","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgMenuItemIcon(d("SVGIcon").svgIcon(b("cr:22530")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXIconMenuItemDownload",["MWXSvgIcon","SVGIcon","cr:22648","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgMenuItemIcon(d("SVGIcon").svgIcon(b("cr:22648")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXIconMenuItemInfoCircle",["MWXSvgIcon","SVGIcon","cr:22708","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgMenuItemIcon(d("SVGIcon").svgIcon(b("cr:22708")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXIconMenuItemMessageDots",["MWXSvgIcon","SVGIcon","cr:22733","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgMenuItemIcon(d("SVGIcon").svgIcon(b("cr:22733")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXIconMenuItemQuestionCircle",["MWXSvgIcon","SVGIcon","cr:22784","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgMenuItemIcon(d("SVGIcon").svgIcon(b("cr:22784")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXIconMenuItemSettings",["MWXSvgIcon","SVGIcon","cr:22808","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgMenuItemIcon(d("SVGIcon").svgIcon(b("cr:22808")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXIconMenuItemTextAlignLeft",["MWXSvgIcon","SVGIcon","cr:22835","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgMenuItemIcon(d("SVGIcon").svgIcon(b("cr:22835")),c("gkx")("23219"));g["default"]=a}),98);
__d("XMessengerHelpCenterHomeControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/help/messenger-app/",Object.freeze({region_hint:[],expand_folders:[]}),void 0);b=a;g["default"]=b}),98);
__d("XMessengerDotComLogoutController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/logout/",{next:{type:"String"}})}),null);
__d("openMessengerLogOut",["Banzai","DTSG","DTSGUtils","LSPlatformLogout","SprinkleConfig","URI","WebStorageMonster","XMessengerDotComLogoutController","promiseDone","useEBStateDBLogout"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){c("promiseDone")(d("LSPlatformLogout").logout());c("promiseDone")(d("useEBStateDBLogout").logoutEBStateDB());var a=c("XMessengerDotComLogoutController").getURIBuilder().getURI(),b={};a=new(h||(h=c("URI")))(a);var e=document.createElement("form");e.action=a.toString();e.method="POST";e.style.display="none";a=d("DTSG").getToken();a!=null&&(b.fb_dtsg=a,c("SprinkleConfig").param_name.length>0&&(b[c("SprinkleConfig").param_name]=d("DTSGUtils").getNumericValue(a)));Object.entries(b).forEach(function(a){var b=a[0];a=a[1];var c=document.createElement("input");c.type="hidden";c.name=b;c.value=a;e.appendChild(c)});(a=document.body)==null||a.appendChild(e);c("Banzai").flush();c("WebStorageMonster").cleanOnLogout([],"MWInboxSettingsMenu");return e.submit()};b=a;g["default"]=b}),98);
__d("MWInboxSettingsMenu.react",["fbt","CurrentEnvironment","CurrentUser","FDSMenuSeparator.react","FDSSeparatorMenuItem.react","I64","JSResourceForInteraction","LSDataUseConsentState","LSIntEnum","MWChatSidebarSettingsPrivacyMenu.react","MWFacebookUserWithoutMessengerAccess","MWInboxAccessibilitySettingsDialog.entrypoint","MWInboxRestrictedAccountsRouteBuilder","MWInboxSettingEditUsernameMenuItem.react","MWInboxSettingsDialog.entrypoint","MWPBumpEntityKey","MWSeparatorContainer.react","MWXIconMenuItemAccessibility","MWXIconMenuItemBox","MWXIconMenuItemCautionTriangle","MWXIconMenuItemDownload","MWXIconMenuItemInfoCircle","MWXIconMenuItemLeave","MWXIconMenuItemMessageCross","MWXIconMenuItemMessageDots","MWXIconMenuItemQuestionCircle","MWXIconMenuItemSettings","MWXIconMenuItemTextAlignLeft","MWXMenu.react","MWXMenuItem.react","MessageRequestsLog","MessengerMSplitFlag","MetaConfig","ODS","Promise","ReQL","ReQLSuspense","VenusFlytrapLogging","VenusFlytrapLoggingEntrypoint","XMessengerHelpCenterHomeControllerRouteBuilder","cr:19955","cr:4007","cr:4021","cr:494","cr:7484","cr:8035","gkx","openMessengerLogOut","promiseDone","qex","react","useMWXEntryPointDialog","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n,o,p=o||d("react");function a(a){return q}function q(){return(n||(n=b("Promise"))).resolve()}var r=(i=b("cr:494"))!=null?i:a;function e(a){a.onClose;var e=a.showHidden,g=a.showMessageRequests,i=a.showRestrictedAccounts,n=(j||(j=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(n.tables.epd_cookie_settings)},[n],f.id+":89");var o=c("MetaConfig")._("37"),q=c("useMWXEntryPointDialog")(c("MWInboxSettingsDialog.entrypoint"),{}),s=q[0];q=c("useMWXEntryPointDialog")(c("MWInboxAccessibilitySettingsDialog.entrypoint"),{});var t=q[0],u=b("cr:19955")();q=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWInboxBugReportDialog.react").__setRef("MWInboxSettingsMenu.react"));var v=q[0];q=p.jsx(c("MWXMenuItem.react"),{href:"https://www.facebook.com/help/cookies",icon:c("MWXIconMenuItemTextAlignLeft"),onClick:function(){return d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.sidebar","cookie_policy")},primaryText:h._(/*BTDS*/"Cookie Policy"),target:"_blank",testid:void 0});var w=c("gkx")("24080"),x=p.jsx(c("MWXMenuItem.react"),{href:"https://accountscenter.facebook.com/info_and_permissions/cookie_settings",icon:c("MWXIconMenuItemSettings"),primaryText:h._(/*BTDS*/"Cookie settings"),target:"_blank",testid:void 0});w=w&&a!=null&&!(k||(k=d("I64"))).equal(a.fbTrackersOnOtherCompanies,(l||(l=d("LSIntEnum"))).ofNumber(c("LSDataUseConsentState").UNSET))&&!(k||(k=d("I64"))).equal(a.otherCompanyTrackersOnFoa,(l||(l=d("LSIntEnum"))).ofNumber(c("LSDataUseConsentState").UNSET))&&!c("MessengerMSplitFlag").is_msplit_account?x:q;var y=r(!0);o?a=p.jsx(c("MWXMenuItem.react"),{icon:c("MWXIconMenuItemLeave"),onClick:function(){c("promiseDone")(y().then(function(){return c("openMessengerLogOut")()}));return d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.sidebar","logout")},primaryText:h._(/*BTDS*/"Log out"),testid:void 0}):a=null;x=d("MWFacebookUserWithoutMessengerAccess").useIsFacebookUserWithoutMessengerAccess();q=p.jsx(c("MWXMenuItem.react"),{href:o?d("MWInboxRestrictedAccountsRouteBuilder").buildURLWithoutThread():void 0,icon:c("MWXIconMenuItemMessageCross"),onClick:function(){o||i();return d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.sidebar","show_restricted_accounts")},primaryText:h._(/*BTDS*/"Restricted accounts"),testid:void 0});var z=d("CurrentUser").isMessengerOnlyUser()||d("CurrentUser").isDeactivatedAllowedOnMessenger()?p.jsx(c("MWXMenuItem.react"),{href:"https://www.messenger.com/dyi",icon:c("MWXIconMenuItemDownload"),primaryText:h._(/*BTDS*/"Download your information"),target:"_blank"}):null,A=b("cr:4007")==null?void 0:b("cr:4007")();return p.jsxs(c("MWXMenu.react"),{"aria-label":h._(/*BTDS*/"Inbox settings menu"),testid:void 0,truncate:!0,withArrow:!0,children:[b("cr:4021")&&A!=null&&A>0?p.jsx(b("cr:4021"),{value:A}):null,A!=null&&A>0?p.jsx(c("FDSSeparatorMenuItem.react"),{}):null,p.jsxs(c("MWSeparatorContainer.react"),{separator:p.jsx(c("FDSMenuSeparator.react"),{}),children:[p.jsx(c("MWXMenuItem.react"),{icon:c("MWXIconMenuItemSettings"),onClick:function(){s({},function(){});return d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.sidebar","preferences")},primaryText:h._(/*BTDS*/"Preferences"),testid:void 0}),o&&c("gkx")("772")?p.jsx(c("MWInboxSettingEditUsernameMenuItem.react"),{}):null,o?q:p.jsxs("div",{children:[p.jsx(c("MWXMenuItem.react"),{icon:c("MWXIconMenuItemMessageDots"),onClick:function(){d("MessageRequestsLog").logMessageRequestsView(0,-1);d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.sidebar","message_requests");return g()},primaryText:c("qex")._("4751")?h._(/*BTDS*/"Spam"):h._(/*BTDS*/"Message requests"),testid:void 0}),p.jsx(c("MWXMenuItem.react"),{icon:c("MWXIconMenuItemBox"),onClick:function(){e();return d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.sidebar","report_problem")},primaryText:h._(/*BTDS*/"Archived chats"),testid:void 0}),q]}),p.jsxs(p.Fragment,{children:[c("MWChatSidebarSettingsPrivacyMenu.react")&&p.jsx(c("MWChatSidebarSettingsPrivacyMenu.react"),{}),o&&p.jsx(c("MWXMenuItem.react"),{icon:c("MWXIconMenuItemAccessibility"),onClick:function(){return t({},function(){})},primaryText:h._(/*BTDS*/"Accessibility"),testid:void 0})]}),b("cr:7484")&&p.jsx(b("cr:7484"),{}),p.jsxs("div",{children:[p.jsx(c("MWXMenuItem.react"),{href:c("XMessengerHelpCenterHomeControllerRouteBuilder").buildUri({}).toString(),icon:c("MWXIconMenuItemQuestionCircle"),onClick:function(){return d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.sidebar","help")},primaryText:h._(/*BTDS*/"Help"),target:"_blank",testid:void 0}),c("CurrentEnvironment").messengerdotcom?p.jsx(c("MWXMenuItem.react"),{icon:c("MWXIconMenuItemCautionTriangle"),onClick:function(){u!=null?(d("VenusFlytrapLogging").venusFlytrapLoggingStart(c("VenusFlytrapLoggingEntrypoint").TOP_NAVIGATION_SETTINGS),u()):(d("VenusFlytrapLogging").venusFlytrapLoggingStart(c("VenusFlytrapLoggingEntrypoint").TOP_NAVIGATION_SETTINGS),v({initialProduct:"chat"},function(){}));return d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.sidebar","report_problem")},primaryText:h._(/*BTDS*/"Report a problem"),testid:void 0}):null]}),o?p.jsxs(p.Fragment,{children:[p.jsx(c("MWXMenuItem.react"),{href:"https://www.facebook.com/policies",icon:c("MWXIconMenuItemTextAlignLeft"),onClick:function(){return d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.sidebar","terms")},primaryText:h._(/*BTDS*/"Terms"),target:"_blank",testid:void 0}),p.jsx(c("MWXMenuItem.react"),{href:"https://www.facebook.com/privacy/policy?entry_point=messenger_settings",icon:c("MWXIconMenuItemTextAlignLeft"),onClick:function(){return d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.sidebar","privacy_policy")},primaryText:h._(/*BTDS*/"Privacy Policy"),target:"_blank",testid:void 0}),w,z,d("CurrentUser").isMessengerOnlyUser()?p.jsx(c("MWXMenuItem.react"),{href:"https://www.facebook.com/help/messenger-app/ipad/458908261952384?helpref=platform_switcher&rdrhc",icon:c("MWXIconMenuItemInfoCircle"),onClick:function(){(m||(m=d("ODS"))).bumpEntityKey(3185,"inbox_settings","delete_account")},primaryText:h._(/*BTDS*/"Delete your account"),target:"_blank"}):null]}):null,x&&a==null?null:p.jsxs("div",{children:[b("cr:8035")&&p.jsx(b("cr:8035"),{}),a]})]})]})}e.displayName=e.name+" [from "+f.id+"]";g["default"]=e}),226);
__d("MWMessageSearchEBRestoreUpsell.react",["fbt","MWChatEncryptedBackupsQPLSource.enum","MWEBRestoreUpsellTrigger.react","MWXLink.react","MWXText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){var a=d("react-compiler-runtime").c(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx(c("MWEBRestoreUpsellTrigger.react"),{markerPrefix:"RESTORE_UNIVERSAL_MESSAGE_SEARCH",qplSource:c("MWChatEncryptedBackupsQPLSource.enum").UNIVERSAL_MESSAGE_SEARCH,children:k}),a[0]=b):b=a[0];return b}function k(a,b){return j.jsxs(c("MWXText.react"),{align:"center",ref:b,type:"meta3",children:[h._(/*BTDS*/"Messages are missing. Restore your chat history to search more messages.")," ",j.jsx(c("MWXText.react"),{color:"blueLink",type:"bodyLink4",children:j.jsx(c("MWXLink.react"),{onClick:a,children:h._(/*BTDS*/"Restore now")})})]})}k.displayName=k.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MessagingAiAgentInteractionsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4183");b=d("FalcoLoggerInternal").create("messaging_ai_agent_interactions",a);e=b;g["default"]=e}),98);
__d("useMAWSecretConversationsLogOut",["MAWSecretConversationsLogout","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(2),e;b[0]!==a?(e=function(){return c("MAWSecretConversationsLogout")(a)},b[0]=a,b[1]=e):e=b[1];return e}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("CastingChromecastAPIWrapper",["cr:1885117"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:1885117")}),98);
__d("CastingChromecastSession",["Promise","err","recoverableViolation","removeFromArray"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a,b,d){var e=this;this.$3=null;this.$4=[];this.$5=[];this.$6=[];this.$7=[];this.$8=[];this.$9=[];this.$10=[];this.$11=[];this.$12=function(a,b){if(a===e.$2){var d=e.$4.slice();d.forEach(function(a){a(b)})}else e.$6.slice().forEach(function(b){b(c("err")("Namespace does not match. Expected "+e.$2+" but received "+a),"CastingChromecastSession._onMessageReceived")})};this.$1=a;this.$2=b;this.$3=d;d.addMessageListener(this.$2,this.$12)}var d=a.prototype;d.destroy=function(){var a=this.$3;a!=null&&(a.status!=null&&a.status!=="disconnected"&&c("recoverableViolation")("Destroying receiver session that is not disconnected. Status, "+a.status,"comet_cast_sender"),a.removeMessageListener(this.$2,this.$12));this.$3=null};d.isCasting=function(){return this.$3!=null};d.isConnected=function(){return this.$3!=null&&this.$3.status==="connected"};d.isDisconnected=function(){return this.$3!=null&&this.$3.status==="disconnected"};d.disconnect=function(){var a=this;this.$5.slice().forEach(function(a){a()});return new(h||(h=b("Promise")))(function(b,c){a.$3!=null?a.$3.stop(b,c):b()})["catch"](function(b){if(a.$3!=null&&a.$3.status!=="stopped"){a.$6.slice().forEach(function(a){a(b,"CastingChromecastSession.disconnect")});throw b}})["finally"](function(){var b=a.$3;a.$3=null;b&&b.removeMessageListener(a.$2,a.$12);a.$7.slice().forEach(function(a){a()})})};d.getVolume=function(){var a=this.$13();return a?a.level:null};d.getFriendlyName=function(){return this.$14()};d.setVolume=function(a){var d=this,e=this.$3;return new(h||(h=b("Promise")))(function(b,d){if(e==null){d(c("err")("Cannot set volume without a session"));return}e.setReceiverVolumeLevel(a,b,d)})["catch"](function(a){d.$6.slice().forEach(function(b){b(a,"CastingChromecastSession.setVolume")});throw a})};d.isMuted=function(){var a=this.$13();return a?a.muted:null};d.mute=function(){return this.$15(!0)};d.unmute=function(){return this.$15(!1)};d.sendMessage=function(a){var d=this;return new(h||(h=b("Promise")))(function(b,e){var f=d.$3;if(f==null){e(c("err")("The message can not be sent without a session"));return}f.sendMessage(d.$2,a,b,e)})["catch"](function(a){d.$6.slice().forEach(function(b){b(a,"CastingChromecastSession.sendMessage")});throw a})};d.$13=function(){var a;a=(a=this.$3)==null||(a=a.receiver)==null?void 0:a.volume;return a==null?null:a};d.$14=function(){var a;return((a=this.$3)==null?void 0:a.receiver.friendlyName)||null};d.$15=function(a){var d=this;return new(h||(h=b("Promise")))(function(b,e){var f=d.$3;if(f==null){e(c("err")("The muted state can not be set without a session"));return}f.setReceiverMuted(a,b,e)})["catch"](function(a){d.$6.slice().forEach(function(b){b(a,"CastingChromecastSession._setIsMuted")});throw a})};d.onMessage=function(a){var b=this.$4;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};d.onDisconnecting=function(a){var b=this.$5;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};d.onError=function(a){var b=this.$6;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};d.onDisconnected=function(a){var b=this.$7;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};d.onVideoLoading=function(a){var b=this.$8;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};d.onVideoLoaded=function(a){var b=this.$9;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};d.onVideoPlaying=function(a){var b=this.$10;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};d.onVideoPaused=function(a){var b=this.$11;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};return a}();g["default"]=a}),98);
__d("CastingErrorUtils",["ErrorMetadata","err","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return a!=null&&typeof a==="object"&&typeof a.code==="string"&&a.code===b}function b(a){return a!=null&&typeof a==="object"&&typeof a.code==="string"?c("err")("Chromecast error: %s, keys: %s","cast.ChromecastError",JSON.stringify({code:a.code})):c("getErrorSafe")(a)}function d(a,b){a.metadata==null&&(a.metadata=new(c("ErrorMetadata"))());var d=a.metadata;b=b==null?void 0:b.videoID;b!=null&&d.addEntries(["COMET_VIDEO","VIDEO_ID",b]);return a}g.isChromecastError=a;g.getCastingErrorSafe=b;g.appendCastingMetadataToExpandedError=d}),98);
__d("ConnectedTvLoggingFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1843753");b=d("FalcoLoggerInternal").create("connected_tv_logging",a);e=b;g["default"]=e}),98);
__d("CastingChromecastScanner",["CastingChromecastAPIWrapper","CastingChromecastSession","CastingErrorUtils","ConnectedTvLoggingFalcoEvent","Promise","err","performanceAbsoluteNow","promiseDone","removeFromArray"],(function(a,b,c,d,e,f,g){"use strict";var h,i;a=function(){function a(a,b){this.$6=null,this.$7=[],this.$8=[],this.$9=[],this.$10=[],this.$11=[],this.$12=[],this.$13=[],this.$14=[],this.$15=[],this.$1=a,this.$2=b,this.$4=!1,this.$3=!1,this.$5=new Set()}var e=a.prototype;e.init=function(){if(this.$6!=null)return(i||(i=b("Promise"))).reject(c("err")("Scanner can only be initialized once."));this.$6=this.$16();return this.$6};e.ready=function(){return this.$6==null?(i||(i=b("Promise"))).reject(c("err")("Scanner should be initialized.")):this.$6};e.hasSupport=function(){return this.$3};e.hasFoundReceiver=function(){return this.$4};e.getSession=function(){var a=this;if(!this.$4)return(i||(i=b("Promise"))).reject(c("err")("No receivers found"));this.$13.slice().forEach(function(a){a()});return this.$17().then(function(b){var c=a.$18(b);a.$5.add(c);a.$14.slice().forEach(function(a){a(c)});return c})["catch"](function(b){a.$10.slice().forEach(function(a){a()});a.$11.slice().forEach(function(a){a()});throw b})};e.$16=function(){var a=this;this.$3=!0;return this.$19().then(function(b){return a.$20()}).then(function(b){a.$9.slice().forEach(function(a){a()})}).then(function(b){return a.$21()})["catch"](function(b){!d("CastingErrorUtils").isChromecastError(b,"not_supported")&&!d("CastingErrorUtils").isChromecastError(b,"extension_not_available")&&!d("CastingErrorUtils").isChromecastError(b,"extension_no_casting_script")&&a.$8.slice().forEach(function(a){a(b,"CastingChromecastScanner._init")});throw b})};e.$21=function(){var a=this,d=this.$1;if(d==null)return(i||(i=b("Promise"))).reject(c("err")("App ID is not defined"));var e=function(b){var c=a.$18(b);a.$14.slice().forEach(function(a){a(c)})},f=function(b){c("promiseDone")(c("CastingChromecastAPIWrapper").getIsAvailable(b).then(function(b){a.$4=b,a.$15.slice().forEach(function(b){b({foundReceiver:a.$4})})}))};return c("CastingChromecastAPIWrapper").initialize({appID:d,receiverListener:f,sessionListener:e}).then(function(){})["catch"](function(b){a.$8.slice().forEach(function(a){a(b,"CastingChromecastScanner._initializeApi")});throw b})};e.$19=function(){var a=this;return this.$1!=null?(i||(i=b("Promise"))).resolve():c("CastingChromecastAPIWrapper").getDefaultAppID().then(function(b){a.$1=b})};e.$17=function(){var a=this.$1;if(a==null)return(i||(i=b("Promise"))).reject(c("err")("App ID is not defined"));var d=(h||(h=c("performanceAbsoluteNow")))();c("ConnectedTvLoggingFalcoEvent").log(function(){return{event:"sender_session_requested"}});return c("CastingChromecastAPIWrapper").getSession(a).then(function(a){c("ConnectedTvLoggingFalcoEvent").log(function(){return{event:"sender_session_started",perf_time_ms:Math.floor((h||(h=c("performanceAbsoluteNow")))()-d)}});return a})["catch"](function(a){c("ConnectedTvLoggingFalcoEvent").log(function(){return{event:"sender_session_failed",perf_time_ms:Math.floor((h||(h=c("performanceAbsoluteNow")))()-d),session_failure_code:typeof a.code==="string"?a.code:null,session_failure_description:a.description}});throw a})};e.$18=function(a){var b=this,d=new(c("CastingChromecastSession"))(this.$1||"",this.$2||"",a),e=d.onDisconnecting(function(){b.$12.slice().forEach(function(a){a()})}),f=d.onError(function(a,c){b.$8.slice().forEach(function(b){b(a,c)})}),g=d.onDisconnected(function(){b.$11.slice().forEach(function(a){a()}),b.$5["delete"](d),e.remove(),f.remove(),g.remove()});return d};e.$20=function(){var a=this;return c("CastingChromecastAPIWrapper").addReceiverListener({onCast:function(b){a.$7.slice().forEach(function(a){a(b)})},onStop:function(){a.$5.forEach(function(a){return a.disconnect()})}})};e.onCast=function(a){var b=this.$7;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onError=function(a){var b=this.$8;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onInit=function(a){var b=this.$9;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onSessionCancelled=function(a){var b=this.$10;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onSessionDisconnected=function(a){var b=this.$11;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onSessionDisconnecting=function(a){var b=this.$12;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onSessionRequested=function(a){var b=this.$13;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onSessionStarted=function(a){var b=this.$14;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onStatusChanged=function(a){var b=this.$15;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};return a}();g["default"]=a}),98);
__d("CastingState",[],(function(a,b,c,d,e,f){"use strict";function a(){return{isCastPending:!1,receiverExperience:null,receiverFriendlyName:null,receiverIsConnected:!1,receiverIsMuted:null,receiverVolume:null}}function b(){return{currentDuration:null,currentPlaybackState:null,currentPosition:null,currentVideoID:null,type:"video_channel"}}function c(){return{type:"photo"}}function d(){return{currentAssetID:null,currentPlaybackState:null,type:"photo_album"}}f.initialCastingState=a;f.initialVideoChannelExperienceState=b;f.initialPhotoExperienceState=c;f.initialPhotoAlbumExperienceState=d}),66);
__d("TV2PhotoAlbumReportedState",[],(function(a,b,c,d,e,f){"use strict";function a(a){return k(JSON.parse(a),m("TV2PhotoAlbumReportedState"))}function b(a){return JSON.stringify(l(a,m("TV2PhotoAlbumReportedState")),null,2)}function g(a,b,c){c===void 0&&(c="");if(c)throw Error('Invalid value for key "'+c+'". Expected type '+JSON.stringify(a)+" but got "+JSON.stringify(b));throw Error("Invalid value "+JSON.stringify(b)+" for type "+JSON.stringify(a))}function h(a){if(a.jsonToJS===void 0){var b={};a.props.forEach(function(a){return b[a.json]={key:a.js,typ:a.typ}});a.jsonToJS=b}return a.jsonToJS}function i(a){if(a.jsToJSON===void 0){var b={};a.props.forEach(function(a){return b[a.js]={key:a.json,typ:a.typ}});a.jsToJSON=b}return a.jsToJSON}function j(a,b,c,d){d===void 0&&(d="");function e(b,a){return typeof b===typeof a?a:g(b,a,d)}function f(b,a){var d=b.length;for(var e=0;e<d;e++){var f=b[e];try{return j(a,f,c)}catch(a){}}return g(b,a)}function h(b,a){return b.indexOf(a)!==-1?a:g(b,a)}function i(b,a){return!Array.isArray(a)?g("array",a):a.map(function(a){return j(a,b,c)})}function k(a){if(a===null)return null;var b=new Date(a);return isNaN(b.valueOf())?g("Date",a):b}function l(b,d,a){if(a===null||typeof a!=="object"||Array.isArray(a))return g("object",a);var e={};Object.getOwnPropertyNames(b).forEach(function(d){var f=b[d];d=Object.prototype.hasOwnProperty.call(a,d)?a[d]:void 0;e[f.key]=j(d,f.typ,c,f.key)});Object.getOwnPropertyNames(a).forEach(function(f){Object.prototype.hasOwnProperty.call(b,f)||(e[f]=j(a[f],d,c,f))});return e}if(b==="any")return a;if(b===null)return a===null?a:g(b,a);if(b===!1)return g(b,a);while(typeof b==="object"&&b.ref!==void 0)b=n[b.ref];if(Array.isArray(b))return h(b,a);if(typeof b==="object")return Object.prototype.hasOwnProperty.call(b,"unionMembers")?f(b.unionMembers,a):Object.prototype.hasOwnProperty.call(b,"arrayItems")?i(b.arrayItems,a):Object.prototype.hasOwnProperty.call(b,"props")?l(c(b),b.additional,a):g(b,a);return b===Date&&typeof a!=="number"?k(a):e(b,a)}function k(a,b){return j(a,b,h)}function l(a,b){return j(a,b,i)}function c(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return{unionMembers:b}}function d(a,b){return{props:a,additional:b}}function m(a){return{ref:a}}var n={TV2PhotoAlbumReportedState:d([{json:"media_parameters",js:"media_parameters",typ:m("MediaParameters")},{json:"media_state",js:"media_state",typ:m("MediaState")}],"any"),MediaParameters:d([{json:"album_id",js:"album_id",typ:""}],"any"),MediaState:d([{json:"photo_state",js:"photo_state",typ:c(void 0,m("PhotoMediaState"))},{json:"video_state",js:"video_state",typ:c(void 0,m("VideoMediaState"))}],"any"),PhotoMediaState:d([{json:"duration_ms",js:"duration_ms",typ:3.14},{json:"photo_id",js:"photo_id",typ:""},{json:"photo_playback_state",js:"photo_playback_state",typ:m("PhotoPlaybackState")},{json:"position_ms",js:"position_ms",typ:3.14}],"any"),VideoMediaState:d([{json:"duration_ms",js:"duration_ms",typ:3.14},{json:"position_ms",js:"position_ms",typ:3.14},{json:"video_id",js:"video_id",typ:""},{json:"video_playback_state",js:"video_playback_state",typ:m("VideoPlaybackState")}],"any"),PhotoPlaybackState:["paused","play"],VideoPlaybackState:["ended","paused","play","seeking","unknown"]};e.exports={TV2PhotoAlbumReportedStateToJson:b,toTV2PhotoAlbumReportedState:a}}),null);
__d("TV2UniqueIDs",["guid"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map();function i(a){var b;b=(b=h.get(a))!=null?b:0;h.set(a,b+1);return""+a+b.toString(36)}function a(){return i("id_tv2_vcr_")}function b(){return i("id_tv2_veqe_")}function d(){return i("id_tv2_toast_")}function e(){return i("id_tv2_rvr_")}function f(){return c("guid")()}g.makeTV2VideoCastRequestID=a;g.makeTV2VideoExperienceQueueEntryID=b;g.makeTV2ToastID=d;g.makeTV2RelatedVideosRequestID=e;g.makeTV2ChainingSessionID=f}),98);
__d("getTV2QueryStringCheatcodeValue",[],(function(a,b,c,d,e,f){"use strict";function b(b){try{b=new RegExp("\\b"+b+"=([^&]*)");b=b.exec(a.location.search);return!b||b[1]==null?null:b[1]}catch(a){return null}}f["default"]=b}),66);
__d("getTV2QueryStringCheatcode",["getTV2QueryStringCheatcodeValue"],(function(a,b,c,d,e,f,g){"use strict";function a(a){try{return c("getTV2QueryStringCheatcodeValue")(a)==="1"}catch(a){return!1}}g["default"]=a}),98);
__d("getTV2DebuggingEnabled",["getTV2QueryStringCheatcode"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("getTV2QueryStringCheatcode")("debugging")}g["default"]=a}),98);
__d("TV2CommsParseUtils",["TV2PhotoAlbumReportedState","TV2UniqueIDs","err","getTV2DebuggingEnabled"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a===null?"null":a===""?"empty string":Array.isArray(a)?"array":typeof a==="object"?"object with keys: "+JSON.stringify(Object.keys(a).sort()):typeof a}function i(a,b,d){if(typeof a!=="string"||a===""){var e=c("err")("Message parse error: %s expected JSON string, got %s",d,h(a));throw e}try{e=JSON.parse(a);return b(e,d)}catch(b){if("messageFormat"in b&&typeof b.messageFormat==="string"&&"messageParams"in b&&Array.isArray(b.messageParams))throw b;else{a=c("err")("Message parse error: %s expected JSON string, got error: %s",d,b.message);throw a}}}function j(a,b){if(typeof a!=="object"||a==null){b=c("err")("Message parse error: %s expected object, got %s",b,h(a));throw b}return a}function b(a,b){if(a==null)return null;if(typeof a!=="object"||a==null){b=c("err")("Message parse error: %s expected object, got %s",b,h(a));throw b}return a}function k(a,b){if(!Array.isArray(a)){b=c("err")("Message parse error: %s expected array, got %s",b,h(a));throw b}return a}function e(a,b){if(!Array.isArray(a)){var d=c("err")("Message parse error: %s expected array, got %s",b,h(a));throw d}return a.map(function(a){return m(a,b)})}function l(a,b){if(!Array.isArray(a)){var d=c("err")("Message parse error: %s expected array, got %s",b,h(a));throw d}return a.filter(Boolean).map(function(a){return m(a,b)})}function m(a,b){if(typeof a!=="string"||a===""){b=c("err")("Message parse error: %s expected non-empty string, got %s",b,h(a));throw b}return a}function n(a,b){if(a==null)return null;if(typeof a!=="string"||a===""){b=c("err")("Message parse error: %s expected optional non-empty string, got %s",b,h(a));throw b}return a}function o(a,b){if(a==null)return null;if(typeof a!=="string"){b=c("err")("Message parse error: %s expected optional string, got %s",b,h(a));throw b}return a}function p(a,b){if(a==null)return null;if(!(typeof a==="number"&&Number.isFinite(a)||typeof a==="string"&&a!=="")){b=c("err")("Message parse error: %s expected optional non-empty string or number, got %s",b,h(a));throw b}return a}function q(a,b){if(typeof a!=="number"||!Number.isFinite(a)){b=c("err")("Message parse error: %s expected finite number, got %s",b,h(a));throw b}return a}function f(a,b){if(a==null)return null;if(typeof a!=="number"||!Number.isFinite(a)){b=c("err")("Message parse error: %s expected optional finite number, got %s",b,h(a));throw b}return a}function r(a,b){return a==="true"||a===!0}function s(a,b,c){c===void 0&&(c=!1);return a==null?c:a===!0}function t(a,b){if(typeof a!=="boolean"){b=c("err")("Parse error: %s expected boolean, got %s",b,h(a));throw b}return a}function u(a,b){a=a!=null?j(a,b):null;if(a==null)return null;var c=m(a.uri,b+".uri"),d=q(a.width,b+".width");a=q(a.height,b+".height");return{height:a,uri:c,width:d}}function v(a,b){a=a!=null?j(a,b):null;if(a==null)return null;a=j(a.image,b+".image");a=m(a.uri,b+".image.uri");return{uri:a}}function w(a,b){if(a==null)return null;a=k(a,b);return a.map(function(a,b){return m(a,"["+b+"]")})}function x(a,b){return i(a,function(b,a){b=k(b,a);return b.map(function(b,c){c=a+"."+c;return z(j(b,c),c)})},b)}function y(a,b){return i(a,function(b,a){return z(j(b,a),a)},b)}function z(b,e){var f=m(b.access_token,e+".access_token"),g=String(p(b.app_id,e+".app_id")),h=o(b.app_version,e+".app_version"),i=u(b.background_image,e+".background_image"),j=n(b.channel_token,e+".channel_token"),k=n(b.channel_session_id,e+".channel_session_id"),q=o(b.end_cursor,e+".end_cursor")||null,r=s(b.from_next_video_query,e+".from_next_video_query"),t=s(b.is_ad,e+".is_ad"),x=w(b.dash_prefetched_representation_ids,e+".dash_prefetched_representation_ids"),y=n(b.entry_point,e+".entry_point"),z=n(b.player_origin===""?null:b.player_origin,e+".player_origin"),A=n(b.player_suborigin===""?null:b.player_suborigin,e+".player_suborigin"),B=v(b.preferred_thumbnail,e+".preferred_thumbnail"),C=n(b.video_channel_id,e+".video_channel_id"),D=m(b.root_video_id,e+".root_video_id"),E=c("getTV2DebuggingEnabled")()?/\bvideo_id=([0-9]+)\b/.exec(a.location.search):null;E=E&&E[1]?E[1]:m(b.video_id,e+".video_id");b=b.tracking_codes!=null?l(b.tracking_codes,e+".tracking_codes"):null;return{accessToken:f,appID:g,appVersion:h,backgroundImage:i,chainingEnabled:!1,channelSessionID:k,channelToken:j,dashPrefetchedRepresentationIDs:x,endCursor:q,entryPoint:y,fromNextVideoQuery:r,isAd:t,playerOrigin:z,playerSuborigin:A,preferredThumbnail:B,rootVideoID:D,startTimestamp:0,trackingCodes:b,videoCastRequestID:d("TV2UniqueIDs").makeTV2VideoCastRequestID(),videoChannelID:C,videoID:E}}function A(a,b){a=j(a,b);b=m(a.type,b+".type");switch(b){case"version_response":return a;case"version_launch_response":return a;case"experience_state":return a;case"command_result":return a;case"duration_change":return a;case"status_update":return a;case"experience_status_update":return a}b=c("err")("Parse error: %s expected response message type, got %s","parseTV2CommsFBAppOutboundMessageFromObject",h(a));throw b}function B(a){return i(a,A,".")}function C(a){a=B(a);switch(a.type){case"version_response":case"version_launch_response":case"experience_state":case"command_result":return a}a=c("err")("Parse error: %s expected response message type, got %s","parseCastingReceiverResponseMessageFromJSON",h(a));throw a}function D(a){return d("TV2PhotoAlbumReportedState").toTV2PhotoAlbumReportedState(a)}g.parseJSONString=i;g.parseObject=j;g.parseOptionalObject=b;g.parseArray=k;g.parseStringArray=e;g.parseTrackingCodes=l;g.parseNonEmptyString=m;g.parseOptionalNonEmptyString=n;g.parseOptionalString=o;g.parseNumber=q;g.parseOptionalNumber=f;g.parseOptionalStringishBoolean=r;g.parseOptionalBoolean=s;g.parseBoolean=t;g.parseVideoCastingPayloadBackgroundImage=u;g.parseVideoCastingPayloadPreferredThumbnail=v;g.parseVideoCastingPayloadListJSONAsTV2VideoCastRequestArray=x;g.parseVideoCastingPayloadJSONAsTV2VideoCastRequest=y;g.parseVideoCastingPayloadAsTV2VideoCastRequest=z;g.parseTV2CommsFBAppOutboundMessageFromJSON=B;g.parseCastingReceiverResponseMessageFromJSON=C;g.parseCastingReceiverPhotoAlbumReportedState=D}),98);
__d("fetchCtvCastPayloadQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="29808457688745543"}),null);
__d("fetchCtvCastPayloadQuery.graphql",["fetchCtvCastPayloadQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"castSessionID"},c={defaultValue:null,kind:"LocalArgument",name:"mediaParameters"},d={defaultValue:null,kind:"LocalArgument",name:"requestID"},e=[{alias:null,args:[{kind:"Variable",name:"cast_session_id",variableName:"castSessionID"},{kind:"Literal",name:"caster_id",value:0},{kind:"Variable",name:"media_parameters_json",variableName:"mediaParameters"},{kind:"Literal",name:"receiver_app_id",value:1614120985559993},{kind:"Variable",name:"request_id",variableName:"requestID"},{kind:"Literal",name:"uses_secure_connection",value:!0}],kind:"ScalarField",name:"ctv_cast_payload",storageKey:null}];return{fragment:{argumentDefinitions:[a,c,d],kind:"Fragment",metadata:null,name:"fetchCtvCastPayloadQuery",selections:e,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,d,c],kind:"Operation",name:"fetchCtvCastPayloadQuery",selections:e},params:{id:b("fetchCtvCastPayloadQuery_facebookRelayOperation"),metadata:{},name:"fetchCtvCastPayloadQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("fetchCtvCastPayload",["CometRelay","err","fetchCtvCastPayloadQuery.graphql","getErrorSafe","guid"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("fetchCtvCastPayloadQuery.graphql");function a(a){var b=a.castSessionID;a=a.environment;return d("CometRelay").fetchQuery(a,i,{castSessionID:b,mediaParameters:"{}",requestID:c("guid")()}).toPromise().then(function(a){if(a!=null&&a.ctv_cast_payload!=null&&typeof a.ctv_cast_payload==="string")return{payload:a.ctv_cast_payload,type:"loaded"};else return{error:c("err")("Payload was not string"),type:"error"}})["catch"](function(a){a=c("getErrorSafe")(a);return{error:a,type:"error"}})}function e(a){var b=a.albumID,e=a.castSessionID;a=a.environment;return d("CometRelay").fetchQuery(a,i,{castSessionID:e,mediaParameters:JSON.stringify({album_id:b}),requestID:c("guid")()}).toPromise().then(function(a){if(typeof (a==null?void 0:a.ctv_cast_payload)==="string")return{payload:a.ctv_cast_payload,type:"loaded"};else return{error:c("err")("Payload was not string"),type:"error"}})["catch"](function(a){a=c("getErrorSafe")(a);return{error:a,type:"error"}})}g.fetchPhotoCastPayload=a;g.fetchAlbumCastPayload=e}),98);
__d("fetchVideoCastPayloadQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9544699068932467"}),null);
__d("fetchVideoCastPayloadQuery.graphql",["fetchVideoCastPayloadQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"castSessionID"},c={defaultValue:null,kind:"LocalArgument",name:"playerOrigin"},d={defaultValue:null,kind:"LocalArgument",name:"playerSubOrigin"},e={defaultValue:null,kind:"LocalArgument",name:"videoID"},f=[{kind:"Variable",name:"id",variableName:"videoID"}],g={alias:null,args:[{kind:"Variable",name:"cast_session_id",variableName:"castSessionID"},{kind:"Variable",name:"player_origin",variableName:"playerOrigin"},{kind:"Variable",name:"player_suborigin",variableName:"playerSubOrigin"}],kind:"ScalarField",name:"video_cast_payload",storageKey:null};return{fragment:{argumentDefinitions:[a,c,d,e],kind:"Fragment",metadata:null,name:"fetchVideoCastPayloadQuery",selections:[{alias:null,args:f,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:[g],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[e,c,d,a],kind:"Operation",name:"fetchVideoCastPayloadQuery",selections:[{alias:null,args:f,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:[g,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("fetchVideoCastPayloadQuery_facebookRelayOperation"),metadata:{},name:"fetchVideoCastPayloadQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("fetchVideoCastPayload",["CometRelay","err","fetchVideoCastPayloadQuery.graphql","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("fetchVideoCastPayloadQuery.graphql");function a(a){var b=a.castSessionID,e=a.environment,f=a.playerOrigin,g=a.playerSubOrigin;a=a.videoID;return d("CometRelay").fetchQuery(e,i,{castSessionID:b,playerOrigin:f,playerSubOrigin:g,videoID:a}).toPromise().then(function(a){if(a==null||a.video==null||a.video.video_cast_payload==null)return{type:"video_cannot_be_casted"};else if(typeof a.video.video_cast_payload==="string")return{payload:a.video.video_cast_payload,type:"loaded"};else return{error:c("err")("Payload was not string"),type:"error"}})["catch"](function(a){a=c("getErrorSafe")(a);return{error:a,type:"error"}})}g["default"]=a}),98);
__d("CastingController",["CastingErrorUtils","CastingState","FBLogger","Promise","SubscriptionsHandler","TV2CommsParseUtils","err","fetchCtvCastPayload","fetchVideoCastPayload","getErrorSafe","performanceAbsoluteNow","promiseDone","recoverableViolation","removeFromArray","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("FBLogger")("fbtv"),k="PhotoAlbum",l="ChannelVideo",m="Photo";a=function(){function a(a,b){var e=this;this.$5=[];this.$6=[];this.$7=[];this.$9=function(){var a=d("CastingState").initialCastingState();e.$12(a);e.$13(null)};this.$10=function(a){switch(a.type){case"status_update":e.$16(a);break;case"experience_status_update":e.$17(a);break;default:break}};this.$11=function(a,b){var f;if(d("CastingErrorUtils").isChromecastError(a,"cancel"))j.warn("ChromecastError while casting. Received ChromecastError with cancel code.");else if(((f=e.$2)==null?void 0:f.type)==="video_channel"){f=(f=e.$2)==null?void 0:f.currentVideoID;f=d("CastingErrorUtils").appendCastingMetadataToExpandedError(d("CastingErrorUtils").getCastingErrorSafe(a),babelHelpers["extends"]({},f!=null?{videoID:f}:{}));c("recoverableViolation")("Receiver error at "+b+" while playing video channel","comet_cast_sender",{error:f});c("promiseDone")(e.$4.stopCasting())}else{f=d("CastingErrorUtils").appendCastingMetadataToExpandedError(d("CastingErrorUtils").getCastingErrorSafe(a),{});a=((a=e.$2)==null?void 0:a.type)||"";c("recoverableViolation")("Receiver error at "+b+" while playing in experience "+a,"comet_cast_sender",{error:f});c("promiseDone")(e.$4.stopCasting())}};this.$1=d("CastingState").initialCastingState();this.$2=null;this.$3=b;this.$4=a;this.$8=new(c("SubscriptionsHandler"))();this.$8.addSubscriptions(this.$4.onReceiverDisconnected(this.$9),this.$4.onSessionDisconnected(this.$9),this.$4.onSessionMessage(this.$10),this.$4.onError(this.$11))}var e=a.prototype;e.destroy=function(){this.$8.release()};e.getCastingState=function(){return this.$1};e.getCastingExperienceState=function(){return this.$2};e.setCastingState=function(a){this.$1=a};e.setCastingExperienceState=function(a){this.$2=a};e.subscribeToCastingStateChange=function(a){var b=this;this.$5.push(a);return function(){c("removeFromArray")(b.$5,a)}};e.subscribeToCastingExperienceStateChange=function(a){var b=this;this.$6.push(a);return function(){c("removeFromArray")(b.$6,a)}};e.subscribeToCastingEvent=function(a){var b=this;this.$7.push(a);return function(){c("removeFromArray")(b.$7,a)}};e.startPlayVideoNow=function(a){var e=this,f=a.environment,g=a.origin,j=a.position,k=a.subOrigin,m=a.videoID;if(this.$1.isCastPending)return;this.$12(babelHelpers["extends"]({},this.$1,{isCastPending:!0}));this.$13(null);this.$14({data:{type:"cast_requested",videoID:m},timestamp:(i||(i=c("performanceAbsoluteNow")))()});c("promiseDone")((h||(h=b("Promise"))).all([c("fetchVideoCastPayload")({castSessionID:this.$3,environment:f,playerOrigin:g,playerSubOrigin:k,videoID:m}),this.$4.getSession().then(function(a){e.$12(babelHelpers["extends"]({},e.$1,{receiverIsConnected:!0}));return a})]).then(function(a){var f=a[0];a[1];if(f.type==="video_cannot_be_casted"){c("recoverableViolation")("The video is not eligible to be casted. The cast request is ignored.","comet_cast_sender",{error:d("CastingErrorUtils").appendCastingMetadataToExpandedError(c("err")("video_cannot_be_casted"),{videoID:m})});return(h||(h=b("Promise"))).resolve()}else if(f.type==="error"){c("recoverableViolation")("There was a failure retrieving video cast payload. Video failed to play.","comet_cast_sender",{error:d("CastingErrorUtils").appendCastingMetadataToExpandedError(f.error,{videoID:m})});return(h||(h=b("Promise"))).resolve()}a=e.$4.isCasting(l);a?a=e.$4.playVideoNow({position:j},f.payload):a=e.$4.startCasting(l,{position:j},f.payload);return a.then(function(){var a=babelHelpers["extends"]({},e.$1,e.$15());e.$12(a);a=d("CastingState").initialVideoChannelExperienceState();e.$13(a)})})["catch"](function(a){e.$14({data:{type:"cast_failed",videoID:m},timestamp:(i||(i=c("performanceAbsoluteNow")))()}),d("CastingErrorUtils").isChromecastError(a,"cancel")||c("recoverableViolation")("Failed to cast video.","comet_cast_sender",{error:d("CastingErrorUtils").appendCastingMetadataToExpandedError(c("getErrorSafe")(a),{videoID:m})})})["finally"](function(){var a=babelHelpers["extends"]({},e.$1,{isCastPending:!1});e.$12(a)}))};e.startPhotoCasting=function(a){var e=this;a=a.environment;if(this.$1.isCastPending)return;this.$12(babelHelpers["extends"]({},this.$1,{isCastPending:!0}));this.$13(null);this.$14({data:{type:"photo_cast_requested"},timestamp:(i||(i=c("performanceAbsoluteNow")))()});c("promiseDone")((h||(h=b("Promise"))).all([d("fetchCtvCastPayload").fetchPhotoCastPayload({castSessionID:this.$3,environment:a}),this.$4.getSession().then(function(a){e.$12(babelHelpers["extends"]({},e.$1,{receiverIsConnected:!0}));return a})]).then(function(a){var f=a[0];a[1];if(f.type==="error"){c("recoverableViolation")("There was a failure retrieving photo cast payload.","comet_cast_sender",{error:d("CastingErrorUtils").appendCastingMetadataToExpandedError(f.error,{})});return(h||(h=b("Promise"))).resolve()}a=e.$4.startCasting(m,{},f.payload);return a.then(function(){var a=babelHelpers["extends"]({},e.$1,e.$15());e.$12(a);e.$13(d("CastingState").initialPhotoExperienceState())})})["catch"](function(a){d("CastingErrorUtils").isChromecastError(a,"cancel")||c("recoverableViolation")("Failed to start photo casting session.","comet_cast_sender",{error:d("CastingErrorUtils").appendCastingMetadataToExpandedError(c("getErrorSafe")(a),{})})})["finally"](function(){var a=babelHelpers["extends"]({},e.$1,{isCastPending:!1});e.$12(a)}))};e.startAlbumSlideshow=function(a){var e=this,f=a.albumID;a=a.environment;if(this.$1.isCastPending)return;this.$12(babelHelpers["extends"]({},this.$1,{isCastPending:!0}));this.$13(null);c("promiseDone")((h||(h=b("Promise"))).all([d("fetchCtvCastPayload").fetchAlbumCastPayload({albumID:f,castSessionID:this.$3,environment:a}),this.$4.getSession().then(function(a){e.$12(babelHelpers["extends"]({},e.$1,{receiverIsConnected:!0}));return a})]).then(function(a){var f=a[0];a[1];if(f.type==="album_cannot_be_casted"){c("recoverableViolation")("The album is not eligible to be casted.","comet_cast_sender",{error:d("CastingErrorUtils").appendCastingMetadataToExpandedError(c("err")("album_cannot_be_casted"),{})});return(h||(h=b("Promise"))).resolve()}else if(f.type==="error"){c("recoverableViolation")("There was a failure retrieving album cast payload.","comet_cast_sender",{error:d("CastingErrorUtils").appendCastingMetadataToExpandedError(f.error,{})});return(h||(h=b("Promise"))).resolve()}a=e.$4.startCasting(k,{},f.payload);return a.then(function(){var a=babelHelpers["extends"]({},e.$1,e.$15());e.$12(a);a=d("CastingState").initialPhotoAlbumExperienceState();e.$13(a)})})["catch"](function(a){d("CastingErrorUtils").isChromecastError(a,"cancel")||c("recoverableViolation")("Failed to cast album.","comet_cast_sender",{error:d("CastingErrorUtils").appendCastingMetadataToExpandedError(c("getErrorSafe")(a),{})})})["finally"](function(){var a=babelHelpers["extends"]({},e.$1,{isCastPending:!1});e.$12(a)}))};e.disconnect=function(){c("promiseDone")(this.$4.stopCasting())};e.play=function(){c("promiseDone")(this.$4.playVideo())};e.pause=function(){c("promiseDone")(this.$4.pauseVideo())};e.setVolume=function(a){c("promiseDone")(this.$4.setVolume(a))};e.mute=function(){c("promiseDone")(this.$4.mute())};e.unmute=function(){c("promiseDone")(this.$4.unmute())};e.seek=function(a){c("promiseDone")(this.$4.seekVideo(a))};e.showSingleMedia=function(a){var b=null;switch(a.type){case"photo":b={photo_id:a.photoID};break;case"video":b={video_id:a.videoID};break;default:a.type;return}c("promiseDone")(this.$4.showPhoto({media_parameters:b,request_id:c("uuidv4")()}))};e.playAlbumSlideshow=function(){c("promiseDone")(this.$4.playAlbumSlideshow())};e.pauseAlbumSlideshow=function(){c("promiseDone")(this.$4.pauseAlbumSlideshow())};e.nextPhotoAlbumSlideshow=function(){c("promiseDone")(this.$4.nextPhotoAlbumSlideshow())};e.previousPhotoAlbumSlideshow=function(){c("promiseDone")(this.$4.previousPhotoAlbumSlideshow())};e.$12=function(a){a!==this.$1&&(this.$1=a,this.$5.slice().forEach(function(b){b(a)}))};e.$13=function(a){a!==this.$2&&(this.$2=a,this.$6.slice().forEach(function(b){b(a)}))};e.$14=function(a){this.$7.slice().forEach(function(b){b(a)})};e.$16=function(a){var b=this.$1,d=this.$2;if(d!=null&&d.type==="video_channel"){var e=a.data.video_id,f=this.$4.getVolume()||0,g=this.$4.isMuted()||!1;e!=null&&this.$14({data:{playbackState:a.data.state,playerInfo:(a==null?void 0:a.player_info)||null,receiverInfo:(a==null?void 0:a.receiver_info)||null,type:"video_status_update",videoID:e},timestamp:(i||(i=c("performanceAbsoluteNow")))()});g={receiverIsConnected:!0,receiverIsMuted:g,receiverVolume:f};if(e==null)this.$12(babelHelpers["extends"]({},b,g)),this.$13(babelHelpers["extends"]({},d,{currentDuration:null,currentPlaybackState:null,currentPosition:null,currentVideoID:null}));else{f=babelHelpers["extends"]({},b,g);this.$12(f);this.$13(babelHelpers["extends"]({},d,{currentDuration:a.data.duration!=null?a.data.duration:d.currentDuration,currentPlaybackState:a.data.state,currentPosition:a.data.position,currentVideoID:e}))}}};e.$17=function(a){var b=this.$2;if(b!=null&&b.type==="photo_album"&&a.data.name==="PhotoAlbum"){var c;a=d("TV2CommsParseUtils").parseCastingReceiverPhotoAlbumReportedState(a.data.payload);a=a.media_state;c=((c=(c=a.photo_state)==null?void 0:c.photo_id)!=null?c:(c=a.video_state)==null?void 0:c.video_id)||null;a=this.$18(a);this.$13(babelHelpers["extends"]({},b,{currentAssetID:c,currentPlaybackState:a}))}};e.$15=function(){return{receiverFriendlyName:this.$4.getFriendlyName()||null,receiverIsMuted:this.$4.isMuted()||null,receiverVolume:this.$4.getVolume()||0}};e.$18=function(a){if(a.photo_state!=null)return a.photo_state.photo_playback_state==="play"?"play":"paused";else if(a.video_state!=null)return["play","seeking"].includes(a.video_state.video_playback_state)?"play":"paused";else return null};return a}();g["default"]=a}),98);
__d("CastingEventReporter",["ConnectedTvLoggingFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=this;this.$4=function(a){switch(a.data.type){case"cast_requested":b.logWithAvailableContext({event:"cast_requested",video_id_override:a.data.videoID});b.$5(a);break;case"photo_cast_requested":b.logWithAvailableContext({event:"photo_cast_requested"});b.$5(a);break;case"cast_failed":b.$5(a);break;case"video_status_update":b.$6(a.data.receiverInfo,a.data.playerInfo);b.$5(a);break;default:break}};this.$1=null;this.$2=null;this.$3={cast_session_id:a,is_google_cast_bg:null,third_party_app_id:null,tv_os_version:null,tv_player_instance_key:null,tv_player_version:null,tv_session_id:null,tv_web_client_revision:null}}var b=a.prototype;b.destroy=function(){this.$1!=null&&this.$1(),this.$1=null};b.bindToCastingController=function(a){this.$1=a.subscribeToCastingEvent(this.$4)};b.logWithAvailableContext=function(a){var b=this;c("ConnectedTvLoggingFalcoEvent").log(function(){return babelHelpers["extends"]({},b.$3,a)})};b.$5=function(a){var b=a.data;switch(b.type){case"cast_requested":this.$2={data:b,timestamp:a.timestamp};break;case"cast_failed":var c=this.$2;this.logWithAvailableContext({event:"cast_failed",perf_time_ms:Math.floor(c!=null?a.timestamp-c.timestamp:0),video_id_override:b.videoID});this.$2=null;break;case"video_status_update":c=this.$2;if(c==null)break;var d=c.data.videoID;b.videoID===d&&b.playbackState==="play"?(this.logWithAvailableContext({event:"cast_started",perf_time_ms:Math.floor(a.timestamp-c.timestamp)}),this.$2=null):b.videoID!==d&&(this.$2=null);break}};b.$6=function(a,b){var c=(a==null?void 0:a.third_party_app_id)||null,d=(a==null?void 0:a.cast_receiver_logger_session_id)||null,e=(a==null?void 0:a.is_google_cast_bg)||null,f=(a==null?void 0:a.os_version)||null;a=(a==null?void 0:a.web_client_revision)||null;var g=(b==null?void 0:b.player_instance_key)||null;b=(b==null?void 0:b.player_version)||null;this.$3=babelHelpers["extends"]({},this.$3,{is_google_cast_bg:e,third_party_app_id:c,tv_os_version:f,tv_player_instance_key:g,tv_player_version:b,tv_session_id:d,tv_web_client_revision:a})};return a}();g["default"]=a}),98);
__d("TV2MessageTypes",[],(function(a,b,c,d,e,f){"use strict";a="urn:x-cast:com.facebook.fb";b="urn:x-cast:com.google.cast.media";f.FBAPP_CAST_PROTOCOL_NAMESPACE=a;f.GOOGLE_CAST_MEDIA_PROTOCOL_NAMESPACE=b}),66);
__d("TV2PhotoShowRequest",[],(function(a,b,c,d,e,f){"use strict";function a(a){return k(JSON.parse(a),m("TV2PhotoShowRequest"))}function b(a){return JSON.stringify(l(a,m("TV2PhotoShowRequest")),null,2)}function g(a,b,c){c===void 0&&(c="");if(c)throw Error('Invalid value for key "'+c+'". Expected type '+JSON.stringify(a)+" but got "+JSON.stringify(b));throw Error("Invalid value "+JSON.stringify(b)+" for type "+JSON.stringify(a))}function h(a){if(a.jsonToJS===void 0){var b={};a.props.forEach(function(a){return b[a.json]={key:a.js,typ:a.typ}});a.jsonToJS=b}return a.jsonToJS}function i(a){if(a.jsToJSON===void 0){var b={};a.props.forEach(function(a){return b[a.js]={key:a.json,typ:a.typ}});a.jsToJSON=b}return a.jsToJSON}function j(a,b,c,d){d===void 0&&(d="");function e(b,a){return typeof b===typeof a?a:g(b,a,d)}function f(b,a){var d=b.length;for(var e=0;e<d;e++){var f=b[e];try{return j(a,f,c)}catch(a){}}return g(b,a)}function h(b,a){return b.indexOf(a)!==-1?a:g(b,a)}function i(b,a){return!Array.isArray(a)?g("array",a):a.map(function(a){return j(a,b,c)})}function k(a){if(a===null)return null;var b=new Date(a);return isNaN(b.valueOf())?g("Date",a):b}function l(b,d,a){if(a===null||typeof a!=="object"||Array.isArray(a))return g("object",a);var e={};Object.getOwnPropertyNames(b).forEach(function(d){var f=b[d];d=Object.prototype.hasOwnProperty.call(a,d)?a[d]:void 0;e[f.key]=j(d,f.typ,c,f.key)});Object.getOwnPropertyNames(a).forEach(function(f){Object.prototype.hasOwnProperty.call(b,f)||(e[f]=j(a[f],d,c,f))});return e}if(b==="any")return a;if(b===null)return a===null?a:g(b,a);if(b===!1)return g(b,a);while(typeof b==="object"&&b.ref!==void 0)b=n[b.ref];if(Array.isArray(b))return h(b,a);if(typeof b==="object")return Object.prototype.hasOwnProperty.call(b,"unionMembers")?f(b.unionMembers,a):Object.prototype.hasOwnProperty.call(b,"arrayItems")?i(b.arrayItems,a):Object.prototype.hasOwnProperty.call(b,"props")?l(c(b),b.additional,a):g(b,a);return b===Date&&typeof a!=="number"?k(a):e(b,a)}function k(a,b){return j(a,b,h)}function l(a,b){return j(a,b,i)}function c(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return{unionMembers:b}}function d(a,b){return{props:a,additional:b}}function m(a){return{ref:a}}var n={TV2PhotoShowRequest:d([{json:"media_parameters",js:"media_parameters",typ:m("MediaParameters")},{json:"request_id",js:"request_id",typ:""}],"any"),MediaParameters:d([{json:"photo_id",js:"photo_id",typ:c(void 0,"")},{json:"video_id",js:"video_id",typ:c(void 0,"")}],"any")};e.exports={TV2PhotoShowRequestToJson:b,toTV2PhotoShowRequest:a}}),null);
__d("CastingReceiverManager",["CastingChromecastScanner","Promise","Random","SubscriptionsHandler","TV2CommsParseUtils","TV2MessageTypes","TV2PhotoShowRequest","promiseDone","removeFromArray","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i="1.2.0";a=function(){function a(a){var b=this;this.$5=null;this.$6=null;this.$10=null;this.$11=[];this.$12=[];this.$13=[];this.$14=[];this.$15=[];this.$16=[];this.$17=[];this.$18=[];this.$19=[];this.$4=new(c("CastingChromecastScanner"))(a,d("TV2MessageTypes").FBAPP_CAST_PROTOCOL_NAMESPACE);this.$2=null;this.$1=!1;this.$3=0;this.$6=null;this.$9=new Map();this.$20=new(c("SubscriptionsHandler"))();this.$20.addSubscriptions(this.$4.onStatusChanged(function(a){var c=a.foundReceiver;b.$15.slice().forEach(function(a){a(!!c)})}),this.$4.onSessionDisconnected(function(){b.$21(),b.$14.slice().forEach(function(a){a()})}),this.$4.onSessionStarted(function(a){b.$22(a)}),this.$4.onError(function(a,c){b.$11.slice().forEach(function(b){b(a,c)})}));this.$7=this.$4.init();c("promiseDone")(this.$7.then(function(){b.$2=!0,b.$1=!0,b.$13.slice().forEach(function(a){a()})},function(a){b.$2=!1,b.$12.slice().forEach(function(b){b(a)})}))}var e=a.prototype;e.ready=function(){return this.$7};e.hasSupport=function(){return this.$2};e.hasFoundReceiver=function(){return this.$4.hasFoundReceiver()};e.isCasting=function(a){var b=!!this.$5&&this.$5.isCasting();b&&a!=null&&(b=this.$6!=null&&this.$6.indexOf(a)>=0);return b};e.getSession=function(){var a=this;return this.ready().then(function(){var b=a.$5;b!=null&&!b.isConnected()&&a.$21()}).then(function(){if(a.$5)return a.$5;a.$8||(a.$8=a.$23());return a.$8})["catch"](function(b){a.$11.slice().forEach(function(a){a(b,"CastingReceiverManager.getSession")});throw b})["finally"](function(){a.$8=null})};e.startCasting=function(a,b,c){var d=this;return this.$24(a,b,c).then(function(a){a.success?d.$6=a.target:d.$6=null})};e.stopCasting=function(){var a=this;return!this.isCasting()?(h||(h=b("Promise"))).resolve():this.ready().then(function(){var b=a.$5;b!=null&&b.isDisconnected()&&a.$21();return a.$5}).then(function(a){return a==null?(h||(h=b("Promise"))).resolve(null):a.disconnect()}).then(function(){a.$21()})};e.playVideoNow=function(a,c){return!this.isCasting()?(h||(h=b("Promise"))).resolve():this.$25("next_video",babelHelpers["extends"]({},a,{auto_advance:!0}),c).then(function(){})};e.skipToNextVideo=function(){return!this.isCasting()?(h||(h=b("Promise"))).resolve():this.$25("skip_video").then(function(){})};e.playVideo=function(a){return!this.isCasting()?(h||(h=b("Promise"))).resolve():this.$25("play_video",{position:a||0}).then(function(){})};e.pauseVideo=function(){return!this.isCasting()?(h||(h=b("Promise"))).resolve():this.$25("pause_video").then(function(){})};e.seekVideo=function(a){return!this.isCasting()?(h||(h=b("Promise"))).resolve():this.$25("seek_video",{position:a}).then(function(){})};e.showPhoto=function(a){return!this.isCasting()?(h||(h=b("Promise"))).resolve():this.$25("show_photo",void 0,d("TV2PhotoShowRequest").TV2PhotoShowRequestToJson(a),"Photo").then(function(){})};e.stopVideo=function(){return!this.isCasting()?(h||(h=b("Promise"))).resolve():this.$25("stop_video").then(function(){})};e.playAlbumSlideshow=function(){return!this.isCasting()?(h||(h=b("Promise"))).resolve():this.$25("play_photo",void 0,void 0,"PhotoAlbum").then(function(){})};e.pauseAlbumSlideshow=function(){return!this.isCasting()?(h||(h=b("Promise"))).resolve():this.$25("pause_photo",void 0,void 0,"PhotoAlbum").then(function(){})};e.nextPhotoAlbumSlideshow=function(){return!this.isCasting()?(h||(h=b("Promise"))).resolve():this.$25("next_photo",void 0,void 0,"PhotoAlbum").then(function(){})};e.previousPhotoAlbumSlideshow=function(){return!this.isCasting()?(h||(h=b("Promise"))).resolve():this.$25("previous_photo",void 0,void 0,"PhotoAlbum").then(function(){})};e.getFriendlyName=function(){return this.$5==null?null:this.$5.getFriendlyName()};e.getVolume=function(){return this.$5==null?null:this.$5.getVolume()};e.setVolume=function(a){if(!this.isCasting())return(h||(h=b("Promise"))).resolve();return this.$5==null?(h||(h=b("Promise"))).resolve():this.$5.setVolume(a)};e.isMuted=function(){if(!this.isCasting())return null;return this.$5==null?null:this.$5.isMuted()};e.mute=function(){if(!this.isCasting())return(h||(h=b("Promise"))).resolve();return this.$5==null?(h||(h=b("Promise"))).resolve():this.$5.mute()};e.unmute=function(){if(!this.isCasting())return(h||(h=b("Promise"))).resolve();return this.$5==null?(h||(h=b("Promise"))).resolve():this.$5.unmute()};e.$26=function(){var a=this,b=this.$27();return this.$28(function(a){return{data:{client_cast_session:b,version:i},num:a,target:"version",timestamp:Date.now(),type:"version_request"}}).then(function(b){var c=b.messageNum;return a.$29(function(a){return a.response_num===c})}).then(function(a){if(a.type!=="version_response")throw c("unrecoverableViolation")('Response message was not a "version_response"',"comet_cast_sender");if(a.data==null)throw c("unrecoverableViolation")("Version response is missing data","comet_cast_sender");return a.data})};e.$24=function(a,b,d){var e=this,f=this.$27();return this.$28(function(c){return{data:{client_cast_session:f,name:a,params:b,payload:d,version:i},num:c,target:"version_launch",timestamp:Date.now(),type:"version_launch"}}).then(function(a){var b=a.messageNum;return e.$29(function(a){return a.response_num===b})}).then(function(a){if(a.type!=="version_launch_response")throw c("unrecoverableViolation")('Response message was not a "version_launch_response"',"comet_cast_sender");if(a.data==null)throw c("unrecoverableViolation")("Version launch response is missing data","comet_cast_sender");return a.data})};e.$30=function(){var a=this;return this.$6!=null?(h||(h=b("Promise"))).resolve(this.$6):this.getSession().then(function(b){return a.$26()}).then(function(b){var d=null;typeof b.currently_running_experience==="object"&&(d=b.currently_running_experience);if(d==null)throw c("unrecoverableViolation")("Session has no target","comet_cast_sender");a.$6=d;return a.$6})};e.$27=function(){var a=null;localStorage&&(a=localStorage.getItem("CastingSessionKey"));a==null&&(a=c("Random").uint32().toString(16),localStorage&&localStorage.setItem("CastingSessionKey",a));return a};e.$28=function(a){var b=this.$3+=2;return this.getSession().then(function(d){if(d==null)throw c("unrecoverableViolation")("The message can not be sent without a session","comet_cast_sender");var e=a(b);return d.sendMessage(e)}).then(function(){return{messageNum:b}})};e.$29=function(a){return this.getSession().then(function(e){if(e==null)throw c("unrecoverableViolation")("The message cannot be received without a session","comet_cast_sender");return new(h||(h=b("Promise")))(function(b,c){var f=e.onMessage(function(e){try{e=d("TV2CommsParseUtils").parseTV2CommsFBAppOutboundMessageFromJSON(e);if(e.type==="version_response"||e.type==="version_launch_response"||e.type==="experience_state"||e.type==="command_result"){var g=!a||a(e);g&&(f.remove(),b(e))}}catch(a){f.remove(),c(a)}})})})};e.$25=function(a,b,d,e){var f=this;return this.$30().then(function(c){return f.$28(function(f){return{data:{cmd:a,name:e,params:b,payload:d},num:f,target:c,timestamp:Date.now(),type:"experience_command"}})}).then(function(a){var b=a.messageNum;return f.$29(function(a){return a.response_num===b})}).then(function(a){if(a.type!=="command_result")throw c("unrecoverableViolation")('Response message was not a "command_result"',"comet_cast_sender");return a.data})};e.$23=function(){var a=this;return this.$4.getSession().then(function(b){a.$5==null&&(a.$5=b);return a.$5})};e.$22=function(a){var b=this;this.$5=a;var e="extension";this.$8&&(e="site");c("promiseDone")(this.$26().then(function(c){var f=c.success;if(!f)return;var g=null;typeof c.currently_running_experience==="object"&&(g=c.currently_running_experience);g!=null&&(b.$6=g);b.$18.slice().forEach(function(c){c(a,{session:a,source:e,success:f,target:b.$6})});b.$10=a.onMessage(function(a){try{var c=d("TV2CommsParseUtils").parseTV2CommsFBAppOutboundMessageFromJSON(a);b.$17.slice().forEach(function(a){a(c)})}catch(a){b.$11.slice().forEach(function(b){b(a,"CastingReceiverManager._onSessionStartedHandler")})}})}))};e.$21=function(){this.$10!=null&&(this.$10.remove(),this.$10=null);var a=this.$5;a!=null&&a.destroy();this.$5=null;this.$6=null};e.onError=function(a){var b=this.$11;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onExperienceNotSupported=function(a){var b=this.$12;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onExperienceReady=function(a){var b=this.$13;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onReceiverDisconnected=function(a){var b=this.$14;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onReceiverStatusChanged=function(a){var b=this.$15;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onSessionDisconnected=function(a){var b=this.$16;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onSessionMessage=function(a){var b=this.$17;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onSessionStarted=function(a){var b=this.$18;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onStopView=function(a){var b=this.$19;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};return a}();g["default"]=a}),98);
__d("CastingControllerHooks",["CastingContext","CastingController","CastingEventReporter","CastingReceiverManager","CurrentUser","ExecutionEnvironment","Promise","guid","qex","react","react-compiler-runtime","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;f=j||d("react");var k=f.useContext,l=f.useEffect,m=f.useState,n=null,o=c("qex")._("1648");function p(){if(n!=null)return n;if(o==null)throw c("unrecoverableViolation")("Use useIsCastAvailable first to check if casting feature is available in this browser.","comet_cast_sender");var a=new(c("CastingReceiverManager"))(o),b=c("guid")(),d=new(c("CastingController"))(a,b);b=new(c("CastingEventReporter"))(b);b.bindToCastingController(d);n={castingController:d,castingEventReporter:b,castingReceiverManager:a};return n}function q(){var a=r();a=a.castingReceiverManager;return a}function r(){var a=d("react-compiler-runtime").c(1);if((i||(i=c("ExecutionEnvironment"))).canUseDOM&&c("CurrentUser").isLoggedIn()){var e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=p(),a[0]=e):e=a[0];return e}throw new(h||(h=b("Promise")))(s)}function s(){}function t(){var a=r();a=a.castingController;return a}function a(){var a=d("react-compiler-runtime").c(6),b=q(),c=k(d("CastingContext").SetCastingControllerContext),e=m(!1),f=e[0],g=e[1];e=m(!1);var h=e[0],i=e[1],j;a[0]!==b?(e=function(){var a=b.onExperienceReady(function(){g(b.hasSupport()||!1)});g(b.hasSupport()||!1);return function(){return a.remove()}},j=[b],a[0]=b,a[1]=e,a[2]=j):(e=a[1],j=a[2]);l(e,j);a[3]!==b?(e=function(){var a=b.onReceiverStatusChanged(function(){i(b.hasFoundReceiver()||!1)});i(b.hasFoundReceiver()||!1);return function(){return a.remove()}},j=[b],a[3]=b,a[4]=e,a[5]=j):(e=a[4],j=a[5]);l(e,j);if(o==null)return!1;if(c==null)return!1;if(!f)return!1;return!h?!1:!0}function e(){var a=d("react-compiler-runtime").c(4),b=t(),e=k(d("CastingContext").SetCastingControllerContext);if(e==null)throw c("unrecoverableViolation")("Casting has to be initialized inside CastingProvider.","comet_cast_sender");var f,g;a[0]!==b||a[1]!==e?(f=function(){e(b)},g=[e,b],a[0]=b,a[1]=e,a[2]=f,a[3]=g):(f=a[2],g=a[3]);l(f,g)}g.useCastingController=t;g.useIsCastAvailable=a;g.useCastingInitializeIfNecessary=e}),98);
__d("VideoPlayerCastControlIcon.react",["fbt","ix","CastingControllerHooks","CometRelay","CometWatchAndScrollVideoContext","JSResourceForInteraction","VideoPlayerControlIcon.react","VideoPlayerHooks","emptyFunction","fbicon","react","react-compiler-runtime","recoverableViolation","useCometLazyDialog"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=j||(j=d("react"));b=j;b.useCallback;var m=b.useContext,n=c("JSResourceForInteraction")("CometCastingStopWatchAndScrollDialog.react").__setRef("VideoPlayerCastControlIcon.react");function a(a){var b=d("react-compiler-runtime").c(14),e=a.subOrigin;d("CastingControllerHooks").useCastingInitializeIfNecessary();var f=(a=(k||(k=d("VideoPlayerHooks"))).useVideoFbid())!=null?a:"",g=(k||(k=d("VideoPlayerHooks"))).useController(),j=d("CometRelay").useRelayEnvironment(),o=d("CastingControllerHooks").useCastingController();a=m(c("CometWatchAndScrollVideoContext"));var p=c("useCometLazyDialog")(n),q=p[0],r=a==null?void 0:a.videoID;b[0]!==o||b[1]!==j||b[2]!==e||b[3]!==g||b[4]!==f?(p=function(){if(f!=null){var a=g.getPlayheadPosition();o.startPlayVideoNow({environment:j,origin:"video_home",position:a,subOrigin:e,videoID:f})}else c("recoverableViolation")("Could not transition to Cast player because videoID was null","comet_video_player")},b[0]=o,b[1]=j,b[2]=e,b[3]=g,b[4]=f,b[5]=p):p=b[5];var s=p;b[6]!==s||b[7]!==q||b[8]!==r?(a=function(){r!=null?q({onClose:c("emptyFunction"),onContinue:s,startingVideoType:"cast"},c("emptyFunction")):s()},b[6]=s,b[7]=q,b[8]=r,b[9]=a):a=b[9];p=a;b[10]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"Cast video to your TV"),b[10]=a):a=b[10];a=a;var t;b[11]===Symbol["for"]("react.memo_cache_sentinel")?(t=d("fbicon")._(i("788899"),20),b[11]=t):t=b[11];b[12]!==p?(t=l.jsx(c("VideoPlayerControlIcon.react"),{color:"white",icon:t,label:a,onPress:p,tooltip:a}),b[12]=p,b[13]=t):t=b[13];return t}g["default"]=a}),226);
__d("VideoPlayerCastControl.react",["CastingControllerHooks","VideoPlayerCastControlIcon.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(2);a=a.subOrigin;var e=d("CastingControllerHooks").useIsCastAvailable();if(!e)return null;b[0]!==a?(e=i.jsx(c("VideoPlayerCastControlIcon.react"),{subOrigin:a}),b[0]=a,b[1]=e):e=b[1];return e}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("EBGetContactEpochHead",["EBMinosSecureMailboxKeysForContact","WAResultOrError"],(function(a,b,c,d,e,f,g){"use strict";async function a(a){a=a.rawContactId;if(a==null)return Promise.reject(d("WAResultOrError").makeError("invalid-arguments"));a=await d("EBMinosSecureMailboxKeysForContact").getSecureMailboxKeysForContact(a);return d("WAResultOrError").makeResult({epochHead:a==null?void 0:a.epoch_head,epochHeadCreationTime:a==null?void 0:a.epoch_head_creation_time})}g.getContactEpochHead=a}),98);
__d("EBGetMessageKeys",["EBMinosFakeData","FBLogger","WAResultOrError","WebMps","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";var h;async function a(a){var b=a.messageId;a=a.threadId;try{if(b==null||a==null)return d("WAResultOrError").makeError("invalid-arguments");b=await d("WebMps").mps().loadMessage({config:{shouldFetchSupplementals:!0,strategy:"local-only"},debug:{purpose:"get-message-keys"},messageId:b,threadId:a});if(b.success===!1)return d("WAResultOrError").makeError(b.error);a=b.value;if(a==null)return d("WAResultOrError").makeError("no-message");var e=new Map();a.supplementalProtobufs.forEach(function(a,b){e.set(b,babelHelpers.extends({},a,{transportMessageSignature:d("EBMinosFakeData").FAKE_TRANSPORT_SIGNING_PUBLIC_KEY}))});b=babelHelpers.extends({},a.toplevelProtobuf,{transportMessageSignature:d("EBMinosFakeData").FAKE_TRANSPORT_SIGNING_PUBLIC_KEY});return d("WAResultOrError").makeResult(babelHelpers.extends({},a,{supplementalProtobufs:e,toplevelProtobuf:b}))}catch(a){c("FBLogger")("wmi_minos").catching(c("getErrorSafe")(a)).MUSTFIX(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Runtime error in EBGetMessageKeys"])));throw a}}g.getMessageKeys=a}),98);
__d("EBMessageBulkPointQuery",["Base64Utils","EBAPIQPLPoints","EBAPISharedUtils","EBAPIWorkerCheck","EBIsEbEnabled","EBMessagePointQueryWithPersistence","EBgenerateMPSMessageQuery","I64","LSMEBTaskCreationSource","LSVec","MAWCurrentUser","QPLUserFlow","WAHashStringToNumber","WALogger","WAPushSafeTypes","WAResultOrError","WorkerRelay","cr:9437","handleRestoreMessagesGraphQLResponse","qpl","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m;async function a(a){if(!d("EBAPIWorkerCheck").runningInWorker()){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] GQL bulk point query called from non-worker context"])));return d("WAResultOrError").makeError("called-from-main-thread")}d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.bulkpoint.search.gql");a=d("WAPushSafeTypes").unsafeNotNullable(a);var e=a.chatJid,f=a.messageIds,g=a.sortOrderMsList,n=a.source,o=a.threadId;a=a.traceId;var p=a!=null?d("WAHashStringToNumber").hashStringToNumber(a):d("WAHashStringToNumber").hashStringToNumber(c("uuidv4")()),q=c("qpl")._(521482281,"2703");try{c("QPLUserFlow").start(q,{annotations:{bool:{bulkPointQuery:!0,mainThreadRestore:!1,workerThreadRestore:!0},int:{source:n!=null?n:c("LSMEBTaskCreationSource").UNKNOWN}},instanceKey:p});if(b("cr:9437")==null){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Calling EBLS without EBLS being available for message bulk point query"])));c("QPLUserFlow").endFailure(q,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.EBLS_NOT_INITIALIZED,{instanceKey:p});d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.bulkpoint.search.gql.error");return d("WAResultOrError").makeError("ebls-not-initialized")}await b("cr:9437").init();var r=await b("cr:9437").getLSStorage();if(!await d("EBIsEbEnabled").isEbEnabledLS(r.tables)){c("QPLUserFlow").addPoint(q,"eb_not_enabled",{instanceKey:p});c("QPLUserFlow").endSuccess(q,{instanceKey:p});d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.bulkpoint.search.gql.error");return d("WAResultOrError").makeError("eb-not-enabled")}var s=await d("handleRestoreMessagesGraphQLResponse").getClientState(r);if(s==null){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] No client state found - unable to restore"])));c("QPLUserFlow").endFailure(q,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.NO_CLIENT_STATE,{instanceKey:p});d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.bulkpoint.search.gql.error");return d("WAResultOrError").makeError("no-client-state")}var t=s.backupId,u=s.device_id,v=s.locally_available_epochs,w=s.mailboxRootKey;s=s.ocmfClientStateBlob;if(t==null||u==null||w==null||s==null){d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] mandatory params of client state are null"])));c("QPLUserFlow").endFailure(q,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.INVALID_CLIENT_STATE,{instanceKey:p});d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.bulkpoint.search.gql.error");return d("WAResultOrError").makeError("invalid-client-state")}var x=d("MAWCurrentUser").getAppID();v={restore_context:{act_thread_id:o,site:"www",tam_thread_subtype:0},success:{device_context:{device_id:(m||(m=d("I64"))).to_string(u),locally_available_epochs:v,raw_tokens:{mailbox_root_key:d("Base64Utils").fromArrayBuffer(w),ocmf_client_state_blob:d("Base64Utils").fromArrayBuffer(s)}},mps_message_query:JSON.stringify(d("EBgenerateMPSMessageQuery").generateMPSMessageQuery(o,f))}};if(g!=null){w=c("LSVec").ofArray(g.map(function(a){return(m||(m=d("I64"))).of_string(""+a)}));v=babelHelpers.extends({},v,{sort_order_ms_list:w})}c("QPLUserFlow").addPoint(q,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.GRAPHQL_QUERY_START,{instanceKey:p});s=await d("WorkerRelay").createWorkerQuery(d("EBMessagePointQueryWithPersistence").pointRestoreQuery,{app_id:String(x!=null?x:"0"),restore_payload_string:JSON.stringify(v),restore_type:"MESSAGE_QUERY_RESTORE"});f=await d("EBAPISharedUtils").constructEBRestoreResponse(s,!0,q,r,p,u,o,e,n,a,void 0,t);if(f.success){d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.bulkpoint.search.gql.success");return d("WAResultOrError").makeResult(f.response)}else{d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.bulkpoint.search.gql.error");return d("WAResultOrError").makeError(f.response)}}catch(a){d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] graphQL bulk point restore error ",""])),a);c("QPLUserFlow").endFailure(q,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.RUNTIME_ERROR,{error:a,instanceKey:p});d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.bulkpoint.search.gql.error");return d("WAResultOrError").DEPRECATED_makeError("runtime-error",a)}}g.messageBulkPointQuery=a}),98);
__d("EBMessageRangeQueryForIndexing",["EBAPIQPLPoints","EBAPISharedUtils","EBAPIWorkerCheck","EBMessageRangeQueryForThreads","I64","LSDatabaseSingleton","LSMEBTaskCreationSource","LSVec","MAWEncryptedBackupUtils","MAWJobDefinitions","QPLUserFlow","WAHashStringToNumber","WAResultOrError","WATagsLogger","ifRequireable","qpl","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=d("WATagsLogger").TAGS(["labyrinth_web","EBMessageRangeQueryForIndexing"]);function m(a,b,e){var f=d("MAWEncryptedBackupUtils").convertLSTypesToJSTypesForRestoreJob(a.protobuf),g=c("LSVec").toArray(a.echo).map(function(a){return d("MAWJobDefinitions").toEncodedEchoMessage(a)});return{echoMessages:g,hasMoreAfter:a.messageRangeInfo.has_more_before,hasMoreBefore:a.messageRangeInfo.has_more_after,isPointQuery:!1,mpsMessageQuery:void 0,nextMessageTimestampMsAfter:(j||(j=d("I64"))).of_string(a.messageRangeInfo.next_message_timestamp_ms_after),nextMessageTimestampMsBefore:j.of_string(a.messageRangeInfo.next_message_timestamp_ms_before),protobufMessages:f,referenceTimestamp:a.args.from[0],requestId:e,taskSource:b}}async function a(a){var b,e=a.traceId!=null?a.traceId:c("uuidv4")(),f=d("WAHashStringToNumber").hashStringToNumber(e);b=(b=a.source)!=null?b:c("LSMEBTaskCreationSource").UNKNOWN;var g=c("qpl")._(521476367,"2704");c("QPLUserFlow").start(g,{annotations:{bool:{mainThreadRestore:!1,rangeQueryForIndexing:!0,workerThreadRestore:!0},int:{source:b}},instanceKey:f});var j=a.chatJid;if(j==null){c("QPLUserFlow").endFailure(g,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.NULL_CHAT_JID,{instanceKey:f});d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.range.search.gql.error");return d("WAResultOrError").makeError("null-chat-jid")}try{var n;if(d("EBAPIWorkerCheck").runningInWorker()){var o=new Promise(function(a,b){return c("ifRequireable")("EBLS",function(b){b=b.getLSStorage;return a(b())},function(){return a(null)})});o=await o;if(o==null){l.ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Calling EBLS without EBLS being available for message range query"])));c("QPLUserFlow").endFailure(g,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.EBLS_NOT_INITIALIZED,{instanceKey:f});d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.range.search.gql.error");return d("WAResultOrError").makeError("ebls-not-initialized")}}else o=await (k||(k=d("LSDatabaseSingleton"))).LSDatabaseSingleton;n=(n=a.sortOrderMs)!=null?n:""+(Date.now()+6e4);a=await d("EBMessageRangeQueryForThreads").messageRangeQueryForThreads({instanceKey:e,qplEventObject:g,restoreType:"range",source:(a=a.source)!=null?a:c("LSMEBTaskCreationSource").UNKNOWN,storage:o,threads:[{chatJid:j,direction:"before",from:[n,void 0]}]});if(a.success&&a.value.length>0&&a.value[0].success){o=a.value[0].value;j=m(o,b,e);d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.range.search.gql.success");return d("WAResultOrError").makeResult(j)}else{d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.range.search.gql.error");n=a.success===!1?a.error:a.value[0].error;return d("WAResultOrError").makeError(n!=null?n:"runtime-error")}}catch(a){l.ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["graphQL range restore error ",""])),a);c("QPLUserFlow").endFailure(g,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.RUNTIME_ERROR,{error:a,instanceKey:f});d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.range.search.gql.error");return d("WAResultOrError").makeError("runtime-error")}}g.messageRangeQueryForIndexing=a}),98);
__d("EBMinosWriteKeyChangeAdminMessage",["EBMinosTypes","FBLogger","MAWAdminWriteUserDeviceMsgTxn","MAWDbThreadTxns","MAWDexieTable","MAWIndexedDb","MAWTransactionMode","WAJids"],(function(a,b,c,d,e,f,g){"use strict";var h;async function a(a){var b=a.contactId,e=a.epochHeadCreationTime,f=d("EBMinosTypes").userFbidToUserJid(b);if(f==null){c("FBLogger")("wmi_minos").MUSTFIX(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Invalid userJid generated in writeKeyChangeAdminMessage"])));return Promise.resolve()}a=await d("MAWIndexedDb").makeMsgrTransactor({participants:d("MAWTransactionMode").READONLY,threads:d("MAWTransactionMode").READONLY},"writeKeyChangeAdminMessage",function(a){return function(){return d("MAWDbThreadTxns").getAllThreadsForUsers(a,[f])}})();b=a.get(f);if(b==null||(b==null?void 0:b.length)===0)return Promise.resolve();var g=b.filter(function(a){a=d("WAJids").switchOnMsgrChatJidType(a.jid,{group:function(){return"group"},user:function(){return"one_to_one"}});return a==="one_to_one"});return d("MAWIndexedDb").makeMsgrTransactor({ftsBackloggedMessages:d("MAWTransactionMode").READWRITE,groupInfo:d("MAWTransactionMode").READONLY,messages:d("MAWTransactionMode").READWRITE,threads:d("MAWTransactionMode").READWRITE},"writeKeyChangeAdminMessage",function(a){return function(){return d("MAWDexieTable").dexieAll(g.map(function(b){return d("MAWAdminWriteUserDeviceMsgTxn").writeUserDeviceAdminMsg(a,f,b,"update",e)}))}})()}g.writeMinosKeyChangeAdminMessage=a}),98);
__d("EBMinosWriteSecureStorageAlert",["EBMinosTypes","FBLogger","MAWDbAddDeviceChangeAlertsTxn","MAWDbDeviceChangeAlerts","MAWIndexedDb","MAWTransactionMode","MAWUnsafeCoerce","Promise","WAJids","WASignalOther"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var e=a.contactId,f=a.epochHead,g=a.epochHeadCreationTime,j=d("WAJids").validateDeviceJid(d("EBMinosTypes").userFbidToUserJid(d("EBMinosTypes").unsafeCastToUserFbId(e)));if(j==null){c("FBLogger")("wmi_minos").MUSTFIX(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Invalid deviceJid generated in writeMinosSecureStorageAlert"])));return(i||(i=b("Promise"))).resolve()}return d("MAWIndexedDb").makeMsgrTransactor({deviceChangeAlerts:d("MAWTransactionMode").READWRITE},"writeMinosSecureStorageAlert",function(a){return function(){return d("MAWDbAddDeviceChangeAlertsTxn").addDeviceChangeAlertsTxn(a,{action:d("MAWDbDeviceChangeAlerts").KEY_CHANGE,deviceJid:j,epochHead:f,identity:d("MAWUnsafeCoerce").unsafeCoerce(d("WASignalOther").toBytes(f,32)),isArchived:!1,model:"secure_storage",platform:"Meta",ts:g})}})()}g.writeMinosSecureStorageAlert=a}),98);
__d("EBUploadDeletedMessage",["EncryptedBackupsUploadQueue","I64","MAWUserJidWrapper","WAAsMessageApplication","WAJids","WAResultOrError"],(function(a,b,c,d,e,f,g){"use strict";var h;async function a(a){var b=a.instanceKey,c=a.msgId,e=a.sender,f=a.serverTs;a=a.sortOrderMs;try{await d("EncryptedBackupsUploadQueue").putMsgsToEbUpload([{backupDirective:{actionType:3,originalMsgProtocolId:c},instanceKey:b,messageApplication:d("WAAsMessageApplication").castToMessageApplicationBytes(new Uint8Array(0)),msgId:c,originalMsgProtocolId:c,reportingMeta:null,senderId:(h||(h=d("I64"))).of_string(d("WAJids").authorToUserId(e,d("WAJids").extractUserId(d("MAWUserJidWrapper").getMyUserJid()))),serverTs:f,sortOrderMs:a,triggerSource:"upload-deleted-message"}])}catch(a){return d("WAResultOrError").DEPRECATED_makeError("runtime-error",a)}return d("WAResultOrError").makeResult()}g.uploadDeletedMessage=a}),98);
__d("EncryptedBackupsCastToAttachmentContextMediaType",["EncryptedBackupsUploadEntity","MAWDbMedia","WALogger"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){switch(a){case d("MAWDbMedia").MEDIA_TYPE.IMAGE:return d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.IMAGE;case d("MAWDbMedia").MEDIA_TYPE.VIDEO:return d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.VIDEO;case d("MAWDbMedia").MEDIA_TYPE.PTT:return d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.PTT;case d("MAWDbMedia").MEDIA_TYPE.GIF:return d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.GIF;case d("MAWDbMedia").MEDIA_TYPE.STICKER:return d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.STICKER;case d("MAWDbMedia").MEDIA_TYPE.DOCUMENT_FILE:return d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.DOCUMENT;default:a;d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Not a valid AttachmentContextMediaType: ",""])),a);return d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.INVALID}}g["default"]=a}),98);
__d("EncryptedBackupsGetAttachmentContextForReceivedMsg",["EncryptedBackupsCastToAttachmentContextMediaType","EncryptedBackupsUploadEntity","WAMediaUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b,e=new Map();if(((b=a.decodedMsg)==null?void 0:b.unstoredDbMedia)!=null){b=(b=a.decodedMsg)==null?void 0:b.unstoredDbMedia;var f=b.mediaType;b=d("WAMediaUtils").decodeMediaEntryData(b.mediaEntry);var g=b.downloadableThumbnail;b=b.objectId;g=g==null?void 0:g.objectId;f=c("EncryptedBackupsCastToAttachmentContextMediaType")(f);b!=null&&f!=null&&e.set(d("WAMediaUtils").stringToDeliveryObjectId(b),f);g!=null&&g!==b&&e.set(d("WAMediaUtils").stringToDeliveryObjectId(g),d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.MESSENGER_PREVIEW)}if(((f=a.decodedMsg)==null?void 0:f.unstoredXMA)!=null){g=(b=a.decodedMsg)==null?void 0:b.unstoredXMA;if(g.unstoredFavicon!=null){f=d("WAMediaUtils").decodeMediaEntryData(g.unstoredFavicon.mediaEntry);a=f.objectId;a!=null&&e.set(d("WAMediaUtils").stringToDeliveryObjectId(a),d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.XMA)}if(g.unstoredHeaderMedia!=null){b=d("WAMediaUtils").decodeMediaEntryData(g.unstoredHeaderMedia.mediaEntry);f=b.objectId;f!=null&&e.set(d("WAMediaUtils").stringToDeliveryObjectId(f),d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.XMA)}if(g.unstoredAssociatedMedia!=null){a=d("WAMediaUtils").decodeMediaEntryData(g.unstoredAssociatedMedia.mediaEntry);b=a.objectId;b!=null&&e.set(d("WAMediaUtils").stringToDeliveryObjectId(b),d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.XMA)}g.unstoredPreviews!=null&&g.unstoredPreviews.length>0&&g.unstoredPreviews.forEach(function(a){a=a.mediaEntry;a=d("WAMediaUtils").decodeMediaEntryData(a);a=a.objectId;a!=null&&e.set(d("WAMediaUtils").stringToDeliveryObjectId(a),d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.XMA)})}return Array.from(e.entries()).map(function(a){var b=a[0];a=a[1];return{mediaObjectId:b,mediaType:a}})}g["default"]=a}),98);
__d("MessageBackupDirectiveGenerator",["FBLogger","I64","MAWJids","MAWMsgType","MessageBackupSupplementalKeyGenerator","WAGlobals","WAJids","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){a=d("MessageBackupSupplementalKeyGenerator").createReactionSupplementalKey(a);if(a!=null)return a;throw c("FBLogger")("labyrinth_web").mustfixThrow("Failed to create reaction supplemental key")}function j(a,b){a=d("MessageBackupSupplementalKeyGenerator").createEditSupplementalKey(a,b);if(a!=null)return a;throw c("FBLogger")("labyrinth_web").mustfixThrow("Failed to create edit supplemental key")}function k(a,b){b=d("MAWJids").toUserJid((h||(h=d("I64"))).to_string(b).toString());return{actionType:2,originalMsgProtocolId:a,supplementalKey:i(b)}}function l(a,b,c){b=d("MAWJids").toUserJid((h||(h=d("I64"))).to_string(b).toString());return{actionType:2,originalMsgProtocolId:a,supplementalKey:j(b,c)}}function m(a){if(d("WAJids").isAuthorSystem(a.author))return null;if(a.reactToExternalId!=null)return{author:a.reactToAuthor===d("WAGlobals").getMyUserJid()?"@me":a.reactToAuthor,chat:a.threadJid,externalId:a.reactToExternalId};else if(a.originalMsgExternalId!=null)return{author:a.author,chat:a.threadJid,externalId:a.originalMsgExternalId};else if(a.revokedExternalId!=null)return{author:a.author,chat:a.threadJid,externalId:a.revokedExternalId};return a.externalId==null?null:{author:a.author,chat:a.threadJid,externalId:a.externalId}}function a(a){var b=(h||(h=d("I64"))).of_string(d("WAJids").authorToUserId(a.author,d("WAJids").extractUserId(d("WAGlobals").getMyUserJid()))),e=m(a);if(e==null)return null;if(a.originalMsgExternalId!=null){if(a.editTs==null){c("FBLogger")("labyrinth_web").mustfix("editTs is null for edit message during createMessageBackupDirectiveFromDbMsg");return null}return l(e,b,d("WATimeUtils").castUnixTimeToMillisTime(a.editTs))}return a.reactToExternalId!=null?k(e,b):n(e,b,a.type,null)}function n(a,b,e,f){switch(e){case d("MAWMsgType").MSG_TYPE.TEXT:case d("MAWMsgType").MSG_TYPE.IMAGE:case d("MAWMsgType").MSG_TYPE.PTT:case d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:case d("MAWMsgType").MSG_TYPE.VIDEO:case d("MAWMsgType").MSG_TYPE.GIF:case d("MAWMsgType").MSG_TYPE.XMA:case d("MAWMsgType").MSG_TYPE.STICKER:case d("MAWMsgType").MSG_TYPE.RECEIVER_FETCH:case d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE:case d("MAWMsgType").MSG_TYPE.GROUP_POLL_CREATE:return{actionType:1,originalMsgProtocolId:a};case d("MAWMsgType").MSG_TYPE.REACTION:return k(a,b);case d("MAWMsgType").MSG_TYPE.EDIT_ACTION:if(f==null)throw c("FBLogger")("labyrinth_web").mustfixThrow("editTs is null for edit message during createMessageBackupDirective");return l(a,b,f);case d("MAWMsgType").MSG_TYPE.REVOKED:return{actionType:4,originalMsgProtocolId:a};case d("MAWMsgType").MSG_TYPE.DELETE_FOR_ME:return{actionType:3,originalMsgProtocolId:a};default:c("FBLogger")("labyrinth_web").mustfix("Unsupported message type %s",e);return{actionType:0,originalMsgProtocolId:a}}}g.createMessageBackupDirectiveFromDbMsg=a;g.createMessageBackupDirective=n}),98);
__d("MessageBackupDirectiveTypes",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.actionType,c=a.messageId;a=a.supplementalKey;return{actionType:b,originalMsgProtocolId:{externalId:c},supplementalKey:a!=null?a:void 0}}f.getMessageBackupDirectiveFromMessageTransportBackupDirective=a}),66);
__d("EncryptedBackupsCreateUploadMessage",["EBAPIQPLPoints","EBGenerateMessageTags","EncryptedBackupsConvertToLegacyAttachmentContext","EncryptedBackupsGetAttachmentContextForReceivedMsg","I64","LSRequestId","MAWEBSwitch","MAWMessageSortOrderUtils","MAWMsgType","MessageBackupDirectiveGenerator","MessageBackupDirectiveTypes","QPLUserFlow","WAAsMessageApplication","WAByteArray","WAConsumerApplication.pb","WAGlobals","WAJids","WALogger","WAMsgApplication.pb","WATimeUtils","decodeProtobuf","encodeProtobuf","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a){if(a==null)return null;var b;if(a.unstoredDbReaction!=null)return d("MAWMsgType").MSG_TYPE.REACTION;else if(a.unstoredDbEditActionMsg!=null)return d("MAWMsgType").MSG_TYPE.EDIT_ACTION;else if(a.unstoredDbMedia!=null){var c;b=a.unstoredDbMedia.mediaType;c=(c=a.unstoredDbMsg)==null?void 0:c.ephemeralSetting}else if(a.unstoredXMA!=null){var e;b=d("MAWMsgType").MSG_TYPE.XMA;c=(e=(e=a.unstoredDbMsg)==null?void 0:e.ephemeralSetting)!=null?e:(e=a.unstoredXMA.unstoredAssociatedMsg)==null?void 0:e.ephemeralSetting}else if(a.unstoredDbMsg!=null)b=a.unstoredDbMsg.type,c=a.unstoredDbMsg.ephemeralSetting;else return null;e=d("MAWMsgType").isProtobufUploadSupportedMsgType(b);return e&&!(c!=null&&c.ephemeralExpirationInSec>0)?b:null}function k(a){var b,c=a.stanza.message.decrypted.id;if(((b=a.decodedMsg)==null?void 0:b.unstoredDbReaction)!=null)return{author:a.decodedMsg.unstoredDbReaction.reactToAuthor,chat:c.chat,externalId:a.decodedMsg.unstoredDbReaction.reactToExternalId};else if(((b=a.decodedMsg)==null?void 0:b.unstoredDbEditActionMsg)!=null)return{author:c.author,chat:c.chat,externalId:a.decodedMsg.unstoredDbEditActionMsg.originalMsgExternalId};return c}function l(a){var b;return d("WAAsMessageApplication").castToMessageApplicationBytes(d("encodeProtobuf").encodeProtobuf(d("WAMsgApplication.pb").MessageApplicationSpec,{metadata:a.metadata,payload:{subProtocol:(b={},b[a.subprotocolType]={payload:d("WAByteArray").uint8ArrayToBuffer(a.subprotocol),version:1},b)}}).readByteArrayView())}function m(a){if(a.subprotocolType!=="consumerMessage")return null;a=d("decodeProtobuf").decodeProtobufWithUnknowns(d("WAConsumerApplication.pb").ConsumerApplicationSpec,a.subprotocol);if(a==null)return null;a=(a=a.payload)==null?void 0:a.content;if(a==null)return null;a=a.editMessage;return a==null||a.timestampMs==null?null:d("WATimeUtils").castLongIntToMillisTime(a.timestampMs)}function n(a){var b=a.stanza.message.decrypted.id,e=a.stanza.message.details.ts;a=c("EncryptedBackupsGetAttachmentContextForReceivedMsg")(a);var f=c("EncryptedBackupsConvertToLegacyAttachmentContext")(a),g=[];f.length>0&&f.forEach(function(a){var f=a.mediaObjectId;a=a.mediaType;g.push({deliveryObjectId:f,mediaType:a,messageId:b.externalId,productType:"msgr",threadId:d("WAJids").threadIdForChatJid(b.chat),threadJid:b.chat,traceId:c("LSRequestId").generate(),ts:e})});return{attachmentContext:a,legacyUploadAttachmentArray:g}}function a(a,b,e,f){var g,o=c("qpl")._(521477113,"2698"),p=j(a.decodedMsg);if(p==null){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] no result or failed for incoming stanza ",""])),a.stanza.message.decrypted.id);c("QPLUserFlow").addPoint(c("qpl")._(521477113,"2698"),d("EBAPIQPLPoints").EBUploadQueueQPLPoints.UNKNOWN_MESSAGE_TYPE,{instanceKey:f});return null}var q=a.stanza.message.decrypted.msg;if((q==null?void 0:q.version)!=="v3"||q.type!=="subprotocol"){c("QPLUserFlow").addPoint(o,d("EBAPIQPLPoints").EBUploadQueueQPLPoints.UKNOWN_MESSAGE_VERSION_OR_PROTOCOL,{instanceKey:f});return null}var r=a.stanza.message.decrypted.id,s=r.author,t=r.externalId,u=k(a),v=l(q);s=(i||(i=d("I64"))).of_string(d("WAJids").authorToUserId(s,d("WAJids").extractUserId(d("WAGlobals").getMyUserJid())));var w=a.stanza.message.details.reportingMeta,x=a.stanza.message.details.ts;c("QPLUserFlow").addPoint(o,d("EBAPIQPLPoints").EBUploadQueueQPLPoints.GENERATE_BACKUP_DIRECTIVE_START,{instanceKey:f});var y=q.backupDirective!=null?d("MessageBackupDirectiveTypes").getMessageBackupDirectiveFromMessageTransportBackupDirective(q.backupDirective):null;q=d("MessageBackupDirectiveGenerator").createMessageBackupDirective(u,s,p,p===d("MAWMsgType").MSG_TYPE.EDIT_ACTION?m(q):null);var z;y!=null&&p===d("MAWMsgType").MSG_TYPE.FUTUREPROOF?z=y:z=q;c("QPLUserFlow").addPoint(o,d("EBAPIQPLPoints").EBUploadQueueQPLPoints.GENERATE_BACKUP_DIRECTIVE_END,{instanceKey:f});c("QPLUserFlow").addPoint(o,d("EBAPIQPLPoints").EBUploadQueueQPLPoints.GET_ATTACHMENT_CONTEXT_START,{instanceKey:f});a=n(a);var A=a.attachmentContext;a=a.legacyUploadAttachmentArray;A.length>0&&c("QPLUserFlow").addPoint(c("qpl")._(521477113,"2698"),d("EBAPIQPLPoints").EBUploadQueueQPLPoints.ADDED_ATTACHMENT_CONTEXT,{data:{"int":{attachmentCount:A.length}},instanceKey:f});a.length>0&&c("QPLUserFlow").addPoint(c("qpl")._(521477113,"2698"),d("EBAPIQPLPoints").EBUploadQueueQPLPoints.ADDED_ATTACHMENT_CONTEXT_LEGACY,{data:{"int":{legacyAttachmentCount:a.length}},instanceKey:f});c("QPLUserFlow").addPoint(o,d("EBAPIQPLPoints").EBUploadQueueQPLPoints.GET_ATTACHMENT_CONTEXT_END,{instanceKey:f});o=A.map(function(a){return d("EBGenerateMessageTags").generateEBMessageTags(a.mediaType)}).filter(Boolean);var B=!c("MAWEBSwitch").isEnabled();c("QPLUserFlow").addAnnotations(c("qpl")._(521477113,"2698"),{bool:{isRetroactiveUpload:B},"int":{attachmentCount:A.length,backupDirectiveType:z.actionType,generatedDirective_actionType:q.actionType,legacyAttachmentCount:a.length,protobufDirective_actionType:(g=y==null?void 0:y.actionType)!=null?g:-1},string:{generatedDirective_supplementalKey:(g=q.supplementalKey)!=null?g:"no_supplemental_key",protobufDirective_supplementalKey:(q=y==null?void 0:y.supplementalKey)!=null?q:"no_supplemental_key"}},{instanceKey:f});return{attachmentContext:A,backupDirective:z,dbMsgType:p,instanceKey:f,isRetroactiveUpload:B,legacyAttachmentContext:a,messageApplication:v,msgId:r,originalMsgProtocolId:u,reportingMeta:w,senderId:s,serverTs:x,sortOrderMs:e!=null?e:d("WATimeUtils").castToMillisTime(d("MAWMessageSortOrderUtils").generateAuthoritativeMessageSortOrder({externalId:t,serverTs:x,ts:x})),tags:o,triggerSource:b!=null?b:"unknown"}}g.createUploadMessage=a}),98);
__d("EBUploadReceivedMessages",["EBAPIQPLPoints","EncryptedBackupsCreateUploadMessage","EncryptedBackupsUploadQueue","MAWEBSwitch","MWEBODSEntityName.enum","MWEBODSUtils","QPLUserFlow","WAHashStringToNumber","WALogger","WAResultOrError","justknobx","qpl","requireDeferred","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("ArmadilloReceiveWriteDbSuccessFalcoEvent").__setRef("EBUploadReceivedMessages"),k=c("justknobx")._("3874");async function a(a){var b=a.incomingMessages,e=a.msgResults;try{if(b.length===0)return d("WAResultOrError").makeResult();d("MWEBODSUtils").markODSForEB(c("MWEBODSEntityName.enum").MAW_EB_UPLOAD_COUNTER,"upload.api.receive.process",b.length);a=b.map(function(a){var b=d("WAHashStringToNumber").hashStringToNumber(c("uuidv4")());c("QPLUserFlow").start(c("qpl")._(521477113,"2698"),{annotations:{bool:{received:!0}},instanceKey:b,timeoutInMs:c("justknobx")._("308")});try{var f=a.stanza.message.decrypted.id;f=e.get(f);if(f==null||!f.success){d("WALogger").EXPECTED_ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] no result or failed for incoming stanza ",""])),a.stanza.message.decrypted.id);c("QPLUserFlow").endFailure(c("qpl")._(521477113,"2698"),d("EBAPIQPLPoints").EBUploadQueueQPLPoints.MESSAGE_RESULT_FAILURE_OR_NULL,{instanceKey:b});return null}var g=d("EncryptedBackupsCreateUploadMessage").createUploadMessage(a,"upload-received-messages",void 0,b);g==null?c("QPLUserFlow").endFailure(c("qpl")._(521477113,"2698"),d("EBAPIQPLPoints").EBUploadQueueQPLPoints.UPLOAD_PAYLOAD_CREATION_FAILURE,{instanceKey:b}):c("QPLUserFlow").addPoint(c("qpl")._(521477113,"2698"),d("EBAPIQPLPoints").EBUploadQueueQPLPoints.UPLOAD_PAYLOAD_CREATED,{instanceKey:b});k&&(g==null?void 0:g.msgId)!=null&&j.onReady(function(a){var b,d={is_protobuf_only:!1,is_supplemental_upload:g.msgId.externalId!==g.originalMsgProtocolId.externalId,msg_type:(b=g.dbMsgType)!=null?b:"unknown",trigger_source:"receive"};a.log(function(){return{encrypted_backup_enable:c("MAWEBSwitch").isEnabled(),labyrinth_version:0,message_id:g.msgId.externalId,process_context:JSON.stringify(d)}})});return g}catch(a){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] error generating backup directive for received message, ",""])),a);c("QPLUserFlow").endFailure(c("qpl")._(521477113,"2698"),d("EBAPIQPLPoints").EBUploadQueueQPLPoints.RUNTIME_ERROR,{annotations:{string:{error:a.toString()}},instanceKey:b});return null}}).filter(Boolean);if(a.length===0)return d("WAResultOrError").makeResult();d("MWEBODSUtils").markODSForEB(c("MWEBODSEntityName.enum").MAW_EB_UPLOAD_COUNTER,"upload.api.receive.enqueue",a.length);await d("EncryptedBackupsUploadQueue").putMsgsToEbUpload(a);return d("WAResultOrError").makeResult()}catch(a){return d("WAResultOrError").DEPRECATED_makeError("runtime-exception",a)}}g.uploadReceivedMessages=a}),98);
__d("EBUploadReceivedMessagesRevokeUtils",["EBAPIQPLPoints","EncryptedBackupsCreateUploadMessage","MAWGetMsgForProtocolMsgIdTxn","MAWMessageSortOrderUtils","QPLUserFlow","WALogger","WATimeUtils","gkx","qpl","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("EBAPI").__setRef("EBUploadReceivedMessagesRevokeUtils");async function a(a,b){var e;if(((e=a.decodedMsg)==null||(e=e.unstoredDbMsg)==null?void 0:e.type)!=="Revoked"||!c("gkx")("8488"))return null;var f=a.stanza.message.decrypted.id,g=await d("MAWGetMsgForProtocolMsgIdTxn").getMsgForProtocolMsgIdTxn({author:f.author,chat:f.chat,externalId:a.decodedMsg.unstoredDbMsg.revokedExternalId});if(!g.success){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] EBUploadReceivedMessagesProtobufOnly not uploading placeholder message - Original message not found for revoked message ",""])),f.externalId);c("QPLUserFlow").endFailure(c("qpl")._(521477113,"2698"),d("EBAPIQPLPoints").EBUploadQueueQPLPoints.MESSAGE_RESULT_FAILURE_OR_NULL,{instanceKey:b});return null}var j=d("WATimeUtils").castToMillisTime((e=g.value.sortOrderMs)!=null?e:d("MAWMessageSortOrderUtils").generateAuthoritativeMessageSortOrder({externalId:g.value.externalId,serverTs:g.value.serverTs,ts:g.value.ts}));c("gkx")("11710")&&await i.load().then(function(a){return a.uploadDeletedMessage({instanceKey:b,msgId:{author:f.author,chat:f.chat,externalId:g.value.externalId},sender:f.author,serverTs:(a=g.value.serverTs)!=null?a:g.value.ts,sortOrderMs:j})});return d("EncryptedBackupsCreateUploadMessage").createUploadMessage(a,"upload-received-messages",j,b)}g.createRevokeUploadMsg=a}),98);
__d("EBUploadReceivedMessagesProtobufOnly",["EBAPIQPLPoints","EBUploadReceivedMessagesRevokeUtils","EncryptedBackupsCreateUploadMessage","EncryptedBackupsUploadQueue","MAWEBSwitch","QPLUserFlow","WAHashStringToNumber","WAResultOrError","justknobx","qpl","requireDeferred","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("ArmadilloReceiveWriteDbSuccessFalcoEvent").__setRef("EBUploadReceivedMessagesProtobufOnly"),i=c("justknobx")._("3874");async function a(a){a=a.uploadArray;try{if(a.length===0)return d("WAResultOrError").makeResult();a=a.map(async function(a){var b=d("WAHashStringToNumber").hashStringToNumber(c("uuidv4")());c("QPLUserFlow").start(c("qpl")._(521477113,"2698"),{annotations:{bool:{protobufOnly:!0,received:!0}},instanceKey:b,timeoutInMs:c("justknobx")._("308")});try{var e,f=((e=a.decodedMsg)==null||(e=e.unstoredDbMsg)==null?void 0:e.type)==="Revoked"?await d("EBUploadReceivedMessagesRevokeUtils").createRevokeUploadMsg(a,b):d("EncryptedBackupsCreateUploadMessage").createUploadMessage(a,"upload-received-messages",void 0,b);f==null?c("QPLUserFlow").endFailure(c("qpl")._(521477113,"2698"),d("EBAPIQPLPoints").EBUploadQueueQPLPoints.UPLOAD_PAYLOAD_CREATION_FAILURE,{instanceKey:b}):c("QPLUserFlow").addPoint(c("qpl")._(521477113,"2698"),d("EBAPIQPLPoints").EBUploadQueueQPLPoints.UPLOAD_PAYLOAD_CREATED,{instanceKey:b});i&&(f==null?void 0:f.msgId)!=null&&h.onReady(function(a){var b,d={is_protobuf_only:!0,is_supplemental_upload:f.msgId.externalId!==f.originalMsgProtocolId.externalId,msg_type:(b=f.dbMsgType)!=null?b:"unknown",trigger_source:"receive"};a.log(function(){return{encrypted_backup_enable:c("MAWEBSwitch").isEnabled(),labyrinth_version:0,message_id:f.msgId.externalId,process_context:JSON.stringify(d)}})});return f}catch(a){c("QPLUserFlow").endFailure(c("qpl")._(521477113,"2698"),d("EBAPIQPLPoints").EBUploadQueueQPLPoints.UPLOAD_PAYLOAD_CREATION_FAILURE,{annotations:{string:{error:a.message}},instanceKey:b});return null}});a=await Promise.all(a);a=a.filter(Boolean);if(a.length===0)return d("WAResultOrError").makeResult();await d("EncryptedBackupsUploadQueue").putMsgsToEbUpload(a);return d("WAResultOrError").makeResult()}catch(a){return d("WAResultOrError").DEPRECATED_makeError("runtime-exception",a)}}g.uploadReceivedMessagesProtobufOnly=a}),98);
__d("MAWGetAllMediaIdsForXMAMsgApi",["MAWDbXMATxns","MAWDexieTable","MAWIndexedDb","MAWTransactionMode"],(function(a,b,c,d,e,f,g){"use strict";a=d("MAWIndexedDb").makeMsgrTransactor({xma:d("MAWTransactionMode").READONLY},"getAllMediaIdsForXMAMsg",function(a){return function(b){var c=new Map();b=b.map(function(b){return d("MAWDbXMATxns").maybeGetXMAFromProtocolMsgId(a,b).then(function(a){var d,e=(d=c.get(b))!=null?d:new Set();a!=null&&(a.faviconMediaId!=null&&e.add(a.faviconMediaId),a.headerMediaId!=null&&e.add(a.headerMediaId),a.previewMediaIds!=null&&a.previewMediaIds.forEach(function(a){return e.add(a)}));c.set(b,e)})});return d("MAWDexieTable").dexieAll(b).then(function(a){return c})}});g.getAllMediaIdsForXMAMsg=a}),98);
__d("EncryptedBackupsGetAttachmentContextForSentMsgXMA",["EncryptedBackupsUploadEntity","MAWDbMediaTxns","MAWGetAllMediaIdsForXMAMsgApi","MAWIndexedDb","MAWTransactionMode","WAMediaUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=d("MAWIndexedDb").makeMsgrTransactor({media:d("MAWTransactionMode").READONLY},"bulkGetRetroactiveMedia",function(a){return function(){for(var b=arguments.length,c=new Array(b),e=0;e<b;e++)c[e]=arguments[e];return d("MAWDbMediaTxns").bulkGetMedias.apply(void 0,[a].concat(c))}});async function a(a,b){var c=await d("MAWGetAllMediaIdsForXMAMsgApi").getAllMediaIdsForXMAMsg([a]).then(function(b){b=b.get(a);return b!=null?h(Array.from(b)):[]});return c.filter(Boolean).flatMap(function(a){var c,e=b.msgId!=null?a==null?void 0:a.mediaEntries.get(b.msgId):null;e=e!=null?d("WAMediaUtils").decodeMediaEntryData(e):null;var f=[];(e==null?void 0:e.objectId)!=null&&a.mediaType!=null&&f.push({mediaObjectId:e.objectId,mediaType:d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.XMA});a=e==null||(c=e.downloadableThumbnail)==null?void 0:c.objectId;a!=null&&f.push({isPreview:!0,mediaObjectId:d("WAMediaUtils").stringToDeliveryObjectId(a),mediaType:d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.MESSENGER_PREVIEW});return f})}g.default=a}),98);
__d("EncryptedBackupsGetAttachmentContextForSentMsg",["EncryptedBackupsCastToAttachmentContextMediaType","EncryptedBackupsGetAttachmentContextForSentMsgXMA","EncryptedBackupsUploadEntity","WAMediaUtils"],(function(a,b,c,d,e,f,g){"use strict";async function a(a){var b=a.dbMsg,e=a.isXMAMsg,f=a.media;a=a.protocolMsgIdFromArgs;if(e===!0){e=await c("EncryptedBackupsGetAttachmentContextForSentMsgXMA")(a,b);return e.filter(Boolean)}a=[];e=b.msgId!=null?f==null?void 0:f.mediaEntries.get(b.msgId):null;b=e!=null?d("WAMediaUtils").decodeMediaEntryData(e):null;if(f==null||b==null)return[];if(b.objectId!=null&&f.mediaType!=null){a.push({mediaObjectId:b.objectId,mediaType:c("EncryptedBackupsCastToAttachmentContextMediaType")(f.mediaType)});f=(e=b.downloadableThumbnail)==null?void 0:e.objectId;f!=null&&a.push({mediaObjectId:d("WAMediaUtils").stringToDeliveryObjectId(f),mediaType:d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.MESSENGER_PREVIEW})}return a}g.default=a}),98);
__d("EncryptedBackupsGetAttachmentContextForSentMsgV2",["EncryptedBackupsCastToAttachmentContextMediaType","EncryptedBackupsUploadEntity","WAMediaUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){var f=new Map(),g=[],h=a.msgId;if(b!=null){var i;a=h!=null?b.mediaEntries.get(h):null;a=a!=null?d("WAMediaUtils").decodeMediaEntryData(a):null;b=c("EncryptedBackupsCastToAttachmentContextMediaType")(b.mediaType);if((a==null?void 0:a.objectId)!=null&&b!=null){var j=a.objectId;f.set(j,b)}j=a==null||(i=a.downloadableThumbnail)==null?void 0:i.objectId;j!=null&&f.set(j,d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.MESSENGER_PREVIEW)}if(e!=null){if(e.favicon!=null){b=e.favicon.objectId;b!=null&&f.set(b,d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.XMA)}if(e.header!=null){a=e.header.objectId;a!=null&&f.set(a,d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.XMA)}e.previews!=null&&e.previews.length>0&&e.previews.forEach(function(a){a=a.mediaEntries;a=h!=null?a.get(h):null;a=a!=null?d("WAMediaUtils").decodeMediaEntryData(a):null;if((a==null?void 0:a.objectId)!=null){a=a.objectId;f.set(a,d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.XMA)}})}f.forEach(function(a,b){g.push({mediaObjectId:b,mediaType:a})});return g}g["default"]=a}),98);
__d("EBUploadSentMessage",["EBAPIQPLPoints","EBEnableUnifiedAttachment","EBGenerateMessageTags","EBUnifyLegacyMediaUpload","EncryptedBackupsConvertToLegacyAttachmentContext","EncryptedBackupsGetAttachmentContextForSentMsg","EncryptedBackupsGetAttachmentContextForSentMsgV2","EncryptedBackupsUploadQueue","I64","LSRequestId","MAWEBSwitch","MAWMessageSortOrderUtils","MAWMsgType","MWEBODSEntityName.enum","MWEBODSUtils","MessageBackupDirectiveGenerator","QPLUserFlow","WAFrankingTypes","WAGenReportingMeta","WAGetSafeQPLError","WAGlobals","WAHashStringToNumber","WAJids","WALogger","WAResultOrError","WATimeUtils","gkx","justknobx","qpl","requireDeferred","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("ArmadilloReceiveWriteDbSuccessFalcoEvent").__setRef("EBUploadSentMessage"),k=c("requireDeferred")("EBAPI").__setRef("EBUploadSentMessage"),l=c("justknobx")._("3874");function m(a){if(a.reactToExternalId!=null)return d("MAWMsgType").MSG_TYPE.REACTION;else if(a.editMsgHistoryId!=null)return d("MAWMsgType").MSG_TYPE.EDIT_ACTION;else if(a.type==null)return null;else return d("MAWMsgType").isProtobufUploadSupportedMsgType(a.type)&&!(a.ephemeralSetting!=null&&a.ephemeralSetting.ephemeralExpirationInSec>0)?a.type:null}async function a(a){var b=a.dbMsg,e=a.isXMAMsg;e=e===void 0?!1:e;var f=a.media,g=a.messageApplication,n=a.messageApplicationBytes,o=a.protocolMsgId,p=a.serverTs,q=a.triggerSource;q=q===void 0?"upload-sent-message":q;a=a.xmaPayload;var r=d("WAHashStringToNumber").hashStringToNumber(c("uuidv4")()),s=c("qpl")._(521477113,"2698");d("MWEBODSUtils").markODSForEB(c("MWEBODSEntityName.enum").MAW_EB_UPLOAD_COUNTER,"upload.api.sent.process",1);try{if(d("WAJids").isAuthorSystem(b.author))return d("WAResultOrError").makeResult();c("QPLUserFlow").start(s,{annotations:{bool:{received:!1}},instanceKey:r,timeoutInMs:c("justknobx")._("308")});var t=m(b);if(t==null){c("QPLUserFlow").endFailure(s,d("EBAPIQPLPoints").EBUploadQueueQPLPoints.UNSUPPORTED_MESSAGE_TYPE,{instanceKey:r});return d("WAResultOrError").makeError("Unsupported EB upload message type")}c("QPLUserFlow").addPoint(s,d("EBAPIQPLPoints").EBUploadQueueQPLPoints.GENERATE_BACKUP_DIRECTIVE_START,{instanceKey:r});var u=d("MessageBackupDirectiveGenerator").createMessageBackupDirectiveFromDbMsg(b);c("QPLUserFlow").addPoint(s,d("EBAPIQPLPoints").EBUploadQueueQPLPoints.GENERATE_BACKUP_DIRECTIVE_END,{instanceKey:r});if(u==null){c("QPLUserFlow").endFailure(s,d("EBAPIQPLPoints").EBUploadQueueQPLPoints.UNABLE_TO_CREATE_BACKUP_DIRECTIVE,{instanceKey:r});return d("WAResultOrError").makeError("Unable to create backup directive")}c("QPLUserFlow").addPoint(s,d("EBAPIQPLPoints").EBUploadQueueQPLPoints.GET_ATTACHMENT_CONTEXT_START,{instanceKey:r});var v=[];d("EBUnifyLegacyMediaUpload").getEnableUnifyLegacyMediaUpload()||d("EBEnableUnifiedAttachment").getEbEnableUnifiedAttachment()?v=c("EncryptedBackupsGetAttachmentContextForSentMsgV2")(b,f,a):v=await c("EncryptedBackupsGetAttachmentContextForSentMsg")({dbMsg:b,isXMAMsg:e,media:f,protocolMsgIdFromArgs:o});c("QPLUserFlow").addPoint(s,d("EBAPIQPLPoints").EBUploadQueueQPLPoints.GET_ATTACHMENT_CONTEXT_END,{instanceKey:r});a=c("EncryptedBackupsConvertToLegacyAttachmentContext")(v);var w=[];a.length>0&&a.forEach(function(a){var e=a.mediaObjectId;a=a.mediaType;w.push({deliveryObjectId:e,mediaType:a,messageId:o.externalId,productType:"msgr",threadId:d("WAJids").threadIdForChatJid(o.chat),threadJid:b.threadJid,traceId:c("LSRequestId").generate(),ts:p})});v.length>0&&c("QPLUserFlow").addPoint(c("qpl")._(521477113,"2698"),d("EBAPIQPLPoints").EBUploadQueueQPLPoints.ADDED_ATTACHMENT_CONTEXT,{instanceKey:r});w.length>0&&c("QPLUserFlow").addPoint(c("qpl")._(521477113,"2698"),d("EBAPIQPLPoints").EBUploadQueueQPLPoints.ADDED_ATTACHMENT_CONTEXT_LEGACY,{instanceKey:r});e=v.map(function(a){return d("EBGenerateMessageTags").generateEBMessageTags(a.mediaType)}).filter(Boolean);d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["sendWrittenMsg adding message "," attachments to EB upload queue"])),(f=v)==null?void 0:f.length);c("QPLUserFlow").addPoint(s,d("EBAPIQPLPoints").EBUploadQueueQPLPoints.GENERATE_REPORTING_META_START,{instanceKey:r});a=g==null?void 0:g.metadata;f=await d("WAGenReportingMeta").genReportingMeta(n,a!=null&&a.frankingKey?d("WAFrankingTypes").castToFrankingKey(new Uint8Array(a==null?void 0:a.frankingKey)):null,a==null?void 0:a.frankingVersion);c("QPLUserFlow").addPoint(s,d("EBAPIQPLPoints").EBUploadQueueQPLPoints.GENERATE_REPORTING_META_END,{instanceKey:r});g=!c("MAWEBSwitch").isEnabled();c("QPLUserFlow").addAnnotations(c("qpl")._(521477113,"2698"),{bool:{isRetroactiveUpload:g},int:{attachmentCount:v.length,backupDirectiveType:u.actionType,legacyAttachmentCount:w.length}},{instanceKey:r});d("MWEBODSUtils").markODSForEB(c("MWEBODSEntityName.enum").MAW_EB_UPLOAD_COUNTER,"upload.api.sent.enqueue",1);var x=d("WATimeUtils").castToMillisTime(d("MAWMessageSortOrderUtils").generateAuthoritativeMessageSortOrder({externalId:o.externalId,originalTs:b.originalTs,revokedExternalId:b.revokedExternalId,serverTs:p,ts:p})),y={backupDirective:u,dbMsgType:t,instanceKey:r,isRetroactiveUpload:g,messageApplication:n,msgId:o,originalMsgProtocolId:u.originalMsgProtocolId.externalId!==o.externalId?u.originalMsgProtocolId:o,reportingMeta:f,senderId:(i||(i=d("I64"))).of_string(d("WAJids").authorToUserId(o.author,d("WAJids").extractUserId(d("WAGlobals").getMyUserJid()))),serverTs:p,sortOrderMs:x,tags:e,triggerSource:q};(v.length>0||w.length>0)&&(y=babelHelpers.extends({},y,{attachmentContext:v,legacyAttachmentContext:w}));l&&((a=y)==null?void 0:a.msgId)!=null&&j.onReady(function(a){var b,d={is_protobuf_only:!1,is_supplemental_upload:y.msgId.externalId!==y.originalMsgProtocolId.externalId,msg_type:(b=y.dbMsgType)!=null?b:"unknown",trigger_source:"send"};a.log(function(){return{encrypted_backup_enable:c("MAWEBSwitch").isEnabled(),labyrinth_version:0,message_id:y.msgId.externalId,process_context:JSON.stringify(d)}})});await d("EncryptedBackupsUploadQueue").putMsgsToEbUpload([y]);c("gkx")("11710")&&b.type===d("MAWMsgType").MSG_TYPE.REVOKED&&b.originalMsgExternalId==null&&b.reactToExternalId==null&&(c("QPLUserFlow").addPoint(s,d("EBAPIQPLPoints").EBUploadQueueQPLPoints.UPLOAD_DELETED_MESSAGE,{instanceKey:r}),await k.load().then(function(a){return a.uploadDeletedMessage({instanceKey:r,msgId:{author:o.author,chat:b.threadJid,externalId:b.revokedExternalId},sender:b.author,serverTs:(a=(a=b.originalTs)!=null?a:b.serverTs)!=null?a:b.ts,sortOrderMs:x})}));return d("WAResultOrError").makeResult()}catch(a){c("QPLUserFlow").endFailure(s,d("EBAPIQPLPoints").EBUploadQueueQPLPoints.RUNTIME_ERROR,{annotations:{string:{errorDescription:d("WAGetSafeQPLError").getSafeQPLErrorMessage(a)}},instanceKey:r});return d("WAResultOrError").DEPRECATED_makeError("runtime-error",a)}}g.uploadSentMessage=a}),98);
__d("EchoSerializationFailureFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5722");b=d("FalcoLoggerInternal").create("echo_serialization_failure",a);e=b;g["default"]=e}),98);
__d("EchoSerializationSuccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5723");b=d("FalcoLoggerInternal").create("echo_serialization_success",a);e=b;g["default"]=e}),98);
__d("LSRestoreEchoBlobsHandler",["LSProtobufRestoreHandler","LSVec","MAWBridgeSafeActionsWorkerAndUI","MAWEBRestoreTrackingUtils","MAWEncryptedBackupUtils","MAWJobDefinitions"],(function(a,b,c,d,e,f,g){"use strict";async function a(a,b,e,f,g,h,i,j,k,l,m){var n=c("LSVec").toArray(a).map(d("MAWJobDefinitions").toEncodedEchoMessage);j!=null&&d("MAWEBRestoreTrackingUtils").addQPLRestorePoint({pointName:"echo_to_protobuf_conversion_start",traceId:j});n=await d("MAWBridgeSafeActionsWorkerAndUI").sendAndReceiveBackendWorkerAndUIShared("convertEchoMessagesToEBProtobufs",{chatJid:m,encodedEchoMessages:n});j!=null&&d("MAWEBRestoreTrackingUtils").addQPLRestorePoint({pointName:"echo_to_protobuf_conversion_success",traceId:j});n=d("MAWEncryptedBackupUtils").convertJSTypesToLSTypesForRestoreJob(n);await d("LSProtobufRestoreHandler").handleProtobufRestoreHelper(i,{decryptedMessagesProtobufs:n,type:"decryptedMessagesProtobufs"},b,e,f,g,h,j,k,"",a,l,m);return Promise.resolve([!0,c("LSVec").ofArray([]),c("LSVec").ofArray([])])}g.handleEchoBlobsRestore=a}),98);
__d("MAWBridgeTraceRecordCheckpointHandler",["I64","LSAppendDataTraceAddonStoredProcedure","LSDatabaseSingleton","LSFactory","LSFlushDataTrace.nop"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b){var e=b.checkPointId,f=b.dataTraceId,g=b.errorMessage,i=b.tags;return c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:e,dataTraceId:f,errorMessage:g,syncChannel:(h||(h=d("I64"))).neg_one,tags:i}).then(function(){if(b.shouldFlush)return c("LSFlushDataTrace.nop")(a,0,f)})}function a(a){return(i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(b){return b.runInTransaction(function(b){return j(b,a)},"readwrite",void 0,void 0,f.id+":43")})}g.call=j;g.callWithoutTxn=a}),98);
__d("MAWRestoreProtobufsFromEncryptedBackupsNOP",["ExecutionEnvironment","I64","LSDataTraceCheckPoint","LSIntEnum","LSMEBTaskCreationSource","MAWBridgeTraceRecordCheckpointHandler","MAWJobDefinitions","MAWJobManager","WAJobOrchestratorTypes","err","ifRequireable","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;async function a(a,b,e,f,g,h,i,l,m,n,o,p,q,r,s,t){s===void 0&&(s=d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION);try{return k(b,e,q,f,g,i,m,n,o,r==null?void 0:r,void 0,s,t)}catch(b){if(n!=null){h={checkPointId:(j||(j=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").FLOW_END_FOR_FAILURE),dataTraceId:n,errorMessage:b,shouldFlush:!0,syncChannel:-1,tags:void 0};if(a!=null)return d("MAWBridgeTraceRecordCheckpointHandler").call(a,h).then(function(){return Promise.reject(b)});void d("MAWBridgeTraceRecordCheckpointHandler").callWithoutTxn(h);return Promise.reject(b)}}return Promise.resolve()}function k(a,b,e,f,g,k,l,m,n,o,p,q,r){q===void 0&&(q=d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION);var s;if((h||(h=c("ExecutionEnvironment"))).isInWorker)s=d("MAWJobManager").getJobManager();else{var t;c("ifRequireable")("MAWTimedJob",function(a){a=a.TimedUIJobStarters;t=a},function(){throw c("err")("MAWTimedJob is not requireable in MAWRestoreProtobufsFromEncryptedBackupsNOP")});s=c("nullthrows")(t,"ifRequireable is not sync")}if(m!=null&&o!=null&&(j||(j=d("LSIntEnum"))).unwrapIntEnum(o)===c("LSMEBTaskCreationSource").MESSENGER_MESSAGE_LIST_PAGINATION&&!(h||(h=c("ExecutionEnvironment"))).isInWorker)return s.waitUntilCompleted(d("MAWJobDefinitions").jobSerializers.restoreProtobufsFromEncryptedBackups(e,a,b,f,g,k,l,void 0,m!=null?m:void 0,n!=null?n:void 0,void 0,{priority:q},o,p,void 0,r!=null?r:void 0));return(j||(j=d("LSIntEnum"))).unwrapIntEnum(o||(i||(i=d("I64"))).zero)===c("LSMEBTaskCreationSource").MEDIA_GALLERY_RESTORE&&!(h||(h=c("ExecutionEnvironment"))).isInWorker?s.waitUntilCompleted(d("MAWJobDefinitions").jobSerializers.restoreProtobufsFromEncryptedBackups(e,a,b,f,g,k,l,void 0,m!=null?m:void 0,n!=null?n:void 0,void 0,{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION},o,p,void 0,r!=null?r:void 0)):Promise.resolve(s.fireAndForget(d("MAWJobDefinitions").jobSerializers.restoreProtobufsFromEncryptedBackups(e,a,b,f,g,k,l,void 0,m!=null?m:void 0,n!=null?n:void 0,void 0,{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION},o,p,void 0,r!=null?r:void 0)))}g.call=a}),98);/*FB_PKG_DELIM*/
__d("CometFeedMessageTextWithEntities_textWithEntities.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFeedMessageTextWithEntities_textWithEntities",selections:[{args:null,kind:"FragmentSpread",name:"CometTextWithEntitiesRelay_textWithEntities"}],type:"TextWithEntities",abstractKey:null};e.exports=a}),null);
__d("GroupsCometGroupRuleRenderer_entity.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{mask:!1},name:"GroupsCometGroupRuleRenderer_entity",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:[{kind:"Literal",name:"site",value:"comet"}],kind:"ScalarField",name:"url",storageKey:'url(site:"comet")'}],type:"Entity",abstractKey:"__isEntity"};e.exports=a}),null);
__d("GroupsCometGroupRuleRenderer",["CometLink.react","GroupsCometGroupRuleLink.react","GroupsCometGroupRuleRenderer_entity.graphql","react","react-compiler-runtime","useRenderLinkedEntity"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");h!==void 0?h:h=b("GroupsCometGroupRuleRenderer_entity.graphql");function k(a){var b=d("react-compiler-runtime").c(8),e=a.entity,f=a.entityIsWeakReference;a=a.node;f=d("useRenderLinkedEntity").useRenderWeakReferenceEntity(f);var g=f==null?void 0:f.colorProp;f=f==null?void 0:f.icon;if(e.id!=null){var h;b[0]!==e.id||b[1]!==a?(h=j.jsx(c("GroupsCometGroupRuleLink.react"),{groupRuleID:e.id,children:a}),b[0]=e.id,b[1]=a,b[2]=h):h=b[2];return h}h=f!=null?f:null;b[3]!==g||b[4]!==e.url||b[5]!==a||b[6]!==h?(f=j.jsxs(c("CometLink.react"),babelHelpers["extends"]({href:e.url},g,{children:[h,a]})),b[3]=g,b[4]=e.url,b[5]=a,b[6]=h,b[7]=f):f=b[7];return f}a=function(a,b,c,d,e){return j.jsx(k,{entity:b,entityIsWeakReference:e!=null?e:null,node:a})};g["default"]=a}),98);
__d("CometFeedStoryFormattedBackgroundTextContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||(h=d("react"));var i=h.useContext,j=b.createContext(Object.freeze({}));function a(){return i(j)}g.CometFeedStoryFormattedBackgroundTextContext=j;g.useCometFeedStoryFormattedBackgroundTextContextContext=a}),98);
__d("FDSAppWhatsappFilled12Icon",["cr:14375"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:14375")}),98);
__d("FDSAppWhatsappOutline20Icon",["cr:14112"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:14112")}),98);
__d("FDSAppWhatsappOutline24Icon",["cr:14377"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:14377")}),98);
__d("PageWhatsAppNumberCometRenderer_entity.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{mask:!1},name:"PageWhatsAppNumberCometRenderer_entity",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"deep_link_number",storageKey:null}],type:"PageWhatsAppNumber",abstractKey:null}],type:"Entity",abstractKey:"__isEntity"};e.exports=a}),null);
__d("PagesCometPageContext.react",["Actor","CometRouteParams","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useMemo;var j=i.createContext({isAdminView:!1,isAdminViewAsPublic_DO_NOT_USE:!1,pageID:void 0});function a(a){var b=d("react-compiler-runtime").c(7),c=a.children;a=a.pageID;var e=d("Actor").useActor();e=e[0];var f=d("CometRouteParams").useRouteParams();f=f.view_public_for;e=e===a;f=f===a;var g;b[0]!==e||b[1]!==f||b[2]!==a?(g={isAdminView:e,isAdminViewAsPublic_DO_NOT_USE:f,pageID:a},b[0]=e,b[1]=f,b[2]=a,b[3]=g):g=b[3];e=g;f=e;b[4]!==c||b[5]!==f?(a=i.jsx(j.Provider,{value:f,children:c}),b[4]=c,b[5]=f,b[6]=a):a=b[6];return a}g.PagesCometPageContext=j;g.PagesCometPageContextProvider=a}),98);
__d("PageWhatsAppNumberCometRenderer",["CometFeedStoryContext","CometFeedStoryFormattedBackgroundTextContext.react","CometLink.react","ConstUriUtils","FDSAppWhatsappFilled12Icon","FDSAppWhatsappOutline20Icon","FDSAppWhatsappOutline24Icon","FDSIcon.react","FDSTextContext","PageWhatsAppNumberCometRenderer_entity.graphql","PagesCometPageContext.react","react","react-compiler-runtime","requireDeferred","useRenderLinkedEntity"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));a=i;var k=a.useContext,l=a.useEffect,m=c("requireDeferred")("WhatsappDeeplinkClickedFalcoEvent").__setRef("PageWhatsAppNumberCometRenderer"),n=c("requireDeferred")("WhatsappDeeplinkRenderedFalcoEvent").__setRef("PageWhatsAppNumberCometRenderer");h!==void 0?h:h=b("PageWhatsAppNumberCometRenderer_entity.graphql");var o={icon:{marginBottom:"xu06os2",$$css:!0}},p={icon:{marginBottom:"xahult9",$$css:!0}};function q(a){var b=d("react-compiler-runtime").c(27),e=a.entity,f=a.entityIsWeakReference;a=a.node;f=d("useRenderLinkedEntity").useRenderWeakReferenceEntity(f);f=f==null?void 0:f.colorProp;var g=d("FDSTextContext").useFDSTextContext(),h=d("CometFeedStoryContext").useCometFeedStoryContext(),i=g==null;g=(g==null?void 0:g.type)==="body1";var q=d("CometFeedStoryFormattedBackgroundTextContext.react").useCometFeedStoryFormattedBackgroundTextContextContext();h=(h=h==null?void 0:h.whatsapp_action_link)!=null?h:"";var t=d("ConstUriUtils").getUri(h),u=k(d("PagesCometPageContext.react").PagesCometPageContext).pageID,v,w;b[0]!==e.deep_link_number||b[1]!==u?(v=function(){n.onReady(function(a){a.log(function(){return{page_id:u,whatsapp_number:e.deep_link_number}})})},w=[e.deep_link_number,u],b[0]=e.deep_link_number,b[1]=u,b[2]=v,b[3]=w):(v=b[2],w=b[3]);l(v,w);b[4]!==e.deep_link_number||b[5]!==u?(v=function(){m.onReady(function(a){a.log(function(){return{page_id:u,whatsapp_number:e.deep_link_number}})})},b[4]=e.deep_link_number,b[5]=u,b[6]=v):v=b[6];w=v;if(h.length===0){b[7]!==a?(v=j.jsxs("span",{children:[" ",a," "]}),b[7]=a,b[8]=v):v=b[8];return v}h="ltr";v=q==null?void 0:q.textColor;b[9]!==v?(q=s(v),b[9]=v,b[10]=q):q=b[10];b[11]!==i||b[12]!==g?(v=r(i,g),b[11]=i,b[12]=g,b[13]=v):v=b[13];g=g||i?o.icon:p.icon;b[14]!==q||b[15]!==v||b[16]!==g?(i=j.jsx(c("FDSIcon.react"),{color:q,icon:v,xstyle:g}),b[14]=q,b[15]=v,b[16]=g,b[17]=i):i=b[17];q=c("CometLink.react");v=t==null?void 0:t.toString();b[18]!==q||b[19]!==f||b[20]!==a||b[21]!==w||b[22]!==v?(g=j.jsx(q,babelHelpers["extends"]({href:v},f,{onClick:w,children:a})),b[18]=q,b[19]=f,b[20]=a,b[21]=w,b[22]=v,b[23]=g):g=b[23];b[24]!==g||b[25]!==i?(t=j.jsxs("span",{dir:h,children:[i,g]}),b[24]=g,b[25]=i,b[26]=t):t=b[26];return t}var r=function(a,b){return a?c("FDSAppWhatsappOutline24Icon"):b?c("FDSAppWhatsappOutline20Icon"):c("FDSAppWhatsappFilled12Icon")},s=function(a){switch(a){case"rgba(255,255,255,1)":return"white";case"rgba(0,0,0,1)":return"black";default:return"blueLink"}};e=function(a,b,c,d,e){return j.jsx(q,{entity:b,entityIsWeakReference:e!=null?e:null,node:a})};g["default"]=e}),98);
__d("SearchCometBlueHashtagExperiment",[],(function(a,b,c,d,e,f){"use strict";function g(a){switch(a){case"semibold_blue":return{color_DEPRECATED:"blueLink",weight_DEPRECATED:"semibold"};case"blue":return{color_DEPRECATED:"blueLink",weight_DEPRECATED:"normal"}}return null}function a(){return g("blue")}function b(){return g("blue")}c={entityMentionStyle:a(),hashtagStyle:b()};f["default"]=c}),66);
__d("CometFeedStoryMessageBodyRenderers",["CometBoldedEntityRenderer","CometFeedSeeMoreAnchorEntityRenderer","CometHovercardEntityRenderer","CometKGTickerNodeEntityRenderer","CometShortenedExternalUrlEntityRenderer","CometTextDelightCampaignEntityRenderer","CometTrackingNodeRenderer","GroupsCometGroupRuleRenderer","PageWhatsAppNumberCometRenderer","SearchCometBlueHashtagExperiment","cr:1077","cr:13723","cr:4641","cr:4814","cr:5863","cr:6625","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=c("gkx")("20836");f={Event:[d=c("CometHovercardEntityRenderer"),e=c("CometBoldedEntityRenderer")],Group:[d,e],GroupRule:[c("GroupsCometGroupRuleRenderer")],Page:[d,e],User:[d,e]};e={Event:[d],Group:[d],GroupRule:[c("GroupsCometGroupRuleRenderer")],Page:[d],PageWhatsAppNumber:[c("PageWhatsAppNumberCometRenderer")],User:[d]};d=a?f:c("SearchCometBlueHashtagExperiment").entityMentionStyle!=null&&c("SearchCometBlueHashtagExperiment").entityMentionStyle.weight_DEPRECATED==="normal"?e:f;e=a?void 0:{KGTickerNode:[c("CometKGTickerNodeEntityRenderer")]};f=babelHelpers["extends"]({},d,e,{"*":[b("cr:13723"),c("CometTrackingNodeRenderer")],ExternalUrl:[c("CometShortenedExternalUrlEntityRenderer"),b("cr:1077")].filter(Boolean),Photo:[b("cr:4814")].filter(Boolean),SeeMoreTruncation:[c("CometFeedSeeMoreAnchorEntityRenderer")],TextDelightCampaign:[c("CometTextDelightCampaignEntityRenderer")],Video:[b("cr:5863")].filter(Boolean),XFBProdQuartzVizirSnapshot:[b("cr:4641")].filter(Boolean),XFBWorkCustomEmoji:[b("cr:6625")].filter(Boolean)});g["default"]=f}),98);
__d("CometFeedStoryMessageBodyTransforms",["CometEmojiTransform","CometEmoticonTransform","CometLineBreakTransform"],(function(a,b,c,d,e,f,g){"use strict";a=[c("CometEmoticonTransform")(),c("CometEmojiTransform")(),c("CometLineBreakTransform")];g["default"]=a}),98);
__d("FeedStoryMessageExpandedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("433");b=d("FalcoLoggerInternal").create("feed_story_message_expanded",a);e=b;g["default"]=e}),98);
__d("useCometFeedInlineExpandNavigationEventLogger",["CometTrackingNodesContext","encodeTrackingNode","react","react-compiler-runtime","useCometFeedNoRoutingNavigationEventLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){var a=d("react-compiler-runtime").c(3),b=i(c("CometTrackingNodesContext")),e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=c("encodeTrackingNode")(44),a[0]=e):e=a[0];a[1]!==b?(e=[e].concat(b),a[1]=b,a[2]=e):e=a[2];b=e;return c("useCometFeedNoRoutingNavigationEventLogger")(b)}g["default"]=a}),98);
__d("CometFeedStandardAttachedStoryLevelContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(0);g["default"]=b}),98);
__d("useCometFeedStandardAttachedStoryNestingLevel",["CometFeedStandardAttachedStoryLevelContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){return i(c("CometFeedStandardAttachedStoryLevelContext"))}g["default"]=a}),98);
__d("useCometFeedMaximumMessageLength",["useCometFeedStandardAttachedStoryNestingLevel"],(function(a,b,c,d,e,f,g){"use strict";var h=800,i=267;function a(){var a=c("useCometFeedStandardAttachedStoryNestingLevel")()>0;return a?i:h}g["default"]=a}),98);
__d("useCometSeeMoreKeyCommand",["cometGetKeyCommandConfig","react","react-compiler-runtime","useKeyCommands"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useMemo;function a(a,b){var e=d("react-compiler-runtime").c(5);bb0:{if(!a){e[0]!==b?(a=d("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("newsfeed","seeMore",b),e[0]=b,e[1]=a):a=e[1];e[2]!==a?(b=[a],e[2]=a,e[3]=b):b=e[3];a=b;break bb0}e[4]===Symbol["for"]("react.memo_cache_sentinel")?(b=[],e[4]=b):b=e[4];a=b}e=a;c("useKeyCommands")(e,!0)}g["default"]=a}),98);
__d("CometFeedMessageTextWithEntities.react",["CometFeedMessageTextWithEntities_textWithEntities.graphql","CometFeedStoryMessageBodyRenderers","CometFeedStoryMessageBodyTransforms","CometFeedUnitQueryVariablesContext","CometHighlightTransform","CometRelay","CometSearchMatchedTermsContext","CometTextWithEntitiesRelay.react","CometTrackingCodeContext","DateConsts","FeedStoryMessageExpandedFalcoEvent","gkx","react","react-strict-dom","useCometFeedInlineExpandNavigationEventLogger","useCometFeedMaximumMessageLength","useCometSeeMoreKeyCommand","useMergeRefs","useResizeObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;var k=e.useCallback,l=e.useContext,m=e.useEffect,n=e.useRef,o=e.useState,p=.229,q=20,r=0;function a(a){var e=a.maxLines,f=a.showAttachments,g=a.suffix,i=a.textWithEntities,s=a.truncationStyle;a=a.withoutLineBreaks;a=a===void 0?!1:a;var t=l(c("CometSearchMatchedTermsContext"));i=d("CometRelay").useFragment(h!==void 0?h:h=b("CometFeedMessageTextWithEntities_textWithEntities.graphql"),i);t=t!=null&&t.matches.length>0?[].concat(c("CometFeedStoryMessageBodyTransforms"),[c("CometHighlightTransform")({matches:t.matches})]):c("CometFeedStoryMessageBodyTransforms");var u=l(c("CometFeedUnitQueryVariablesContext")),v=c("useCometFeedMaximumMessageLength")(),w=o(150),x=w[0],y=w[1],z=n(null);w=(u==null?void 0:u.feedLocation)==="SERVICES_LOCAL_BUSINESS_DISCOVERY";u=s==="see-more"?q:r;u=e!=null?e*x-u:v;var A=c("useCometFeedInlineExpandNavigationEventLogger")();v=o(!1);var B=v[0],C=v[1],D=l(c("CometTrackingCodeContext"));v=k(function(){C(function(a){f&&f(!a);return!a}),B||(A(Date.now()/d("DateConsts").MS_PER_SEC,null,"inline_expand"),c("gkx")("8794")&&c("FeedStoryMessageExpandedFalcoEvent").log(function(){return{tracking:D.encrypted_tracking[0].toString()}}))},[B,A,f,D.encrypted_tracking]);c("useCometSeeMoreKeyCommand")(B,v);var E=c("gkx")("15025");m(function(){if(E&&z.current){var a;a=(a=(a=z.current)==null?void 0:a.clientWidth)!=null?a:656;y(Math.floor(a*p))}},[E]);var F=k(function(a,b){if(E){b=(a=b.clientWidth)!=null?a:656;y(Math.floor(b*p))}},[E]);F=c("useResizeObserver")(F);F=c("useMergeRefs")(z,F);return j.jsx(d("react-strict-dom").html.div,{ref:F,children:j.jsx(c("CometTextWithEntitiesRelay.react"),{expanded:B,maxLength:w?x:u,maxLines:e!=null?e:5,onToggleExpanded:v,preserveWhiteSpace:!0,renderers:c("CometFeedStoryMessageBodyRenderers"),suffix:g,textWithEntities:i,transforms:t,truncationStyle:s,withLineBreaks:!a,withParagraphs:!w})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometFeedStoryTranslatedContentQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9887288158060444"}),null);
__d("TrackingNodeTypes",[],(function(a,b,c,d,e,f){a=Object.freeze({HEADLINE:1,USER_NAME:2,ACTOR_PHOTO:3,ACTION_LINKS:4,LIKE_LINK:5,UNLIKE_LINK:6,PARTICIPANT:7,PRONOUN:8,ROBOTEXT:9,TITLE:10,MEDIA_GENERIC:11,PHOTO:12,VIDEO:13,MUSIC:14,ATTACHMENT:15,NAME_LIST:16,SHARE_LINK:17,USER_MESSAGE:18,SUBTITLE:19,DESCRIPTION:20,SOURCE:21,BLINGBOX:22,OTHER:23,VIEW_ALL_COMMENTS:24,COMMENT:25,COMMENT_LINK:26,SMALL_ACTOR_PHOTO:27,SUBSTORY:28,XBUTTON:29,HIDE_LINK:30,REPORT_SPAM_LINK:31,HIDE_ALL_LINK:32,BAD_AGGREGATION_LINK:33,ADD_COMMENT_BOX:34,APP_CALL_TO_ACTION:35,UFI:36,OG_LEFT_SLIDE_PAGER:37,OG_RIGHT_SLIDE_PAGER:38,EXP_CALL_TO_ACTION:39,LARGE_MEDIA_ATTACHMENT:40,FAN_PAGE:42,UNFAN_PAGE:43,SEE_MORE:44,COLLECTION_ROBOTEXT_LINK:45,COLLECTION_ACTION_LINK:46,COLLECTION_TICKER_LINK:47,SPONSORED_LINK:49,PAGE_LINK:50,SOCIAL_CONTEXT:51,SOCIAL_ACTOR_PHOTO:52,OFFERS_CLAIM:53,OFFERS_CLICK:54,DROPDOWN_BUTTON:55,EVENT_VIEW:56,EVENT_RSVP:57,ADS_SHIMMED_LINK:58,COLLECTION_ADD_BUTTON:59,EVENT_INVITE_FRIENDS:60,RHC_AD:61,AD_CREATIVE_TITLE:62,AD_CREATIVE_BODY:63,AD_CREATIVE_IMAGE:64,AD_SOCIAL_SENTENCE:65,APP_NAME:66,GROUP_JOIN:67,PAGE_COVER_PHOTO:68,PAGE_PROFILE_PIC:69,AD_IDENTITY:70,UNHIDE_LINK:71,TRENDING_TOPIC_LINK:72,RELATED_SHARE_ARTICLE:73,OFFERS_USE_NOW:74,RELATED_SHARE_VIDEO:75,RHC_CARD:76,RHC_CARD_HIDE:77,RHC_SIMPLIFICATION:78,RHC_SIMPLIFICATION_HIDE:79,TOPIC_PIVOT_HEADER:80,ADD_FRIEND_BUTTON:81,SNOWLIFT:82,SNOWLIFT_MESSAGE:83,OFFERS_RESEND:84,RHC_LINK_OPEN:85,GENERIC_CALL_TO_ACTION_BUTTON:86,AD_LOGOUT:87,RHC_PHOTO_SLIDER:88,RHC_COMMENT_BUTTON:89,HASHTAG:90,NOTE:91,RELATED_SHARE_ARTICLE_HIDE:92,RELATED_SHARE_VIDEO_HIDE:93,NEKO_PREVIEW:94,OG_COMPOSER_OBJECT:95,INSTALL_ACTION:96,SPONSORED_CONTEXT:97,DIGITAL_GOOD:98,STORY_FOOTER:99,STORY_LOCATION:100,ADD_PHOTO_ACTION:101,ACTION_ICON:102,EGO_FEED_UNIT:103,PLACE_STAR_SURVEY:104,REVIEW_MENU:105,SAVE_ACTION:106,PHOTO_GALLERY:107,SUB_ATTACHMENT:108,FEEDBACK_SECTION:109,ALBUM:110,ALBUM_COLLAGE:111,AVATAR_LIST:112,STORY_LIST:113,MEDIA_CONTROLS:114,ZERO_UPSELL_BUY:115,ZERO_UPSELL_FEED_UNIT:116,RATING:117,PERMALINK_COMMENT:118,LIKE_COUNT:119,RETRY_BUTTON:120,TIMELINE_GIFTS:121,NEARBY_FRIENDS_LIST:122,PRESENCE_UNIT:123,EVENT_INVITE_SENT:124,ATTACHMENT_TITLE:125,HSCROLL_PAGER:126,STORY_MESSAGE:127,STATUS_LINK:128,ADD_MEDIA_LINK:129,ADD_QUESTION_LINK:130,START_Q_AND_A_LINK:131,FEED_STORY_MESSAGE_FLYOUT:132,START_CONVERSATION_LINK:133,ATTACH_LIFE_EVENT_LINK:134,ATTACH_PLACE_LINK:135,COVER_PHOTO_EDIT_LINK:136,SHOW_LIKES:137,ROTATE_LEFT_BUTTON:138,ROTATE_RIGHT_BUTTON:139,TAG_LINK:140,CLOSE_BUTTON:141,PAGER_NEXT:142,PAGER_PREVIOUS:143,FULLSCREEN_BUTTON:144,ACTIONS:145,CURATION_MENU:146,PROFILE_PIC_EDIT_LINK:147,VIEW_ALL_SHARES:148,THUMBNAIL_LINK:149,EDIT_HISTORY:150,ADD_TO_THREAD:151,SIDEBAR:152,HOME_SIDENAV:153,BUDDYLIST_NUB:154,TITLEBAR:155,SEND_BUTTON:156,CONVERSATION:157,CHAT_FLYOUT:158,INPUT:159,EMOTICONS:160,VIDEOCHAT:161,TYPEAHEAD:162,OPTIONS_MENU:163,BOOST_POST_BUTTON:164,TOGGLE_BUTTON:165,CHAT_SIDEBAR_FOOTER:166,GRIPPER:167,BOOKMARK_ITEM:168,BOOKMARKS_SECTION:169,BOOKMARKS_NAV:170,RHC:171,RHC_HEADER:172,SIDE_ADS:173,BUDDY_LIST:174,SHOW_ADS_FEED:184,VIDEO_IN_PLAY_CALL_TO_ACTION_BUTTON:185,VIDEO_ENDSCREEN_CALL_TO_ACTION_BUTTON:186,INLINE_PHOTO_PIVOTS_HIDE:187,VIDEO_CALL_TO_ACTION_ENDSCREEN_REPLAY:188,APP_ATTACHMENT:189,ACTIVITY_LINK:190,SAVE_BUTTON:191,SEE_MORE_PHOTO_PAGE_POST_BUTTON:192,BUY_VIRTUAL_GOOD:193,SAVE_SECONDARY_MENU:194,MPP_INSIGHTS:195,GROUP_CANCEL:197,GROUP_LEAVE:198,MESSAGE_LINK:199,VIDEO_SPONSORSHIP_LABEL:200,MULTI_ATTACHMENT_PAGER_NEXT:201,MULTI_ATTACHMENT_PAGER_PREV:202,WEB_CLICK:203,COMPOSER_POST:204,MULTI_ATTACHMENT_VIDEO:205,VIDEO_CALL_TO_ACTION_PAUSESCREEN_RESUME:206,VOICECHAT:207,PAGE_INVITE_FRIEND:208,SEE_MORE_REDIRECT:209,VIDEO_CALL_TO_ACTION_ATTACHMENT:210,PAGE_POST_SEE_FIRST:211,PAGE_POST_DEFAULT:212,TOPIC_FEED_CUSTOMIZATION_UNIT_SUBMIT:213,TOPIC_FEED_CUSTOMIZATION_UNIT_OPTION:214,LEAD_GEN_OPEN_POPOVER:215,LEAD_GEN_SUBMIT_CLICK:216,LEAD_GEN_PRIVACY_CLICK:217,LEAD_GEN_OFFSITE_CLICK:218,EVENT_YOU_MAY_LIKE_HSCROLL:219,LEAD_GEN_CONTEXT_CARD_CLOSE:220,LEAD_GEN_CONTEXT_CARD_CTA_CLICK:221,FEED_STORY_PLACE_ATTACHMENT:222,PAGE_CALL_TO_ACTION_UNIT:224,TRANSLATION:225,FEED_STORY_ATTACHMENT_MISINFO_WARNING:226,RELATED_LOCAL_NEWS_ATTACHMENT_LINK:227,RELATED_LOCAL_NEWS_ATTACHMENT_SHARE:228,STORY_TIMESTAMP:229,STORY_HEADER:230,SPONSORED_STORY:231,EVENT_CTA_BUTTON:232,RELATED_PAGE_POSTS_ATTACHMENT_CLICK:233,RELATED_PAGE_POSTS_ATTACHMENT_SHARE:234,RELATED_PAGE_POSTS_ATTACHMENT_XOUT:235,RELATED_PAGE_POSTS_UNIT_XOUT:236,CAROUSEL_CARD_STORY:237,OFFERS_DETAILS_POPOVER:238,SPOTLIGHT:239,INSTREAM_CALL_TO_ACTION_BUTTON:240,INSTREAM_CALL_TO_ACTION_ATTACHMENT:241,SEARCH_AD_ATTACHMENT_CLICK:242,SEARCH_AD_CTA_CLICK:243,SEARCH_AD_OFFSITE_CLICK:244,MULTI_SHARE_GRID_EXPERIMENT_CARD_1:245,MULTI_SHARE_GRID_EXPERIMENT_CARD_2:246,MULTI_SHARE_GRID_EXPERIMENT_CARD_3:247,MULTI_SHARE_GRID_EXPERIMENT_CARD_4:248,MULTI_SHARE_GRID_EXPERIMENT_SEE_MORE:249,HOVERCARD:250,INSTANT_GAME_PLAYER:251,POLITICAL_AD_STORY_HEADER_CLICK:252,PHOTO_VOICE:253,PHOTO_TAG:254,ANDROID_PLAYSTORE_WATCH_AND_INSTALL_BUTTON:255,VIDEO_POLLING_IN_CREATIVE_CTA_BUTTON:256,VIDEO_SETTINGS:257,PLAYABLE_CALL_TO_ACTION_BUTTON:258,ATTACHMENT_FOOTER:259,LEAD_GEN_THANK_YOU_PAGE:260,SHOW_MENTIONS_PLUGIN:261,AD_BREAK_FULL_VIDEO_INDICATOR:262,INSTREAM_AD_IMAGE:263,INSTREAM_AD_CONTEXT:264,ATTACHMENT_FOOTER_DISCLAIMER:265,INSTREAM_LONGER_AD_CLICK_WATCH_AND_MORE:266,INSTREAM_POST_ROLL_LONGER_AD_ENDING_SCREEN:267,ACTIVATE_OFFER_CTA_BUTTON:268,INSTREAM_COLLECTION_AD_FOOTER_TITLE:269,INSTREAM_COLLECTION_AD_CONTEXT_FOOTER_SUBIMAGE:270,INSTREAM_COLLECTION_AD_DEFERRED_FOOTER_SUBIMAGE:271,WATCH_AND_MORE:272,INSTREAM_CONTEXT_CARD_IMAGE:273,INSTREAM_CONTEXT_CARD_HEADLINE:274,INSTREAM_CONTEXT_CARD_DISPLAY_LINK:275,INSTREAM_CONTEXT_CARD_STORY_MESSAGE:276,INSTREAM_CONTEXT_CARD_MAI_RATING:277,INSTREAM_DEFERRED_CTA_IMAGE:278,INSTREAM_DEFERRED_CTA_HEADLINE:279,INSTREAM_DEFERRED_CTA_DISPLAY_LINK:280,INSTREAM_DEFERRED_CTA_STORY_MESSAGE:281,BIZ_DISCO_PERSISTENT_CTA:282,STORY:301,PERMALINK_STORY:302,ARTICLE_CONTEXT_TRIGGER:303,LINK:304,ATTACHMENT_FOLLOW:305,SNOWFLAKE_STORY:306,SNOWFLAKE_PHOTO:307,BIRTHDAY_REMINDER:308,FRIEND_REQUEST:309,PYMK_JEWEL:310,BROWSE_RESULT:311,PROFILE_LINK:312,USER_PROFILE_PIC:313,GROUP_MEMBER:314,GROUP_SUGGESTION:315,REACTION_BROWSER:316,GROUP_MEMBER_SUGGESTION:317,PROFILE_NAV_ITEM:318,NOTIFICATION_JEWEL:319,NOTIFICATION_ITEM:320,SNACKS:321,PROFILE_TILE:322,FRIEND_PROFILE_TILE:323,INTRO_PROFILE_TILE:324,SUGGEST_FRIENDS_DIALOG:325,APP_COLLECTION:326,ALL_FRIENDS_COLLECTION:327,MUTUAL_FRIENDS_COLLECTION:328,OUTGOING_FRIEND_REQUESTS:329,INSTANT_ARTICLE_RECIRCULATION_STORY:330,FRIEND_CENTER_PYMK:331,PARTICIPANTS_DIALOG:332,FEED_COMPOSER:333,CONFIRM_FRIEND_REQUEST:334,GENERIC_PROFILE_BROWSER:335,INSTANT_ARTICLE_NATIVE_STORY:336,INSTANT_EXPERIENCE_DOCUMENT:337,LIVE_VIDEO_CONTEXT:338,COMMENT_ACTION:339,ATTACHED_STORY:340,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_1:341,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_2:342,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_3:343,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_4:344,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_5:345,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_6:346,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_7:347,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_8:348,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_9:349,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_10:350,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_11:351,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_12:352,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_13:353,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_14:354,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_15:355,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_16:356,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_17:357,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_18:358,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_19:359,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_20:360,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_21:361,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_22:362,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_23:363,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_24:364,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_25:365,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_26:366,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_27:367,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_28:368,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_29:369,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_30:370,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_31:371,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_32:372,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_33:373,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_34:374,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_35:375,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_36:376,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_37:377,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_38:378,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_39:379,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_40:380,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_41:381,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_42:382,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_43:383,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_44:384,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_45:385,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_46:386,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_47:387,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_48:388,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_49:389,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_50:390,AGGREGATED_STORY:391,THREADED_POSITION:392,AR_ADS_OPEN_CAMERA:393,AR_ADS_TAP_TO_CAMERA:394,AR_ADS_CTA_SWIPE:395,WORK_GALAHAD_NAV_ITEM:400,WORK_GALAHAD_TAB_HOME:401,WORK_GALAHAD_TAB_NOTIFICATIONS:402,WORK_GALAHAD_TAB_CHATS:403,WORK_GALAHAD_TAB_PROFILE:404,WORK_GALAHAD_LIST_SHORTCUTS:405,WORK_GALAHAD_LIST_GROUPS:406,WORK_GALAHAD_LIST_PEOPLE:407,WORK_GALAHAD_TAB_ADMIN_PANEL:408,WORK_GALAHAD_TAB_RESELLER_CONSOLE:409,HSCROLL_LEFT_ARROW:410,HSCROLL_RIGHT_ARROW:411,GET_SHOWTIMES_CALL_TO_ACTION:412,INTERESTED_CALL_TO_ACTION:413,OTHER_CALL_TO_ACTION:414,WORK_GALAHAD_TAB_DIRECT:415,WORK_GALAHAD_LIST_BOTS:416,INTERACTIVE_POLL_OPTION:417,INTERACTIVE_POLL_BACKGROUND_CARD:418,HSCROLL_PREVIOUS_BUTTON:419,HSCROLL_NEXT_BUTTON:420,WORK_GALAHAD_TAB_MEETING:421,WORK_GALAHAD_LIST_SEE_FIRST_GROUPS:422,AR_ADS_CTA:423,PBIA_PROFILE:424,PRODUCT_TAG:425,WAM_ENTRY_POINT:426,WORK_GALAHAD_TAB_CALL:427,WORK_GALAHAD_TAB_FILES:428,VIEW_PRODUCTS:429,USER_TAG:430,VIDEO_VIEWER_LIST:431,PRODUCT_DETAIL_PAGE:432,SHOPPING_SHEET_BUTTON:433,WORK_TEAMWORK_TAB_SEARCH:434,WORK_TEAMWORK_TAB_EXPLORE:435,WORK_GALAHAD_TAB_TOOLS:436,WORK_GALAHAD_TAB_VC:437,INSTAGRAM_EXPLORE:438,REMINDER_AD_CTA_BUTTON:439,CTC_POST_CLICK_CTA:440,KNOWLEDGE_NOTE:441,CTA_MARGIN_AREA:442,WORKPLATFORM_TAB:443,FB_SHOPS_PRODUCT:444,FB_SHOPS_FOOTER:445,WORK_GARDEN_TAB_HOME:446,KNOWLEDGE_COLLECTION:447,COMMUNITY_VIEW_INLINE:448,MORE_VIDEOS_ON_WATCH:449,VIDEO_AD_VIEWER:450,BUSINESS_CONTACT_THIRD_PARTY:451,BUSINESS_CONTACT_PHONE:452,BUSINESS_CONTACT_MESSAGE:453,BUSINESS_CONTACT_WEBSITE:454,BUSINESS_CONTACT_WHATSAPP:455,MEDIA_TO_DESTINATION:456,BUSINESS_IMAGE:460,FACEBOOK_REELS_LIKE_BS_FLOATING_CTA:461,FACEBOOK_REELS_COMMENT_BS_FLOATING_CTA:462,FACEBOOK_REELS_PROFILE_FLOATING_CTA:463,FACEBOOK_GENERIC_FLOATING_CTA:464,FACEBOOK_GENERIC_FLOATING_CTA_COMMENT:527,FACEBOOK_GENERIC_FLOATING_CTA_PERMALINK:535,FACEBOOK_GENERIC_FLOATING_CTA_GROUP:550,WORK_GALAHAD_TAB_WATCH:465,IG_STORY_SHOWCASE_ADS_CLICK:466,FACEBOOK_REELS_POST_LOOP_CONTEXT_CARD_CLICK:467,FACEBOOK_REELS_POST_LOOP_DEFERRED_CARD_CLICK:468,COLLECTION_PRODUCT_TILE:469,WORKPLACE_EMBED_HEADER:470,WORKPLACE_EMBED_UFI:471,WORKPLACE_EMBED_COMMENT_CTA:472,INLINE_COMMENT:473,STICKER_ADS_CTA_BUTTON:474,STICKER_ADS_TOOLTIP:475,STICKER_ADS_PROFILE_NAME:476,FB_NOTE:477,WORKPLACE_KNOWLEDGE_LIBRARY:478,SHOP_TILE:479,WORK_GALAHAD_TAB_SHIFTS:480,FACEBOOK_REELS:482,FACEBOOK_REELS_BANNER_ADS_CLICK:483,WORKSTREAM:484,EXPLORE_GRID_ADS_CTA_BUTTON:485,EXPLORE_GRID_ADS_PROFILE_NAME:486,FACEBOOK_REELS_BANNER_ADS_CLICK_PROFILE:487,COMMERCE_BUY_SELL_GROUPS_STORY_ATTACHMENT:488,COMMERCE_BUY_SELL_GROUPS_STORY_ATTACHMENT_MESSAGE_CTA:489,COMMERCE_BUY_SELL_GROUPS_GROUP_MALL_SELL_PILL:490,COMMERCE_MARKETPLACE_SELLING_CREATE_LISTING:491,COMMERCE_MARKETPLACE_CREATE_LISTING_DROPDOWN:492,COMMERCE_MARKETPLACE_YOUR_COMMERCE_PROFILE:493,COMMERCE_MARKETPLACE_FEED_CARD:494,COMMERCE_BUY_SELL_GROUPS_GROUP_MALL_COMPOSER:496,COMMERCE_MARKETPLACE_EDIT_LISTING_DROPDOWN:497,COMMERCE_MARKETPLACE_YOUR_LISTING_EDIT_BUTTON:498,COMMERCE_MARKETPLACE_DELETE_LISTING_DROPDOWN:499,COMMERCE_BUY_SELL_GROUPS_YOUR_ITEMS_TAB:501,COMMERCE_BUY_SELL_GROUPS_YOUR_ITEMS_TAB_AVAILABLE_LISTING:502,COMMERCE_MARKETPLACE_YOUR_LISTING_DELETE_BUTTON:503,COMMERCE_MARKETPLACE_SELL_HUB:506,COMMERCE_BUY_SELL_GROUPS_GROUP_MALL_YOUR_LISTINGS_PLINK:507,COMMERCE_MARKETPLACE_YOU_SURFACE_SELLING_SECTION:511,COMMERCE_MARKETPLACE_SELLING_ACTIVITY_MODULE:512,COMMERCE_MARKETPLACE_SURFACE_HIGHLIGHTS_MODULE:513,COMMERCE_YOU_SURFACE_COMMERCE_PROFILE:514,COMMERCE_BUY_SELL_GROUPS_PDP_ACTION_BAR:515,COMMERCE_MARKETPLACE_LIST_IN_MORE_PLACES_CTA:516,COMMERCE_MARKETPLACE_UNIFIED_SEE_POSTS_ACTION_CTA:517,COMMERCE_MARKETPLACE_SELLER_LISTING_NOTICE:518,COMMERCE_MARKETPLACE_BUYER_SELLER_FLYWHEEL:519,COMMERCE_MARKETPLACE_MANAGE_YOUR_LISTINGS_FEED_UNIT:520,COMMERCE_MARKETPLACE_ACTIVE_LISTINGS_FEED_UNIT:521,COMMERCE_MARKETPLACE_BAN_WARNING_BOTTOMSHEET:522,COMMERCE_MARKETPLACE_COMMERCE_PROFILE_FEED_CARD:523,COMMERCE_SHOPS__NAVIGATION_BAR__CART_BUTTON:600,COMMERCE_SHOPS__NAVIGATION_BAR__STOREFRONT_ENTRY:601,FACEBOOK_REELS_ADS_END_SCENE:495,SAVES_LIST_CELL:500,CONTEXTUAL_TRAY:504,CONTEXTUAL_TRAY_CARD:505,WORK_GALAHAD_TAB_CONTENT_MANAGER:508,PLINK:509,KNOWLEDGE_BUNDLE:510,PAPER_DOCUMENT_CASE:524,ADS_PRODUCT_PAGE:525,ADS_TEXT_OVERLAY:526,FACEBOOK_REELS_H_SCROLL:528,CONTEXTUAL_FEED_PROFILE:529,CONTEXTUAL_FEED_SEARCH:530,SEARCH_GRID_ADS_CTA_BUTTON:531,SEARCH_GRID_ADS_PROFILE_NAME:532,WHATSAPP_CTA_BUTTON_IN_IAB:533,TOOLTIP_CTA:534,FACEBOOK_REELS_MULTI_CARD_END_CARD:536,FACEBOOK_REELS_ADS_SWIPE_LEFT:537,AD_EXTENSIONS_CARD:41,COLLECTION_HERO_MEDIA:549,COLLECTION_TILE:538,COLLECTION_HSCROLL_TILE:539,HIDE_AD:540,REPORT_AD:541,WAIST_AD:542,BOTTOM_SHEET:543,SHARE_BROWSER:544,WORK_MEETINGS_TAB_HOME:545,IAB_FOOTER:546,IAB_PRODUCT_TILE:547,ATTRIBUTION_ROW_PILL:548,WORK_GALAHAD_TAB_EVENTS:551,UFI_COPY_LINK:552,WATCH_AND_NAVIGATION:553,WATCH_AND_NAVIGATION_CTA:554,WATCH_AND_NAVIGATION_SE:555,WATCH_AND_NAVIGATION_PE:556,AD_ACTION_CHIP:557,MUTE:558,EXPAND_TO_FULLSCREEN:559,THREE_DOTS:560,COMMENT_TIMESTAMP:561,SPONSORED_LABEL:562,UNDO:563,FACEBOOK_REELS_ADS_TOOLTIP:564,FACEBOOK_REELS_ADS_CAPTION_BROWSE:565,FACEBOOK_REELS_ADS_LONG_PRESS:566,PROFILE_TAB_PRODUCT_TILE:567,FACEBOOK_REELS_ADS_CREATIVE:568,VIDEO_HIGHLIGHTS:569,VIDEO_ENDSCENE_CARD:570,SOCIAL_CONTEXT_SHEET:571,DYNAMIC_LANDING_PAGE:572,DYNAMIC_LANDING_PAGE_CTA:573,DYNAMIC_LANDING_PAGE_SE:574,DYNAMIC_LANDING_PAGE_PE:575,DYNAMIC_LANDING_PAGE_PE_SAVE_FOR_LATER:576,DYNAMIC_LANDING_PAGE_PE_CTA:577,DYNAMIC_LANDING_PAGE_PROFILE_PHOTO:578,DYNAMIC_LANDING_PAGE_PROFILE_NAME:579,DYNAMIC_LANDING_PAGE_SE_CTA:626,BIZ_AI_AGENT_ACTION_CHIP:580,WATCH_AND_NAVIGATION_FOOTER:581,END_SCENE_CTA:582,END_SCENE_TOOLTIP_CTA:583,END_SCENE_PROFILE_PHOTO:584,FACEBOOK_REELS_ADS_POST_SCROLL:585,SKIP_BUTTON:586,PRODUCT_RECOMMENDER_PRODUCT_TILE:587,HALF_SHEET_EXPANSION:588,DESTINATION_AUTOMATION_IX_LANDING_PAGE:589,FEED_PHONE_NUMBER_PERMALINK:590,FINDS_PRODUCT_COMPARE_UNIT:591,PLAY_PAUSE_BUTTON:592,METADATA_BOTTOMSHEET_CTA_BUTTON:593,PROFILE_AND_BROWSE_PROFILE_CLICK:594,FB_REELS_SINGLE_IMAGE_MEDIA_TAP:595,FB_REELS_MID_SCENE_CTA:596,FB_REELS_MULTIADS_MEDIA:597,FB_REELS_ADS_PROFILE_BROWSE:598,COMMENT_KEYWORDS_IN_PRECLICK:599,COMMENT_KEYWORSD_IN_DYNAMIC_LANDING_PAGE:606,FB_FEED_HEADER_ENTITY_BASED_METADATA:602,WATCH_AND_INSTALL_APP_DETAILS_PAGE_CTA:603,FB_REELS_END_SCENE_CTA:604,SEE_LESS:605,NON_CTA_VIDEO_AD:607,MARKETPLACE_ADS_HEADER_MINI_PAGE:608,MARKETPLACE_ADS_HEADER_MINI_PAGE_PAGE_CLICK:609,MARKETPLACE_ADS_HEADER_MINI_PAGE_LINK_CLICK:610,COMMENT_PRODUCT_LINK:611,COMMENT_PRODUCT_LINK_PREVIEW:612,FACEBOOK_REELS_ADS_SCRUBBER_SWIPE_UP:613,FACEBOOK_REELS_ADS_PRODUCT_EXTENSIONS:614,PAGE_LIKE_AD_CTA:615,AD_UGC_FEED_EXTENSION_END_CARD:616,AD_UGC_FEED_EXTENSION_CARD:617,AD_UGC_POST_VIEWER_CTA:618,IG_X_AND_BROWSE:619,IG_X_AND_BROWSE_WITH_SCREENSHOT:620,IG_FEED_DESTINATION_INFO:621,IG_INSTREAM_VIEWER_CTA:622,IG_INSTREAM_RETURN_TO_AD_VIEWER_CTA:623,IG_INSTREAM_RETURN_TO_AD_CTA:624,X_AND_BROWSE_PLACEHOLDER_WEBVIEW:625,GROUP_TOPICS_STORY_TAG:628,PAGE_REVIEWS_KEYWORDS_IN_PRECLICK:629,WATCH_AND_NAVIGATION_BLOKS:630,DYNAMIC_LANDING_PAGE_FULLSCREEN:631,DYNAMIC_LANDING_PAGE_PRIMITIVES_SE:632,IG_STORY_PRODUCT_STICKER:633,FB_REELS_IMAGE_CTA:634});f["default"]=a}),66);
__d("TrackingNodes",["DataAttributeUtils","TrackingNodeConstants","TrackingNodeTypes","decodeTrackingNode","encodeTrackingNode","react"],(function(a,b,c,d,e,f,g){var h;h||c("react");var i={types:c("TrackingNodeTypes"),BASE_CODE_START:d("TrackingNodeConstants").BASE_CODE_START,BASE_CODE_END:d("TrackingNodeConstants").BASE_CODE_END,BASE_CODE_SIZE:d("TrackingNodeConstants").BASE_CODE_SIZE,PREFIX_CODE_START:d("TrackingNodeConstants").PREFIX_CODE_START,PREFIX_CODE_END:d("TrackingNodeConstants").PREFIX_CODE_END,PREFIX_CODE_SIZE:d("TrackingNodeConstants").PREFIX_CODE_SIZE,ENCODE_NUMBER_MAX:d("TrackingNodeConstants").ENCODE_NUMBER_MAX,ENCODED_STRING_WITH_THREE_SYMBOLS_PREFIX_CODE:d("TrackingNodeConstants").ENCODED_STRING_WITH_THREE_SYMBOLS_PREFIX_CODE,ENCODED_STRING_WITH_TWO_SYMBOLS_PREFIX_CODE:d("TrackingNodeConstants").ENCODED_STRING_WITH_TWO_SYMBOLS_PREFIX_CODE,TN_URL_PARAM:d("TrackingNodeConstants").TN_URL_PARAM,encodeTN:c("encodeTrackingNode"),decodeTN:c("decodeTrackingNode"),parseTrackingNodeString:function(a){var b=[];while(a.length>0){var c=i.decodeTN(a);if(c.length==1)return[];b.push(c[1]);a=a.substring(c[0])}return b},getTrackingInfo:function(a,b){return'{"tn":"'+i.encodeTN(a,b).replace("\\","\\\\")+'"}'},addDataAttribute:function(a,b,d){if(b===void 0)return;["data-ft","data-gt"].forEach(function(e){var f;if(a.getAttribute)f=c("DataAttributeUtils").getDataAttribute(a,e)||"{}";else if(a.props)f=a.props[e]||"{}";else return;var g=i.encodeTN(b,d);try{f=JSON.parse(f);if(f.tn&&f.tn===g)return;f.tn=g;if(a.setAttribute)a.setAttribute(e,JSON.stringify(f));else if(a.props)a.props[e]=JSON.stringify(f);else return}catch(a){}})}};f.exports=i}),34);
__d("XAdsEducationControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/ads/about/",Object.freeze({page_number:0}),void 0);b=a;g["default"]=b}),98);
__d("getAggregatedStoryTrackingNodeIndex",["TrackingNodes"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=c("TrackingNodes").parseTrackingNodeString(a.join(""));var b=0;for(var d=0;d<a.length;d++)if(a[d][0]===340&&a[d].length>1){b=a[d][1];return b}return b}g["default"]=a}),98);
__d("useCometClickToMessageActionLink",["CometRelay","emptyFunction","react-compiler-runtime","requireDeferred","useMWChatOpenTabForPage"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MWChatBusinessCTAAdsSenderMutation").__setRef("useCometClickToMessageActionLink");function a(a,b,e,f,g,i,j){var k=d("react-compiler-runtime").c(10),l=c("useMWChatOpenTabForPage")("feedOrganicPostNewsfeedPagePostCta"),m=d("CometRelay").useRelayEnvironment();if(b==null)return c("emptyFunction");var n;k[0]!==a||k[1]!==j||k[2]!==f||k[3]!==m||k[4]!==e||k[5]!==l||k[6]!==b||k[7]!==g||k[8]!==i?(n=function(){l(e!=null?e:b),h.onReady(function(c){return c.sendAds(m,{ad_id:a,ad_impression_client_token:j,page_id:b,photo_index:f,post_id:g,product_id:i})})},k[0]=a,k[1]=j,k[2]=f,k[3]=m,k[4]=e,k[5]=l,k[6]=b,k[7]=g,k[8]=i,k[9]=n):n=k[9];return n}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("BaseBlurryImagePreview.react",["getComputedStyle","react","react-compiler-runtime","useSetAttributeRef"],(function(a,b,c,d,e,f,g){"use strict";var h=["blur","previewData","alt","height","style","width"],i,j,k=j||(j=d("react"));b=j;var l=b.useId,m=b.useLayoutEffect,n=b.useRef,o=b.useState;function a(a){var b=d("react-compiler-runtime").c(44),e,f,g,j,p,q,r;b[0]!==a?(f=a.blur,p=a.previewData,e=a.alt,g=a.height,q=a.style,r=a.width,j=babelHelpers.objectWithoutPropertiesLoose(a,h),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=j,b[5]=p,b[6]=q,b[7]=r):(e=b[1],f=b[2],g=b[3],j=b[4],p=b[5],q=b[6],r=b[7]);b[8]!==q?(a=q!=null?q:{},b[8]=q,b[9]=a):a=b[9];a=a;var s=a.height,t=a.width;a=f!=null?f:1.2;f=l();var u=c("useSetAttributeRef")("id",f),v="url(#"+f+")",w=c("useSetAttributeRef")("filter",v),x=l(),y=n(null),z=o(g!==void 0||s!==void 0||r!==void 0||t!==void 0),A=z[0],B=z[1],C;b[10]!==g||b[11]!==p.height||b[12]!==p.width||b[13]!==s||b[14]!==t||b[15]!==r?(z=function(){var a=y.current;if(!(a instanceof SVGSVGElement))return;if(g!==void 0||s!==void 0||r!==void 0||t!==void 0){B(!0);return}var b=a.style.display,d=(i||(i=c("getComputedStyle")))(a);a.style.display="none";B(d!=null&&(d.height!==p.height+"px"||d.width!==p.width+"px"));a.style.display=b},C=[g,p.height,p.width,s,t,r],b[10]=g,b[11]=p.height,b[12]=p.width,b[13]=s,b[14]=t,b[15]=r,b[16]=z,b[17]=C):(z=b[16],C=b[17]);m(z,C);z=e!=null?x:null;C=g!=null?g:A?void 0:p.height;var D="0 0 "+p.width+" "+p.height;A=r!=null?r:A?void 0:p.width;var E;b[18]!==e||b[19]!==x?(E=e!=null&&k.jsx("title",{id:x,children:e}),b[18]=e,b[19]=x,b[20]=E):E=b[20];b[21]!==a?(e=k.jsx("feGaussianBlur",{edgeMode:"duplicate",stdDeviation:a}),b[21]=a,b[22]=e):e=b[22];b[23]===Symbol["for"]("react.memo_cache_sentinel")?(x=k.jsx("feComponentTransfer",{children:k.jsx("feFuncA",{tableValues:"1 1",type:"discrete"})}),b[23]=x):x=b[23];b[24]!==f||b[25]!==u||b[26]!==e?(a=k.jsxs("filter",{colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",id:f,ref:u,suppressHydrationWarning:!0,children:[e,x]}),b[24]=f,b[25]=u,b[26]=e,b[27]=a):a=b[27];b[28]!==v||b[29]!==w||b[30]!==p.dataURI||b[31]!==p.height||b[32]!==p.width?(x=k.jsx("image",{filter:v,height:p.height,ref:w,suppressHydrationWarning:!0,width:p.width,x:"0",xlinkHref:p.dataURI,y:"0"}),b[28]=v,b[29]=w,b[30]=p.dataURI,b[31]=p.height,b[32]=p.width,b[33]=x):x=b[33];b[34]!==j||b[35]!==q||b[36]!==a||b[37]!==x||b[38]!==z||b[39]!==C||b[40]!==D||b[41]!==A||b[42]!==E?(f=k.jsxs("svg",babelHelpers["extends"]({},j,{"aria-labelledby":z,height:C,preserveAspectRatio:"none",ref:y,role:"img",style:q,viewBox:D,width:A,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[E,a,x]})),b[34]=j,b[35]=q,b[36]=a,b[37]=x,b[38]=z,b[39]=C,b[40]=D,b[41]=A,b[42]=E,b[43]=f):f=b[43];return f}g["default"]=a}),98);
__d("BaseToastAnimationInternal.react",["react","stylex","useFadeEffect","useMergeRefs","useToasterStateManager","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useEffect,m=b.useState,n=100,o={mount:{opacity:"x1hc1fzr",transform:"x3oybdh",transitionDuration:"xu6gjpd",transitionTimingFunction:"x7lz9yc",$$css:!0},root:{opacity:"xg01cxk",transitionDuration:"x16rnrhc",transitionProperty:"xwcsmn1",transitionTimingFunction:"xbxq160",$$css:!0}},p={bottom:{transform:"xswo3hg",$$css:!0},top:{transform:"x1cg7zye",$$css:!0}};function a(a){var b=a.children,d=a.expired;d=d===void 0?!1:d;var e=a.id,f=a.position,g=a.toasterPosition;g=g===void 0?"bottom":g;a=a.xstyle;var i=m(!1),q=i[0],r=i[1],s=c("useToasterStateManager")(),t=j.Children.only(b);i=k(function(){s.resetTimer(e)},[e,s]);b=k(function(){s.stopTimer(e)},[e,s]);var u=k(function(){s.shown(e)},[e,s]),v=k(function(){s.hidden(e)},[e,s]),w=k(function(a){t.props.onActionPress!=null&&t.props.onActionPress(a),a.defaultPrevented||s.expire(e)},[t.props,e,s]);v=c("useVisibilityObserver")({onHidden:v,onVisible:u,options:{activityMonitorOverride:null}});u=c("useFadeEffect")(!d);d=u[0];var x=u[1];u=u[2];u=c("useMergeRefs")(u,v);l(function(){x===!0&&r(!0)},[x]);return d?j.jsx("li",{className:(h||(h=c("stylex")))(o.root,p[g],x&&o.mount,a),onBlur:i,onFocus:b,onMouseEnter:b,onMouseLeave:i,ref:u,style:{bottom:n*f},children:q&&j.cloneElement(t,{onActionPress:w})}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CaptionsTextSizeMapping",[],(function(a,b,c,d,e,f){"use strict";a={BIG:"21px",BIGGER:"25px",BIGGEST:"25px",DEFAULT:"17px",MEDIUM:"19px",SMALL:"13px",SMALLEST:"8px"};b={BIG:"20px",BIGGER:"21px",BIGGEST:"21px",DEFAULT:"17px",MEDIUM:"19px",SMALL:"13px",SMALLEST:"8px"};c={BIG:"17px",BIGGER:"17px",BIGGEST:"17px",DEFAULT:"17px",MEDIUM:"17px",SMALL:"17px",SMALLEST:"17px"};d={BIG:"1.7vw",BIGGER:"2.0vw",BIGGEST:"2.2vw",DEFAULT:"1.1vw",MEDIUM:"1.4vw",SMALL:"0.825vw",SMALLEST:"0.55vw"};f.AdjustedCaptionsTextSizeMapFeedUnit=a;f.AdjustedCaptionsTextSizeMapWNS=b;f.FixedCaptionsTextSizeMap=c;f.DynamicCaptionsTextSizeMap=d}),66);
__d("CometTahoeChainingDepthLogging.react",["VideoPlayerHooks","react","react-compiler-runtime","useCometTahoeChainingDepth","useRoutePassthroughProps"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useLayoutEffect;function a(){var a=d("react-compiler-runtime").c(6),b=d("useCometTahoeChainingDepth").useChainingDepthContext(),e=b.chainingDepthState,f=b.chainingSessionID,g=(i||(i=d("VideoPlayerHooks"))).useController();b=c("useRoutePassthroughProps")();var h=b==null?void 0:b.chainingSeedVideoId,k;a[0]!==e||a[1]!==h||a[2]!==f||a[3]!==g?(b=function(){e!=null&&f!=null&&(g.setLoggingToVPLAdditionalData("video_chaining_session_id",f),g.setLoggingToVPLAdditionalData("video_chaining_depth_level",e),g.setLoggingToSNAPLAdditionalData({video_chaining_depth_level:String(e),video_chaining_session_id:f})),h!=null&&(g.setLoggingToVPLAdditionalData("video_chaining_parent_video_id",String(h)),g.setLoggingToSNAPLAdditionalData({video_chaining_parent_video_id:String(h)}))},k=[e,f,g,h],a[0]=e,a[1]=h,a[2]=f,a[3]=g,a[4]=b,a[5]=k):(b=a[4],k=a[5]);j(b,k);return null}g["default"]=a}),98);
__d("CometWatchAndScrollTriggerContextProvider",["CometWatchAndScrollTriggerContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext;b.useMemo;var k=b.useState;function a(a){var b=d("react-compiler-runtime").c(6);a=a.children;var e=j(c("CometWatchAndScrollTriggerContext")),f=k(e.isControlShown),g=f[0];f=f[1];e=k(e.isTriggerDisabled);var h=e[0];e=e[1];b[0]!==g||b[1]!==h?(f={isControlShown:g,isTriggerDisabled:h,setIsControlShown:f,setIsTriggerDisabled:e},b[0]=g,b[1]=h,b[2]=f):f=b[2];e=f;g=e;b[3]!==a||b[4]!==g?(h=i.jsx(c("CometWatchAndScrollTriggerContext").Provider,{value:g,children:a}),b[3]=a,b[4]=g,b[5]=h):h=b[5];return h}g["default"]=a}),98);
__d("Duration.react",["ServerTime","clearTimeout","react","react-strict-dom","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=500,k=1e3,l=60,m=60;a=function(a){function b(b){b=a.call(this,b)||this;b.state={duration:0};return b}babelHelpers.inheritsLoose(b,a);var e=b.prototype;e.UNSAFE_componentWillMount=function(){this.$2()};e.componentWillUnmount=function(){c("clearTimeout")(this.$1)};e.$2=function(){var a=this,b;this.props.useLocalTime?b=Date.now():b=d("ServerTime").getMillis();this.setState({duration:Math.max(b-this.props.startTime,0)});this.$1=c("setTimeout")(function(){return a.$2()},j)};e.render=function(){var a=Math.floor(this.state.duration/k),b=a%l;a=Math.floor(a/l);var c=a%m;a=Math.floor(a/m);var e="";a>0&&(e=a+":");a=c+":";a.length<3&&e.length>0&&(a="0"+a);c=""+b;c.length<2&&(c="0"+c);return i.jsxs(d("react-strict-dom").html.span,{children:[e,a,c]})};return b}(i.Component);a.defaultProps={useLocalTime:!1};g["default"]=a}),98);
__d("XCometGamingControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/gaming/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("GamingVideoBackLink.react",["fbt","ix","CometImage.react","CometPressable.react","XCometGamingControllerRouteBuilder","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l=i("370949"),m=c("XCometGamingControllerRouteBuilder").buildURL({});function a(){var a=d("react-compiler-runtime").c(2),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=h._(/*BTDS*/"Go to Facebook Gaming"),a[0]=b):b=a[0];var e=b;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=k.jsx(c("CometPressable.react"),{linkProps:{url:m},children:function(a){a=a.hovered;return k.jsxs("div",babelHelpers["extends"]({className:"x78zum5 x1q0g3np"},{children:[k.jsx("span",babelHelpers["extends"]({},{0:{className:"x3nfvp2 x1qo4wvw xbyyjgo x1d8287x x19991ni xl405pv"},1:{className:"x3nfvp2 x1hc1fzr x1d8287x x19991ni xl405pv"}}[!!a<<0],{children:k.jsx(c("CometImage.react"),{alt:h._(/*BTDS*/"Close"),src:l})})),k.jsx("div",babelHelpers["extends"]({},{0:{className:"x1s85apg"},1:{className:"xe2km65 x1lliihq xf159sx x1n2onr6 x1bvjpef xndqk7f"}}[!!a<<0],{children:e}))]}))}}),a[1]=b):b=a[1];return b}g["default"]=a}),226);
__d("ProfileCometFeaturedHighlightsEditCollectionDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9866024256791748"}),null);
__d("VideoBlurBackgroundContainer_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoBlurBackgroundContainer_video",selections:[{alias:null,args:null,concreteType:"VideoThumbnail",kind:"LinkedField",name:"preferred_thumbnail",plural:!1,selections:[{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"image_preview_payload",storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("getPreviewDataFromImagePreviewPayload",["FBLogger","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h="data:image/jpeg;base64,",i=160,j=162,k=42;function l(a,b){b===void 0&&(b=0);a=atob(a);if(a.length<=3)throw c("unrecoverableViolation")("The preview payload was "+a.length+" byte(s) long when it should be 4 or more. The first byte is the version, the second the width, and the third the height. The 4th byte and onward is the image data.","comet_infra");var d=new Uint8Array(a.length+b);for(var e=0;e<a.length;e++)d[b+e]=a.charCodeAt(e);return d}var m;function n(){m==null&&(m=l("/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEABsaGikdKUEmJkFCLy8vQkc/Pj4/R0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0cBHSkpNCY0PygoP0c/NT9HR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR//AABEIABQAKgMBIgACEQEDEQH/xAGiAAABBQEBAQEBAQAAAAAAAAAAAQIDBAUGBwgJCgsQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+gEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoLEQACAQIEBAMEBwUEBAABAncAAQIDEQQFITEGEkFRB2FxEyIygQgUQpGhscEJIzNS8BVictEKFiQ04SXxFxgZGiYnKCkqNTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqCg4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2dri4+Tl5ufo6ery8/T19vf4+fr/2gAMAwEAAhEDEQA/AA=="));return m}function a(a){var b=n();try{a=l(a,b.length-3);var d=a[b.length-1],e=a[b.length-3],f=a[b.length-2];if(d>k)throw c("unrecoverableViolation")("Tried to decode a payload whose height was "+d+". The maximum "+("is "+k+"."),"comet_infra");if(f>k)throw c("unrecoverableViolation")("Tried to decode a payload whose width was "+f+". The maximum "+("is "+k+"."),"comet_infra");a.set(b,0);a[i]=d;a[j]=f;b=btoa(String.fromCharCode.apply(null,a));return{dataURI:""+h+b,height:d,width:f,version:e}}catch(b){a=c("FBLogger")("images_infra");b instanceof Error&&a.catching(b);a.warn("Failed to decode a preview image payload. Falling back with a blank image.");return null}}g["default"]=a}),98);
__d("VideoBlurBackgroundContainer.react",["BaseBlurryImagePreview.react","CometImage.react","CometRelay","VideoBlurBackgroundContainer_video.graphql","getPreviewDataFromImagePreviewPayload","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react"),l={blurryImage:{filter:"x1hedwgd",transform:"x4zgh4k",$$css:!0},image:{bottom:"x1ey2m1c",boxSizing:"x9f619",height:"x5yr21d",insetInlineEnd:"xtijo5x",insetInlineStart:"x1o0tod",left:null,right:null,opacity:"xti2d7y",position:"x10l6tqk",top:"x13vifvy",width:"xh8yej3",zIndex:"x1ja2u2z",$$css:!0},lightBackgroundInLightMode:{backgroundColor:"x2bj2ny",$$css:!0},root:{backgroundColor:"xal61yo",height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",width:"xh8yej3",$$css:!0}};function a(a){var e,f=d("react-compiler-runtime").c(16),g=a.children,j=a.lightBackgroundInLightMode,m=a.ref,n=a.video;a=a.xstyle;n=d("CometRelay").useFragment(h!==void 0?h:h=b("VideoBlurBackgroundContainer_video.graphql"),n);e=(e=n.preferred_thumbnail)==null?void 0:e.image_preview_payload;var o;if(e!=null){var p;f[0]!==e?(p=c("getPreviewDataFromImagePreviewPayload")(e),f[0]=e,f[1]=p):p=f[1];e=p;if(e!=null){f[2]===Symbol["for"]("react.memo_cache_sentinel")?(p="x1ey2m1c x9f619 x5yr21d xtijo5x x1o0tod xti2d7y x10l6tqk x13vifvy xh8yej3 x1ja2u2z",f[2]=p):p=f[2];f[3]!==e?(p=k.jsx(c("BaseBlurryImagePreview.react"),{className:p,previewData:e}),f[3]=e,f[4]=p):p=f[4];o=p}}p=(e=n.preferred_thumbnail)==null||(e=e.image)==null?void 0:e.uri;if(o==null&&p!=null){f[5]===Symbol["for"]("react.memo_cache_sentinel")?(n=[l.blurryImage,l.image],f[5]=n):n=f[5];f[6]!==p?(e=k.jsx(c("CometImage.react"),{src:p,xstyle:n}),f[6]=p,f[7]=e):e=f[7];o=e}f[8]!==j||f[9]!==a?(n=(i||(i=c("stylex"))).props(l.root,a,j===!0&&l.lightBackgroundInLightMode),f[8]=j,f[9]=a,f[10]=n):n=f[10];f[11]!==o||f[12]!==g||f[13]!==m||f[14]!==n?(p=k.jsxs("div",babelHelpers["extends"]({},n,{ref:m,children:[o,g]})),f[11]=o,f[12]=g,f[13]=m,f[14]=n,f[15]=p):p=f[15];return p}e=a;g["default"]=e}),98);
__d("useNavigateToTahoePassthroughProps",["CometProductTagFunnelIDContext","CometTrackingCodeContext","CometTrackingNodesContext","CometWarningScreenContext","VideoPlayerHooks","getAggregatedStoryTrackingNodeIndex","react","react-compiler-runtime","useIsVideoHomePlayerOriginFromTracePolicy","usePlayerOriginRouteTracePolicy","useVideoPlayerPortalingPassthroughProps"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useContext;function a(){var a=d("react-compiler-runtime").c(13),b=c("useVideoPlayerPortalingPassthroughProps")(),e=j(c("CometTrackingCodeContext")),f=j(c("CometTrackingNodesContext")),g=j(c("CometProductTagFunnelIDContext")),h=d("CometWarningScreenContext").useIsOverlayShown(),k=d("CometWarningScreenContext").useHasOverlay(),l;a[0]!==f?(l=c("getAggregatedStoryTrackingNodeIndex")(f),a[0]=f,a[1]=l):l=a[1];f=l;l=(i||(i=d("VideoPlayerHooks"))).useVideoPlayerInitialTracePolicy();var m=c("usePlayerOriginRouteTracePolicy")(),n=c("useIsVideoHomePlayerOriginFromTracePolicy")(m);l=l!=null?l:m;a[2]!==n?(m=n?{caller:"CHANNEL_VIEW_FROM_VIDEO_HOME"}:{},a[2]=n,a[3]=m):m=a[3];a[4]!==g||a[5]!==f||a[6]!==k||a[7]!==h||a[8]!==b||a[9]!==l||a[10]!==m||a[11]!==e?(n=babelHelpers["extends"]({bypassAutoplaySettings:!0},b,{index:f,initialTracePolicy:l,origOverlayShown:h,overlayExists:k,productTagFunnelID:g,trackingCode:e},m),a[4]=g,a[5]=f,a[6]=k,a[7]=h,a[8]=b,a[9]=l,a[10]=m,a[11]=e,a[12]=n):n=a[12];return n}g["default"]=a}),98);
__d("VideoPlayerCometNavigateToTahoeControl.react",["fbt","ix","VideoPlayerControlIcon.react","fbicon","react","react-compiler-runtime","useNavigateToTahoePassthroughProps"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");function a(a){var b=d("react-compiler-runtime").c(12),e=a.onPress,f=a.reactionVideoChannelType,g=a.subOrigin;a=a.videoTahoeUrl;var j=c("useNavigateToTahoePassthroughProps")(),l;b[0]!==j||b[1]!==f||b[2]!==g?(l=babelHelpers["extends"]({},j,{playerSubOrigin:g,reactionVideoChannelType:f}),b[0]=j,b[1]=f,b[2]=g,b[3]=l):l=b[3];j=l;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(f=h._(/*BTDS*/"Enlarge"),b[4]=f):f=b[4];g=f;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(l=d("fbicon")._(i("517763"),20),b[5]=l):l=b[5];b[6]!==j||b[7]!==a?(f={passthroughProps:j,url:a},b[6]=j,b[7]=a,b[8]=f):f=b[8];b[9]!==e||b[10]!==f?(j=k.jsx(c("VideoPlayerControlIcon.react"),{icon:l,label:g,linkProps:f,onPress:e,tooltip:g}),b[9]=e,b[10]=f,b[11]=j):j=b[11];return j}g["default"]=a}),226);
__d("VideoPlayerCometWatchInjectionControl.react",["fbt","FDSResizeUpFilled20Icon","VideoPlayerControlIcon.react","react","react-compiler-runtime","useCometRouterState","useVideoPlayerPortalingPassthroughProps"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(14),e=a.isARLTW,f=a.onPress,g=a.routeTracePolicy,i=a.subOrigin;a=a.videoWatchUrl;var k=c("useVideoPlayerPortalingPassthroughProps")();k=k.portableVideoID;var l=c("useCometRouterState")();l=l==null?void 0:l.main.route.tabKey;var m;b[0]!==l?(m=l!=="watch"?h._(/*BTDS*/"Open in Video"):h._(/*BTDS*/"Enlarge"),b[0]=l,b[1]=m):m=b[1];l=m;b[2]!==e||b[3]!==k||b[4]!==g||b[5]!==i?(m={isARLTW:e,portableVideoID:k,portalingRouteTracePolicy:g,portalingSubOrigin:i,unmute:!0},b[2]=e,b[3]=k,b[4]=g,b[5]=i,b[6]=m):m=b[6];b[7]!==m||b[8]!==a?(e={passthroughProps:m,url:a},b[7]=m,b[8]=a,b[9]=e):e=b[9];b[10]!==l||b[11]!==f||b[12]!==e?(k=j.jsx(c("VideoPlayerControlIcon.react"),{icon:c("FDSResizeUpFilled20Icon"),label:l,linkProps:e,onPress:f,tooltip:l}),b[10]=l,b[11]=f,b[12]=e,b[13]=k):k=b[13];return k}g["default"]=a}),226);
__d("VideoPlayerNavigateToTahoeOrFullScreenControl.react",["CometTrackingNodeProvider.react","VideoPlayerCometNavigateToTahoeControl.react","VideoPlayerFullscreenControl.react","gkx","qex","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(10),e=a.isAdVideo,f=a.isBroadcast,g=a.onPressFullscreenControl,h=a.onPressTahoeControl,j=a.onUserInteraction,k=a.reactionVideoChannelType,l=a.shouldUnmute,m=a.subOrigin;a=a.videoTahoeUrl;var n=c("gkx")("24206");b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==h||b[4]!==j||b[5]!==k||b[6]!==l||b[7]!==m||b[8]!==a?(n=i.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:144,children:(Boolean(e)===!1||f===!0&&c("qex")._("4408")===!0)&&m!=null&&a!=null&&a!==""&&!n?i.jsx(c("VideoPlayerCometNavigateToTahoeControl.react"),{onPress:h,reactionVideoChannelType:k,subOrigin:m,videoTahoeUrl:a}):i.jsx(c("VideoPlayerFullscreenControl.react"),{onPress:g,onUserInteraction:j,shouldUnmute:l})}),b[0]=e,b[1]=f,b[2]=g,b[3]=h,b[4]=j,b[5]=k,b[6]=l,b[7]=m,b[8]=a,b[9]=n):n=b[9];return n}g["default"]=a}),98);
__d("VideoPlayerWithAudioOverlay_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerWithAudioOverlay_video",selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"30kjYr"}],concreteType:null,kind:"LinkedField",name:"comet_video_player_audio_overlay_renderer",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"VideoPlayerWithAudioOverlay_video",fragmentName:"CometVideoPlayerWithPodcastOverlayRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometVideoPlayerWithPodcastOverlayRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"VideoPlayerWithAudioOverlay_video",fragmentName:"CometVideoPlayerWithSoundbiteOverlayRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometVideoPlayerWithSoundbiteOverlayRenderer",abstractKey:null}],storageKey:'comet_video_player_audio_overlay_renderer(supported:"30kjYr")'}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerWithAudioOverlay.react",["CometRelay","VideoPlayerWithAudioOverlay_video.graphql","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var c=d("react-compiler-runtime").c(7),e=a.playerFormat,f=a.pressInteraction;a=a.video;a=d("CometRelay").useFragment(h!==void 0?h:h=b("VideoPlayerWithAudioOverlay_video.graphql"),a);a=a==null?void 0:a.comet_video_player_audio_overlay_renderer;if(a==null)return null;var g;c[0]===Symbol["for"]("react.memo_cache_sentinel")?(g={className:"x6s0dn4 x78zum5 x5yr21d xl56j7k"},c[0]=g):g=c[0];var i;c[1]!==e||c[2]!==f?(i={playerFormat:e,pressInteraction:f},c[1]=e,c[2]=f,c[3]=i):i=c[3];c[4]!==a||c[5]!==i?(e=j.jsx("div",babelHelpers["extends"]({},g,{children:j.jsx(d("CometRelay").MatchContainer,{match:a,props:i})})),c[4]=a,c[5]=i,c[6]=e):e=c[6];return e}g["default"]=a}),98);
__d("VideoPlayerWithLiveVideoIndicator_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerWithLiveVideoIndicator_video",selections:[{alias:"breakingStatus",args:null,kind:"ScalarField",name:"breaking_status",storageKey:null},{alias:"videoId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"isPremiere",args:null,kind:"ScalarField",name:"is_premiere",storageKey:null},{alias:"liveViewerCount",args:null,kind:"ScalarField",name:"live_viewer_count_read_only",storageKey:null},{alias:"rehearsalInfo",args:null,concreteType:"LiveVideoRehearsalInfo",kind:"LinkedField",name:"rehearsal_info",plural:!1,selections:[{alias:"typeName",args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_gaming_video",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"publish_time",storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerWithLiveVideoIndicator.react",["fbt","ix","CometImage.react","CometPlaceholder.react","CometRelay","CometRouteRenderType","Duration.react","FDSText.react","GamingVideoBackLink.react","VideoBroadcastStatus","VideoPlayerHooks","VideoPlayerWithLiveVideoIndicator_video.graphql","clearTimeout","cr:541","deferredLoadComponent","gkx","intlSummarizeNumber","react","react-compiler-runtime","requireDeferred","setTimeout","stylex","unrecoverableViolation","useVideoPlayerUnifiedCVCProvider"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m,n=l||(l=d("react"));e=l;var o=e.useEffect,p=e.useRef,q=e.useState,r=c("deferredLoadComponent")(c("requireDeferred")("LiveVideoCometNuxForCVC.react").__setRef("VideoPlayerWithLiveVideoIndicator.react")),s={positionTop:{display:"x78zum5",height:"xxk0z11",insetInlineStart:"x1r4y97",position:"x10l6tqk",top:"x1tk7jg1",$$css:!0},positionTopWithCometNavOverlay:{insetInlineStart:"xx5wi7t",top:"xoyzfg9",$$css:!0},positionTopWithCometNavOverlayWorkplace:{insetInlineStart:"xx5wi7t",top:"xoyzfg9",$$css:!0}};function a(a){var e,f=d("react-compiler-runtime").c(50),g=a.hasCometNavOverlay,h=a.includeGamingBackLink,i=a.renderedInLiveProducer,l=a.shouldExpand,x=a.shouldShowPrivacyNux;a=a.video;var y=(m||(m=d("VideoPlayerHooks"))).useIsLive(),z=m.useIsLiveRewindActive(),A=m.useIsFullscreen(),B=d("CometRouteRenderType").useIsMain(),C=m.usePlaying(),D=p(null);a=d("CometRelay").useFragment(j!==void 0?j:j=b("VideoPlayerWithLiveVideoIndicator_video.graphql"),a);var E=(e=a==null?void 0:a.videoId)!=null?e:"";if(a==null||typeof E!=="string"||E==="")throw c("unrecoverableViolation")("Null video or bad videoId","comet_live_video");var F=d("useVideoPlayerUnifiedCVCProvider").useVideoPlayerUnifiedCVCData();e=q((e=a.liveViewerCount)!=null?e:0);var G=e[0],H=e[1];e=q(!1);var I=e[0],J=e[1];e=q(!1);var K=e[0],L=e[1],M;f[0]!==F||f[1]!==y?(e=function(){y&&F!=null&&(t(F.bs)?H(F.c):(H(0),J(!0)))},M=[F,y],f[0]=F,f[1]=y,f[2]=e,f[3]=M):(e=f[2],M=f[3]);o(e,M);f[4]!==C?(e=function(){C?(L(!0),D.current=c("setTimeout")(function(){L(!1)},3e3)):D.current&&(L(!1),c("clearTimeout")(D.current));return function(){return c("clearTimeout")(D.current)}},M=[C],f[4]=C,f[5]=e,f[6]=M):(e=f[5],M=f[6]);o(e,M);f[7]!==y||f[8]!==E?(e=function(){y&&E&&(b("cr:541")==null||b("cr:541").loadImmediately(function(a){a.LiveProducerLiveActivated(E)}))},M=[y,E],f[7]=y,f[8]=E,f[9]=e,f[10]=M):(e=f[9],M=f[10]);o(e,M);M=((e=a.rehearsalInfo)==null?void 0:e.typeName)==="LiveVideoRehearsalInfo";e=(e=a.is_gaming_video)!=null?e:!1;h=h!=null?h:!1;h=h&&B&&e;e=!y||I;if(e)return null;I=c("gkx")("22889");f[11]!==g||f[12]!==A||f[13]!==B||f[14]!==i||f[15]!==l?(e=(k||(k=c("stylex"))).props(s.positionTop,I?l!==!0&&(g||B)&&!A&&!i===!0&&s.positionTopWithCometNavOverlayWorkplace:g&&!A&&s.positionTopWithCometNavOverlay),f[11]=g,f[12]=A,f[13]=B,f[14]=i,f[15]=l,f[16]=e):e=f[16];f[17]!==h?(I=h?n.jsx(c("GamingVideoBackLink.react"),{}):null,f[17]=h,f[18]=I):I=f[18];f[19]!==z||f[20]!==M?(g={0:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v"},8:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v xpz12be xof6966 xa4qsjk x18wbh7p xkewf8z"},4:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v x1ciooss"},12:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v xpz12be xof6966 xa4qsjk x18wbh7p xkewf8z x1ciooss"},2:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v x1osi62z"},10:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v xpz12be xof6966 xa4qsjk x18wbh7p xkewf8z x1osi62z"},6:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v x1osi62z"},14:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v xpz12be xof6966 xa4qsjk x18wbh7p xkewf8z x1osi62z"},1:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v x1d2osyd"},9:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v xpz12be xof6966 xa4qsjk x18wbh7p xkewf8z x1d2osyd"},5:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v x1d2osyd"},13:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v xpz12be xof6966 xa4qsjk x18wbh7p xkewf8z x1d2osyd"},3:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v x1d2osyd"},11:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v xpz12be xof6966 xa4qsjk x18wbh7p xkewf8z x1d2osyd"},7:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v x1d2osyd"},15:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v xpz12be xof6966 xa4qsjk x18wbh7p xkewf8z x1d2osyd"}}[!!!z<<3|!!!z<<2|!!z<<1|!!M<<0],f[19]=z,f[20]=M,f[21]=g):g=f[21];A=M?"primary":"white";f[22]!==a?(B=u(a),f[22]=a,f[23]=B):B=f[23];f[24]!==K||f[25]!==z||f[26]!==l||f[27]!==a.publish_time?(i=l===!0&&K&&(a==null?void 0:a.publish_time)!=null&&!z&&w(a.publish_time),f[24]=K,f[25]=z,f[26]=l,f[27]=a.publish_time,f[28]=i):i=f[28];f[29]!==A||f[30]!==B||f[31]!==i?(h=n.jsxs(c("FDSText.react"),{color:A,type:"bodyLink4",children:[B,i]}),f[29]=A,f[30]=B,f[31]=i,f[32]=h):h=f[32];f[33]!==h||f[34]!==g?(M=n.jsx("div",babelHelpers["extends"]({},g,{"data-testid":void 0,children:h})),f[33]=h,f[34]=g,f[35]=M):M=f[35];f[36]!==G||f[37]!==a?(K=v(a,G),f[36]=G,f[37]=a,f[38]=K):K=f[38];f[39]!==M||f[40]!==K||f[41]!==e||f[42]!==I?(z=n.jsxs("div",babelHelpers["extends"]({},e,{children:[I,M,K]})),f[39]=M,f[40]=K,f[41]=e,f[42]=I,f[43]=z):z=f[43];f[44]!==x||f[45]!==E?(l=x===!0&&n.jsx(c("CometPlaceholder.react"),{fallback:null,children:n.jsx("div",babelHelpers["extends"]({className:"x1r4y97 x10l6tqk x1w1tb2m"},{children:n.jsx(r,{videoID:E})}))}),f[44]=x,f[45]=E,f[46]=l):l=f[46];f[47]!==z||f[48]!==l?(A=n.jsxs(n.Fragment,{children:[z,l]}),f[47]=z,f[48]=l,f[49]=A):A=f[49];return A}function t(a){if(a==null)return!1;switch(a){case c("VideoBroadcastStatus").LIVE:case c("VideoBroadcastStatus").LIVE_STOPPED:case c("VideoBroadcastStatus").SEAL_STARTED:return!0;default:return!1}}function u(a){if((a==null?void 0:a.isPremiere)===!0)return h._(/*BTDS*/"PREMIERE");return(a==null?void 0:a.breakingStatus)===!0?h._(/*BTDS*/"LIVE BREAKING"):h._(/*BTDS*/"LIVE")}u.displayName=u.name+" [from "+f.id+"]";function v(a,b){if(a===null||b==null||b===0)return null;a=n.jsx(c("CometImage.react"),{alt:"",src:i("411339")});a=n.jsx("span",babelHelpers["extends"]({className:"x3nfvp2 x2fvf9 x1n2onr6"},{children:a}));return n.jsxs("div",babelHelpers["extends"]({"aria-label":h._(/*BTDS*/"_j{\"*\":\"{number} people currently watching this video.\",\"_1\":\"1 person currently watching this video.\"}",[h._plural(b,"number",c("intlSummarizeNumber")(b))])},{className:"x6s0dn4 xrmyhay xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xdzw4kq xexx8yu x18d9i69 x25sj25 x1icxu4v"},{"data-testid":void 0,role:"img",children:[a,n.jsx(c("FDSText.react"),{color:"primaryOnMedia",type:"body4",children:c("intlSummarizeNumber")(b)})]}))}v.displayName=v.name+" [from "+f.id+"]";function w(a){return n.jsx("div",babelHelpers["extends"]({className:"x3nfvp2 xdwrcjd"},{children:n.jsx(c("Duration.react"),{startTime:a*1e3,useLocalTime:!0})}))}w.displayName=w.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("VideoPlayerWithVideoHomeLogging.react",["VideoPlayerHooks","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useEffect;function a(a){var b=d("react-compiler-runtime").c(5),c=a.feedAggregationType,e=a.reactionVideoChannelType,f=(i||(i=d("VideoPlayerHooks"))).useController(),g;b[0]!==f||b[1]!==c||b[2]!==e?(a=function(){e!=null&&f.setLoggingToVPLAdditionalData("reaction_video_channel_type",e),c!=null&&f.setLoggingToVPLAdditionalData("feed_aggregation_type",c)},g=[f,c,e],b[0]=f,b[1]=c,b[2]=e,b[3]=a,b[4]=g):(a=b[3],g=b[4]);j(a,g);return null}g["default"]=a}),98);
__d("XPlatReactToasterView.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");a=function(a){function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.state={visibleToasts:[]},babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);b.getDerivedStateFromProps=function(a,b){b=b!=null?b.visibleToasts.slice(0,a.maxVisible):[];var c=0,d=a.filterToasts,e=a.toasterState,f={},g=d!=null?Object.keys(e).filter(function(b){var c,g=e[b];f[b]=g;var h=g==null?void 0:g.shown,i=g==null||(c=g.value)==null||(c=c.type)==null?void 0:c.name;if(g==null||i==null)return!0;if(d.has(i)&&!h){a.onExpireToast(b);return!1}}):Object.keys(e),h=b.reduce(function(a,b){b!=null&&a.add(b.id);return a},new Set()),i=0;while(c<a.maxVisible){var j=b[c],k=Object.keys(f).length>0?f:a.toasterState;if(j!=null){k=Object.prototype.hasOwnProperty.call(k,j.id);if(k){k=e[j.id];b[c]={expired:k.expired,id:k.id,toast:k.value};c++;continue}else b[c]=null}j=null;while(j==null&&i<g.length){k=g[i++];var l=h.has(k);l||(j=a.toasterState[k])}j!=null&&(b[c]={expired:j.expired,id:j.id,toast:j.value});c++}return{visibleToasts:b}};var c=b.prototype;c.render=function(){var a=this;return i.jsx(i.Fragment,{children:this.state.visibleToasts.map(function(b,c){return b!=null?a.props.children(b.toast,b.id,b.expired,c):null})})};return b}(i.PureComponent);a.defaultProps={maxVisible:1};g["default"]=a}),98);
__d("useVideoOriginalDimensionsRelay_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoOriginalDimensionsRelay_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"original_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_rotation",storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoOriginalDimensionsRelay",["CometRelay","computeAspectRatio","react-compiler-runtime","useVideoOriginalDimensionsRelay_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var e=d("react-compiler-runtime").c(7);a=d("CometRelay").useFragment(h!==void 0?h:h=b("useVideoOriginalDimensionsRelay_video.graphql"),a);var f=a==null?void 0:a.original_rotation;f=f==="ROTATE_LEFT"||f==="ROTATE_RIGHT";var g=f?a==null?void 0:a.original_height:a==null?void 0:a.original_width;f=f?a==null?void 0:a.original_width:a==null?void 0:a.original_height;e[0]!==f||e[1]!==g?(a=c("computeAspectRatio")(g,f),e[0]=f,e[1]=g,e[2]=a):a=e[2];a=a;var i;e[3]!==a||e[4]!==f||e[5]!==g?(i={originalAspectRatio:a,originalHeight:f,originalWidth:g},e[3]=a,e[4]=f,e[5]=g,e[6]=i):i=e[6];return i}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("EBBatchRequestResignCdnUrlQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9604466472985365"}),null);
__d("EBBatchRequestResignCdnUrlQuery.graphql",["EBBatchRequestResignCdnUrlQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"request"}],c=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerDefaultEncryptedBackup",kind:"LinkedField",name:"messenger_default_encrypted_backup",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackupMailbox",kind:"LinkedField",name:"mailbox",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"payloads",variableName:"request"}],concreteType:"XFBResignCdnUrlResponse",kind:"LinkedField",name:"batch_resigned_attachment_cdn_url",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"instance_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"path",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"exception_message",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"EBBatchRequestResignCdnUrlQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"EBBatchRequestResignCdnUrlQuery",selections:c},params:{id:b("EBBatchRequestResignCdnUrlQuery_facebookRelayOperation"),metadata:{},name:"EBBatchRequestResignCdnUrlQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("EBBatchRequestResignCdnUrl",["EBBatchRequestResignCdnUrlQuery.graphql","EBEnqueueResignCdnUrlRequests","WADirectPath","WAErrorMessage","WAMediaUtils","WAResultOrError","createWorkerQuery"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o,p,q;async function a(a,b){var c=d("EBEnqueueResignCdnUrlRequests").getGqlRestoredCdnUrlMap();c=c.entries().filter(function(a){a[0];a=a[1];return!a.pending}).toArray();if(c.length<1)return;var e=c.map(function(a){return{instance_key:a[0],payload:a[1].payload}});c.forEach(function(a){var b=a[0];a=a[1];d("EBEnqueueResignCdnUrlRequests").setGqlRestoredCdnUrlMap(b,{payload:a.payload,pending:!0,resolvable:a.resolvable})});await r(a,b,e)}async function r(a,b,e){if(e.length<1)return;var f=d("EBEnqueueResignCdnUrlRequests").getGqlRestoredCdnUrlMap();b==null||b.addPoint("resign_cdn_url_query_start");try{var g,h,p=await c("createWorkerQuery")(s,{request:e.map(function(a){return{instance_key:a.instance_key,payload:a.payload.payload}})});b==null||b.addPoint("resign_cdn_url_query_end");p=p==null||(g=p.viewer)==null||(g=g.messenger_default_encrypted_backup)==null||(g=g.mailbox)==null?void 0:g.batch_resigned_attachment_cdn_url;a.DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Received "," requests"])),p==null?void 0:p.length);b==null||b.addAnnotations({int:{resign_cdn_url_gql_batch_size:(h=p==null?void 0:p.length)!=null?h:0}});p==null||p.forEach(function(b){var c=b.instance_key!=null?d("WAMediaUtils").stringToDeliveryObjectId(b.instance_key):null,e=b.path;if(c!=null){var g=d("WADirectPath").validateDirectPath(e);g.success||a.ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Resigning cdn url with EBLS GraphQL failed: ",", graphql error: ",""])),g.error,b.exception_message);b=(b=f.get(c))==null?void 0:b.resolvable;b!=null?b.resolve(g):a.ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["No resolvable found for instance key: ",""])),c);f.delete(c)}else a.ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["Resigning cdn url came back with no instance key, ",""])),e)})}catch(c){h=d("WAErrorMessage").maybeGetMessageFromError(c);b==null||b.addPoint("resign_cdn_url_query_fail");b==null||b.addAnnotations({string:{resign_cdn_url_gql_error:h}});a.WARN(m||(m=babelHelpers.taggedTemplateLiteralLoose(["Resigning cdn url with EBLS GraphQL failed: ",""])),h);e.forEach(function(b){var c;c=(c=f.get(d("WAMediaUtils").stringToDeliveryObjectId(b.instance_key)))==null?void 0:c.resolvable;c!=null?c.resolve(d("WAResultOrError").makeError("resign-cdn-url-gql-error")):a.ERROR(n||(n=babelHelpers.taggedTemplateLiteralLoose(["No resolvable found during error for instance key: ",""])),b.instance_key)})}finally{e.forEach(function(b){var c=d("WAMediaUtils").stringToDeliveryObjectId(b.instance_key);c=(c=f.get(c))==null?void 0:c.resolvable;(c==null?void 0:c.isSettled)===!1&&a.ERROR(o||(o=babelHelpers.taggedTemplateLiteralLoose(["Resolvable was not properly settled"])));f.delete(d("WAMediaUtils").stringToDeliveryObjectId(b.instance_key))})}}async function e(a,b,e,f){b==null||b.addPoint("resign_cdn_url_query_start");try{var g;e=await c("createWorkerQuery")(s,{request:[{instance_key:e,payload:f.payload}]});b==null||b.addPoint("resign_cdn_url_query_end");f=e==null||(g=e.viewer)==null||(g=g.messenger_default_encrypted_backup)==null||(g=g.mailbox)==null?void 0:g.batch_resigned_attachment_cdn_url;(f==null?void 0:f.length)!==1&&(b==null||b.addPoint("resign_cdn_url_should_have_one_response"));e=f==null?void 0:f[0];f=e==null?void 0:e.path;f=d("WADirectPath").validateDirectPath(f);f.success||a.ERROR(p||(p=babelHelpers.taggedTemplateLiteralLoose(["Resigning cdn url with EBLS GraphQL failed: ",", graphql error: ",""])),f.error,e==null?void 0:e.exception_message);return f}catch(c){e=d("WAErrorMessage").maybeGetMessageFromError(c);b==null||b.addPoint("resign_cdn_url_query_fail");b==null||b.addAnnotations({string:{resign_cdn_url_gql_error:e}});a.WARN(q||(q=babelHelpers.taggedTemplateLiteralLoose(["Resigning cdn url with EBLS GraphQL failed: ",""])),e);return d("WAResultOrError").makeError("resign-cdn-url-gql-error")}}var s=h!==void 0?h:h=b("EBBatchRequestResignCdnUrlQuery.graphql");g.batchedResignCdnUrlFromMap=a;g.batchedResignCdnUrlWithGraphQL=r;g.resignCdnUrlWithGraphQL=e}),98);
__d("EBEnqueueResignCdnUrlRequests",["EBBatchRequestResignCdnUrl","WACustomError","WAPromiseDelays","WAPromiseTimeout","WAResolvable","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){var a=!0;return{get:function(){return a},set:function(b){a=b}}}(),i=function(){var a=window.performance.now();return{get:function(){return a},set:function(b){a=b}}}(),j=new Map(),k=c("justknobx")._("4662"),l=c("justknobx")._("3244");function a(a,b,c,e){var f;f=(f=j.get(a))==null?void 0:f.resolvable;if(f!=null){e==null||e.addPoint("resign_cdn_url_map_hit");return m({logger:c,mediaDownloadFlow:e,objectId:a,payload:b,promise:f.promise})}f=new(d("WAResolvable").Resolvable)();var g=j.size===0;j.set(a,{payload:b,pending:!1,resolvable:f});if(!h.get())return m({logger:c,mediaDownloadFlow:e,objectId:a,payload:b,promise:f.promise});void n(c,g);return m({logger:c,mediaDownloadFlow:e,objectId:a,payload:b,promise:f.promise})}function m(a){var b=a.logger,c=a.mediaDownloadFlow,e=a.objectId,f=a.payload;a=a.promise;return d("WAPromiseTimeout").promiseTimeout(a,l).then(function(a){if(!a.success&&a.error==="direct-path-undefined"){j["delete"](e);return d("WAPromiseDelays").delayMs(l).then(function(){return d("EBBatchRequestResignCdnUrl").resignCdnUrlWithGraphQL(b,c,e,f)})}return a})["catch"](function(a){var g=a instanceof Error&&["NetworkTransportError","NetworkTimeoutError","NetworkRequestError"].includes(a.name);if(a instanceof d("WACustomError").TimeoutError||g){c==null||c.addPoint("resign-cdn-url-gql-timeout");j["delete"](e);return d("EBBatchRequestResignCdnUrl").resignCdnUrlWithGraphQL(b,c,e,f)}else{c==null||c.addPoint("resign-cdn-url-gql-unexpected-error");c==null||c.addAnnotations({string:{resign_cdn_url_payload_fail_reason:a.message}});throw a}})}function n(a,b,c){h.set(!1);if(b){h.set(!0);i.set(window.performance.now());return d("EBBatchRequestResignCdnUrl").batchedResignCdnUrlFromMap(a,c)}else{b=Math.max(k-(window.performance.now()-i.get()),0);return d("WAPromiseDelays").delayMs(b).then(function(){h.set(!0);i.set(window.performance.now());return d("EBBatchRequestResignCdnUrl").batchedResignCdnUrlFromMap(a,c)})}}function b(){return j}function e(a,b){j.set(a,b)}g.enqueueResignCdnUrl=a;g.getGqlRestoredCdnUrlMap=b;g.setGqlRestoredCdnUrlMap=e}),98);
__d("EBCreateResignCDNUrlPayload",["CreateDerivedKeys","EBBase64Encode","EBWorkerEBDBApi","GetBlobFromInt64BE","Hmac_v2","I64","LSVec","OcmfClientMap","OpeEncrypt","TruncateSortKey","WAArrayBufferUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i="thread_ope_key";async function a(a){var b=a.deliveryObjectId,e=a.mediaType,f=a.messageId,g=a.productType,h=a.sortOrderMs;a=a.threadId;var i=await d("EBWorkerEBDBApi").getSecureEBClientState(),l=String(i.backupId),m=Number(i.deviceId),n=c("EBBase64Encode")(i.mailboxRootKeyBlob),o=c("EBBase64Encode")(i.ocmfClientStateBlob);i=await Promise.all([j("attachment_key_scope",JSON.stringify([l,b]),i.ocmfClientStateBlob),j("mailbox_id_scope",l,i.ocmfClientStateBlob),j("message_id_scope",f,i.ocmfClientStateBlob),j("attachment_token_salt_scope",f,i.ocmfClientStateBlob),j("attachment_key_salt_scope",JSON.stringify([l,b]),i.ocmfClientStateBlob),j("attachment_token_salt_scope",JSON.stringify([f,b]),i.ocmfClientStateBlob),j("thread_id_scope",a,i.ocmfClientStateBlob),k(i.mailboxRootKeyBlob,h,a)]);var p=i[0],q=i[1],r=i[2],s=i[3],t=i[4],u=i[5],v=i[6];i=i[7];return i==null?null:{attachment_index_key:c("EBBase64Encode")(p),backup_ent_fbid:-8,backup_id:l,delivery_object_id:b,device_id:m,isOpenEB:0,mailbox_partial_id:c("EBBase64Encode")(q),media_type:e,message_partial_id:c("EBBase64Encode")(r),product_type:g,raw_identifiers:{otid:f,server_thread_key:null,timestamp:h.toString()},raw_tokens:{mailbox_root_key:n,ocmf_client_state_blob:o},salt_partial_access_token:c("EBBase64Encode")(u),salt_partial_attachment_index_key:c("EBBase64Encode")(t),salt_partial_id:c("EBBase64Encode")(s),sort_key:i,thread_id:a,thread_partial_id:c("EBBase64Encode")(v)}}function j(a,b,e){return c("Hmac_v2")(d("WAArrayBufferUtils").stringToArrayBuffer(a),d("WAArrayBufferUtils").stringToArrayBuffer(b)).then(function(a){return c("OcmfClientMap")(e,a[0])})}async function k(a,b,e){e=new TextEncoder().encode(i+"_"+e).buffer;e=(await d("CreateDerivedKeys").CreateDerivedKeys(e,void 0,a,[(h||(h=d("I64"))).of_int32(32)]))[0];if(e==null)return null;a=await d("GetBlobFromInt64BE").GetBlobFromInt64BE(h.of_float(b));b=await d("TruncateSortKey").TruncateSortKey(a[0]);a=await d("OpeEncrypt").OpeEncrypt(c("LSVec").toArray(e)[0],b[0],h.of_int32(16));e=Array.from(new Uint8Array(a[0]));b=e.map(function(a){return a.toString(16).padStart(2,"0")});return b.join("").toUpperCase()}g.createMediaRestorePayloadFromEBDB=a}),98);
__d("LSFindBackup",["LSArrayGetObjectAt","LSIsEncryptionVersionSecure","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(a){return c.sequence([function(a){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsFindBackupStoredProcedure] Beginning execution."),c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,e){var f=a.done;a=a.value;return f?(f=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,1]),void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,20]),void 0,void 0],d[1]=f[0],d[2]=f[1],d[3]=f[2],d[4]=f[3],d[5]=f[4],d[6]=f[5],d[7]=f[6],d[8]=f[7],d[9]=f[8],d[10]=f[9],d[11]=f[10],d[12]=f[11],d[13]=f[12],d[14]=f[13],d[15]=f[14],d[16]=f[15],d[17]=f[16],d[18]=f[17],f):(e=a.item,c.sequence([function(a){return d[32]=e.backupTenancy,d[31]=e.encryptionVersion,d[27]=void 0,c.i64.neq(d[27],void 0)?c.resolve(d[28]=d[27]):c.sequence([function(a){return d[33]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[34]=a[0],a})},function(a){return d[34]?d[43]=(d[33].push(c.i64.cast([0,0])),d[33]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[35]=a[0],a})},function(a){return d[35]?d[43]=(d[33].push(c.i64.cast([0,2])),d[33]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[36]=a[0],a})},function(a){return d[36]?d[43]=(d[33].push(c.i64.cast([0,3])),d[33]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[37]=a[0],a})},function(a){return d[37]?d[43]=(d[33].push(c.i64.cast([0,4])),d[33]):0,d[38]=c.createArray(),d[39]=c.i64.of_int32(d[33].length),c.i64.gt(d[39],c.i64.cast([0,0]))?c.loopAsync(d[39],function(a){return d[43]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[33],d[43]).then(function(a){return a=a,d[44]=a[0],d[45]=a[1],a})},function(a){return d[46]=(d[38].push(d[44]),d[38])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[43]=c.createArray(),d[44]=c.i64.of_int32(d[38].length),c.i64.gt(d[44],c.i64.cast([0,0]))?c.loopAsync(d[44],function(a){return d[46]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[38],d[46]).then(function(a){return a=a,d[47]=a[0],d[48]=a[1],a})},function(a){return d[49]=(d[43].push(c.i64.to_string(d[47])),d[43])}])}):c.resolve()},function(a){return d[45]=d[43].join(","),d[40]=d[45]}])},function(a){return d[38].some(function(a){return c.i64.eq(d[31],a)})?d[41]=d[31]:d[41]=void 0,c.i64.neq(d[41],void 0)?d[42]=d[41]:d[42]=void 0,d[28]=d[42]}])},function(a){return c.i64.neq(d[28],void 0)?d[29]=d[28]:d[29]=c.i64.cast([0,0]),c.i64.neq(d[32],void 0)?d[30]=d[32]:d[30]=c.i64.cast([0,1]),a=[e.backupId,e.deviceId,e.mailboxRootKeyBlob,e.ocmfClientStateBlob,void 0,void 0,d[29],d[30],e.epochAuthPublicKeyBlob,e.epochAuthPrivateKeyBlob,e.devicePublicKeyBlob,e.devicePrivateKeyBlob,e.epochStoragePublicKeyBlob,e.epochStoragePrivateKeyBlob,e.obliviousValidationTokenBlob,e.authorityLevel,void 0,void 0],d[1]=a[0],d[2]=a[1],d[3]=a[2],d[4]=a[3],d[5]=a[4],d[6]=a[5],d[7]=a[6],d[8]=a[7],d[9]=a[8],d[10]=a[9],d[11]=a[10],d[12]=a[11],d[13]=a[12],d[14]=a[13],d[15]=a[14],d[16]=a[15],d[17]=a[16],d[18]=a[17]}]))})},function(a){return c.i64.neq(d[1],void 0)?d[20]=c.i64.to_string(d[1]):d[20]=void 0,d[21]=c.i64.of_float(Date.now()),d[22]=c.i64.random(),d[24]="Finishing execution. Execution time: ",d[25]=c.i64.to_string(c.i64.sub(d[21],d[0])),d[26]=" ms",d[23]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsFindBackupStoredProcedure] ",d[23],d[24],d[23],d[25],d[23],d[26]].join("")),c.i64.eq(c.i64.mod_(d[22],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[27]=",",d[28]=c.createArray(),void 0!==void 0?d[29]=(d[28].push(void 0),d[28]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsFindBackupStoredProcedure",[d[24],d[27],d[25],d[27],d[26]].join(""),d[28],c.i64.cast([0,4]))):c.resolve()},function(a){return e[0]=d[20]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsFindBackupStoredProcedure";a.__tables__=["secure_encrypted_backups_client_state"];e.exports=a}),null);
__d("LSCreateResignCDNUrlPayload",["LSArrayGetObjectAt","LSBase64Encode.nop","LSBinaryToHex.nop","LSCreateDerivedKeys.nop","LSFindBackup","LSGetBlobFromInt64BE.nop","LSGetBlobFromString.nop","LSHmac_v2.nop","LSIsEncryptionVersionSecure","LSLogMebClientEvent.nop","LSOcmfClientMap.nop","LSOpeEncrypt.nop","LSTruncateSortKey.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return a[10]?c.sequence([function(e){return c.blobs.neq(a[11],void 0)?c.sequence([function(e){return c.i64.neq(a[8],void 0)?c.sequence([function(e){return a[9]!==void 0?c.sequence([function(e){return c.blobs.neq(a[12],void 0)?c.sequence([function(e){return d[10]=c.createArray(),d[19]=(d[10].push(a[9]),d[10]),d[19]=(d[10].push(a[1]),d[10]),d[11]=c.toJSON(d[10]),d[12]=c.createArray(),d[19]=(d[12].push(c.i64.cast([0,32])),d[12]),c.nativeOperation(b("LSGetBlobFromString.nop"),["thread_ope_key","_",a[5]].join("")).then(function(a){return a=a,d[13]=a[0],a})},function(e){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[13],void 0,a[12],d[12]).then(function(a){return a=a,d[14]=a[0],a})},function(a){return d[14]?d[15]=!1:d[15]=!0,d[15]?c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] Got null keys while deriving message list OPE key. Returning null blobish"),d[20]="Got null keys while deriving message list OPE key. Returning null blobish",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoUtils] ","",d[20]].join("")),d[19]=c.createArray(),void 0!==void 0?d[21]=(d[19].push(void 0),d[19]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils",d[20],d[19],c.i64.cast([0,3]))},function(a){return d[16]=void 0}]):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[14],c.i64.cast([0,0])).then(function(a){return a=a,d[19]=a[0],d[20]=a[1],a})},function(a){return d[16]=d[19]}])},function(e){return c.blobs.neq(d[16],void 0)?c.sequence([function(e){return c.nativeOperation(b("LSGetBlobFromInt64BE.nop"),a[6]).then(function(a){return a=a,d[19]=a[0],a})},function(a){return c.nativeOperation(b("LSTruncateSortKey.nop"),d[19]).then(function(a){return a=a,d[20]=a[0],a})},function(a){return c.nativeOperation(b("LSOpeEncrypt.nop"),d[16],d[20],c.i64.cast([0,16])).then(function(a){return a=a,d[21]=a[0],a})},function(a){return c.nativeOperation(b("LSBinaryToHex.nop"),d[21]).then(function(a){return a=a,d[22]=a[0],a})},function(a){return c.nativeOperation(b("LSGetBlobFromString.nop"),d[11]).then(function(a){return a=a,d[23]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF9rZXlfc2NvcGU="),d[23]).then(function(a){return a=a,d[24]=a[0],a})},function(e){return c.nativeOperation(b("LSOcmfClientMap.nop"),a[11],d[24]).then(function(a){return a=a,d[25]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[25]).then(function(a){return a=a,d[26]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[9]).then(function(a){return a=a,d[27]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("bWFpbGJveF9pZF9zY29wZQ=="),d[27]).then(function(a){return a=a,d[28]=a[0],a})},function(e){return c.nativeOperation(b("LSOcmfClientMap.nop"),a[11],d[28]).then(function(a){return a=a,d[29]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[29]).then(function(a){return a=a,d[30]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[4]).then(function(a){return a=a,d[31]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("bWVzc2FnZV9pZF9zY29wZQ=="),d[31]).then(function(a){return a=a,d[32]=a[0],a})},function(e){return c.nativeOperation(b("LSOcmfClientMap.nop"),a[11],d[32]).then(function(a){return a=a,d[33]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[33]).then(function(a){return a=a,d[34]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[4]).then(function(a){return a=a,d[35]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF90b2tlbl9zYWx0X3Njb3Bl"),d[35]).then(function(a){return a=a,d[36]=a[0],a})},function(e){return c.nativeOperation(b("LSOcmfClientMap.nop"),a[11],d[36]).then(function(a){return a=a,d[37]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[37]).then(function(a){return a=a,d[38]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[5]).then(function(a){return a=a,d[39]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("dGhyZWFkX2lkX3Njb3Bl"),d[39]).then(function(a){return a=a,d[40]=a[0],a})},function(e){return c.nativeOperation(b("LSOcmfClientMap.nop"),a[11],d[40]).then(function(a){return a=a,d[41]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[41]).then(function(a){return a=a,d[42]=a[0],a})},function(e){return d[43]=new c.Map(),d[43].set("attachment_index_key",d[26]==null?"":d[26]),d[43].set("backup_ent_fbid",a[0]),d[43].set("delivery_object_id",a[1]),d[43].set("device_id",a[8]),d[43].set("mailbox_partial_id",d[30]==null?"":d[30]),d[43].set("media_type",a[3]),d[43].set("message_partial_id",d[34]==null?"":d[34]),d[43].set("product_type",a[2]),d[43].set("salt_partial_id",d[38]==null?"":d[38]),d[43].set("sort_key",d[22]==null?"":d[22]),d[43].set("thread_partial_id",d[42]==null?"":d[42]),d[43].set("isOpenEB",a[10]===!0),d[44]=new c.Map(),d[44].set("otid",a[4]),d[44].set("server_thread_key",a[7]),d[44].set("timestamp",c.i64.to_string(a[6])),c.nativeOperation(b("LSBase64Encode.nop"),a[11]).then(function(a){return a=a,d[45]=a[0],a})},function(e){return c.nativeOperation(b("LSBase64Encode.nop"),a[12]).then(function(a){return a=a,d[46]=a[0],a})},function(e){return d[47]=new c.Map(),d[47].set("ocmf_client_state_blob",d[45]==null?"":d[45]),d[47].set("mailbox_root_key",d[46]==null?"":d[46]),d[48]=c.createArray(),d[60]=(d[48].push(a[4]),d[48]),d[60]=(d[48].push(a[1]),d[48]),d[49]=c.toJSON(d[48]),d[43].set("raw_identifiers",d[44]),d[43].set("backup_id",a[9]),d[43].set("thread_id",a[5]),c.nativeOperation(b("LSGetBlobFromString.nop"),d[49]).then(function(a){return a=a,d[50]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF90b2tlbl9zYWx0X3Njb3Bl"),d[50]).then(function(a){return a=a,d[51]=a[0],a})},function(e){return c.nativeOperation(b("LSOcmfClientMap.nop"),a[11],d[51]).then(function(a){return a=a,d[52]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[52]).then(function(a){return a=a,d[53]=a[0],a})},function(a){return d[43].set("salt_partial_access_token",d[53]==null?"":d[53]),c.nativeOperation(b("LSGetBlobFromString.nop"),d[11]).then(function(a){return a=a,d[54]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF9rZXlfc2FsdF9zY29wZQ=="),d[54]).then(function(a){return a=a,d[55]=a[0],a})},function(e){return c.nativeOperation(b("LSOcmfClientMap.nop"),a[11],d[55]).then(function(a){return a=a,d[56]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[56]).then(function(a){return a=a,d[57]=a[0],a})},function(a){return d[43].set("salt_partial_attachment_index_key",d[57]==null?"":d[57]),d[43].set("raw_tokens",d[47]),d[58]=c.toJSON(d[43]),d[59]=new c.Map(),d[59].set("payload",d[58]),a=[d[59],void 0],d[17]=a[0],d[18]=a[1]}]):c.resolve((d[19]=new c.Map(),d[19].set("error_code",c.i64.cast([0,25])),d[19].set("stored_procedure","LSEncryptedBackupsCreateResignCDNUrlPayloadStoredProcedure"),d[19].set("error_message","OPE key is null for IssueAttachmentRestoreTask"),e=[void 0,d[19]],d[17]=e[0],d[18]=e[1]))},function(a){return a=[d[17],d[18]],d[8]=a[0],d[9]=a[1],a}]):c.resolve((d[10]=new c.Map(),d[10].set("error_code",c.i64.cast([0,20])),d[10].set("stored_procedure","LSEncryptedBackupsCreateResignCDNUrlPayloadStoredProcedure"),d[10].set("error_message","Missing mailbox_root_key for IssueAttachmentRestoreTask"),e=[void 0,d[10]],d[8]=e[0],d[9]=e[1]))},function(a){return a=[d[8],d[9]],d[6]=a[0],d[7]=a[1],a}]):c.resolve((d[8]=new c.Map(),d[8].set("error_code",c.i64.cast([0,1])),d[8].set("stored_procedure","LSEncryptedBackupsCreateResignCDNUrlPayloadStoredProcedure"),d[8].set("error_message","Missing backup_id for IssueAttachmentRestoreTask"),e=[void 0,d[8]],d[6]=e[0],d[7]=e[1]))},function(a){return a=[d[6],d[7]],d[4]=a[0],d[5]=a[1],a}]):c.resolve((d[6]=new c.Map(),d[6].set("error_code",c.i64.cast([0,24])),d[6].set("stored_procedure","LSEncryptedBackupsCreateResignCDNUrlPayloadStoredProcedure"),d[6].set("error_message","Missing device_id for IssueAttachmentRestoreTask"),e=[void 0,d[6]],d[4]=e[0],d[5]=e[1]))},function(a){return a=[d[4],d[5]],d[2]=a[0],d[3]=a[1],a}]):c.resolve((d[4]=new c.Map(),d[4].set("error_code",c.i64.cast([0,22])),d[4].set("stored_procedure","LSEncryptedBackupsCreateResignCDNUrlPayloadStoredProcedure"),d[4].set("error_message","Missing ocmf_client_state_blob for IssueAttachmentRestoreTask"),e=[void 0,d[4]],d[2]=e[0],d[3]=e[1]))},function(a){return a=[d[2],d[3]],d[0]=a[0],d[1]=a[1],a}]):c.sequence([function(a){return c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,e){var f=a.done;a=a.value;return f?(f=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,1]),void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,20]),void 0,void 0],d[2]=f[0],d[3]=f[1],d[4]=f[2],d[5]=f[3],d[6]=f[4],d[7]=f[5],d[8]=f[6],d[9]=f[7],d[10]=f[8],d[11]=f[9],d[12]=f[10],d[13]=f[11],d[14]=f[12],d[15]=f[13],d[16]=f[14],d[17]=f[15],d[18]=f[16],d[19]=f[17],f):(e=a.item,c.sequence([function(a){return d[29]=e.backupTenancy,d[28]=e.encryptionVersion,d[24]=void 0,c.i64.neq(d[24],void 0)?c.resolve(d[25]=d[24]):c.sequence([function(a){return d[30]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[31]=a[0],a})},function(a){return d[31]?d[40]=(d[30].push(c.i64.cast([0,0])),d[30]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[32]=a[0],a})},function(a){return d[32]?d[40]=(d[30].push(c.i64.cast([0,2])),d[30]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[33]=a[0],a})},function(a){return d[33]?d[40]=(d[30].push(c.i64.cast([0,3])),d[30]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[34]=a[0],a})},function(a){return d[34]?d[40]=(d[30].push(c.i64.cast([0,4])),d[30]):0,d[35]=c.createArray(),d[36]=c.i64.of_int32(d[30].length),c.i64.gt(d[36],c.i64.cast([0,0]))?c.loopAsync(d[36],function(a){return d[40]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[30],d[40]).then(function(a){return a=a,d[41]=a[0],d[42]=a[1],a})},function(a){return d[43]=(d[35].push(d[41]),d[35])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[40]=c.createArray(),d[41]=c.i64.of_int32(d[35].length),c.i64.gt(d[41],c.i64.cast([0,0]))?c.loopAsync(d[41],function(a){return d[43]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[35],d[43]).then(function(a){return a=a,d[44]=a[0],d[45]=a[1],a})},function(a){return d[46]=(d[40].push(c.i64.to_string(d[44])),d[40])}])}):c.resolve()},function(a){return d[42]=d[40].join(","),d[37]=d[42]}])},function(a){return d[35].some(function(a){return c.i64.eq(d[28],a)})?d[38]=d[28]:d[38]=void 0,c.i64.neq(d[38],void 0)?d[39]=d[38]:d[39]=void 0,d[25]=d[39]}])},function(a){return c.i64.neq(d[25],void 0)?d[26]=d[25]:d[26]=c.i64.cast([0,0]),c.i64.neq(d[29],void 0)?d[27]=d[29]:d[27]=c.i64.cast([0,1]),a=[e.backupId,e.deviceId,e.mailboxRootKeyBlob,e.ocmfClientStateBlob,void 0,void 0,d[26],d[27],e.epochAuthPublicKeyBlob,e.epochAuthPrivateKeyBlob,e.devicePublicKeyBlob,e.devicePrivateKeyBlob,e.epochStoragePublicKeyBlob,e.epochStoragePrivateKeyBlob,e.obliviousValidationTokenBlob,e.authorityLevel,void 0,void 0],d[2]=a[0],d[3]=a[1],d[4]=a[2],d[5]=a[3],d[6]=a[4],d[7]=a[5],d[8]=a[6],d[9]=a[7],d[10]=a[8],d[11]=a[9],d[12]=a[10],d[13]=a[11],d[14]=a[12],d[15]=a[13],d[16]=a[14],d[17]=a[15],d[18]=a[16],d[19]=a[17]}]))})},function(a){return c.storedProcedure(b("LSFindBackup")).then(function(a){return a=a,d[21]=a[0],a})},function(e){return c.blobs.neq(d[5],void 0)?c.sequence([function(e){return c.i64.neq(d[3],void 0)?c.sequence([function(e){return d[21]!==void 0?c.sequence([function(e){return c.blobs.neq(d[4],void 0)?c.sequence([function(e){return d[30]=c.createArray(),d[39]=(d[30].push(d[21]),d[30]),d[39]=(d[30].push(a[1]),d[30]),d[31]=c.toJSON(d[30]),d[32]=c.createArray(),d[39]=(d[32].push(c.i64.cast([0,32])),d[32]),c.nativeOperation(b("LSGetBlobFromString.nop"),["thread_ope_key","_",a[5]].join("")).then(function(a){return a=a,d[33]=a[0],a})},function(a){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[33],void 0,d[4],d[32]).then(function(a){return a=a,d[34]=a[0],a})},function(a){return d[34]?d[35]=!1:d[35]=!0,d[35]?c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] Got null keys while deriving message list OPE key. Returning null blobish"),d[40]="Got null keys while deriving message list OPE key. Returning null blobish",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoUtils] ","",d[40]].join("")),d[39]=c.createArray(),void 0!==void 0?d[41]=(d[39].push(void 0),d[39]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils",d[40],d[39],c.i64.cast([0,3]))},function(a){return d[36]=void 0}]):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[34],c.i64.cast([0,0])).then(function(a){return a=a,d[39]=a[0],d[40]=a[1],a})},function(a){return d[36]=d[39]}])},function(e){return c.blobs.neq(d[36],void 0)?c.sequence([function(e){return c.nativeOperation(b("LSGetBlobFromInt64BE.nop"),a[6]).then(function(a){return a=a,d[39]=a[0],a})},function(a){return c.nativeOperation(b("LSTruncateSortKey.nop"),d[39]).then(function(a){return a=a,d[40]=a[0],a})},function(a){return c.nativeOperation(b("LSOpeEncrypt.nop"),d[36],d[40],c.i64.cast([0,16])).then(function(a){return a=a,d[41]=a[0],a})},function(a){return c.nativeOperation(b("LSBinaryToHex.nop"),d[41]).then(function(a){return a=a,d[42]=a[0],a})},function(a){return c.nativeOperation(b("LSGetBlobFromString.nop"),d[31]).then(function(a){return a=a,d[43]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF9rZXlfc2NvcGU="),d[43]).then(function(a){return a=a,d[44]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[44]).then(function(a){return a=a,d[45]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[45]).then(function(a){return a=a,d[46]=a[0],a})},function(a){return c.nativeOperation(b("LSGetBlobFromString.nop"),d[21]).then(function(a){return a=a,d[47]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("bWFpbGJveF9pZF9zY29wZQ=="),d[47]).then(function(a){return a=a,d[48]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[48]).then(function(a){return a=a,d[49]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[49]).then(function(a){return a=a,d[50]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[4]).then(function(a){return a=a,d[51]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("bWVzc2FnZV9pZF9zY29wZQ=="),d[51]).then(function(a){return a=a,d[52]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[52]).then(function(a){return a=a,d[53]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[53]).then(function(a){return a=a,d[54]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[4]).then(function(a){return a=a,d[55]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF90b2tlbl9zYWx0X3Njb3Bl"),d[55]).then(function(a){return a=a,d[56]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[56]).then(function(a){return a=a,d[57]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[57]).then(function(a){return a=a,d[58]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[5]).then(function(a){return a=a,d[59]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("dGhyZWFkX2lkX3Njb3Bl"),d[59]).then(function(a){return a=a,d[60]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[60]).then(function(a){return a=a,d[61]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[61]).then(function(a){return a=a,d[62]=a[0],a})},function(e){return d[63]=new c.Map(),d[63].set("attachment_index_key",d[46]==null?"":d[46]),d[63].set("backup_ent_fbid",a[0]),d[63].set("delivery_object_id",a[1]),d[63].set("device_id",d[3]),d[63].set("mailbox_partial_id",d[50]==null?"":d[50]),d[63].set("media_type",a[3]),d[63].set("message_partial_id",d[54]==null?"":d[54]),d[63].set("product_type",a[2]),d[63].set("salt_partial_id",d[58]==null?"":d[58]),d[63].set("sort_key",d[42]==null?"":d[42]),d[63].set("thread_partial_id",d[62]==null?"":d[62]),d[63].set("isOpenEB",a[10]===!0),d[64]=new c.Map(),d[64].set("otid",a[4]),d[64].set("server_thread_key",a[7]),d[64].set("timestamp",c.i64.to_string(a[6])),c.nativeOperation(b("LSBase64Encode.nop"),d[5]).then(function(a){return a=a,d[65]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[4]).then(function(a){return a=a,d[66]=a[0],a})},function(e){return d[67]=new c.Map(),d[67].set("ocmf_client_state_blob",d[65]==null?"":d[65]),d[67].set("mailbox_root_key",d[66]==null?"":d[66]),d[68]=c.createArray(),d[80]=(d[68].push(a[4]),d[68]),d[80]=(d[68].push(a[1]),d[68]),d[69]=c.toJSON(d[68]),d[63].set("raw_identifiers",d[64]),d[63].set("backup_id",d[21]),d[63].set("thread_id",a[5]),c.nativeOperation(b("LSGetBlobFromString.nop"),d[69]).then(function(a){return a=a,d[70]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF90b2tlbl9zYWx0X3Njb3Bl"),d[70]).then(function(a){return a=a,d[71]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[71]).then(function(a){return a=a,d[72]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[72]).then(function(a){return a=a,d[73]=a[0],a})},function(a){return d[63].set("salt_partial_access_token",d[73]==null?"":d[73]),c.nativeOperation(b("LSGetBlobFromString.nop"),d[31]).then(function(a){return a=a,d[74]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF9rZXlfc2FsdF9zY29wZQ=="),d[74]).then(function(a){return a=a,d[75]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[75]).then(function(a){return a=a,d[76]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[76]).then(function(a){return a=a,d[77]=a[0],a})},function(a){return d[63].set("salt_partial_attachment_index_key",d[77]==null?"":d[77]),d[63].set("raw_tokens",d[67]),d[78]=c.toJSON(d[63]),d[79]=new c.Map(),d[79].set("payload",d[78]),a=[d[79],void 0],d[37]=a[0],d[38]=a[1]}]):c.resolve((d[39]=new c.Map(),d[39].set("error_code",c.i64.cast([0,25])),d[39].set("stored_procedure","LSEncryptedBackupsCreateResignCDNUrlPayloadStoredProcedure"),d[39].set("error_message","OPE key is null for IssueAttachmentRestoreTask"),e=[void 0,d[39]],d[37]=e[0],d[38]=e[1]))},function(a){return a=[d[37],d[38]],d[28]=a[0],d[29]=a[1],a}]):c.resolve((d[30]=new c.Map(),d[30].set("error_code",c.i64.cast([0,20])),d[30].set("stored_procedure","LSEncryptedBackupsCreateResignCDNUrlPayloadStoredProcedure"),d[30].set("error_message","Missing mailbox_root_key for IssueAttachmentRestoreTask"),e=[void 0,d[30]],d[28]=e[0],d[29]=e[1]))},function(a){return a=[d[28],d[29]],d[26]=a[0],d[27]=a[1],a}]):c.resolve((d[28]=new c.Map(),d[28].set("error_code",c.i64.cast([0,1])),d[28].set("stored_procedure","LSEncryptedBackupsCreateResignCDNUrlPayloadStoredProcedure"),d[28].set("error_message","Missing backup_id for IssueAttachmentRestoreTask"),e=[void 0,d[28]],d[26]=e[0],d[27]=e[1]))},function(a){return a=[d[26],d[27]],d[24]=a[0],d[25]=a[1],a}]):c.resolve((d[26]=new c.Map(),d[26].set("error_code",c.i64.cast([0,24])),d[26].set("stored_procedure","LSEncryptedBackupsCreateResignCDNUrlPayloadStoredProcedure"),d[26].set("error_message","Missing device_id for IssueAttachmentRestoreTask"),e=[void 0,d[26]],d[24]=e[0],d[25]=e[1]))},function(a){return a=[d[24],d[25]],d[22]=a[0],d[23]=a[1],a}]):c.resolve((d[24]=new c.Map(),d[24].set("error_code",c.i64.cast([0,22])),d[24].set("stored_procedure","LSEncryptedBackupsCreateResignCDNUrlPayloadStoredProcedure"),d[24].set("error_message","Missing ocmf_client_state_blob for IssueAttachmentRestoreTask"),e=[void 0,d[24]],d[22]=e[0],d[23]=e[1]))},function(a){return a=[d[22],d[23]],d[0]=a[0],d[1]=a[1],a}])},function(a){return a=[d[0],d[1]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsCreateResignCDNUrlPayloadStoredProcedure";a.__tables__=["secure_encrypted_backups_client_state"];e.exports=a}),null);
__d("LSCreateResignCDNUrlPayloadStoredProcedure",["LSCreateResignCDNUrlPayload","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSCreateResignCDNUrlPayload"),e.backupEntFbid,e.deliveryObjectId,e.productType,e.mediaType,e.messageId,e.threadId,e.sortOrder,e.serverThreadKey,e.deviceId,e.backupId,e.isOpenEb,e.ocmfClientState,e.mailboxRootKey);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSIssueAttachmentRestoreTask",["LSArrayGetObjectAt","LSBase64Encode.nop","LSBinaryToHex.nop","LSCreateDerivedKeys.nop","LSFindBackup","LSGetBlobFromInt64BE.nop","LSGetBlobFromString.nop","LSHmac_v2.nop","LSIsEncryptionVersionSecure","LSIssueNewTask","LSLogMebClientEvent.nop","LSOcmfClientMap.nop","LSOpeEncrypt.nop","LSQplAnnotateString.nop","LSQplMarkEnd.nop","LSQplMarkPoint.nop","LSQplStartTrace.nop","LSTruncateSortKey.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure] Beginning execution."),a[7]!==void 0?c.resolve(d[1]=a[7]):c.sequence([function(a){return d[28]=c.i64.random(),d[29]=c.i64.to_string(d[28]),d[29]!==void 0?c.nativeOperation(b("LSQplStartTrace.nop"),c.i64.cast([0,679684335]),d[29],!0,void 0):c.resolve()},function(a){return d[1]=d[29]}])},function(a){return d[1]!==void 0?c.nativeOperation(b("LSQplMarkPoint.nop"),c.i64.cast([0,679684335]),d[1],"LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure_start"):c.resolve()},function(a){return c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,e){var f=a.done;a=a.value;return f?(f=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,1]),void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,20]),void 0,void 0],d[2]=f[0],d[3]=f[1],d[4]=f[2],d[5]=f[3],d[6]=f[4],d[7]=f[5],d[8]=f[6],d[9]=f[7],d[10]=f[8],d[11]=f[9],d[12]=f[10],d[13]=f[11],d[14]=f[12],d[15]=f[13],d[16]=f[14],d[17]=f[15],d[18]=f[16],d[19]=f[17],f):(e=a.item,c.sequence([function(a){return d[33]=e.backupTenancy,d[32]=e.encryptionVersion,d[28]=void 0,c.i64.neq(d[28],void 0)?c.resolve(d[29]=d[28]):c.sequence([function(a){return d[34]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[35]=a[0],a})},function(a){return d[35]?d[44]=(d[34].push(c.i64.cast([0,0])),d[34]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[36]=a[0],a})},function(a){return d[36]?d[44]=(d[34].push(c.i64.cast([0,2])),d[34]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[37]=a[0],a})},function(a){return d[37]?d[44]=(d[34].push(c.i64.cast([0,3])),d[34]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[38]=a[0],a})},function(a){return d[38]?d[44]=(d[34].push(c.i64.cast([0,4])),d[34]):0,d[39]=c.createArray(),d[40]=c.i64.of_int32(d[34].length),c.i64.gt(d[40],c.i64.cast([0,0]))?c.loopAsync(d[40],function(a){return d[44]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[34],d[44]).then(function(a){return a=a,d[45]=a[0],d[46]=a[1],a})},function(a){return d[47]=(d[39].push(d[45]),d[39])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[44]=c.createArray(),d[45]=c.i64.of_int32(d[39].length),c.i64.gt(d[45],c.i64.cast([0,0]))?c.loopAsync(d[45],function(a){return d[47]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[39],d[47]).then(function(a){return a=a,d[48]=a[0],d[49]=a[1],a})},function(a){return d[50]=(d[44].push(c.i64.to_string(d[48])),d[44])}])}):c.resolve()},function(a){return d[46]=d[44].join(","),d[41]=d[46]}])},function(a){return d[39].some(function(a){return c.i64.eq(d[32],a)})?d[42]=d[32]:d[42]=void 0,c.i64.neq(d[42],void 0)?d[43]=d[42]:d[43]=void 0,d[29]=d[43]}])},function(a){return c.i64.neq(d[29],void 0)?d[30]=d[29]:d[30]=c.i64.cast([0,0]),c.i64.neq(d[33],void 0)?d[31]=d[33]:d[31]=c.i64.cast([0,1]),a=[e.backupId,e.deviceId,e.mailboxRootKeyBlob,e.ocmfClientStateBlob,void 0,void 0,d[30],d[31],e.epochAuthPublicKeyBlob,e.epochAuthPrivateKeyBlob,e.devicePublicKeyBlob,e.devicePrivateKeyBlob,e.epochStoragePublicKeyBlob,e.epochStoragePrivateKeyBlob,e.obliviousValidationTokenBlob,e.authorityLevel,void 0,void 0],d[2]=a[0],d[3]=a[1],d[4]=a[2],d[5]=a[3],d[6]=a[4],d[7]=a[5],d[8]=a[6],d[9]=a[7],d[10]=a[8],d[11]=a[9],d[12]=a[10],d[13]=a[11],d[14]=a[12],d[15]=a[13],d[16]=a[14],d[17]=a[15],d[18]=a[16],d[19]=a[17]}]))})},function(a){return c.storedProcedure(b("LSFindBackup")).then(function(a){return a=a,d[21]=a[0],a})},function(e){return c.blobs.neq(d[5],void 0)?c.i64.neq(d[3],void 0)?d[21]!==void 0?c.blobs.neq(d[4],void 0)?c.sequence([function(e){return d[28]=c.createArray(),d[35]=(d[28].push(d[21]),d[28]),d[35]=(d[28].push(a[1]),d[28]),d[29]=c.toJSON(d[28]),d[30]=c.createArray(),d[35]=(d[30].push(c.i64.cast([0,32])),d[30]),c.nativeOperation(b("LSGetBlobFromString.nop"),["thread_ope_key","_",a[5]].join("")).then(function(a){return a=a,d[31]=a[0],a})},function(a){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[31],void 0,d[4],d[30]).then(function(a){return a=a,d[32]=a[0],a})},function(a){return d[32]?d[33]=!1:d[33]=!0,d[33]?c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] Got null keys while deriving message list OPE key. Returning null blobish"),d[36]="Got null keys while deriving message list OPE key. Returning null blobish",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoUtils] ","",d[36]].join("")),d[35]=c.createArray(),void 0!==void 0?d[37]=(d[35].push(void 0),d[35]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils",d[36],d[35],c.i64.cast([0,3]))},function(a){return d[34]=void 0}]):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[32],c.i64.cast([0,0])).then(function(a){return a=a,d[35]=a[0],d[36]=a[1],a})},function(a){return d[34]=d[35]}])},function(e){return c.blobs.neq(d[34],void 0)?c.sequence([function(e){return c.i64.neq(a[9],void 0)?d[35]=a[9]:d[35]=c.i64.cast([-1,4294967295]),c.nativeOperation(b("LSGetBlobFromInt64BE.nop"),a[6]).then(function(a){return a=a,d[36]=a[0],a})},function(a){return c.nativeOperation(b("LSTruncateSortKey.nop"),d[36]).then(function(a){return a=a,d[37]=a[0],a})},function(a){return c.nativeOperation(b("LSOpeEncrypt.nop"),d[34],d[37],c.i64.cast([0,16])).then(function(a){return a=a,d[38]=a[0],a})},function(a){return c.nativeOperation(b("LSBinaryToHex.nop"),d[38]).then(function(a){return a=a,d[39]=a[0],a})},function(a){return c.nativeOperation(b("LSGetBlobFromString.nop"),d[29]).then(function(a){return a=a,d[40]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF9rZXlfc2NvcGU="),d[40]).then(function(a){return a=a,d[41]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[41]).then(function(a){return a=a,d[42]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[42]).then(function(a){return a=a,d[43]=a[0],a})},function(a){return c.nativeOperation(b("LSGetBlobFromString.nop"),d[21]).then(function(a){return a=a,d[44]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("bWFpbGJveF9pZF9zY29wZQ=="),d[44]).then(function(a){return a=a,d[45]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[45]).then(function(a){return a=a,d[46]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[46]).then(function(a){return a=a,d[47]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[4]).then(function(a){return a=a,d[48]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("bWVzc2FnZV9pZF9zY29wZQ=="),d[48]).then(function(a){return a=a,d[49]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[49]).then(function(a){return a=a,d[50]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[50]).then(function(a){return a=a,d[51]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[4]).then(function(a){return a=a,d[52]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF90b2tlbl9zYWx0X3Njb3Bl"),d[52]).then(function(a){return a=a,d[53]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[53]).then(function(a){return a=a,d[54]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[54]).then(function(a){return a=a,d[55]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[5]).then(function(a){return a=a,d[56]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("dGhyZWFkX2lkX3Njb3Bl"),d[56]).then(function(a){return a=a,d[57]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[57]).then(function(a){return a=a,d[58]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[58]).then(function(a){return a=a,d[59]=a[0],a})},function(e){return d[60]=new c.Map(),d[60].set("attachment_index_key",d[43]==null?"":d[43]),d[60].set("backup_ent_fbid",a[0]),d[60].set("delivery_object_id",a[1]),d[60].set("device_id",d[3]),d[60].set("mailbox_partial_id",d[47]==null?"":d[47]),d[60].set("media_type",a[3]),d[60].set("message_partial_id",d[51]==null?"":d[51]),d[60].set("product_type",a[2]),d[60].set("salt_partial_id",d[55]==null?"":d[55]),d[60].set("sort_key",d[39]==null?"":d[39]),d[60].set("thread_partial_id",d[59]==null?"":d[59]),d[60].set("trace_id",d[1]),d[60].set("source",d[35]),d[61]=new c.Map(),d[61].set("otid",a[4]),d[61].set("server_thread_key",a[8]),d[61].set("timestamp",c.i64.to_string(a[6])),c.nativeOperation(b("LSBase64Encode.nop"),d[5]).then(function(a){return a=a,d[62]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[4]).then(function(a){return a=a,d[63]=a[0],a})},function(e){return d[64]=new c.Map(),d[64].set("ocmf_client_state_blob",d[62]==null?"":d[62]),d[64].set("mailbox_root_key",d[63]==null?"":d[63]),d[65]=c.createArray(),d[76]=(d[65].push(a[4]),d[65]),d[76]=(d[65].push(a[1]),d[65]),d[66]=c.toJSON(d[65]),d[60].set("raw_identifiers",d[61]),d[60].set("backup_id",d[21]),d[60].set("thread_id",a[5]),c.nativeOperation(b("LSGetBlobFromString.nop"),d[66]).then(function(a){return a=a,d[67]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF90b2tlbl9zYWx0X3Njb3Bl"),d[67]).then(function(a){return a=a,d[68]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[68]).then(function(a){return a=a,d[69]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[69]).then(function(a){return a=a,d[70]=a[0],a})},function(a){return d[60].set("salt_partial_access_token",d[70]==null?"":d[70]),c.nativeOperation(b("LSGetBlobFromString.nop"),d[29]).then(function(a){return a=a,d[71]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF9rZXlfc2FsdF9zY29wZQ=="),d[71]).then(function(a){return a=a,d[72]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[72]).then(function(a){return a=a,d[73]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[73]).then(function(a){return a=a,d[74]=a[0],a})},function(a){return d[60].set("salt_partial_attachment_index_key",d[74]==null?"":d[74]),d[60].set("raw_tokens",d[64]),void 0!==void 0?d[60].set("access_token_secret",void 0):0,void 0!==void 0?d[60].set("primary_key_secret",void 0):0,d[75]=c.toJSON(d[60]),c.storedProcedure(b("LSIssueNewTask"),"encrypted_backups_attachment_restore",c.i64.cast([0,50020]),d[75],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}]):c.sequence([function(a){return d[37]=["LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure",".","OPE_key_is_null"].join(""),d[1]!==void 0?d[37]!==void 0?c.nativeOperation(b("LSQplAnnotateString.nop"),c.i64.cast([0,679684335]),d[1],"error",d[37]):c.resolve():c.resolve()},function(a){return d[1]!==void 0?c.nativeOperation(b("LSQplMarkEnd.nop"),c.i64.cast([0,679684335]),d[1],!1):c.resolve()},function(a){return d[36]="OPE key is null for IssueAttachmentRestoreTask",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure] ","",d[36]].join("")),d[35]=c.createArray(),void 0!==void 0?d[38]=(d[35].push(void 0),d[35]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure",d[36],d[35],c.i64.cast([0,3]))}])}]):c.sequence([function(a){return d[30]=["LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure",".","missing_mailbox_root_key"].join(""),d[1]!==void 0?d[30]!==void 0?c.nativeOperation(b("LSQplAnnotateString.nop"),c.i64.cast([0,679684335]),d[1],"error",d[30]):c.resolve():c.resolve()},function(a){return d[1]!==void 0?c.nativeOperation(b("LSQplMarkEnd.nop"),c.i64.cast([0,679684335]),d[1],!1):c.resolve()},function(a){return d[29]="Missing mailbox_root_key for IssueAttachmentRestoreTask",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure] ","",d[29]].join("")),d[28]=c.createArray(),void 0!==void 0?d[31]=(d[28].push(void 0),d[28]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure",d[29],d[28],c.i64.cast([0,3]))}]):c.sequence([function(a){return d[30]=["LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure",".","missing_backup_id"].join(""),d[1]!==void 0?d[30]!==void 0?c.nativeOperation(b("LSQplAnnotateString.nop"),c.i64.cast([0,679684335]),d[1],"error",d[30]):c.resolve():c.resolve()},function(a){return d[1]!==void 0?c.nativeOperation(b("LSQplMarkEnd.nop"),c.i64.cast([0,679684335]),d[1],!1):c.resolve()},function(a){return d[29]="Missing backup_id for IssueAttachmentRestoreTask",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure] ","",d[29]].join("")),d[28]=c.createArray(),void 0!==void 0?d[31]=(d[28].push(void 0),d[28]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure",d[29],d[28],c.i64.cast([0,3]))}]):c.sequence([function(a){return d[30]=["LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure",".","missing_device_id"].join(""),d[1]!==void 0?d[30]!==void 0?c.nativeOperation(b("LSQplAnnotateString.nop"),c.i64.cast([0,679684335]),d[1],"error",d[30]):c.resolve():c.resolve()},function(a){return d[1]!==void 0?c.nativeOperation(b("LSQplMarkEnd.nop"),c.i64.cast([0,679684335]),d[1],!1):c.resolve()},function(a){return d[29]="Missing device_id for IssueAttachmentRestoreTask",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure] ","",d[29]].join("")),d[28]=c.createArray(),void 0!==void 0?d[31]=(d[28].push(void 0),d[28]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure",d[29],d[28],c.i64.cast([0,3]))}]):c.sequence([function(a){return d[30]=["LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure",".","missing_ocmf_client_state_blob"].join(""),d[1]!==void 0?d[30]!==void 0?c.nativeOperation(b("LSQplAnnotateString.nop"),c.i64.cast([0,679684335]),d[1],"error",d[30]):c.resolve():c.resolve()},function(a){return d[1]!==void 0?c.nativeOperation(b("LSQplMarkEnd.nop"),c.i64.cast([0,679684335]),d[1],!1):c.resolve()},function(a){return d[29]="Missing ocmf_client_state_blob for IssueAttachmentRestoreTask",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure] ","",d[29]].join("")),d[28]=c.createArray(),void 0!==void 0?d[31]=(d[28].push(void 0),d[28]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure",d[29],d[28],c.i64.cast([0,3]))}])},function(a){return d[22]=c.i64.of_float(Date.now()),d[23]=c.i64.random(),d[25]="Finishing execution. Execution time: ",d[26]=c.i64.to_string(c.i64.sub(d[22],d[0])),d[27]=" ms",d[24]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure] ",d[24],d[25],d[24],d[26],d[24],d[27]].join("")),c.i64.eq(c.i64.mod_(d[23],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[28]=",",d[29]=c.createArray(),void 0!==void 0?d[30]=(d[29].push(void 0),d[29]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure",[d[25],d[28],d[26],d[28],d[27]].join(""),d[29],c.i64.cast([0,4]))):c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure";a.__tables__=["secure_encrypted_backups_client_state"];e.exports=a}),null);
__d("LSIssueAttachmentRestoreTaskStoredProcedure",["LSIssueAttachmentRestoreTask","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSIssueAttachmentRestoreTask"),e.backupEntFbid,e.deliveryObjectId,e.productType,e.mediaType,e.messageId,e.threadId,e.sortOrder,e.traceId,e.serverThreadKey,e.source);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("EBLSResignCdnUrl",["EBCreateResignCDNUrlPayload","EBEnqueueResignCdnUrlRequests","EBLS","I64","LSCreateResignCDNUrlPayloadStoredProcedure","LSFactory","LSIssueAttachmentRestoreTaskStoredProcedure","LSShape","MAWConfig","MAWEBLSInWorkerSwitch","MAWEBSwitch","ReQL","WAJids","WAResultOrError","WATagsLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o,p=d("WATagsLogger").TAGS(["labyrinth_web","EBLSResignCdnUrl"]);e="-8";var q=(o||(o=d("I64"))).of_string(e);async function a(a){p.LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Resigning cdn url with EBLS"])));try{var b=(await d("EBLS").init()).db;await b.runInTransaction(function(b){var e={backupEntFbid:q,deliveryObjectId:a.deliveryObjectId,mediaType:a.mediaType,messageId:a.messageId,productType:a.productType,serverThreadKey:null,sortOrder:(o||(o=d("I64"))).of_float(a.sortOrder),threadId:a.threadId,traceId:a.traceId.toString()};return c("LSIssueAttachmentRestoreTaskStoredProcedure")(c("LSFactory")(b),e)},"readonly",void 0,void 0,f.id+":51");p.LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Resigned cdn url with EBLS successfully"])))}catch(a){p.ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Failed to resign cdn url with EBLS: ",""])),a)}}async function b(a){var b=a.chatJid,e=a.deliveryObjectId,g=a.externalId,h=a.mediaDownloadFlow,i=a.mediaType;a=a.sortOrderMs;p.LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["Resigning cdn url with EBLS GraphQL"])));h==null||h.addPoint("resign_cdn_url_gql_ebls_start");var j=(await d("EBLS").init()).db;h==null||h.addPoint("resign_cdn_url_gql_ebls_end");var s={backupEntFbid:q,deliveryObjectId:e,mediaType:i,messageId:g,productType:d("MAWConfig").getConfig().productTypeForEBAttachments,sortOrder:(o||(o=d("I64"))).of_float(a),threadId:d("WAJids").threadIdForChatJid(b)};h==null||h.addPoint("resign_cdn_url_gql_payload_start");var t=await j.runInTransaction(function(a){return c("LSCreateResignCDNUrlPayloadStoredProcedure")(c("LSFactory")(a),s)},"readwrite",void 0,void 0,f.id+":109"),u=t[0];t=t[1];u=u!=null?d("LSShape").toRecord(u):null;if(u==null){i=await d("EBCreateResignCDNUrlPayload").createMediaRestorePayloadFromEBDB({deliveryObjectId:e,mediaType:i,messageId:g,productType:d("MAWConfig").getConfig().productTypeForEBAttachments,sortOrderMs:a,threadId:d("WAJids").threadIdForChatJid(b)});if(i!=null)h==null||h.addPoint("resign_cdn_url_gql_js_payload_created"),u={payload:JSON.stringify(i)};else{g=t==null?{}:d("LSShape").toRecord(t);p.ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["Failed to create payload. stored procedure: ",", error code: ",", error message: ",""])),g.stored_procedure,g.error_code,g.error_message);h==null||h.addPoint("resign_cdn_url_gql_payload_fail");a=await r(j);h==null||h.addAnnotations({bool:babelHelpers.extends({},a,{isEbEnabled:c("MAWEBSwitch").isEnabled(),isEbEnabledWorker:c("MAWEBLSInWorkerSwitch").isEnabled()}),string:{resign_cdn_url_payload_fail_reason:g.error_message}});return d("WAResultOrError").makeError("create-payload-failed")}}h==null||h.addPoint("resign_cdn_url_gql_payload_end");h==null||h.addPoint("resign_cdn_url_gql_restore_start");b=await d("EBEnqueueResignCdnUrlRequests").enqueueResignCdnUrl(e,u,p,h);if(!b.success){p.WARN(m||(m=babelHelpers.taggedTemplateLiteralLoose(["Resigning cdn url with EBLS GraphQL failed: ",""])),b.error);h==null||h.addPoint("resign_cdn_url_gql_restore_fail");return b}h==null||h.addPoint("resign_cdn_url_gql_restore_end");p.LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["Resigning cdn url with EBLS GraphQL succeeded"])));return d("WAResultOrError").makeResult(b.value)}function r(a){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.secure_encrypted_backups_client_state)).then(function(a){return{hasDeviceId:(a==null?void 0:a.deviceId)!=null,hasMailboxRootKey:(a==null?void 0:a.mailboxRootKeyBlob)!=null,hasOcmfClientState:(a==null?void 0:a.ocmfClientStateBlob)!=null}})}g.eblsResignCdnUrl=a;g.eblsResignCdnUrlWithGraphQL=b}),98);/*FB_PKG_DELIM*/
__d("RelayFBConsoleLog",["cr:1121434"],(function(a,b,c,d,e,f,g){"use strict";a=b("cr:1121434")!=null?b("cr:1121434")():null;c=a;g["default"]=c}),98);
__d("RelayFBScheduler",[],(function(a,b,c,d,e,f){"use strict";a={cancel:function(){},schedule:function(a){a();return""}};b=a;f["default"]=b}),66);
__d("liveQueryFetchWithWWWInitialWrapper",["JSResource","RelayRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f){return e.config_id!=null?d("RelayRuntime").Observable.create(function(d){var g;c("promiseDone")(c("JSResource")("liveQueryFetchWithWWWInitial").__setRef("liveQueryFetchWithWWWInitialWrapper").load().then(function(c){c=c(a,b,e,f);g=c.subscribe(d)})["catch"](function(a){return d.error(a)}));return function(){g&&g.unsubscribe()}}):f}g["default"]=a}),98);
__d("RelayFBEnvironmentDefinitions",["RelayFBConsoleLog","RelayFBEnvironmentActorID","RelayFBGCScheduler","RelayFBHandlerProvider","RelayFBOperationLoader","RelayFBScheduler","RelayFieldLogger","createRelayFBNetwork","createRelayFBNetworkFetch","createRelayFBSubscribeFunction","getRelayFBMissingFieldHandlers","liveQueryFetchWithWWWInitialWrapper","relay-runtime","relayFBGetDataID"],(function(a,b,c,d,e,f){"use strict";var g=["actorID","handlerProvider","log","missingFieldHandlers","operationLoader","store","relayFieldLogger","scheduler","getDataID"],h=["networkConfig"],i=b("RelayFBEnvironmentActorID").getActorID,j=(c=b("relay-runtime")).Environment,k=c.QueryResponseCache,l=c.RecordSource,m=c.Store;function n(a){var c,d,e=a.actorID,f=a.handlerProvider;f=f===void 0?b("RelayFBHandlerProvider"):f;var i=a.log;c=i===void 0?(c=a.log)!=null?c:b("RelayFBConsoleLog"):i;i=a.missingFieldHandlers;i=i===void 0?b("getRelayFBMissingFieldHandlers")():i;var n=a.operationLoader;n=n===void 0?b("RelayFBOperationLoader"):n;var o=a.store;d=o===void 0?new m(new l(),{getDataID:(d=a.getDataID)!=null?d:b("relayFBGetDataID"),gcReleaseBufferSize:10,gcScheduler:b("RelayFBGCScheduler"),operationLoader:b("RelayFBOperationLoader"),queryCacheExpirationTime:5*60*1e3,log:c}):o;o=a.relayFieldLogger;o=o===void 0?b("RelayFieldLogger").create():o;var p=a.scheduler;p=p===void 0?b("RelayFBScheduler"):p;var q=a.getDataID;q=q===void 0?b("relayFBGetDataID"):q;a=babelHelpers.objectWithoutPropertiesLoose(a,g);var r={actorID:e};if(a.network)return new j(babelHelpers["extends"]({},a,{handlerProvider:f,log:c,missingFieldHandlers:i,operationLoader:n,store:d,options:r,relayFieldLogger:o,scheduler:p,getDataID:q}));else{var s,t,u=a.networkConfig;a=babelHelpers.objectWithoutPropertiesLoose(a,h);s=(s=u==null?void 0:u.queryResponseCache)!=null?s:new k({size:10,ttl:5*60*1e3});t=(t=u==null?void 0:u.liveQueryFetchWithWWWInitialFn)!=null?t:b("liveQueryFetchWithWWWInitialWrapper");u=b("createRelayFBNetwork")(b("createRelayFBNetworkFetch")(babelHelpers["extends"]({},u,{liveQueryFetchWithWWWInitialFn:t,queryResponseCache:s,actorID:e})),b("createRelayFBSubscribeFunction")({queryResponseCache:s,actorID:e}));return new j(babelHelpers["extends"]({},a,{handlerProvider:f,log:c,missingFieldHandlers:i,operationLoader:n,store:d,network:u,options:r,relayFieldLogger:o,scheduler:p,getDataID:q}))}}function a(a){var b=new Map();return{getForActorID:function(c,d){var e=c+(d!=null?d:""),f=b.get(e);f||(f=n(a(c,d)),b.set(e,f));return f},commitLocalUpdateForEachEnvironment:function(a){var c=function(){var b=d[1];b.commitUpdate(function(c){a(i(b),b,c)})};for(var d of b)c()}}}e.exports={createEnvironment:n,createEnvironmentFactory:a}}),null);
__d("RelayFBEnvironmentFactory",["RelayFBEnvironmentDefinitions"],(function(a,b,c,d,e,f){"use strict";a=b("RelayFBEnvironmentDefinitions").createEnvironmentFactory;e.exports=a(function(a){return{configName:"RelayFBEnvironment",actorID:a}})}),null);
__d("react-relay/ReactRelayContainerUtils",[],(function(a,b,c,d,e,f){"use strict";function g(a){return a.displayName||a.name||"Component"}function a(a){return"Relay("+g(a)+")"}e.exports={getComponentName:g,getContainerName:a}}),null);
__d("react-relay/isRelayEnvironment",[],(function(a,b,c,d,e,f){"use strict";function a(a){return typeof a==="object"&&a!==null&&typeof a.check==="function"&&typeof a.lookup==="function"&&typeof a.retain==="function"&&typeof a.execute==="function"&&typeof a.subscribe==="function"}e.exports=a}),null);
__d("react-relay/RelayContext",["invariant","react-relay/isRelayEnvironment"],(function(a,b,c,d,e,f,g){"use strict";function a(a){h(a)||g(0,6172,a);return a}function h(a){return typeof a==="object"&&a!==null&&!Array.isArray(a)&&b("react-relay/isRelayEnvironment")(a.environment)}e.exports={assertRelayContext:a,isRelayContext:h}}),null);
__d("react-relay/ReactRelayQueryRendererContext",["react"],(function(a,b,c,d,e,f){"use strict";var g;a=g||b("react");e.exports=a.createContext({rootIsQueryRenderer:!1})}),null);
__d("react-relay/buildReactRelayContainer",["invariant","react","react-relay/ReactRelayContainerUtils","react-relay/ReactRelayContext","react-relay/ReactRelayQueryRendererContext","react-relay/assertFragmentMap","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("react-relay/ReactRelayContainerUtils").getComponentName,j=b("react-relay/ReactRelayContainerUtils").getContainerName,k=h||(h=b("react")),l=b("relay-runtime").getFragment,m=k.useContext;function a(a,c,d){var f=j(a);b("react-relay/assertFragmentMap")(i(a),c);var h={};for(var n in c)h[n]=l(c[n]);var o=d(a,h);o.displayName=f;function p(a,c){var d=m(b("react-relay/ReactRelayContext"));d!=null||g(0,18241,f,f);var e=m(b("react-relay/ReactRelayQueryRendererContext"));return k.jsx(o,babelHelpers["extends"]({},a,{__relayContext:d,__rootIsQueryRenderer:(d=e==null?void 0:e.rootIsQueryRenderer)!=null?d:!1,componentRef:a.componentRef||c}))}p.displayName=p.name+" [from "+e.id+"]";p.displayName=f;c=k.forwardRef(p);return c}e.exports=a}),null);
__d("react-relay/ReactRelayFragmentContainer",["areEqual","react","react-relay/ReactRelayContainerUtils","react-relay/RelayContext","react-relay/buildReactRelayContainer","relay-runtime"],(function(a,b,c,d,e,f){"use strict";var g=["componentRef","__relayContext","__rootIsQueryRenderer"],h,i,j=b("react-relay/ReactRelayContainerUtils").getContainerName,k=b("react-relay/RelayContext").assertRelayContext,l=h||(h=b("react")),m=b("relay-runtime").createFragmentSpecResolver,n=b("relay-runtime").getDataIDsFromObject,o=b("relay-runtime").isScalarAndEqual;function p(a,c){var d,e=j(a);return d=function(d){function f(a){var b,f;f=d.call(this,a)||this;f.$3=function(){var a=f.state.resolver;f.setState(function(b){return a===b.resolver?{data:b.resolver.resolve(),relayProp:q(b.relayProp.environment)}:null})};var g=k(a.__relayContext);b=(b=a.__rootIsQueryRenderer)!=null?b:!1;b=m(g,e,c,a,b);f.state={data:b.resolve(),prevProps:a,prevPropsContext:g,relayProp:q(g.environment),resolver:b};return f}babelHelpers.inheritsLoose(f,d);f.getDerivedStateFromProps=function(a,d){var f,g=d.prevProps,h=k(a.__relayContext);f=(f=a.__rootIsQueryRenderer)!=null?f:!1;g=n(c,g);var j=n(c,a),l=d.resolver;if(d.prevPropsContext.environment!==h.environment||!(i||(i=b("areEqual")))(g,j)){l=m(h,e,c,a,f);return{data:l.resolve(),prevPropsContext:h,prevProps:a,relayProp:q(h.environment),resolver:l}}else{l.setProps(a);g=l.resolve();if(g!==d.data)return{data:g,prevProps:a,prevPropsContext:h,relayProp:q(h.environment)}}return null};var h=f.prototype;h.componentDidMount=function(){this.$1()};h.componentDidUpdate=function(a,b){this.state.resolver!==b.resolver?(b.resolver.dispose(),this.$1()):this.$2()};h.componentWillUnmount=function(){this.state.resolver.dispose()};h.shouldComponentUpdate=function(a,b){if(b.data!==this.state.data)return!0;var d=Object.keys(a);for(var e=0;e<d.length;e++){var f=d[e];if(f==="__relayContext"){if(b.prevPropsContext.environment!==this.state.prevPropsContext.environment)return!0}else if(!Object.prototype.hasOwnProperty.call(c,f)&&!o(a[f],this.props[f]))return!0}return!1};h.$2=function(){var a=this.state,b=a.data;a=a.resolver;a=a.resolve();b!==a&&this.setState({data:a})};h.$1=function(){var a=this.state,b=a.data;a=a.resolver;var c=a.resolve();a.setCallback(this.props,this.$3);b!==c&&this.setState({data:c})};h.render=function(){var b=this.props,c=b.componentRef;b.__relayContext;b.__rootIsQueryRenderer;b=babelHelpers.objectWithoutPropertiesLoose(b,g);return l.jsx(a,babelHelpers["extends"]({},b,this.state.data,{ref:c,relay:this.state.relayProp}))};return f}(l.Component),d.displayName=e,d}function q(a){return{environment:a}}function a(a,c){return b("react-relay/buildReactRelayContainer")(a,c,p)}e.exports={createContainer:a}}),null);
__d("react-relay/ReactRelayLocalQueryRenderer",["areEqual","react","react-relay/ReactRelayContext","react-relay/ReactRelayQueryRendererContext","relay-runtime"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j=b("relay-runtime").createOperationDescriptor;c=b("relay-runtime").deepFreeze;var k=b("relay-runtime").getRequest,l=i.useLayoutEffect,m=i.useState,n=i.useRef,o=i.useMemo,p={rootIsQueryRenderer:!0};function q(a){var c=i.useRef(a);(h||(h=b("areEqual")))(c.current,a)||(c.current=a);return c.current}function a(a){var c=a.environment,d=a.query,e=a.variables;a=a.render;var f=q(e),g=o(function(){var a=k(d);return j(a,f)},[d,f]);e=o(function(){return{environment:c}},[c]);var h=n(null),r=m(null),s=r[1],t=n(null);r=o(function(){c.check(g);var a=c.lookup(g.fragment);h.current=a.data;var b=c.retain(g),d=c.subscribe(a,function(a){h.current=a.data,s(h.current)}),e=!1;function f(){e||(e=!0,t.current=null,b.dispose(),d.dispose())}t.current&&t.current();t.current=f;return a},[c,g]);l(function(){var a=t.current;return function(){a&&a()}},[r]);return i.jsx(b("react-relay/ReactRelayContext").Provider,{value:e,children:i.jsx(b("react-relay/ReactRelayQueryRendererContext").Provider,{value:p,children:a({props:h.current})})})}a.displayName=a.name+" [from "+e.id+"]";e.exports=a}),null);
__d("react-relay/ReactRelayQueryFetcher",["invariant","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=b("relay-runtime").__internal.fetchQuery,i=b("relay-runtime").createOperationDescriptor,j=b("relay-runtime").isRelayModernEnvironment;a=function(){function a(a){this.$4=[],this.$8=!1,a!=null&&(this.$7=a.cacheSelectionReference,this.$4=a.selectionReferences)}var b=a.prototype;b.getSelectionReferences=function(){return{cacheSelectionReference:this.$7,selectionReferences:this.$4}};b.lookupInStore=function(a,b,c){if((c==="store-and-network"||c==="store-or-network")&&a.check(b).status==="available"){this.$9(a,b);return a.lookup(b.fragment)}return null};b.getFetchResult=function(){if(this.$8){if(this.$6!=null)return{error:this.$6};else if(this.$5!=null)return{snapshot:this.$5}}else return null};b.execute=function(a){var b=this,c=a.environment,d=a.operation;a=a.preservePreviousReferences;var e=a===void 0?!1:a,f=c.retain(d);a=function(){b.$4=b.$4.concat(f)};var g=function(){e||b.disposeSelectionReferences(),b.$4=b.$4.concat(f)},i=function(){b.$4=b.$4.concat(f)};return!j(c)?c.execute({operation:d})["do"]({error:a,complete:g,unsubscribe:i}):h(c,d)["do"]({error:a,complete:g,unsubscribe:i})};b.setOnDataChange=function(a){this.$1||g(0,4542),typeof a==="function"&&(this.$1.onDataChangeCallbacks=this.$1.onDataChangeCallbacks||[],this.$1.onDataChangeCallbacks.push(a),this.$8&&(this.$6!=null?a({error:this.$6}):this.$5!=null&&a({snapshot:this.$5})))};b.fetch=function(a,b){var c=this,d=a.environment,e=a.operation;a=a.onDataChange;var f=!1,g;this.disposeRequest();var h=this.$1&&this.$1.onDataChangeCallbacks;this.$1={environment:d,onDataChangeCallbacks:h||[],operation:e};a&&this.$1.onDataChangeCallbacks.indexOf(a)===-1&&this.$1.onDataChangeCallbacks.push(a);h=b?i(e.request.node,e.request.variables,b):e;var j=this.execute({environment:d,operation:h})["finally"](function(){c.$2=null}).subscribe({next:function(){c.$8=!0,c.$6=null,c.$10({notifyFirstResult:f})},error:function(a){c.$8=!0;c.$6=a;c.$5=null;var b=c.$1&&c.$1.onDataChangeCallbacks;f?b&&b.forEach(function(b){b({error:a})}):g=a}});this.$2={dispose:function(){j.unsubscribe()}};f=!0;if(g)throw g;return this.$5};b.retry=function(a){this.$1||g(0,4543);return this.fetch({environment:this.$1.environment,operation:this.$1.operation,onDataChange:null},a)};b.dispose=function(){this.disposeRequest(),this.disposeSelectionReferences()};b.disposeRequest=function(){this.$6=null,this.$5=null,this.$2&&this.$2.dispose(),this.$3&&(this.$3.dispose(),this.$3=null)};b.$9=function(a,b){this.$11(),this.$7=a.retain(b)};b.$11=function(){this.$7&&this.$7.dispose(),this.$7=null};b.disposeSelectionReferences=function(){this.$11(),this.$4.forEach(function(a){return a.dispose()}),this.$4=[]};b.$10=function(a){var b=this;a=a.notifyFirstResult;this.$1||g(0,4544);var c=this.$1,d=c.environment,e=c.onDataChangeCallbacks;c=c.operation;if(this.$5)return;this.$5=d.lookup(c.fragment);this.$3=d.subscribe(this.$5,function(a){if(b.$1!=null){var c=b.$1.onDataChangeCallbacks;Array.isArray(c)&&c.forEach(function(b){return b({snapshot:a})})}});if(this.$5&&a&&Array.isArray(e)){var f=this.$5;e.forEach(function(a){return a({snapshot:f})})}};return a}();e.exports=a}),null);
__d("react-relay/getRootVariablesForFragments",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";var g=b("relay-runtime").getSelector;function a(a,b){var c={};Object.keys(a).forEach(function(d){var e=a[d];d=b[d];e=g(e,d);e=e!=null&&e.kind==="PluralReaderSelector"?(d=(d=e.selectors[0])==null?void 0:d.owner.variables)!=null?d:{}:(d=e==null?void 0:e.owner.variables)!=null?d:{};c=babelHelpers["extends"]({},c,e)});return c}e.exports=a}),null);
__d("react-relay/ReactRelayPaginationContainer",["invariant","areEqual","react","react-relay/ReactRelayContainerUtils","react-relay/ReactRelayContext","react-relay/ReactRelayQueryFetcher","react-relay/RelayContext","react-relay/buildReactRelayContainer","react-relay/getRootVariablesForFragments","relay-runtime","warning"],(function(a,b,c,d,e,f,g){"use strict";var h=["componentRef"],i=["componentRef","__relayContext","__rootIsQueryRenderer"],j=["componentRef","__relayContext","__rootIsQueryRenderer"],k,l,m=b("react-relay/ReactRelayContainerUtils").getComponentName,n=b("react-relay/ReactRelayContainerUtils").getContainerName,o=b("react-relay/RelayContext").assertRelayContext,p=k||(k=b("react")),q=b("relay-runtime").ConnectionInterface,r=b("relay-runtime").Observable,s=b("relay-runtime").RelayFeatureFlags,t=b("relay-runtime").createFragmentSpecResolver,u=b("relay-runtime").createOperationDescriptor,v=b("relay-runtime").getDataIDsFromObject,w=b("relay-runtime").getRequest,x=b("relay-runtime").getVariablesFromObject,y=b("relay-runtime").isScalarAndEqual,z="forward";function A(a){var b=a.path;b||g(0,1219);return function(c){c=c[a.fragmentName];for(var d=0;d<b.length;d++){if(!c||typeof c!=="object")return null;c=c[b[d]]}return c}}function B(a){var b=a.count;b||g(0,1220);return function(a,c){return babelHelpers["extends"]({},a,(a={},a[b]=c,a))}}function C(a){var b=null,c=!1;for(var d in a){var e=a[d],f=e.metadata&&e.metadata.connection;e.metadata!==void 0&&(c=!0);f&&(f.length===1||g(0,1221,d,f.length),b&&g(0,1222),b=babelHelpers["extends"]({},f[0],{fragmentName:d}))}!c||b!==null||g(0,1223);return b||{}}function D(a){return typeof a==="function"?{error:a,complete:a,unsubscribe:function(b){typeof a==="function"&&a()}}:a||{}}function E(a,c,d){var e=m(a),f=n(a),k=C(c),E=d.getConnectionFromProps||A(k),F=d.direction||k.direction;F||g(0,1224);var G=d.getFragmentVariables||B(k);return k=function(k){function m(a){var d,e;e=k.call(this,a)||this;e.$8=function(){e.setState({data:e.$4.resolve()})};e.$13=function(){var a=e.$17();return!!(a&&a.hasMore&&a.cursor)};e.$14=function(){return!!e.$2};e.$16=function(a,b,c){if(!e.$18("refetchConnection"))return{dispose:function(){}};e.$3=c;c={count:a,cursor:null,totalCount:a};a=e.$19(c,D(b),{force:!0});return{dispose:a.unsubscribe}};e.$15=function(a,c,d){if(!e.$18("loadMore"))return{dispose:function(){}};var f=D(c),g=e.$17();if(!g){r.create(function(a){return a.complete()}).subscribe(f);return null}var h=g.edgeCount+a;if(d&&d.force)return e.$16(h,c);c=q.get();var i=c.END_CURSOR;c=c.START_CURSOR;g=g.cursor;b("warning")(g!=null&&g!=="","ReactRelayPaginationContainer: Cannot `loadMore` without valid `%s` (got `%s`)",F===z?i:c,g);i={count:a,cursor:g,totalCount:h};c=e.$19(i,f,d);return{dispose:c.unsubscribe}};var g=o(a.__relayContext);d=(d=a.__rootIsQueryRenderer)!=null?d:!1;e.$1=!1;e.$2=null;e.$3=null;s.ENABLE_CONTAINERS_SUBSCRIBE_ON_COMMIT===!0?e.$4=t(g,f,c,a,d):e.$4=t(g,f,c,a,d,e.$8);e.state={data:e.$4.resolve(),prevContext:g,contextForChildren:g,relayProp:e.$9(g),resolverGeneration:0};e.$6=!1;e.$7=!1;return e}babelHelpers.inheritsLoose(m,k);var n=m.prototype;n.componentDidMount=function(){this.$6=!1,s.ENABLE_CONTAINERS_SUBSCRIBE_ON_COMMIT===!0&&this.$10()};n.componentDidUpdate=function(a,b){s.ENABLE_CONTAINERS_SUBSCRIBE_ON_COMMIT===!0&&(b.resolverGeneration!==this.state.resolverGeneration?this.$10():this.$11())};n.UNSAFE_componentWillReceiveProps=function(a){var d,e=this,g=o(a.__relayContext);d=(d=a.__rootIsQueryRenderer)!=null?d:!1;var h=v(c,this.props),i=v(c,a),j=b("react-relay/getRootVariablesForFragments")(c,this.props),k=b("react-relay/getRootVariablesForFragments")(c,a);g.environment!==this.state.prevContext.environment||!(l||(l=b("areEqual")))(j,k)||!(l||(l=b("areEqual")))(h,i)?(this.$12(),s.ENABLE_CONTAINERS_SUBSCRIBE_ON_COMMIT===!0?this.$4=t(g,f,c,a,d):this.$4=t(g,f,c,a,d,this.$8),this.setState(function(a){return{prevContext:g,contextForChildren:g,relayProp:e.$9(g),resolverGeneration:a.resolverGeneration+1}})):this.$7||this.$4.setProps(a);j=this.$4.resolve();j!==this.state.data&&this.setState({data:j})};n.componentWillUnmount=function(){this.$6=!0,this.$12()};n.shouldComponentUpdate=function(a,b){if(b.data!==this.state.data||b.relayProp!==this.state.relayProp||b.resolverGeneration!==this.state.resolverGeneration)return!0;var d=Object.keys(a);for(var e=0;e<d.length;e++){var f=d[e];if(f==="__relayContext"){if(b.prevContext.environment!==this.state.prevContext.environment)return!0}else if(!Object.prototype.hasOwnProperty.call(c,f)&&!y(a[f],this.props[f]))return!0}return!1};n.$9=function(a){return{hasMore:this.$13,isLoading:this.$14,loadMore:this.$15,refetchConnection:this.$16,environment:a.environment}};n.$11=function(){var a=this.state.data,b=this.$4.resolve();a!==b&&this.setState({data:b})};n.$10=function(){var a=this.state.data,b=this.$4.resolve();this.$4.setCallback(this.props,this.$8);a!==b&&this.setState({data:b})};n.$17=function(){var a=this.props;a.componentRef;a=babelHelpers.objectWithoutPropertiesLoose(a,h);a=babelHelpers["extends"]({},a,this.state.data);a=E(a);if(a==null)return null;var c=q.get(),d=c.EDGES,f=c.PAGE_INFO,i=c.HAS_NEXT_PAGE,j=c.HAS_PREV_PAGE,k=c.END_CURSOR;c=c.START_CURSOR;typeof a==="object"||g(0,1225,e,d,f,a);var l=a[d];a=a[f];if(l==null||a==null)return null;Array.isArray(l)||g(0,1226,e,d,l);typeof a==="object"||g(0,1227,e,f,a);d=F===z?a[i]:a[j];a=F===z?a[k]:a[c];if(typeof d!=="boolean"||l.length!==0&&typeof a==="undefined"){b("warning")(!1,"ReactRelayPaginationContainer: Cannot paginate without %s fields in `%s`. Be sure to fetch %s (got `%s`) and %s (got `%s`).",f,e,F===z?i:j,d,F===z?k:c,a);return null}return{cursor:a,edgeCount:l.length,hasMore:d}};n.$20=function(){this.$5||(this.$5=new(b("react-relay/ReactRelayQueryFetcher"))());return this.$5};n.$18=function(a){if(this.$6){b("warning")(!1,"ReactRelayPaginationContainer: Unexpected call of `%s` on unmounted container `%s`. It looks like some instances of your container still trying to fetch data but they already unmounted. Please make sure you clear all timers, intervals, async calls, etc that may trigger `%s` call.",a,f,a);return!1}return!0};n.$19=function(a,f,h){var j=this,k=o(this.props.__relayContext);k=k.environment;var m=this.props;m.componentRef;m.__relayContext;m.__rootIsQueryRenderer;m=babelHelpers.objectWithoutPropertiesLoose(m,i);var n=babelHelpers["extends"]({},m,this.state.data),p,q=b("react-relay/getRootVariablesForFragments")(c,m);p=x(c,m);p=babelHelpers["extends"]({},q,p,this.$3);m=d.getVariables(n,{count:a.count,cursor:a.cursor},p);typeof m==="object"&&m!==null||g(0,1228,m,e);m=babelHelpers["extends"]({},m,this.$3);p=babelHelpers["extends"]({},m,p);q=h?{force:!!h.force}:void 0;q!=null&&(h==null?void 0:h.metadata)!=null&&(q.metadata=h==null?void 0:h.metadata);n=w(d.query);var s=u(n,m,q),t=null;this.$2&&this.$2.unsubscribe();this.$7=!0;var v=function(c,d){c=j.$4.resolve();j.$4.setVariables(G(p,a.totalCount),s.request.node);var e=j.$4.resolve();!(l||(l=b("areEqual")))(c,e)?j.setState({data:e,contextForChildren:{environment:j.props.__relayContext.environment}},d):d()};h=function(){j.$2===t&&(j.$2=null,j.$1=!1)};this.$1=!0;t=this.$20().execute({environment:k,operation:s,preservePreviousReferences:!0}).mergeMap(function(a){return r.create(function(b){v(a,function(){b.next(),b.complete()})})})["do"]({error:h,complete:h,unsubscribe:h}).subscribe(f||{});this.$2=this.$1?t:null;return t};n.$12=function(){this.$4.dispose(),this.$3=null,this.$7=!1,this.$2&&(this.$2.unsubscribe(),this.$2=null,this.$1=!1),this.$5&&this.$5.dispose()};n.render=function(){var c=this.props,d=c.componentRef;c.__relayContext;c.__rootIsQueryRenderer;c=babelHelpers.objectWithoutPropertiesLoose(c,j);return p.jsx(b("react-relay/ReactRelayContext").Provider,{value:this.state.contextForChildren,children:p.jsx(a,babelHelpers["extends"]({},c,this.state.data,{ref:d,relay:this.state.relayProp}))})};return m}(p.Component),k.displayName=f,k}function a(a,c,d){return b("react-relay/buildReactRelayContainer")(a,c,function(a,b){return E(a,b,d)})}e.exports={createContainer:a}}),null);
__d("react-relay/ReactRelayQueryRenderer",["areEqual","react","react-relay/ReactRelayContext","react-relay/ReactRelayQueryFetcher","react-relay/ReactRelayQueryRendererContext","relay-runtime"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j=b("relay-runtime").createOperationDescriptor;a=b("relay-runtime").deepFreeze;var k=b("relay-runtime").getRequest,l={},m={rootIsQueryRenderer:!0};c=function(a){function c(c){var d;d=a.call(this,c)||this;d.$2=function(a){var b=a.error==null?null:a.error,c=a.snapshot==null?null:a.snapshot;d.setState(function(a){var d=a.requestCacheKey;d&&delete l[d];return c===a.snapshot&&b===a.error?null:{renderProps:p(b,c,a.queryFetcher,a.retryCallbacks),snapshot:c,requestCacheKey:null}})};var e={handleDataChange:null,handleRetryAfterError:null},f;if(c.query){var g=c.query;g=k(g);f=q(g.params,c.variables);g=l[f]?l[f].queryFetcher:new(b("react-relay/ReactRelayQueryFetcher"))()}else g=new(b("react-relay/ReactRelayQueryFetcher"))();d.$1=!1;d.state=babelHelpers["extends"]({prevPropsEnvironment:c.environment,prevPropsVariables:c.variables,prevQuery:c.query,queryFetcher:g,retryCallbacks:e},s(c,g,e,f));return d}babelHelpers.inheritsLoose(c,a);c.getDerivedStateFromProps=function(a,c){return c.prevQuery!==a.query||c.prevPropsEnvironment!==a.environment||!(h||(h=b("areEqual")))(c.prevPropsVariables,a.variables)?r(a,c):null};var d=c.prototype;d.componentDidMount=function(){var a=this;if(this.$1===!0){this.$1=!1;this.setState(function(c){c=r(a.props,c);var d=c.requestCacheKey,b=c.queryFetcher;d!=null&&l[d]!=null&&b.setOnDataChange(a.$2);return c});return}var b=this.state,c=b.retryCallbacks,d=b.queryFetcher;b=b.requestCacheKey;b&&delete l[b];c.handleDataChange=this.$2;c.handleRetryAfterError=function(b){return a.setState(function(a){a=a.requestCacheKey;a&&delete l[a];return{renderProps:n(),requestCacheKey:null}})};this.props.query&&d.setOnDataChange(this.$2)};d.componentDidUpdate=function(a,b){a=this.state;var c=a.queryFetcher;a=a.requestCacheKey;a&&(delete l[a],delete this.state.requestCacheKey);this.props.query&&c!==b.queryFetcher&&c.setOnDataChange(this.$2)};d.componentWillUnmount=function(){this.state.queryFetcher.dispose(),this.$1=!0};d.shouldComponentUpdate=function(a,b){return a.render!==this.props.render||b.renderProps!==this.state.renderProps};d.render=function(){var a=this.state,c=a.renderProps;a=a.relayContext;return i.jsx(b("react-relay/ReactRelayContext").Provider,{value:a,children:i.jsx(b("react-relay/ReactRelayQueryRendererContext").Provider,{value:m,children:this.props.render(c)})})};return c}(i.Component);function n(){return{error:null,props:null,retry:null}}function o(){return{error:null,props:{},retry:null}}function p(a,b,c,d){return{error:a?a:null,props:b?b.data:null,retry:function(b){b=c.retry(b);b&&typeof d.handleDataChange==="function"?d.handleDataChange({snapshot:b}):a&&typeof d.handleRetryAfterError==="function"&&d.handleRetryAfterError(a)}}}function q(a,b){return JSON.stringify({id:a.cacheID?a.cacheID:a.id,variables:b})}function r(a,c){var d=a.query,e=c.queryFetcher.getSelectionReferences();c.queryFetcher.disposeRequest();if(d){d=k(d);d=q(d.params,a.variables);d=l[d]?l[d].queryFetcher:new(b("react-relay/ReactRelayQueryFetcher"))(e)}else d=new(b("react-relay/ReactRelayQueryFetcher"))(e);return babelHelpers["extends"]({prevQuery:a.query,prevPropsEnvironment:a.environment,prevPropsVariables:a.variables,queryFetcher:d},s(a,d,c.retryCallbacks))}function s(a,b,c,d){var e=a.environment,f=a.query,g=a.variables,h=a.cacheConfig;e=e;if(f){f=k(f);g=j(f,g,h);h={environment:e};if(typeof d==="string"&&l[d]){var i=l[d].snapshot;if(i)return{error:null,relayContext:h,renderProps:p(null,i,b,c),snapshot:i,requestCacheKey:d};else return{error:null,relayContext:h,renderProps:n(),snapshot:null,requestCacheKey:d}}try{i=b.lookupInStore(e,g,a.fetchPolicy);g=b.fetch({environment:e,onDataChange:null,operation:g});g=g||i;d=d||q(f.params,a.variables);l[d]={queryFetcher:b,snapshot:g};return!g?{error:null,relayContext:h,renderProps:n(),snapshot:null,requestCacheKey:d}:{error:null,relayContext:h,renderProps:p(null,g,b,c),snapshot:g,requestCacheKey:d}}catch(a){return{error:a,relayContext:h,renderProps:p(a,null,b,c),snapshot:null,requestCacheKey:d}}}else{b.dispose();i={environment:e};return{error:null,relayContext:i,renderProps:o(),requestCacheKey:null}}}e.exports=c}),null);
__d("react-relay/ReactRelayRefetchContainer",["areEqual","react","react-relay/ReactRelayContainerUtils","react-relay/ReactRelayContext","react-relay/ReactRelayQueryFetcher","react-relay/RelayContext","react-relay/buildReactRelayContainer","react-relay/getRootVariablesForFragments","relay-runtime","warning"],(function(a,b,c,d,e,f){"use strict";var g=["componentRef","__relayContext","__rootIsQueryRenderer"],h,i,j=b("react-relay/ReactRelayContainerUtils").getContainerName,k=b("react-relay/RelayContext").assertRelayContext,l=h||(h=b("react")),m=b("relay-runtime").Observable,n=b("relay-runtime").createFragmentSpecResolver,o=b("relay-runtime").createOperationDescriptor,p=b("relay-runtime").getDataIDsFromObject,q=b("relay-runtime").getRequest,r=b("relay-runtime").getVariablesFromObject,s=b("relay-runtime").isScalarAndEqual;function t(a,c,d){var e,f=j(a);return e=function(e){function h(a){var g,h;h=e.call(this,a)||this;h.$7=function(){var a=h.state.resolver;h.setState(function(b){return a===b.resolver?{data:b.resolver.resolve()}:null})};h.$4=function(a,e,g,i){if(h.$3){b("warning")(!1,"ReactRelayRefetchContainer: Unexpected call of `refetch` on unmounted container `%s`. It looks like some instances of your container still trying to refetch the data but they already unmounted. Please make sure you clear all timers, intervals, async calls, etc that may trigger `refetch`.",f);return{dispose:function(){}}}var j=k(h.props.__relayContext);j=j.environment;var l=b("react-relay/getRootVariablesForFragments")(c,h.props);a=typeof a==="function"?a(h.$8()):a;a=babelHelpers["extends"]({},l,a);var n=e?babelHelpers["extends"]({},a,e):a;l=i?{force:!!i.force}:void 0;l!=null&&(i==null?void 0:i.metadata)!=null&&(l.metadata=i==null?void 0:i.metadata);var p=typeof g==="function"?{next:g,error:g}:g||{};e=q(d);var r=o(e,a,l);h.state.localVariables=a;h.$1&&h.$1.unsubscribe();var s;g=h.$9().lookupInStore(j,r,i==null?void 0:i.fetchPolicy);if(g!=null){h.state.resolver.setVariables(n,r.request.node);h.setState(function(a){return{data:a.resolver.resolve(),contextForChildren:{environment:h.props.__relayContext.environment}}},function(){p.next&&p.next(),p.complete&&p.complete()});return{dispose:function(){}}}h.$9().execute({environment:j,operation:r,preservePreviousReferences:!0}).mergeMap(function(a){h.state.resolver.setVariables(n,r.request.node);return m.create(function(a){return h.setState(function(a){return{data:a.resolver.resolve(),contextForChildren:{environment:h.props.__relayContext.environment}}},function(){a.next(),a.complete()})})})["finally"](function(){h.$1===s&&(h.$1=null)}).subscribe(babelHelpers["extends"]({},p,{start:function(a){h.$1=s=a,p.start&&p.start(a)}}));return{dispose:function(){s&&s.unsubscribe()}}};var i=k(a.__relayContext);g=(g=a.__rootIsQueryRenderer)!=null?g:!1;h.$1=null;g=n(i,f,c,a,g);h.state={data:g.resolve(),localVariables:null,prevProps:a,prevPropsContext:i,contextForChildren:i,relayProp:u(i.environment,h.$4),resolver:g};h.$3=!1;return h}babelHelpers.inheritsLoose(h,e);var j=h.prototype;j.componentDidMount=function(){this.$3=!1,this.$5()};j.componentDidUpdate=function(a,b){this.state.resolver!==b.resolver?(b.resolver.dispose(),this.$2&&this.$2.dispose(),this.$1&&this.$1.unsubscribe(),this.$5()):this.$6()};h.getDerivedStateFromProps=function(a,d){var e,g=d.prevProps,h=k(a.__relayContext);e=(e=a.__rootIsQueryRenderer)!=null?e:!1;var j=p(c,g),l=p(c,a);g=b("react-relay/getRootVariablesForFragments")(c,g);var m=b("react-relay/getRootVariablesForFragments")(c,a),o=d.resolver;if(d.prevPropsContext.environment!==h.environment||!(i||(i=b("areEqual")))(g,m)||!(i||(i=b("areEqual")))(j,l)){o=n(h,f,c,a,e);return{data:o.resolve(),localVariables:null,prevProps:a,prevPropsContext:h,contextForChildren:h,relayProp:u(h.environment,d.relayProp.refetch),resolver:o}}else d.localVariables||o.setProps(a);g=o.resolve();return g!==d.data?{data:g,prevProps:a}:null};j.componentWillUnmount=function(){this.$3=!0,this.state.resolver.dispose(),this.$2&&this.$2.dispose(),this.$1&&this.$1.unsubscribe()};j.shouldComponentUpdate=function(a,b){if(b.data!==this.state.data||b.relayProp!==this.state.relayProp)return!0;var d=Object.keys(a);for(var e=0;e<d.length;e++){var f=d[e];if(f==="__relayContext"){if(this.state.prevPropsContext.environment!==b.prevPropsContext.environment)return!0}else if(!Object.prototype.hasOwnProperty.call(c,f)&&!s(a[f],this.props[f]))return!0}return!1};j.$6=function(){var a=this.state,b=a.data;a=a.resolver;a=a.resolve();b!==a&&this.setState({data:a})};j.$5=function(){var a=this.state,b=a.data;a=a.resolver;var c=a.resolve();a.setCallback(this.props,this.$7);b!==c&&this.setState({data:c})};j.$8=function(){return r(c,this.props)};j.$9=function(){this.$2||(this.$2=new(b("react-relay/ReactRelayQueryFetcher"))());return this.$2};j.render=function(){var c=this.props,d=c.componentRef;c.__relayContext;c.__rootIsQueryRenderer;c=babelHelpers.objectWithoutPropertiesLoose(c,g);var e=this.state,f=e.relayProp;e=e.contextForChildren;return l.jsx(b("react-relay/ReactRelayContext").Provider,{value:e,children:l.jsx(a,babelHelpers["extends"]({},c,this.state.data,{ref:d,relay:f}))})};return h}(l.Component),e.displayName=f,e}function u(a,b){return{environment:a,refetch:b}}function a(a,c,d){return b("react-relay/buildReactRelayContainer")(a,c,function(a,b){return t(a,b,d)})}e.exports={createContainer:a}}),null);
__d("RelayModern",["RelayFBEnvironmentDefinitions","RelayFBMutations","RelayFBSubscription","configureRelayForWWW","enqueueMutation","react-relay/ReactRelayContext","react-relay/ReactRelayFragmentContainer","react-relay/ReactRelayLocalQueryRenderer","react-relay/ReactRelayPaginationContainer","react-relay/ReactRelayQueryRenderer","react-relay/ReactRelayRefetchContainer","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=b("RelayFBEnvironmentDefinitions").createEnvironment;c=b("RelayFBEnvironmentDefinitions").createEnvironmentFactory;d=b("enqueueMutation").enqueueMutation;var g=(f=b("relay-runtime")).fetchQuery_DEPRECATED;b("configureRelayForWWW")();var h=b("RelayFBSubscription").addFBisms(f.requestSubscription);e.exports={ConnectionHandler:f.ConnectionHandler,QueryRenderer:b("react-relay/ReactRelayQueryRenderer"),LocalQueryRenderer:b("react-relay/ReactRelayLocalQueryRenderer"),MutationTypes:f.MutationTypes,RangeOperations:f.RangeOperations,ReactRelayContext:b("react-relay/ReactRelayContext"),applyOptimisticMutation:f.applyOptimisticMutation,commitLocalUpdate:f.commitLocalUpdate,createFragmentContainer:b("react-relay/ReactRelayFragmentContainer").createContainer,createPaginationContainer:b("react-relay/ReactRelayPaginationContainer").createContainer,createRefetchContainer:b("react-relay/ReactRelayRefetchContainer").createContainer,fetchQuery_DEPRECATED:f.fetchQuery_DEPRECATED,graphql:f.graphql,readInlineData:f.readInlineData,commitMutation:b("RelayFBMutations").addFBisms(f.commitMutation),enqueueMutation:b("RelayFBMutations").addFBisms(d),requestSubscription:h,createEnvironment:a,createEnvironmentFactory:c,fetchQuery:g}}),null);
__d("getByPath",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){a=a;for(var d=0;d<b.length;d++){var e=b[d];if(a&&typeof a!=="string"&&typeof a!=="number"&&e in a)a=a[e];else return c}return a}f["default"]=a}),66);
__d("react-relay",["react-relay/ReactRelayContext","react-relay/ReactRelayFragmentContainer","react-relay/ReactRelayLocalQueryRenderer","react-relay/ReactRelayPaginationContainer","react-relay/ReactRelayQueryRenderer","react-relay/ReactRelayRefetchContainer","react-relay/relay-hooks/EntryPointContainer.react","react-relay/relay-hooks/ProfilerContext","react-relay/relay-hooks/RelayEnvironmentProvider","react-relay/relay-hooks/loadEntryPoint","react-relay/relay-hooks/loadQuery","react-relay/relay-hooks/useClientQuery","react-relay/relay-hooks/useEntryPointLoader","react-relay/relay-hooks/useFragment","react-relay/relay-hooks/useLazyLoadQuery","react-relay/relay-hooks/useMutation","react-relay/relay-hooks/usePaginationFragment","react-relay/relay-hooks/usePrefetchableForwardPaginationFragment","react-relay/relay-hooks/usePreloadedQuery","react-relay/relay-hooks/useQueryLoader","react-relay/relay-hooks/useRefetchableFragment","react-relay/relay-hooks/useRelayEnvironment","react-relay/relay-hooks/useSubscribeToInvalidationState","react-relay/relay-hooks/useSubscription","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=b("react-relay/relay-hooks/loadQuery").loadQuery;e.exports={ConnectionHandler:(c=b("relay-runtime")).ConnectionHandler,QueryRenderer:b("react-relay/ReactRelayQueryRenderer"),LocalQueryRenderer:b("react-relay/ReactRelayLocalQueryRenderer"),MutationTypes:c.MutationTypes,RangeOperations:c.RangeOperations,ReactRelayContext:b("react-relay/ReactRelayContext"),applyOptimisticMutation:c.applyOptimisticMutation,commitLocalUpdate:c.commitLocalUpdate,commitMutation:c.commitMutation,createFragmentContainer:b("react-relay/ReactRelayFragmentContainer").createContainer,createPaginationContainer:b("react-relay/ReactRelayPaginationContainer").createContainer,createRefetchContainer:b("react-relay/ReactRelayRefetchContainer").createContainer,fetchQuery_DEPRECATED:c.fetchQuery_DEPRECATED,graphql:c.graphql,readInlineData:c.readInlineData,requestSubscription:c.requestSubscription,EntryPointContainer:b("react-relay/relay-hooks/EntryPointContainer.react"),RelayEnvironmentProvider:b("react-relay/relay-hooks/RelayEnvironmentProvider"),ProfilerContext:b("react-relay/relay-hooks/ProfilerContext"),fetchQuery:c.fetchQuery,loadQuery:a,loadEntryPoint:b("react-relay/relay-hooks/loadEntryPoint"),useClientQuery:b("react-relay/relay-hooks/useClientQuery"),useFragment:b("react-relay/relay-hooks/useFragment"),useLazyLoadQuery:b("react-relay/relay-hooks/useLazyLoadQuery"),useEntryPointLoader:b("react-relay/relay-hooks/useEntryPointLoader"),useQueryLoader:b("react-relay/relay-hooks/useQueryLoader"),useMutation:b("react-relay/relay-hooks/useMutation"),usePaginationFragment:b("react-relay/relay-hooks/usePaginationFragment"),usePreloadedQuery:b("react-relay/relay-hooks/usePreloadedQuery"),useRefetchableFragment:b("react-relay/relay-hooks/useRefetchableFragment"),usePrefetchableForwardPaginationFragment:b("react-relay/relay-hooks/usePrefetchableForwardPaginationFragment"),useRelayEnvironment:b("react-relay/relay-hooks/useRelayEnvironment"),useSubscribeToInvalidationState:b("react-relay/relay-hooks/useSubscribeToInvalidationState"),useSubscription:b("react-relay/relay-hooks/useSubscription")}}),null);/*FB_PKG_DELIM*/
__d("RSTTimespanBase",[],(function(a,b,c,d,e,f){"use strict";var g=200;a=function(){function a(){this.$1=[]}var b=a.prototype;b.getLastTimespan=function(){return this.$1.length>0?this.$1[this.$1.length-1]:null};b.startTimespan=function(){var a=this.getLastTimespan();(a==null||a.end!=null)&&(this.$1.push({start:Date.now(),end:null}),this.$1.length>g&&this.$1.shift())};b.endTimespan=function(){var a=this.getLastTimespan();a!=null&&a.end==null&&(a.end=Date.now())};b.clearLastUnfinishedTimespan=function(){var a=this.getLastTimespan();a!=null&&a.end==null&&this.$1.pop()};b.isWithinTimespan=function(){var a=this.getLastTimespan();return a==null?!1:a.end==null};b.isCurrentlyInTimespan=function(){var a=this.getLastTimespan();return a==null?!1:a.end==null};b.getIntersectionTime=function(a,b,c){c===void 0&&(c=null);c=(c=(c=c)==null?void 0:c.ignoreLastUnfinished)!=null?c:!1;var d=0,e=this.$1.length;for(var f=0;f<e;++f){var g,h=this.$1[f];if(c&&f===e-1&&h.end==null)continue;if(((g=h.end)!=null?g:Infinity)<=a)continue;if(h.start>=b)break;g=Math.max(h.start,a);h=Math.min((h=h.end)!=null?h:Infinity,b);d+=h-g}return d};return a}();f["default"]=a}),66);
__d("RSTBackgroundInfo",["RSTTimespanBase"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.background=function(){this.startTimespan()};c.foreground=function(){this.endTimespan()};c.isInBackground=function(){return this.isWithinTimespan()};c.isInForeground=function(){return!this.isInBackground()};c.getBackgroundTime=function(a,b){return this.getIntersectionTime(a,b)};return b}(c("RSTTimespanBase"));g.RSTBackgroundInfoManager=a}),98);
__d("RSTBlockingTime",["RSTTimespanBase"],(function(a,b,c,d,e,f,g){"use strict";var h=50,i=50,j=typeof self!=="undefined"?self:window;a=function(a){function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.$RSTBlockingTime$p_1=0,b.$RSTBlockingTime$p_2=!1,babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.startMonitoring=function(){var a=this;if(this.$RSTBlockingTime$p_2)return;j.setInterval(function(){var b=Date.now();a.$RSTBlockingTime$p_1===0||(b-a.$RSTBlockingTime$p_1>h+i?a.endTimespan():a.clearLastUnfinishedTimespan());a.$RSTBlockingTime$p_1=b;a.startTimespan()},h);this.$RSTBlockingTime$p_2=!0};c.getBlockingTime=function(a,b){a=this.getIntersectionTime(a,b);return Math.max(a-i,0)};return b}(c("RSTTimespanBase"));b=new a();b.startMonitoring();d=b;g["default"]=d}),98);
__d("reactComponentNameSemanticsCheck",[],(function(a,b,c,d,e,f){"use strict";c=["Child","Cell","CometImage","ComponentLoader","FocusWithinHandler","LegacyHidden","Path","SearchCometGlobalTypeaheadWithBackButtonFocus","StrictMode","Svg","WebView","GeoBaseText","FocusGroup","FocusTable","MDSText","CometAppViewStack","CometPrerenderer","CometToast","Box",/CometHideableComponent/,/LazyLoadEntryPointContainer/,/relay-hooks/,/CommandWrapper/,/ScrollView/,/Layout/,/Base$/,/Boundary$/,/LoadingState$/,/FocusManager/,/Column$/,/Strategy$/,/Typeahead.*Strategy/,/CometList_/,/CometSSR/,/^ActorHovercard/,/^Base/,/^CometHero/,/^FDS/,/^Hero/,/^XDS/,/^deferredLoadComponent/,/^html\./,/^t[d]$/,/Container$/,/Context$/,/Entities$/,/Factory$/,/Focus.*Region/,/Grid$/,/HideLayer/,/Icon$/,/Impl$/,/InputButton$/,/Item$/,/ItemSelectable/,/KeyCommands$/,/Link$/,/ListCell/,/Logger$/,/MitigationNode$/,/OnEscape/,/Overlay$/,/OverlayInternal$/,/Placeholder$/,/Pressable/,/Provider$/,/Provider_/,/ReactWarnings/,/Ref$/,/Refs$/,/Relay$/,/Renderer$/,/Resolver$/,/Root$/,/Routes$/,/Row$/,/SVG/,/ScrollableArea/,/Theme$/,/Tooltip/,/Trigger$/,/Typeahead/,/Virtualization$/,/Wrapper$/,/\.svg$/];var g=new Set(Array.from(c).filter(function(a){return typeof a==="string"})),h=Array.from(c).filter(function(a){return a instanceof RegExp});function a(a){var b=a;a.includes(" [")&&(b=a.split(" [")[0]);b=b.trim();return b.length<=2?!0:g.has(b)||h.some(function(a){return a.test(b)})}d=["MessageList","MWXText","MDSText","MWChatContact","MWLSChatTabHeader"];var i=new Set(Array.from(d).filter(function(a){return typeof a==="string"})),j=Array.from(d).filter(function(a){return a instanceof RegExp});function b(a){var b=a.trim();return i.has(b)||j.some(function(a){return a.test(b)})}f.isReactComponentNameMeaningless=a;f.isReactComponentTextBlocked=b}),66);
__d("RSTConfig",["CurrentUserInitialData","WebResponsivenessConfig","gkx","justknobx","reactComponentNameSemanticsCheck"],(function(a,b,c,d,e,f,g){"use strict";var h,i={app_id:"default",first_heartbeat_threshold_ms:1e4,freeze_threshold_ms:500,heart_beat_interval_ms:200,main_thread_logging_interval_ms:5e3,encrypt_db:!1,start_rst_from_main_thread_extra_delay_in_ms:0};function a(){var a,b=c("WebResponsivenessConfig").rst.app_config;return b.length===0?i:(a=(a=b.find(function(a){return""+a.app_id===""+((a=(h||(h=c("CurrentUserInitialData"))).APP_ID)!=null?a:0)}))!=null?a:b.find(function(a){return a.app_id==="default"}))!=null?a:i}e=a();function b(){var a="__felab_context"in window;return j.RST_ANNOTATION_KILLSWITCH_ON&&j.SHOULD_COLLECT_RST_ANNOTATIONS&&!a}var j={PROJECT_NAME:"RST",PROJECT_ONCALL:"web_ecosystem",DEBUG:!1,ENCRYPT_DB:e.encrypt_db,ENABLE_SERVICE_WORKER:(f=c("justknobx"))._("4993"),FIRST_HEART_BEAT_THRESHOLD_MS:e.first_heartbeat_threshold_ms,FREEZE_THRESHOLD_MS:e.freeze_threshold_ms,HEART_BEAT_INTERVAL_MS:e.heart_beat_interval_ms,START_RST_FROM_MAIN_THREAD_EXTRA_DELAY_IN_MS:e.start_rst_from_main_thread_extra_delay_in_ms,INDEX_DB_NAME:"responsiveness-db",INDEX_DB_TABLE_NAME:"unresponsiveness-events-v2",PAST_INDEX_DB_TABLE_NAMES:["unresponsiveness-events"],INDEX_DB_VERSION:4,SERVICE_WORKER_INCIDENT_THRESHOLD_MS:4e3,SERVICE_WORKER_HEART_BEAT_INTERVAL_MS:1e3,WAIT_MS_FOR_OTHER_SESSION_BEFORE_PROCESSING:60*1e3,WEB_WORKER_UPDATE_INCIDENTS_INTERVAL_MS:f._("3306"),UNRECOVER_LASTS_THRESHOLD_MS:f._("3307"),SHOULD_SAMPLE_RECOVERABLE:f._("3273"),SHOULD_CAPTURE_INTERACTION_DATA:f._("3709"),SHOULD_CAPTURE_INTERACTION_ELEMENT_TEXT:c("justknobx")._("4704")||c("gkx")("15466"),ELEMENT_TEXT_SIZE_LIMIT:20,RST_ANNOTATION_KILLSWITCH_ON:c("justknobx")._("3738"),SHOULD_COLLECT_RST_ANNOTATIONS:c("gkx")("10200"),OBSOLETE_PENDING_INCIDENT_THRESHOLD_MS:4*24*60*60*1e3,MAIN_THREAD_LOGGING_INTERVAL_MS:e.main_thread_logging_interval_ms,INCIDENT_PROPOSED_PROCESSOR_OWNERSHIP_EXPIRE_MS:6*e.main_thread_logging_interval_ms,MESSAGE_TYPE:"responsiveness",DEBUG_LOGGING_ENABLED:c("gkx")("6199"),MAX_DB_FAILED_COUNT:10,TRACE_STATS_WINDOW_SIZE_MS:2*60*1e3,TRACE_STATS_MAX_QUEUE_SIZE:200,HIGH_MEMORY_USAGE_THRESHOLD_BYTES:1500*1024*1024,DEFAULT_REACT_COMPONENT_CONTEXT_SIZE:3,ONE_UNRECOVERABLE_INCIDENT_PER_SESSION:!0,shouldCollectAdditionalMetadata:b,isReactComponentNameBlocked:d("reactComponentNameSemanticsCheck").isReactComponentNameMeaningless,isReactComponentTextBlocked:d("reactComponentNameSemanticsCheck").isReactComponentTextBlocked};a=j;g["default"]=a}),98);
__d("RSTConstants",[],(function(a,b,c,d,e,f){"use strict";a={incidentType:{unresponsive:"unresponsive",unexpectedExit:"unexpected-exit"},reportReason:{unrecoverable:"unrecoverable-unresponsive",recoverable:"recoverable-unresponsive",unexpectedExit:"unexpected-exit"},executionContext:{mainThread:"main-thread",webWorker:"web-worker",sharedWorker:"shared-worker",serviceWorker:"service-worker",unknown:"unknown"}};b=a;f["default"]=b}),66);
__d("RSTCrypt",["RSTConfig"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var b=a.prototype;b.encrypt=function(a){if(!c("RSTConfig").ENCRYPT_DB)return a;try{return btoa(a)}catch(b){return a}};b.decrypt=function(a){return!c("RSTConfig").ENCRYPT_DB?{result:a,exception:!1}:this.decryptEnforce(a)};b.decryptEnforce=function(a){try{return{result:atob(a),exception:!1}}catch(b){return{result:a,exception:!0}}};return a}();b=new a();d=b;g["default"]=d}),98);
__d("RSTEvents",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";var g=b("$InternalEnum")({HEART_BEAT:0,BROWSER_TAB_FOREGROUND:1,BROWSER_TAB_BACKGROUND:2,TRACE_START:3,TRACE_END:4,TRACE_POLICY_SET:5,INTERACTION_DATA:6,SPAN_START:7,SPAN_END:8,LOG_FLUSH:9,BROWSER_TAB_CLOSED:10,RECOVERABLE_UNRESPONSIVENESS:1e5,UNRECOVERABLE_UNRESPONSIVENESS:100001,CHECKING_INDEXDB_FOR_EVENTS:100002,CRASH_INCIDENT:10003,UNRESPONSIVENESS_DETECTED:-1,LOGGING_UNRESPONSIVENESS_TO_INDEXDB:-2,NO_HEART_BEAT_SINCE_ORIGIN:-3});function a(a){return a===g.LOG_FLUSH}f.RSTEvent=g;f.isRSTFlushEvent=a}),66);
__d("RSTEventsMessageQueue",[],(function(a,b,c,d,e,f){"use strict";var g=new Map();function a(a,b){g.has(a)||g.set(a,[]);a=g.get(a);a&&a.indexOf(b)===-1&&a.push(b)}function b(a,b){a=g.get(a);a!=null&&a.forEach(function(a){return a(b)})}f.subscribe=a;f.notify=b}),66);
__d("RSTUtils",["RSTConfig","RSTConstants","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h=o().toUpperCase(),i=b();h=c("uuidv4")();var j=a();function a(){return i&&typeof self!=="undefined"&&typeof self.setTimeout==="function"?self:window}function b(){return typeof WorkerGlobalScope!=="undefined"?!0:typeof document==="undefined"}function d(){}function e(){}function f(a){if(a==null)return"";a=new URL(a);return a.origin+a.pathname}async function k(){return typeof scheduler!=="undefined"&&typeof scheduler.yield==="function"?scheduler.yield():new Promise(function(a){return j.setTimeout(a,0)})}function l(){return"indexedDB"in j}function m(a){return a!=null?String(a):null}function n(a){var b=a.componentName;a=q(a.componentText);if(b==null&&a==null)return null;if(a==null)return b;else if(b==null)return' ["'+a+'"]';else return b+' ["'+a+'"]'}function o(){if(typeof window!=="undefined"&&typeof window.document!=="undefined")return c("RSTConstants").executionContext.mainThread;else if(typeof self!=="undefined")if(typeof ServiceWorkerGlobalScope!=="undefined"&&self instanceof ServiceWorkerGlobalScope)return c("RSTConstants").executionContext.serviceWorker;else if(typeof SharedWorkerGlobalScope!=="undefined"&&self instanceof SharedWorkerGlobalScope)return c("RSTConstants").executionContext.sharedWorker;else if(typeof WorkerGlobalScope!=="undefined"&&self instanceof WorkerGlobalScope)return c("RSTConstants").executionContext.webWorker;return c("RSTConstants").executionContext.unknown}function p(){return o()===c("RSTConstants").executionContext.webWorker}function q(a){return a==null?null:a.replace(/[\[\]\",\']/g,"")}g.getGlobalObject=a;g.isInWorker=b;g.debugLogImportant=d;g.debugLog=e;g.sanitizeURL=f;g.scheduleYield=k;g.isIndexedDBSupported=l;g.intToString=m;g.getInteractionDetail=n;g.getExecutionContext=o;g.isInWebWorker=p}),98);
__d("RSTDebugConsoleWebWorker",["RSTEvents","RSTEventsMessageQueue","RSTUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(){}g.registerDebugConsole=a}),98);
__d("RSTInjectAdsManagerAnnotationsWebWorker",["AdsManagerAutoLoggingAppConfig","RSTEvents","RSTEventsMessageQueue","RSTUtils","requireWeak"],(function(a,b,c,d,e,f,g){"use strict";var h=null,i=null;c("requireWeak")("AdsALWorkerTrackLastEventIndex",function(a){h=a});c("requireWeak")("hyperionUtil",function(a){i=a});function a(){if(!d("RSTUtils").isInWebWorker)return;d("RSTEventsMessageQueue").subscribe(d("RSTEvents").RSTEvent.LOGGING_UNRESPONSIVENESS_TO_INDEXDB,function(a){a=a.unresponsiveEventRecord;if(h==null)return;a=a==null?void 0:a.lastHeartBeatMetadata;if(a==null)return;var b=h.getLastEventIndex();j(a,"AlLastEventIndex",""+b);b=d("AdsManagerAutoLoggingAppConfig")==null?void 0:d("AdsManagerAutoLoggingAppConfig").session_id;b!=null&&j(a,"AlSessionID",b);b=(b=i)==null?void 0:b.ClientSessionID;b!=null&&j(a,"AlBrowserSessionID",b)})}function j(a,b,c){var d;a.annotations=(d=a.annotations)!=null?d:{};a.annotations!=null&&(a.annotations[b]=c)}g.registerAdsManagerAnnotationsInjector=a}),98);
__d("RSTMainThreadDataInWorker",["RSTBackgroundInfo","RSTTracesManagerWebWorker"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=new Map()}var b=a.prototype;b.getDataEntry=function(a){var b=this.$1.get(a);if(b!=null)return b;b={lastHeartBeatTimeStamp:-1,lastEventMetadata:null,mainThreadSessionID:a,isClosed:!1,isBackgrounded:!1,backgroundInfoManager:new(d("RSTBackgroundInfo").RSTBackgroundInfoManager)(),heartBeatCheckOn:!0,incidentsNotRecovered:new Set(),incidentsRecovered:new Set(),loggedFreezeTimeStamp:new Set([0]),tracesManager:new(d("RSTTracesManagerWebWorker").TracesManager)()};this.$1.set(a,b);return b};b.deleteDataEntry=function(a){this.$1.delete(a)};b.iterateOverAllEntries=async function(a){try{await Promise.all(Array.from(this.$1.values()).map(function(b){return a(b)}))}catch(a){}};return a}();b=new a();c=b;g.default=c}),98);
__d("RSTTracesManagerWebWorker",["RSTEvents","RSTEventsMessageQueue","RSTMainThreadDataInWorker","RSTUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=100;function a(){d("RSTEventsMessageQueue").subscribe(d("RSTEvents").RSTEvent.TRACE_START,function(a){var b;a=a.mainToWorkerMessage;var e=a==null||(b=a.metadata)==null?void 0:b.trace;if(e==null)return;a=a==null?void 0:a.sessionID;if(a==null)return;d("RSTUtils").debugLog("trace start from main thread received");a=c("RSTMainThreadDataInWorker").getDataEntry(a);a=a.tracesManager;a.addTrace(e);a.compactTraces()}),d("RSTEventsMessageQueue").subscribe(d("RSTEvents").RSTEvent.TRACE_POLICY_SET,function(a){var b;a=a.mainToWorkerMessage;var e=a==null||(b=a.metadata)==null?void 0:b.trace;if(e==null)return;a=a==null?void 0:a.sessionID;if(a==null)return;d("RSTUtils").debugLog("trace policy from main thread received");a=c("RSTMainThreadDataInWorker").getDataEntry(a);a=a.tracesManager;a.addTrace(e);a.setLastTraceWithPolicySet(e);a.compactTraces()}),d("RSTEventsMessageQueue").subscribe(d("RSTEvents").RSTEvent.TRACE_END,function(a){var b;a=a.mainToWorkerMessage;var e=a==null||(b=a.metadata)==null?void 0:b.trace;if(e==null)return;a=a==null?void 0:a.sessionID;if(a==null)return;var f=babelHelpers["extends"]({endTimestamp:Date.now()},e);d("RSTUtils").debugLog("trace end from main thread received");a=c("RSTMainThreadDataInWorker").getDataEntry(a);a=a.tracesManager;a.setLastTraceWithPolicySet(f);a.deleteTrace(e.traceID)})}b=function(){function a(){this.$1=new Map(),this.$2=null}var b=a.prototype;b.addTrace=function(a){this.$1.set(a.traceID,a)};b.deleteTrace=function(a){this.$1["delete"](a)};b.setLastTraceWithPolicySet=function(a){this.$2==null?this.$2=a:this.$2.startTime<=a.startTime&&(this.$2=a)};b.getLastTraceWithPolicySet=function(){return this.$2};b.getCurrentTraces=function(){var a=Date.now(),b=Array.from(this.$1.values());return b.filter(function(b){return a>=b.startTime&&a<=((b=b.endTime)!=null?b:Infinity)})};b.compactTraces=function(){var a=this.$1;if(a.size<=h)return;var b=Array.from(a.values()).sort(function(a,b){return b.startTime-a.startTime});while(b.length>h){var c=b.pop();c!=null&&a["delete"](c==null?void 0:c.traceID)}};return a}();g.registerTracesManager=a;g.TracesManager=b}),98);
__d("RSTUpdateBackgroundInfoWebWorker",["RSTEvents","RSTEventsMessageQueue","RSTMainThreadDataInWorker","RSTUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){a=a.mainToWorkerMessage;var b=a!=null?a:{};b=b.DOMData;if(b==null)return;a=a==null?void 0:a.sessionID;if(a==null)return;a=c("RSTMainThreadDataInWorker").getDataEntry(a);var d=a.backgroundInfoManager;b=b.hidden;a.isBackgrounded=b;b?(d.background(),a.heartBeatCheckOn=!1):(d.foreground(),a.heartBeatCheckOn=!0)};function a(){var a,b;(a=d("RSTEventsMessageQueue")).subscribe((b=d("RSTEvents")).RSTEvent.HEART_BEAT,h);a.subscribe(b.RSTEvent.TRACE_START,h);a.subscribe(b.RSTEvent.TRACE_END,h);a.subscribe(b.RSTEvent.TRACE_POLICY_SET,h);a.subscribe(b.RSTEvent.BROWSER_TAB_CLOSED,function(a){a=(a=a.mainToWorkerMessage)==null?void 0:a.sessionID;if(a==null)return;var b=c("RSTMainThreadDataInWorker").getDataEntry(a);b.isClosed=!0;c("RSTMainThreadDataInWorker").deleteDataEntry(a);d("RSTUtils").debugLogImportant("session "+a+" closed")});a.subscribe(b.RSTEvent.BROWSER_TAB_FOREGROUND,function(a){a=(a=a.mainToWorkerMessage)==null?void 0:a.sessionID;if(a==null)return;var b=c("RSTMainThreadDataInWorker").getDataEntry(a),e=b.backgroundInfoManager;e.foreground();b.isBackgrounded=!1;b.heartBeatCheckOn=!0;d("RSTUtils").debugLogImportant("session "+a+" foregrounded")});a.subscribe(b.RSTEvent.BROWSER_TAB_BACKGROUND,function(a){a=(a=a.mainToWorkerMessage)==null?void 0:a.sessionID;if(a==null)return;var b=c("RSTMainThreadDataInWorker").getDataEntry(a),e=b.backgroundInfoManager;e.background();b.isBackgrounded=!0;b.heartBeatCheckOn=!1;d("RSTUtils").debugLogImportant("session "+a+" backgrounded")})}g.registerUpdateBackgroundInfo=a}),98);
__d("RSTEventsRegisterUseCasesWebWorker",["RSTDebugConsoleWebWorker","RSTInjectAdsManagerAnnotationsWebWorker","RSTTracesManagerWebWorker","RSTUpdateBackgroundInfoWebWorker","RSTUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(){d("RSTDebugConsoleWebWorker").registerDebugConsole(),d("RSTTracesManagerWebWorker").registerTracesManager(),d("RSTUpdateBackgroundInfoWebWorker").registerUpdateBackgroundInfo(),d("RSTUtils").isInWebWorker()&&d("RSTInjectAdsManagerAnnotationsWebWorker").registerAdsManagerAnnotationsInjector()}g["default"]=a}),98);
__d("RSTIncidentID",["RSTUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=0,i=Date.now(),j=d("RSTUtils").getExecutionContext();function a(a){return a+"-"+i+"-"+j+"-"+h++}g.getUniqueIncidentID=a}),98);
__d("RSTIndexedDB",["FBLogger","RSTConfig","RSTCrypt","RSTEvents","RSTEventsMessageQueue","RSTUtils","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";var h;try{h=self.indexedDB}catch(a){}a=function(){function a(){}var b=a.prototype;b.initDB=function(){var a=this;return new Promise(function(b,d){if(h==null)return d("IndexedDB is not supported in this browser");if(a.$1!=null)return b(a.$1);var e=h.open(c("RSTConfig").INDEX_DB_NAME,c("RSTConfig").INDEX_DB_VERSION);e.onupgradeneeded=function(b){a.$1=b.target.result,a.$2(),a.$3(),a.$4(c("RSTConfig").INDEX_DB_TABLE_NAME,!0)};e.onsuccess=function(c){a.$1=c.target.result,a.$3(),b(c.target.result)};e.onblocked=function(){d("Database open blocked by another tab")};e.onerror=function(b){a.closeDBConnection();b=e.error||b.target.error;d("Database error: "+((b==null?void 0:b.message)||String(b)||"Unknown error"))}})};b.$2=function(){var a=this.$1;if(a==null)return;for(var b of c("RSTConfig").PAST_INDEX_DB_TABLE_NAMES)a.objectStoreNames.contains(b)&&a.deleteObjectStore(b)};b.$3=function(){var a=this;if(this.$1==null||this.$1.onversionchange!=null)return;this.$1.onversionchange=function(){a.closeDBConnection()}};b.$4=function(a,b){b===void 0&&(b=!1);var c=this.$1;if(c==null||c.objectStoreNames.contains(a))return;if(c.objectStoreNames.contains(a)){if(!b)return;c.deleteObjectStore(a)}c.createObjectStore(a,{autoIncrement:!0})};b.$5=function(a){return c("RSTConfig").ENCRYPT_DB?c("RSTCrypt").encrypt(JSON.stringify(a)):a};b.$6=function(a){if(a==null)return null;var b=!1,d;if(typeof a==="string"){var e=c("RSTCrypt").decryptEnforce(a);d=JSON.parse(e.result);b=e.exception}else d=a;if(typeof d!=="object"||d==null||d.incidentID==null)throw c("FBLogger")("responsive-tracker").mustfixThrow("data parsing error");e=d;e.hasDecryptionError=b;return e};b.$7=function(a){a===void 0&&(a=null),this.closeDBConnection(),d("RSTUtils").debugLogImportant("indexedDB error, clearing the object store"),c("FBLogger")("responsive-tracker").catching(a).warn("Failed to operate on IndexedDB, clearing the object store"),void this.clearObjectStore()};b.$8=function(a){var b=this,c=[];try{c=a.map(function(a){return b.$6(a)})}catch(a){this.$7(a)}return c};b.$9=function(a,b,c){var e=this;a.onerror=function(a){var f;e.closeDBConnection();a=(a=a==null||(f=a.target)==null?void 0:f.errorCode)!=null?a:"";a="Failed to handle "+c+" request in IndexedDB."+a;d("RSTUtils").debugLogImportant(a);b(a)}};b.$10=function(a,b,c){var e=this;a.onerror=function(a){var f;e.closeDBConnection();a=(a=a==null||(f=a.target)==null?void 0:f.errorCode)!=null?a:"";a="Failed to handle "+c+" transaction in IndexedDB."+a;d("RSTUtils").debugLogImportant(a);b(a)}};b.closeDBConnection=function(){var a=this.$1;if(a==null)return;try{a.close()}catch(a){}this.$1=null};b.persistLog=async function(a){try{await this.initDB(),await this.persistEventToDB(a)}catch(a){this.closeDBConnection(),c("FBLogger")("responsive-tracker").catching(c("getErrorSafe")(a)).warn("Failed to persist log")}};b.persistEventToDB=async function(a){var b=this;await this.initDB();var e=Date.now(),f=babelHelpers.extends({loggingTime:e},a);d("RSTEventsMessageQueue").notify(d("RSTEvents").RSTEvent.LOGGING_UNRESPONSIVENESS_TO_INDEXDB,{unresponsiveEventRecord:f});return new Promise(function(a,d){if(b.$1==null){d("indexed db instance is not initialized yet");return}var e=b.$1.transaction([c("RSTConfig").INDEX_DB_TABLE_NAME],"readwrite"),g=e.objectStore(c("RSTConfig").INDEX_DB_TABLE_NAME);g=g.add(b.$5(f));g.onsuccess=function(){a()};b.$9(g,d,"persistEventToDB");b.$10(e,d,"persistEventToDB")})};b.readEventsFromDB=async function(){var a=this;await this.initDB();return new Promise(function(b,d){if(a.$1==null){d("indexed db instance is not initialized yet");return}var e=a.$1.transaction([c("RSTConfig").INDEX_DB_TABLE_NAME],"readonly"),f=e.objectStore(c("RSTConfig").INDEX_DB_TABLE_NAME),g=f.getAll();g.onsuccess=function(){b(a.$8(g.result))};a.$9(g,d,"readEventsFromDB");a.$10(e,d,"readEventsFromDB")})};b.updateIncidentInDB=async function(a){var b=this;await this.initDB();return new Promise(function(e,f){if(b.$1==null){f("IndexedDB instance is not initialized yet");return}var g=b.$1.transaction([c("RSTConfig").INDEX_DB_TABLE_NAME],"readwrite"),h=g.objectStore(c("RSTConfig").INDEX_DB_TABLE_NAME);h=h.openCursor();h.onsuccess=function(c){c=c.target.result;if(c==null){d("RSTUtils").debugLog("Finished clearing incidents from indexDB");e();return}try{var f=b.$6(c.value);if(f==null){var g;d("RSTUtils").debugLog("Unable to parse, deleting incident "+(((g=f==null?void 0:f.incidentID)!=null?g:"")+" from indexDB"));c.delete()}else{g=a(f);if(g){d("RSTUtils").debugLog("Update incident "+((g=c.value)==null?void 0:g.incidentID)+" in indexDB");c.update(b.$5(f))}}}catch(a){c.delete()}c.continue()};b.$9(h,f,"updateIncidentInDB");b.$10(g,f,"updateIncidentInDB")})};b.clearIncidentFromDB=async function(a){var b=this;await this.initDB();return new Promise(function(e,f){if(b.$1==null){f("indexed db instance is not initialized yet");return}var g=b.$1.transaction([c("RSTConfig").INDEX_DB_TABLE_NAME],"readwrite"),h=g.objectStore(c("RSTConfig").INDEX_DB_TABLE_NAME);h=h.openCursor();h.onsuccess=function(c){c=c.target.result;if(c){try{var f=b.$6(c.value);if(f==null||a.has(f==null?void 0:f.incidentID)){d("RSTUtils").debugLog("Deleting incident "+((f=f==null?void 0:f.incidentID)!=null?f:"")+" from indexDB");c.delete()}}catch(a){c.delete()}c.continue()}else d("RSTUtils").debugLog("Finished clearing incidents from indexDB"),e()};b.$9(h,f,"clearIncidentFromDB");b.$10(g,f,"clearIncidentFromDB")})};b.clearObjectStore=async function(a){var b=this;a===void 0&&(a=c("RSTConfig").INDEX_DB_TABLE_NAME);await this.initDB();d("RSTUtils").debugLogImportant("clearing object store:",a);return new Promise(function(c,d){try{var e=b.$1;if(e==null){d("indexed db instance is not initialized yet");return}if(!e.objectStoreNames.contains(a)){c();return}e=e.transaction([a],"readwrite");var f=e.objectStore(a);f=f.clear();f.onsuccess=function(){c()};f.onerror=function(a){b.closeDBConnection(),d("Error clearing the store: "+a.target.errorCode)};b.$9(f,d,"clearObjectStore");b.$10(e,d,"clearObjectStore")}catch(a){c()}})};b.deleteEventFromDB=async function(a){var b=this;await this.initDB();return new Promise(function(d,e){if(b.$1==null){e("indexed db instance is not initialized yet");return}var f=b.$1.transaction([c("RSTConfig").INDEX_DB_TABLE_NAME],"readwrite"),g=f.objectStore(c("RSTConfig").INDEX_DB_TABLE_NAME);g=g.delete(a);g.onsuccess=function(){d()};b.$9(g,e,"deleteEventFromDB");b.$10(f,e,"deleteEventFromDB")})};return a}();g.RSTIndexedDB=a}),98);
__d("RSTIndexedDBSafe",["FBLogger","RSTConfig","RSTIndexedDB","RSTUtils","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";var h=d("RSTUtils").isIndexedDBSupported();a=function(a){function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.$RSTIndexedDBSafe$p_1=!h,b.$RSTIndexedDBSafe$p_2=0,b.$RSTIndexedDBSafe$p_3=["The database connection is closing","Can't start a transaction on a closed database","A version change transaction is running"],babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);var e=b.prototype;e.guardDB=async function(a,b,e){if(this.$RSTIndexedDBSafe$p_1)return b();try{return await a()}catch(f){this.closeDBConnection();a=c("getErrorSafe")(f);if(!this.$RSTIndexedDBSafe$p_4(a))return b();this.$RSTIndexedDBSafe$p_2<c("RSTConfig").MAX_DB_FAILED_COUNT&&this.$RSTIndexedDBSafe$p_2++;if(this.$RSTIndexedDBSafe$p_2>=c("RSTConfig").MAX_DB_FAILED_COUNT){this.$RSTIndexedDBSafe$p_1=!0;e="Failed to "+e+" "+this.$RSTIndexedDBSafe$p_2+" times disabling RST indexedDB";d("RSTUtils").debugLogImportant(e);c("FBLogger")("responsive-tracker").catching(a).warn(e+": %s",a.message)}return b()}};e.$RSTIndexedDBSafe$p_4=function(a){if(a==null)return!1;var b=typeof a==="string"?a:a==null?void 0:a.message;return typeof b!=="string"?!0:!this.$RSTIndexedDBSafe$p_3.some(function(a){return b.includes(a)})};e.initDB=function(){var b=this;return this.guardDB(function(){return a.prototype.initDB.call(b)},function(){return null},"initDB")};e.persistLog=function(b){var c=this;return this.guardDB(function(){return a.prototype.persistLog.call(c,b)},function(){},"persistLog")};e.persistEventToDB=function(b){var c=this;return this.guardDB(function(){return a.prototype.persistEventToDB.call(c,b)},function(){},"persistEventToDB")};e.readEventsFromDB=function(){var b=this;return this.guardDB(function(){return a.prototype.readEventsFromDB.call(b)},function(){return[]},"readEventsFromDB")};e.updateIncidentInDB=function(b){var c=this;return this.guardDB(function(){return a.prototype.updateIncidentInDB.call(c,b)},function(){},"updateIncidentInDB")};e.clearIncidentFromDB=function(b){var c=this;return this.guardDB(function(){return a.prototype.clearIncidentFromDB.call(c,b)},function(){},"clearIncidentFromDB")};e.clearObjectStore=function(b){var d=this;b===void 0&&(b=c("RSTConfig").INDEX_DB_TABLE_NAME);return this.guardDB(function(){return a.prototype.clearObjectStore.call(d,b)},function(){},"clearObjectStore")};e.deleteEventFromDB=function(b){var c=this;return this.guardDB(function(){return a.prototype.deleteEventFromDB.call(c,b)},function(){},"deleteEventFromDB")};e.maybeClearObsoleteIncidents=async function(){try{var a=await this.readEventsFromDB(),b=new Set();a.forEach(function(a){if(a==null)return;if(typeof a.incidentID!=="string")return;(typeof a.detectTime!=="number"||Date.now()-a.detectTime>(1+Math.random())*c("RSTConfig").OBSOLETE_PENDING_INCIDENT_THRESHOLD_MS)&&b.add(a.incidentID)});await this.clearIncidentFromDB(b)}catch(b){a=c("getErrorSafe")(b);c("FBLogger")("responsive-tracker").catching(a).warn((a=a.message)!=null?a:"Failed to clear obsolete incidents incidents")}};return b}(d("RSTIndexedDB").RSTIndexedDB);b=new a();e=b;g.default=e}),98);
__d("ResponsiveTrackerWorker",["RSTBlockingTime","RSTConfig","RSTConstants","RSTEvents","RSTEventsMessageQueue","RSTEventsRegisterUseCasesWebWorker","RSTIncidentID","RSTIndexedDBSafe","RSTMainThreadDataInWorker","RSTUtils"],(function(a,b,c,d,e,f,g){"use strict";c("RSTEventsRegisterUseCasesWebWorker")();c("RSTBlockingTime").startMonitoring();a=function(){function a(){this.$1=null}var b=a.prototype;b.init=function(a){this.$1=a,this.startReceivingCommandFromMainThread(),this.startMonitoringMainThread(),void c("RSTIndexedDBSafe").maybeClearObsoleteIncidents()};b.startReceivingCommandFromMainThread=function(){var a;(a=this.$1)==null||a.addMessageListener(c("RSTConfig").MESSAGE_TYPE,function(a){var b=a.event,e=a.eventTime,f=a.sessionID,g=a.metadata;d("RSTEventsMessageQueue").notify(b,{mainToWorkerMessage:a});if(f==null)return;a=c("RSTMainThreadDataInWorker").getDataEntry(f);a.lastEventMetadata=g;if(!d("RSTEvents").isRSTFlushEvent(b)){e>a.lastHeartBeatTimeStamp&&(a.lastHeartBeatTimeStamp=e);var h=a.incidentsRecovered;f=a.incidentsNotRecovered;a.incidentsNotRecovered.forEach(function(a){h.add(a)});f.clear()}})};b.$2=function(){var a=this;self.setInterval(async function(){d("RSTUtils").debugLog("RST web worker heart beat checking..."),await c("RSTMainThreadDataInWorker").iterateOverAllEntries(async function(b){await a.$3(b.mainThreadSessionID)})},c("RSTConfig").HEART_BEAT_INTERVAL_MS)};b.$3=async function(a){var b=c("RSTMainThreadDataInWorker").getDataEntry(a);if(b.heartBeatCheckOn===!1)return;var e=b.lastHeartBeatTimeStamp,f=b.incidentsNotRecovered,g=b.loggedFreezeTimeStamp,h=b.lastEventMetadata;b=b.tracesManager;var i=Date.now();if(e<0){performance.now()>=c("RSTConfig").FIRST_HEART_BEAT_THRESHOLD_MS&&d("RSTEventsMessageQueue").notify(d("RSTEvents").RSTEvent.NO_HEART_BEAT_SINCE_ORIGIN,{});return}if(g.has(e))return;var j=i-e-c("RSTBlockingTime").getBlockingTime(e,i);if(j>c("RSTConfig").FREEZE_THRESHOLD_MS){j=d("RSTIncidentID").getUniqueIncidentID(a);f.add(j);f=b.getCurrentTraces();b=b.getLastTraceWithPolicySet();j={incidentID:j,detectTime:Date.now(),lastHeartBeatTimeStamp:e,message:"unresponsive",sessionID:a,lastHeartBeatMetadata:h,traces:f,lastTrace:b,hasRecovered:!1,unrecoverLastsForMs:i-e,incidentType:c("RSTConstants").incidentType.unresponsive};g.add(e);d("RSTUtils").debugLog("incident to indexedDB: "+j.incidentID);await c("RSTIndexedDBSafe").persistLog(j)}};b.$4=function(){var a=this;self.setInterval(async function(){await c("RSTMainThreadDataInWorker").iterateOverAllEntries(async function(b){await a.$5(b.mainThreadSessionID)})},c("RSTConfig").WEB_WORKER_UPDATE_INCIDENTS_INTERVAL_MS)};b.$5=async function(a){a=c("RSTMainThreadDataInWorker").getDataEntry(a);var b=a.incidentsRecovered,e=a.incidentsNotRecovered,f=a.backgroundInfoManager;if(e.size===0&&b.size===0)return;var g=Date.now();await c("RSTIndexedDBSafe").updateIncidentInDB(function(a){if(a.incidentType===c("RSTConstants").incidentType.unexpectedExit)return!1;if(b.has(a.incidentID)){d("RSTUtils").debugLog("Update as recovered: "+a.incidentID);a.hasRecovered=!0;b.delete(a.incidentID);return!0}if(e.has(a.incidentID)){var h=a.lastHeartBeatTimeStamp;h=g-h-f.getBackgroundTime(h,g)-c("RSTBlockingTime").getBlockingTime(h,g);d("RSTUtils").debugLog("Update unrecovered duration for "+(a.incidentID+": "+h+"ms"));var i=a.unrecoverLastsForMs;a.unrecoverLastsForMs=h;return i!==h}return!1})};b.startMonitoringMainThread=function(){this.$2(),this.$4()};return a}();b=new a();e=b;g.default=e}),98);
__d("RSTWebWorkerEntrypoint",["ResponsiveTrackerWorker","WorkerMessagePort","WorkerSelf"],(function(a,b,c,d,e,f,g){var h=new(d("WorkerMessagePort").WorkerSyncedMessagePort)(self,"RSTWebWorker"),i=!1;function a(){i||(d("WorkerSelf").init(h),c("ResponsiveTrackerWorker").init(h),i=!0)}a();g["default"]=a}),98);
__d("RSTWebV2Worker",["RSTWebWorkerEntrypoint"],(function(a,b,c,d,e,f,g){g["default"]=c("RSTWebWorkerEntrypoint")}),98);/*FB_PKG_DELIM*/
__d("LSIssuePointQueryRestoreTask",["LSArrayGetObjectAt","LSBase64Encode.nop","LSIsEncryptionVersionSecure","LSIssueNewTaskAndGetTaskID","LSLogMebClientEvent.nop","LSLogWebQpl.nop","LSQplAnnotateString.nop","LSQplMarkPoint.nop","LSQplStartTrace.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(a){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][issuePointQueryRestoreTask] Beginning execution."),d[1]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsIssuePointQueryRestoreTaskStoredProcedure] Point query restore v2 is enabled"),c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var e=a.done;a=a.value;return e?(d[14]=new c.Map(),d[14].set("error_msg","Expected a nonempty query result"),d[14].set("code",c.i64.cast([0,3])),d[14].set("src_line","MEBClientStateUtils.php:256 MEBClientStateUtils::maybeClientStateFromDatabaseDirectly()"),d[15]=c.createArray(),d[16]=(d[15].push(d[14]),d[15]),e=[void 0,d[15]],d[2]=e[0],d[3]=e[1]):(b=a.item,d[14]=new c.Map(),d[14].set("backup_id",b.backupId),d[14].set("device_public_key_blob",b.devicePublicKeyBlob),d[14].set("device_private_key_blob",b.devicePrivateKeyBlob),d[14].set("epoch_storage_public_key_blob",b.epochStoragePublicKeyBlob),d[14].set("epoch_storage_private_key_blob",b.epochStoragePrivateKeyBlob),d[14].set("epoch_auth_public_key_blob",b.epochAuthPublicKeyBlob),d[14].set("epoch_auth_private_key_blob",b.epochAuthPrivateKeyBlob),d[14].set("mailbox_root_key_blob",b.mailboxRootKeyBlob),d[14].set("ocmf_client_state_blob",b.ocmfClientStateBlob),d[14].set("orf_client_state_v2_blob",void 0),d[14].set("orf_v2_authority_level",void 0),d[14].set("oblivious_validation_token_blob",b.obliviousValidationTokenBlob),d[14].set("device_id",b.deviceId),d[14].set("backup_tenancy",b.backupTenancy),d[14].set("encryption_version",b.encryptionVersion),d[14].set("revision_version",b.revisionVersion),d[14].set("initialize_restore_result",void 0),d[14].set("device_creation_timestamp_sec",void 0),d[14].set("authority_level",b.authorityLevel),e=[d[14],void 0],d[2]=e[0],d[3]=e[1])})},function(e){return d[5]=new c.Map(),d[5].set("value",d[2]),d[5].set("errors",d[3]),d[6]=d[5].get("value"),d[6]!==void 0?c.sequence([function(e){return d[14]=d[6].get("backup_id"),d[15]=d[6].get("device_public_key_blob"),d[16]=d[6].get("device_private_key_blob"),d[17]=d[6].get("epoch_storage_public_key_blob"),d[18]=d[6].get("epoch_storage_private_key_blob"),d[19]=d[6].get("epoch_auth_public_key_blob"),d[20]=d[6].get("epoch_auth_private_key_blob"),d[21]=d[6].get("mailbox_root_key_blob"),d[22]=d[6].get("ocmf_client_state_blob"),d[23]=d[6].get("orf_client_state_v2_blob"),d[24]=d[6].get("orf_v2_authority_level"),d[25]=d[6].get("oblivious_validation_token_blob"),d[26]=d[6].get("device_id"),d[27]=d[6].get("backup_tenancy"),d[28]=d[6].get("encryption_version"),d[29]=d[6].get("revision_version"),d[30]=d[6].get("initialize_restore_result"),d[31]=d[6].get("device_creation_timestamp_sec"),d[32]=d[6].get("authority_level"),c.i64.neq(d[26],void 0)?c.sequence([function(a){return d[34]=void 0,c.i64.neq(d[34],void 0)?c.resolve(d[35]=d[34]):c.sequence([function(a){return d[60]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[61]=a[0],a})},function(a){return d[61]?d[70]=(d[60].push(c.i64.cast([0,0])),d[60]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[62]=a[0],a})},function(a){return d[62]?d[70]=(d[60].push(c.i64.cast([0,2])),d[60]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[63]=a[0],a})},function(a){return d[63]?d[70]=(d[60].push(c.i64.cast([0,3])),d[60]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[64]=a[0],a})},function(a){return d[64]?d[70]=(d[60].push(c.i64.cast([0,4])),d[60]):0,d[65]=c.createArray(),d[66]=c.i64.of_int32(d[60].length),c.i64.gt(d[66],c.i64.cast([0,0]))?c.loopAsync(d[66],function(a){return d[70]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[60],d[70]).then(function(a){return a=a,d[71]=a[0],d[72]=a[1],a})},function(a){return d[73]=(d[65].push(d[71]),d[65])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[70]=c.createArray(),d[71]=c.i64.of_int32(d[65].length),c.i64.gt(d[71],c.i64.cast([0,0]))?c.loopAsync(d[71],function(a){return d[73]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[65],d[73]).then(function(a){return a=a,d[74]=a[0],d[75]=a[1],a})},function(a){return d[76]=(d[70].push(c.i64.to_string(d[74])),d[70])}])}):c.resolve()},function(a){return d[72]=d[70].join(","),d[67]=d[72]}])},function(a){return d[65].some(function(a){return c.i64.eq(d[28],a)})?d[68]=d[28]:d[68]=void 0,c.i64.neq(d[68],void 0)?d[69]=d[68]:d[69]=void 0,d[35]=d[69]}])},function(a){return c.i64.neq(d[35],void 0)?d[36]=d[35]:d[36]=c.i64.cast([0,0]),c.i64.neq(d[27],void 0)?d[37]=d[27]:d[37]=c.i64.cast([0,1]),d[38]=c.i64.random(),d[39]=c.i64.to_string(d[38]),d[39]!==void 0?c.nativeOperation(b("LSQplStartTrace.nop"),c.i64.cast([0,679677570]),d[39],!0,void 0):c.resolve()},function(a){return d[39]!==void 0?c.nativeOperation(b("LSQplMarkPoint.nop"),c.i64.cast([0,679677570]),d[39],"issue_task"):c.resolve()},function(a){return d[39]!==void 0?c.nativeOperation(b("LSQplAnnotateString.nop"),c.i64.cast([0,679677570]),d[39],"request_type","ENCRYPTED_BACKUPS_MESSAGE_POINT_QUERY"):c.resolve()},function(e){return d[40]=new c.Map(),d[40].set("act_thread_id",a[0]),d[40].set("request_id",d[39]),d[40].set("tam_thread_subtype",c.i64.cast([0,0])),d[40].set("mem_message_type",c.i64.cast([0,0])),d[40].set("source",a[4]),c.nativeOperation(b("LSBase64Encode.nop"),d[22]).then(function(a){return a=a,d[41]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[21]).then(function(a){return a=a,d[42]=a[0],a})},function(a){return d[43]=new c.Map(),d[43].set("ocmf_client_state_blob",d[41]==null?"":d[41]),d[43].set("mailbox_root_key",d[42]==null?"":d[42]),d[44]=c.createArray(),c.forEach(c.filter(c.db.table(169).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}),function(a){a=a.item;return d[60]=(d[44].push(a.epochId),d[44])})},function(a){return d[58]="Queried locally available epochs. Count: ",d[45]=c.i64.of_int32(d[44].length),d[59]=c.i64.to_string(d[45]),d[46]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][MEBEpochClientUtils] ",d[46],d[58],d[46],d[59]].join("")),c.resolve()},function(e){return d[47]=new c.Map(),d[47].set("device_id",d[26]),d[47].set("raw_tokens",d[43]),d[47].set("locally_available_epochs",d[44]),d[48]=new c.Map(),d[48].set("reference_timestamp",a[2]),d[48].set("device_context",d[47]),d[48].set("message_id",a[1]),d[49]=new c.Map(),d[49].set("restore_context",d[40]),d[49].set("success",d[48]),c.i64.gt(c.i64.cast([0,0]),c.i64.cast([0,0]))?(d[60]=c.i64.of_float(Date.now()),d[50]=c.i64.add(d[60],c.i64.cast([0,0]))):d[50]=c.i64.cast([0,0]),d[51]=d[49].get("restore_context"),d[52]=d[49].get("success"),d[52]!==void 0?(d[60]=d[52].get("message_id"),d[53]=d[60]):d[53]="",d[54]=d[51].get("act_thread_id"),d[55]=":",d[56]=c.toJSON(d[49]),c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),["encrypted_backups_restore",d[55],d[54],d[55],d[53]].join(""),c.i64.cast([0,50035]),d[56],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,d[50],c.i64.cast([0,0])).then(function(a){return a=a,d[57]=a[0],a})},function(a){return d[33]=d[57]}]):c.sequence([function(e){return d[34]=new c.Map(),d[34].set("error_code",c.i64.cast([0,1])),d[34].set("error_message",""),d[34].set("stored_procedure","issuePointQueryRestoreTask"),d[35]=new c.Map(),d[35].set("act_thread_id",a[0]),d[36]=new c.Map(),d[36].set("restore_context",d[35]),d[36].set("failure",d[34]),c.i64.gt(c.i64.cast([0,0]),c.i64.cast([0,0]))?(d[45]=c.i64.of_float(Date.now()),d[37]=c.i64.add(d[45],c.i64.cast([0,0]))):d[37]=c.i64.cast([0,0]),d[38]=d[36].get("restore_context"),d[39]=d[36].get("success"),d[39]!==void 0?(d[45]=d[39].get("message_id"),d[40]=d[45]):d[40]="",d[41]=d[38].get("act_thread_id"),d[42]=":",d[43]=c.toJSON(d[36]),c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),["encrypted_backups_restore",d[42],d[41],d[42],d[40]].join(""),c.i64.cast([0,50035]),d[43],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,d[37],c.i64.cast([0,0])).then(function(a){return a=a,d[44]=a[0],a})},function(a){return d[33]=d[44]}])},function(a){return d[7]=d[33]}]):c.sequence([function(e){return d[14]=d[5].get("errors"),d[15]=d[5].get("errors"),d[16]=new c.Map(),d[16].set("error_code",c.i64.cast([0,1])),d[16].set("error_message",""),d[16].set("stored_procedure","issuePointQueryRestoreTask"),d[17]=new c.Map(),d[17].set("act_thread_id",a[0]),d[18]=new c.Map(),d[18].set("restore_context",d[17]),d[18].set("failure",d[16]),c.i64.gt(c.i64.cast([0,0]),c.i64.cast([0,0]))?(d[27]=c.i64.of_float(Date.now()),d[19]=c.i64.add(d[27],c.i64.cast([0,0]))):d[19]=c.i64.cast([0,0]),d[20]=d[18].get("restore_context"),d[21]=d[18].get("success"),d[21]!==void 0?(d[27]=d[21].get("message_id"),d[22]=d[27]):d[22]="",d[23]=d[20].get("act_thread_id"),d[24]=":",d[25]=c.toJSON(d[18]),c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),["encrypted_backups_restore",d[24],d[23],d[24],d[22]].join(""),c.i64.cast([0,50035]),d[25],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,d[19],c.i64.cast([0,0])).then(function(a){return a=a,d[26]=a[0],a})},function(a){return d[7]=d[26]}])},function(d){return a[3]!==void 0?c.nativeOperation(b("LSLogWebQpl.nop"),a[3],c.i64.cast([0,521476165]),"restore_task_start",c.i64.cast([0,1]),a[4],void 0):c.resolve()},function(a){return d[8]=c.i64.of_float(Date.now()),d[9]=c.i64.random(),d[11]="Finishing execution. Execution time: ",d[12]=c.i64.to_string(c.i64.sub(d[8],d[0])),d[13]=" ms",d[10]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][issuePointQueryRestoreTask] ",d[10],d[11],d[10],d[12],d[10],d[13]].join("")),c.i64.eq(c.i64.mod_(d[9],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[14]=",",d[15]=c.createArray(),void 0!==void 0?d[16]=(d[15].push(void 0),d[15]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"issuePointQueryRestoreTask",[d[11],d[14],d[12],d[14],d[13]].join(""),d[15],c.i64.cast([0,4]))):c.resolve()},function(a){return e[0]=d[7]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsIssuePointQueryRestoreTaskStoredProcedure";a.__tables__=["secure_encrypted_backups_client_state","secure_encrypted_backups_epochs"];e.exports=a}),null);
__d("LSIssuePointQueryRestoreTaskStoredProcedure",["LSIssuePointQueryRestoreTask","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSIssuePointQueryRestoreTask"),e.threadId,e.messageId,e.startSortKey,e.traceId,e.source);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSRefetchContactRowIfExists",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.filter(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))}).next().then(function(e,f){var g=e.done;e=e.value;return g?0:(f=e.item,c.i64.le(f.authorityLevel,c.i64.cast([0,80]))?(d[0]=new c.Map(),d[0].set("contact_id",a[0]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),"cpq_v2",c.i64.cast([0,207]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))):c.resolve())})},function(a){return c.resolve(e)}])}a.__sproc_name__="LSContactRefetchContactRowIfExistsStoredProcedure";a.__tables__=["contacts"];e.exports=a}),null);
__d("LSRefetchContactRowIfExistsStoredProcedure",["LSRefetchContactRowIfExists","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSRefetchContactRowIfExists"),e.id);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSRestoreEchoBlobs.nop",["LSVec","MAWAsyncEBPendingQueryPromise","MAWEBRestoreTrackingUtils","MAWThreadIdToChatJidMapping","MWEBODSEntityName.enum","MWEBODSUtils","WAJids","err","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("LSRestoreEchoBlobsHandler").__setRef("LSRestoreEchoBlobs.nop");a=async function(a,b,e,f,g,i,j,k,l,m,n,o,p,q){var r;d("MWEBODSUtils").markODSForEB(c("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore_echo_blobs");q!=null?r=d("WAJids").validateChatJid(q):d("MWEBODSUtils").markODSForEB(c("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore_echo_blobs.no_chat_jid_provided");r==null&&(r=await d("MAWThreadIdToChatJidMapping").genChatJidFromThreadId(a,m,"LSRestoreEchoBlobs.nop"));if(r==null){d("MWEBODSUtils").markODSForEB(c("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore_echo_blobs.no_chat_jid");n!=null&&d("MAWAsyncEBPendingQueryPromise").rejectPendingQueryIfPresent(n,c("err")("Cannot generate ChatJid from threadKey: "+m));d("MAWEBRestoreTrackingUtils").markEBRestoreFail(n,!1,"no_chat_jid");return Promise.resolve([!0,c("LSVec").ofArray([]),c("LSVec").ofArray([])])}return h.load().then(function(a){if(r!=null){c("promiseDone")(a.handleEchoBlobsRestore(f,g,i,j,k,l,m,n,o,p,r));return Promise.resolve([!0,c("LSVec").ofArray([]),c("LSVec").ofArray([])])}return Promise.resolve([!0,c("LSVec").ofArray([]),c("LSVec").ofArray([])])})};a.__nop_name__="LSRestoreEchoBlobs";g.default=a}),98);
__d("MAWBridgeIssuePointQueryHandler",["EBIsEbEnabled","I64","LSFactory","LSIntEnum","LSIssuePointQueryRestoreTaskStoredProcedure","LSRequestId","MAWEBRestoreTrackingUtils","Promise","WAGetStorageQplAnnotations","emptyFunction","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a){c("promiseDone")(d("WAGetStorageQplAnnotations").getStorageQplAnnotations().then(function(b){d("MAWEBRestoreTrackingUtils").addQPLRestorePointWithAnnotations({annotations:b,pointName:"storage_estimation_retrieved",traceId:a})}))}function a(a,c){return d("EBIsEbEnabled").isEbEnabledLS(a).then(function(d){return!d?(j||(j=b("Promise"))).resolve():l(a,c)})}function l(a,b){var e=c("LSRequestId").generate(),f=(h||(h=d("LSIntEnum"))).unwrapIntEnum((i||(i=d("I64"))).of_float(b.taskSource));d("MAWEBRestoreTrackingUtils").markEBRestorePoint(f,e,"LS");k(e);return c("LSIssuePointQueryRestoreTaskStoredProcedure")(c("LSFactory")(a),{messageId:b.messageId,source:h.ofNumber(f),startSortKey:b.startSortKey,threadId:b.threadId,traceId:e}).then(c("emptyFunction"))}g.call=a}),98);
__d("MWPReplyLogging",["I64","QPLUserFlow","deepEquals","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Map();function j(a){var b=Date.now()|0;i.set((h||(h=d("I64"))).to_string(a),b);return b}function k(a){var b=i.get((h||(h=d("I64"))).to_string(a));if(b==null)return j(a);else return b}function a(a,b,e){if(e){a?c("QPLUserFlow").endCancel(c("qpl")._(25298086,"3996"),{instanceKey:k(b)}):c("QPLUserFlow").endSuccess(c("qpl")._(25298086,"3996"),{instanceKey:k(b)});i["delete"]((h||(h=d("I64"))).to_string(b));return}}function b(a,b,d){if(a!=null){if(c("deepEquals")(a,b)){c("QPLUserFlow").addPoint(c("qpl")._(25298086,"3996"),"same_message",{instanceKey:k(d)});return}if(!c("deepEquals")(a,b)){a=k(d);c("QPLUserFlow").addPoint(c("qpl")._(25298086,"3996"),"switch_message",{instanceKey:a});c("QPLUserFlow").endCancel(c("qpl")._(25298086,"3996"),{instanceKey:a});c("QPLUserFlow").start(c("qpl")._(25298086,"3996"),{cancelOnUnload:!0,instanceKey:j(d),timeoutInMs:6e4});return}}c("QPLUserFlow").start(c("qpl")._(25298086,"3996"),{cancelOnUnload:!0,instanceKey:j(d),timeoutInMs:6e4})}e={logClearReply:a,logSetReply:b};g["default"]=e}),98);
__d("RtcWebUserActionsDebugFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744337");b=d("FalcoLoggerInternal").create("rtc_web_user_actions_debug",a);e=b;g["default"]=e}),98);
__d("RtcWebUserActionsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744338");b=d("FalcoLoggerInternal").create("rtc_web_user_actions",a);e=b;g["default"]=e}),98);
__d("SoundPlayer",["ODS","URI","createArrayFromMixed"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=new Map();function k(a){var b=new(i||(i=c("URI")))(a);return b.getDomain()?a:new(i||(i=c("URI")))(window.location.href).setPath(b.getPath()).toString()}function l(a){a=new(i||(i=c("URI")))(a).getPath();if(/\.mp3$/.test(a))return"audio/mpeg";return/\.og[ga]$/.test(a)?"audio/ogg":""}var m=function(a,b){for(a of c("createArrayFromMixed")(a)){if(j.has(a))return;var d=document.createElement("audio");if(!d||!d.canPlayType||!d.canPlayType(l(a)))continue;d.preload="auto";d.src=k(a);document.body&&document.body.appendChild(d);j.set(a,d);(b==null?void 0:b.onPreload)!=null&&b.onPreload(d);return}};a=function(a,b){b===void 0&&(b={});for(a of c("createArrayFromMixed")(a)){j.has(a)||m(a,b.callbacks);var e=j.get(a);if(!e)continue;b.loop&&e.setAttribute("loop","");b.volume&&(e.volume=b.volume);e=e.play();e!=null&&typeof e.then==="function"?e.then(function(){(h||(h=d("ODS"))).bumpEntityKey(2966,"sound_player","play.success")})["catch"](function(a){(h||(h=d("ODS"))).bumpEntityKey(2966,"sound_player","play.error")}):(h||(h=d("ODS"))).bumpEntityKey(2966,"sound_player","non_promise");return}};b=function(a){for(a of c("createArrayFromMixed")(a)){var b=j.get(a);if(b){b.pause();return}}};e=function(a){for(a of c("createArrayFromMixed")(a)){var b=j.get(a);b&&(b.pause(),b.removeAttribute("src"),b.src=k(a))}};g.preload=m;g.play=a;g.pause=b;g.stop=e}),98);
__d("SoundSynchronizer",["SoundPlayer","WebStorage","createArrayFromMixed"],(function(a,b,c,d,e,f){var g,h="fb_sounds_playing3";function i(){var a=(g||(g=b("WebStorage"))).getLocalStorage();if(a)try{a=a[h];if(a){a=JSON.parse(a);if(Array.isArray(a))return a}}catch(a){}return[]}function j(a){var c=(g||(g=b("WebStorage"))).getLocalStorage();if(c){var d=i();d.push(a);while(d.length>5)d.shift();try{c[h]=JSON.stringify(d)}catch(a){}}}function k(a){return i().some(function(b){return b===a})}a={play:function(a,c,d,e){a=b("createArrayFromMixed")(a);c=c||a[0]+Math.floor(Date.now()/1e3);if(k(c))return;b("SoundPlayer").play(a,{loop:!!d,callbacks:e});j(c)},isSupported:function(){return!!(g||(g=b("WebStorage"))).getLocalStorage()}};e.exports=a}),null);
__d("SoundRPC",["FBJSON","SecurePostMessage","SoundSynchronizer","cr:950105"],(function(a,b,c,d,e,f,g){function h(a,b,c,e){d("SoundSynchronizer").play(a,b,c,e)}function a(a,b,c,e){b={name:"SoundRPC",data:{paths:b,sync:c,loop:e}};d("SecurePostMessage").sendMessageAllowAnyOrigin_UNSAFE(a,d("FBJSON").stringify(b))}function c(){return!!window.postMessage}function e(){var a=function(a){if(!/\.facebook.com$/.test(a.origin))return;var b={};try{a=a.data;typeof a==="string"&&(b=d("FBJSON").parse(a))}catch(a){}a=b;b=a.name;a=a.data;b==="SoundRPC"&&a!=null&&typeof a==="object"&&h(a.paths,a.sync,a.loop)};b("cr:950105")!=null?b("cr:950105").listen(window,"message",a):window.addEventListener("message",a)}g.playLocal=h;g.playRemote=a;g.supportsRPC=c;g._listen=e}),98);
__d("Sound",["SoundInitialData","SoundPlayer","SoundRPC","SoundSynchronizer","URI","UserAgent_DEPRECATED","Visibility","isFacebookURI"],(function(a,b,c,d,e,f,g){var h,i=null,j=!1;function a(a){}function k(a,b,c,e){i?d("SoundRPC").playRemote(i.contentWindow,a,b,!1):d("SoundRPC").playLocal(a,b,c,e),j=!0}function b(){return j}function e(a,b,d){if(!j&&c("Visibility").isHidden())return;k(a,b,d)}function f(a){i||d("SoundPlayer").stop(a)}var l=new(h||c("URI"))(location.href),m=new Set(["comet","www","business"]);l.getSubdomain()&&!m.has(l.getSubdomain())&&l.setSubdomain("www");m=l.getDomain();function n(){if(d("UserAgent_DEPRECATED").ie()<9)return!1;return c("SoundInitialData").RPC_DISABLED?!1:d("SoundSynchronizer").isSupported()&&d("SoundRPC").supportsRPC()}c("isFacebookURI")(l)&&location.host!==m&&n()&&(i=document.createElement("iframe"),i.setAttribute("src","//"+m+"/sound_iframe.php"),i.style.display="none",document.body&&document.body.appendChild(i));g.init=a;g.play=k;g.hasPlayedSoundBefore=b;g.playOnlyIfImmediate=e;g.stop=f}),98);
__d("ZenonMachineToQPLEvent",["qpl"],(function(a,b,c,d,e,f,g){"use strict";b={ConnectionStateMachine:(a=c("qpl"))._(64243854,"2452"),ParentSignalingClient:a._(64234815,"1094"),PeerConnectionStateMachine:a._(64239068,"6172"),SignalingStateMachine:a._(64245348,"8823")};g["default"]=b}),98);
__d("ZenonODSLogger",["ODS"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(){}var b=a.prototype;b.logCounter=function(a){(h||(h=d("ODS"))).bumpEntityKey(4083,"zenon_multiway",a),h.flush()};b.logE2eeCounter=function(a){(h||(h=d("ODS"))).bumpEntityKey(4083,"zenon_e2ee",a),h.flush()};return a}();b=new a();g["default"]=b}),98);
__d("ZenonDebugLogger",["ChannelClientID","CurrentUser","FBLogger","IGDWebUtils","Log","LogHistory","ODS","QuickLogActionType","QuickPerformanceLogger","RpWebStateMachineLoggingBlocklist","UserAgentData","WebDriverConfig","ZenonAuditedCheckpointLogId","ZenonInfraActionsLogger","ZenonLoggingUtils","ZenonMachineToQPLEvent","ZenonODSLogger","formatDate","isEmployeeTestUserZenonLogging"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=null;a=function(){function a(){var a;this.$1=d("LogHistory").getInstance("webrtc");this.$2=d("ChannelClientID").getID();this.$3=JSON.stringify({browser:(a=c("UserAgentData")).browserName,browser_version:a.browserFullVersion,device:a.deviceName,msg_source:"web",os:a.platformName,os_version:a.platformFullVersion,version:2});a=c("CurrentUser").getAppID();a!=null&&d("IGDWebUtils").isInstagramWebSupportedApp(Number(a))?this.$4=parseInt(a,10):this.$4=219994525426954;this.$5=new Set(c("RpWebStateMachineLoggingBlocklist").EVENT_TYPES);this.$6=new Set(c("RpWebStateMachineLoggingBlocklist").STATES)}a.getInstance=function(){j||(j=new a());return j};a.getFBLogger=function(a){var b;a===void 0&&(a={});return c("FBLogger")("rpweb").addMetadata("RT_WEB","CALL_ID",""+((b=a.signalingID)!=null?b:"null")).addMetadata("RT_WEB","PEER_ID",""+((b=a.peerID)!=null?b:"null"))};var b=a.prototype;b.$7=function(a,b,e){b===void 0&&(b=!0);var f=c("formatDate")(new Date(),"[H:i:s:X]",{skipPatternLocalization:!0});c("WebDriverConfig").isJestE2ETestRun&&d("Log").debug(a);this.$1.log("Console",f+" "+a);b&&c("ZenonInfraActionsLogger").logCheckpoint({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__PLATFORM,checkpoint:"[ZP] "+a,messageID:e})};b.$8=function(a,b,d){var e=c("formatDate")(new Date(),"[H:i:s:X]",{skipPatternLocalization:!0});this.$1.log("Console",e+" "+a+". StateMachineID:  "+(b!=null?b:""));e={auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__STATE_MACHINE,checkpoint:"[ZP] "+a+".",stateMachineID:b};d!=null&&(e.messageID=d);c("ZenonInfraActionsLogger").logCheckpoint(e)};b.$9=function(a,b,e,f){f===void 0&&(f=0);a=c("ZenonMachineToQPLEvent")==null?void 0:c("ZenonMachineToQPLEvent")[a];if(!(a&&(i||(i=c("QuickPerformanceLogger")))&&c("QuickLogActionType")&&d("ZenonLoggingUtils").shouldAllowLogging()))return;e==="terminated"?(i||(i=c("QuickPerformanceLogger"))).markerEnd(a,2,f):(i||(i=c("QuickPerformanceLogger"))).markerPoint(a,b,{data:{string:{data:e}},instanceKey:f})};b.$10=function(a){return isNaN(+a)?0:+a};b.getLogHistory=function(){return this.$1};b.logStateMachine=function(a,b,d,e,f){if(!c("isEmployeeTestUserZenonLogging")())return;if(this.$5.has(d))return;var g="["+a+"] [Current State: "+b+"] Processing event: "+d;g={auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__STATE_MACHINE,checkpoint:""+g,stateMachineID:e};f!=null&&(g.messageID=f);c("ZenonInfraActionsLogger").logCheckpoint(g);this.$9(a,d,b,this.$10(e))};b.logStateMachineTransition=function(a,b,d,e,f,g,h,i){if(this.$6.has(d)||this.$5.has(f))return;if(!c("isEmployeeTestUserZenonLogging")())return;var j="";g!=null&&g.length===1&&g[0].type==="defer"?j="["+a+"] [[DEFERRED] "+f+" did not trigger transition. Current state remains "+d:d!==e?j="["+a+"] [[PROCESSED] "+f+" caused transition from "+(e||"")+" to "+d+".":b?j="["+a+"] [[PROCESSED] "+f+" did not trigger transition. Current state remains "+d:(j="["+a+"] [[DROPPED] "+f+" did not trigger transition. Current state remains "+d,this.$11(a));this.$8(j,h,i)};b.startQPL=function(a,b){b===void 0&&(b=0),(i||(i=c("QuickPerformanceLogger")))&&d("ZenonLoggingUtils").shouldAllowLogging()&&(i||(i=c("QuickPerformanceLogger"))).markerStart(a,this.$10(b))};b.endQPL=function(a,b){b===void 0&&(b=0),(i||(i=c("QuickPerformanceLogger")))&&c("QuickLogActionType")&&d("ZenonLoggingUtils").shouldAllowLogging()&&(i||(i=c("QuickPerformanceLogger"))).markerEnd(a,2,this.$10(b))};b.logConsole=function(a){this.$7(a,!1)};b.logMQTTStateChange=function(a){var b="mqtt_client_state_"+a;c("ZenonODSLogger").logCounter(b);c("isEmployeeTestUserZenonLogging")()&&c("ZenonInfraActionsLogger").logCheckpoint({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__PLATFORM,checkpoint:"[ZP] onMQTTStateChanged: "+a+", document.visibility: "+document.visibilityState+", document.hasFocus: "+String(document.hasFocus())+", navigator.onLine: "+String(navigator.onLine)})};b.logMQTTConnectStats=function(a,b){c("ZenonInfraActionsLogger").logCheckpoint({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__PLATFORM,checkpoint:"[ZP] MQTT Connection time: "+String(a)+"ms, Retry Count: "+String(b)})};b.$11=function(a){(h||(h=d("ODS"))).bumpEntityKey(4083,"zenon_state_machine",a+"_event_dropped"),h.flush()};return a}();g["default"]=a}),98);
__d("ZenonSDESKeyDetector",[],(function(a,b,c,d,e,f){"use strict";var g=/inline:\s*[0-9a-zA-z+/]{40}(\b|\s|$)/;function a(a){return g.test(JSON.stringify(a))}f["default"]=a}),66);
__d("ZenonUserActionLogger",["RtcWebUserActionsDebugFalcoEvent","RtcWebUserActionsFalcoEvent","ZenonDebugLogger","ZenonLoggingUtils","ZenonSDESKeyDetector","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map(),i=window.location.hostname.search("facebook")!==-1?"facebook":window.location.hostname.search("messenger")!==-1?"messenger_dot_com":null,j={logCheckpoint:function(a){j.logEvent(babelHelpers["extends"]({},a,{event:"checkpoint"}))},logClick:function(a){j.logEvent(babelHelpers["extends"]({},a,{event:"tap"}))},logError:function(a){j.logEvent(babelHelpers["extends"]({},a,{event:"error"}))},logEvent:function(a){var b;if(c("ZenonSDESKeyDetector")(a))throw c("unrecoverableViolation")("ZenonUserActionLogger event contains SDES crypto key! This log entry must be removed!","rtc_www");if(!d("ZenonLoggingUtils").shouldAllowLogging())return;b=babelHelpers["extends"]({},a,{page:(b=a.page)!=null?b:i});var e=babelHelpers["extends"]({},b,{client_time:Date.now().toString()});c("RtcWebUserActionsDebugFalcoEvent").log(function(){return e});c("RtcWebUserActionsFalcoEvent").log(function(){return e});c("ZenonDebugLogger").getInstance().getLogHistory().log((a=a.event)!=null?a:"null",JSON.stringify(b))},logImpression:function(a){j.logEvent(babelHelpers["extends"]({},a,{event:"impression"}))},logPreCallClick:function(a){j.logEvent(babelHelpers["extends"]({},a,{event:"tap"}))},logPreCallImpression:function(a){j.logEvent(babelHelpers["extends"]({},a,{event:"impression"}))},startTimer:function(a){var b=Date.now();h=h.set(a,b);j.logCheckpoint({checkpoint:a+"_timerStart"})},stopTimer:function(a){var b=a.checkpointName===void 0?a.timerName:a.checkpointName,c=a.event||{},d=function(a){var b=h.get(a);if(b!=null){h["delete"](a);return parseInt(Date.now()-b,10)}return null};d=d(a.timerName);j.logCheckpoint(babelHelpers["extends"]({},c,{checkpoint:b+"_timerEnd",event_time_elapsed:d==null?void 0:d.toString()}));return parseInt(d,10)}};f.exports=j}),34);/*FB_PKG_DELIM*/
__d("MinGapType",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({UNKNOWN:0,ORGANIC:1,ENGAGEMENT:2,FIXED_POSITION:3,PROMOTION:4,SPONSORED:5,END_OF_FEED_CONTENT:6,FB_STORIES:7,HIGH_VALUE_PROMOTION:8,FB_STORIES_ENGAGEMENT:9,PYMK:10,SHOWCASE:11,FB_SHORTS:12,TRENDING:13,IFR:14,ENGAGEMENT_QP:15,GROUPS_TAB_UNCONNECTED:16,END_OF_FEED_REELS:17,FRIEND_REQUESTS:18,FB_SHORTS_FALLBACK:19,FRIENDLY_FEED_BIRTHDAYS:20,FRIENDLY_FEED_FRIEND_REQUESTS:21,FRIENDLY_FEED_MID_CARD:22,FRIENDLY_FEED_PROMOTION:23,INJECTED_STORY:24,LIMITED_PERSONALIZATION_NOTICE:25});c=a;f["default"]=c}),66);
__d("AdsExtremeGapUtils",["gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=3,i=6;function a(a,b){if(b!==5)return!1;b=c("gkx")("23035");if(!b)return!1;b=j(a,0);return b>i}function j(a,b){if(a.length===0||b>i)return b;var c=a.length,d=k(a);if(d===-1)return b;return c-d<=h?j(a.slice(0,d),b+1):b}function k(a){for(var b=a.length-1;b>=0;b--)if(a[b].minGapType===5)return b;return-1}g.EXTREME_GAP_DISTANCE=h;g.shouldApplyExtremeGapProtection=a;g.getLastSponsoredStoryPosition=k}),98);
__d("AuditImpressionChannelSessionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3703");b=d("FalcoLoggerInternal").create("audit_impression_channel_session",a);e=b;g["default"]=e}),98);
__d("BrandSafetyOpportunityLossRateFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1305");b=d("FalcoLoggerInternal").create("brand_safety_opportunity_loss_rate",a);e=b;g["default"]=e}),98);
__d("Comet2ndChannelContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(null);g["default"]=b}),98);
__d("CometAdsProductLoggingFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5479");b=d("FalcoLoggerInternal").create("comet_ads_product_logging",a);e=b;g["default"]=e}),98);
__d("CometFeedUnitStatusTrackingUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return a.map(function(a,c){return b(a)?babelHelpers["extends"]({},a,{position:c}):null}).filter(Boolean)}function b(a){return a.filter(h)}function c(a){return a.filter(i)}function d(a){return a.filter(j)}function e(a){return a.filter(function(a){return a.status==="received"||a.status==="positioned"})}function g(a){var b=a.reduce(function(a,b,c){return j(b)?c:a},-1);return a.map(function(a,c){return c<=b&&!j(a)?babelHelpers["extends"]({},a,{status:"rendered"}):a})}function h(a){return a.status==="rendered"}function i(a){return a.status!=="error"}function j(a){return a.status==="rendered"||a.status==="error"||a.status==="positioned"}f.getFeedUnitsWithOriginalPosition=a;f.getCurrentlyVisibleFeedUnits=b;f.getPossiblyVisibleFeedUnits=c;f.getAllPositionedFeedUnits=d;f.getUncommittedFeedUnits=e;f.getFeedUnitsWithRenderingOutOfOrderFixed=g;f.isCurrentlyVisible=h;f.isPossiblyVisible=i;f.isAnyPositionedType=j}),66);
__d("CometAdsProductLogger",["AdsExtremeGapUtils","CometAdsProductLoggingFalcoEvent","CometFeedUnitStatusTrackingUtils","WebSession"],(function(a,b,c,d,e,f,g){"use strict";var h="SPONSORED",i="comet.home";function a(a){var b=a.adId,d=a.csp,e=a.cts,f=a.endPoint,g=a.getFeedUnitStatusList,i=a.hba,k=a.isv,l=a.minGapRule,m=a.minGapType,n=a.sessionKey,o=a.tracking,p=a.vp;if(m!==h||l==null||b==null)return;c("CometAdsProductLoggingFalcoEvent").logImmediately(function(){return{ad_id:b,csp:d,endpoint:f,event:"impression",hba:i,isv:k,min_gap_shape:{min_gap_rule:l.toString(),min_gap_type:m},session_key:n,timestamp:e,tracking:o,vp:p}});j({adId:b,csp:d,cts:e,endPoint:f,getFeedUnitStatusList:g,hba:i,isv:k,minGapRule:l,minGapType:m,sessionKey:n,tracking:o,vp:p})}function j(a){var b=a.adId,e=a.csp,f=a.cts,g=a.endPoint,h=a.getFeedUnitStatusList,i=a.hba,j=a.isv,k=a.minGapRule,l=a.minGapType,m=a.sessionKey,n=a.tracking,o=a.vp;if(h==null||e==null)return;a=h();h=d("CometFeedUnitStatusTrackingUtils").getFeedUnitsWithOriginalPosition(a,d("CometFeedUnitStatusTrackingUtils").isCurrentlyVisible);a=parseInt(e,10);h=h.slice(0,a-1);var p=d("AdsExtremeGapUtils").shouldApplyExtremeGapProtection(h,5);if(!p)return;var q=a-d("AdsExtremeGapUtils").getLastSponsoredStoryPosition(h);c("CometAdsProductLoggingFalcoEvent").logImmediately(function(){return{ad_id:b,csp:e,endpoint:g,event:"extreme_experience",hba:i,isv:j,min_gap_shape:{min_gap_rule:k!=null?k.toString():null,min_gap_type:l},product_features:q<=d("AdsExtremeGapUtils").EXTREME_GAP_DISTANCE?"not protected":"protected",session_key:m,timestamp:f,tracking:n,vp:o}})}function b(a){var b=a.adId,e=a.endPoint,f=e===void 0?i:e,g=a.minGapRule,h=a.minGapType;e=Date.now();var j=Math.floor(e/1e3);c("CometAdsProductLoggingFalcoEvent").logImmediately(function(){return{ad_id:b,csp:null,endpoint:f,event:"cta_click",hba:!1,isv:null,min_gap_shape:{min_gap_rule:g!=null?g.toString():null,min_gap_type:h},product_features:"primary_blue_cta_button",session_key:d("WebSession").getId(),timestamp:j.toString(),tracking:null,vp:null}})}function e(a){var b=a.endPoint,e=b===void 0?i:b,f=a.minGapRule,g=a.minGapType;b=Date.now();var h=Math.floor(b/1e3);c("CometAdsProductLoggingFalcoEvent").logImmediately(function(){return{ad_id:null,csp:"0",endpoint:e,event:"impression",hba:!1,isv:null,min_gap_shape:{min_gap_rule:f!=null?f.toString():null,min_gap_type:g},product_features:"highest_position_ad_from_multifeed",session_key:d("WebSession").getId(),timestamp:h.toString(),tracking:null,vp:null}})}g.logCometAdsProductGapRule=a;g.logCometAdsProductGapRuleExtremeExperience=j;g.logCometAdsProductPrimaryBlueCTAButtonClick=b;g.logCometFeedHighestPositionAd=e}),98);
__d("CometFeed5sImpressionDelayContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({firstAdStoryPosition:null,firstLoggedAdImpressionStoryPosition:null,hasAnyAdImpressionAlreadyBeenLogged:!1,hasUserSeenAnyAd:!1});g["default"]=b}),98);
__d("CometFeedBrandSafetyContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(null);g["default"]=b}),98);
__d("CometFeedBrandSafetyLoggingUtil",["CometFeedUnitStatusTrackingUtils","FBLogger","NetworkStatus"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f){if(a==null||b==null){f&&c("FBLogger")("comet_feed_impression_null_brs_field").warn("Unable to get brs data for position %s. Debug: isAd: %s, feedUnitStatusList: %s, brsRegistry: %s",e,f,JSON.stringify(a?a():null),JSON.stringify(b?b():null));return null}var g=a();g=d("CometFeedUnitStatusTrackingUtils").getFeedUnitsWithOriginalPosition(g,d("CometFeedUnitStatusTrackingUtils").isPossiblyVisible);var k=g.findIndex(function(a){return a.position===e});if(!h(g,k)){f&&c("FBLogger")("comet_feed_impression_null_brs_field_unsponsored").warn("Impression at nonErrorFeedUnit index %s was determined to be non sponsored. Debug: storyPosition: %s, isAd: %s, nonErrorFeedUnits: %s, feedUnitStatusList: %s, brsRegistry: %s",k,e,f,JSON.stringify(g),JSON.stringify(a?a():null),JSON.stringify(b?b():null));return null}f=b();a=i(g,f,k-1);b=i(g,f,k+1);k=j(g,f,k);return{brs_filter_setting:k,feed_size:g.length.toString(),feed_state:l(f),unit_after:b,unit_before:a}}function h(a,b){return((a=a[b])==null?void 0:a.category)==="SPONSORED"}function i(a,b,c){a=k(a,b,c);return a&&{brs_content_label:(b=a.brsContentLabel)==null?void 0:b.toString(),organic_tracking:a.tracking,unit_type:a.unitType}}function j(a,b,c){var d;a=k(a,b,c);return a==null||(d=a.brsFilterSetting)==null?void 0:d.toString()}function k(a,b,d){var e=a[d];if(e==null)return null;var f=e.key;f=b.feedUnitRegistry[f];f==null&&e.status==="rendered"?c("FBLogger")("comet_feed_unit_brand_safety_null_brs_info").warn("Unable to find a CometFeedUnitBrandSafetyInfo for position %s and deduplicationKey %s. feedUnitStatusList: %s. brsRegistry: %s",d,e.key,JSON.stringify(a),JSON.stringify(Object.keys(b.feedUnitRegistry))):e.status==="error"&&c("FBLogger")("comet_feed_unit_brand_safety_error_status").mustfix("CometFeedUnitStatus is error for position %s and deduplicationKey %s. feedUnitStatusList: %s. brsRegistry: %s",d,e.key,JSON.stringify(a),JSON.stringify(Object.keys(b.feedUnitRegistry)));return f}function l(a){a=a.feedStateInfoRef.current;if(a==null){c("FBLogger")("comet_feed_unit_brand_safety_feed_state").mustfix("feedStateInfo was not initialized correctly");return"feed_uninitialized_state_info"}var b=a.hasMore,d=a.isEOFError,e=a.isLoading;a=a.showEOFMessageAfterFeedStoppedLoading;var f=c("NetworkStatus").isOnline();if(d)if(f)return"feed_eof_error_while_online";else return"feed_eof_error_while_offline";else if(a)if(f)return"feed_eof_no_more_stories_while_online";else return"feed_eof_no_more_stories_while_offline";else if(b&&e)return"feed_has_more_and_is_loading";else if(b)return"feed_has_more";else if(e)return"feed_is_loading";else return"feed_unknown"}g.getBrandSafetyFieldForAdImpression=a;g.isSponsored=h;g.getBrsInfo=k;g.getFeedState=l}),98);
__d("CometImpressionLoggingUtil",["AuditImpressionChannelSessionFalcoEvent","CometMetricsViewableImpressionFalcoEvent","WebSession","gkx","randomInt","setTimeout","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";e="TWO_M_SECOND_CHANNEL";f="TWO_M_FIRST_CHANNEL";function a(a,b,d,e){var f=Date.now(),g=f+"_"+(c("randomInt")(0,4294967295)+1),h={aidv2:a,csp:b.toString(),cts:Math.floor(f/1e3).toString(),etid:g,event_trace_id:c("uuidv4")(),gap_to_prev_ad:e==null?void 0:e.toString(),isv:"1",xt:d};c("CometMetricsViewableImpressionFalcoEvent").logImmediately(function(){return h})}function b(a,b,e,f,g){var i=c("gkx")("15955");if(!i)return;if(!f||a==null)return;var j=b!=null?b:"";e={sessionKey:d("WebSession").getId(),time:Date.now(),tracking:j,view_rect:{view_bottom:((b=(i=e.boundingClientRect)==null?void 0:i.y)!=null?b:0)+((b=(i=e.boundingClientRect)==null?void 0:i.height)!=null?b:0),view_top:(b=(i=e.rootBounds)==null?void 0:i.y)!=null?b:0},viewport_rect:{view_bottom:((b=(i=e.rootBounds)==null?void 0:i.y)!=null?b:0)+((b=(i=e.rootBounds)==null?void 0:i.height)!=null?b:0),view_top:(b=(i=e.rootBounds)==null?void 0:i.y)!=null?b:0},window_rect:{view_bottom:((b=(i=e.intersectionRect)==null?void 0:i.y)!=null?b:0)+((b=(i=e.intersectionRect)==null?void 0:i.height)!=null?b:0),view_top:(b=(i=e.intersectionRect)==null?void 0:i.y)!=null?b:0}};f[a]||(f[a]={});g==="TWO_M_FIRST_CHANNEL"?f[a].firstChannel=e:f[a].secondChannel=e;c("setTimeout")(function(){h(a,f,j)},1e3)}function h(a,b,e){if(a==null||!b||!b[a])return;if(b[a].lastSent!=null&&b[a].lastSent>Date.now()-6e4)return;var f=i(b[a].firstChannel),g=i(b[a].secondChannel),h={old_impression_source:"comet_feed",on_unit_enter_view_stamp:g,on_unit_exit_view_stamp:{scroll_velocity:"0",time:"1234567890",view_rect:{view_bottom:"0",view_top:"0"},viewport_rect:{view_bottom:"0",view_top:"0"},window_rect:{view_bottom:"0",view_top:"0"}},on_unit_impression_view_stamp:f,primary_impression_channel:"intersection_observer",secondary_impression_channel:"scroll_based",session_end_time:"0",session_key:d("WebSession").getId(),session_start_time:Math.min(parseInt(f.time,10),parseInt(g.time,10)).toString(),surface_module:"COMET",tracking:e};c("AuditImpressionChannelSessionFalcoEvent").logImmediately(function(){return h});b[a].lastSent=Date.now()}function i(a){return!a?{scroll_velocity:"0",time:"0",view_rect:{view_bottom:"0",view_top:"0"},viewport_rect:{view_bottom:"0",view_top:"0"},window_rect:{view_bottom:"0",view_top:"0"}}:{scroll_velocity:"0",time:a.time.toString(),view_rect:{view_bottom:Math.round(a.view_rect.view_bottom).toString(),view_top:Math.round(a.view_rect.view_top).toString()},viewport_rect:{view_bottom:Math.round(a.viewport_rect.view_bottom).toString(),view_top:Math.round(a.viewport_rect.view_top).toString()},window_rect:{view_bottom:Math.round(a.window_rect.view_bottom).toString(),view_top:Math.round(a.window_rect.view_top).toString()}}}g.TwoMSecondChannel=e;g.TwoMFirstChannel=f;g.logPostImpressionForReel=a;g.logChannelData=b}),98);
__d("CometMetricsFullViewFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1936086");b=d("FalcoLoggerInternal").create("comet_metrics_full_view",a);e=b;g["default"]=e}),98);
__d("CometMetricsViewabilityFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1948176");b=d("FalcoLoggerInternal").create("comet_metrics_viewability",a);e=b;g["default"]=e}),98);
__d("GhlSwankFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1955947");b=d("FalcoLoggerInternal").create("ghl_swank",a);e=b;g["default"]=e}),98);
__d("PercentVisible",[],(function(a,b,c,d,e,f){a=-1;b=0;c=50;d=100;f.NO_VISIBLE=a;f.VISIBLE_0_PCT=b;f.VISIBLE_50_PCT=c;f.VISIBLE_100_PCT=d}),66);
__d("useCometDisplayTimingTracker",["InteractionTracingMetrics","performanceNow","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");b.useCallback;var j=b.useRef;function a(a,b){var e=d("react-compiler-runtime").c(3),f=j(null),g;e[0]!==b||e[1]!==a?(g=function(d){if(f.current!==d){f.current=d;if(d){var e=(h||(h=c("performanceNow")))();b!=null?c("InteractionTracingMetrics").addMountPoint(b,e,a):c("InteractionTracingMetrics").currentInteractionLogger().forEach(function(b){return c("InteractionTracingMetrics").addMountPoint(b.traceId,e,a)})}}},e[0]=b,e[1]=a,e[2]=g):g=e[2];return g}g["default"]=a}),98);
__d("useCometGHLFeedSurvey",["CometGHLTracker","DebugOwl","GhlSwankFalcoEvent","cr:1088657","react","useCometGHLDisplayMonitor","useMergeRefs","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");var j=e.useCallback,k=e.useEffect;function a(a){var e=a.encryptedToken,f=a.id,g=a.isDisabled;g=g===void 0?!1:g;var i=a.position,l=a.type,m=(h||(h=c("useUnsafeRef_DEPRECATED")))(!1);a=j(function(a){if(m.current||e==null)return;m.current=!0;c("GhlSwankFalcoEvent").log(function(){return{hd:String(a),sli:String(i),xt:e}});var f=n.current;f!==null&&(d("CometGHLTracker").m(f),b("cr:1088657")&&b("cr:1088657").b({e:f,hd:a,token:e!=null?e:""}))},[e,i]);var n=c("useCometGHLDisplayMonitor")(!m.current&&!g,a);k(function(){var a=n.current;return function(){a&&d("CometGHLTracker").d(a)}},[n]);g=j(function(a){c("DebugOwl").nest(a,{id:f,location:"FEED",position:i,type:l})},[i]);return c("useMergeRefs")(n,g)}f=a;g["default"]=f}),98);
__d("useFullViewImpression",["react","react-compiler-runtime","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useRef;function a(a){var b=d("react-compiler-runtime").c(7),e=a.onFullViewStart;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a={bottomRight:!1,hasBeenFullyViewed:!1,topLeft:!1},b[0]=a):a=b[0];var f=i(a);b[1]!==e?(a=function(a){var b=a.entry;a=a.isElementVisible;if(!a&&f.current.hasBeenFullyViewed)f.current={bottomRight:!1,hasBeenFullyViewed:!1,topLeft:!1};else if(a&&!f.current.hasBeenFullyViewed){b.intersectionRatio===1?(f.current.bottomRight=!0,f.current.topLeft=!0):(f.current.bottomRight||(f.current.bottomRight=b.boundingClientRect.bottom<=b.rootBounds.bottom&&b.boundingClientRect.right<=b.rootBounds.right),f.current.topLeft||(f.current.topLeft=b.boundingClientRect.top>=b.rootBounds.top&&b.boundingClientRect.left>=b.rootBounds.left));if(f.current.bottomRight&&f.current.topLeft){f.current.hasBeenFullyViewed=!0;return e({currentTime:Date.now()})}}},b[1]=e,b[2]=a):a=b[2];a=a;var g;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(g=function(a){f.current={bottomRight:!1,hasBeenFullyViewed:!1,topLeft:!1}},b[3]=g):g=b[3];g=g;var h;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(h={thresholdOverride:"EXPENSIVE"},b[4]=h):h=b[4];b[5]!==a?(g={onHidden:g,onIntersection:a,options:h},b[5]=a,b[6]=g):g=b[6];return c("useVisibilityObserver")(g)}g["default"]=a}),98);
__d("useStoryFullViewLogger",["CometMetricsFullViewFalcoEvent","react","react-compiler-runtime","requireDeferred","useFullViewImpression","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useRef,j=c("requireDeferred")("Banzai").__setRef("useStoryFullViewLogger");function a(a,b,e){e=d("react-compiler-runtime").c(5);var f=i(!1),g;e[0]!==b||e[1]!==a?(g=function(d){if(!f.current&&a!=null){f.current=!0;var e=a,g=b,h=c("uuidv4")(),i={csp:g,event_trace_id:h,xt:e};c("CometMetricsFullViewFalcoEvent").log(function(){return{csp:g.toString(),event_trace_id:h,xt:e}});j.onReady(function(a){a.post("comet_metrics:full_view",i)})}},e[0]=b,e[1]=a,e[2]=g):g=e[2];g=g;var h;e[3]!==g?(h={onFullViewStart:g},e[3]=g,e[4]=h):h=e[4];return c("useFullViewImpression")(h)}g["default"]=a}),98);
__d("useStoryObserverImpressionLogger",["BrandSafetyOpportunityLossRateFalcoEvent","Comet2ndChannelContext","CometAdsProductLogger","CometFeed5sImpressionDelayContext","CometFeedAdsProductContext","CometFeedBrandSafetyContext","CometFeedBrandSafetyLoggingUtil","CometFeedUnitStatusListPassiveContext","CometGHLTracker","CometImpressionLoggingUtil","CometMetricsViewableImpressionFalcoEvent","CometTimeSpentNavigation","DebugOwl","FBLogger","WebSession","cr:1813330","ghlTestUBT","gkx","justknobx","randomInt","react","registerSourceForView","sendImpressionEnterActionValidationData","sendImpressionExitActionValidationData","setTimeout","useMinifiedProductAttribution","usePartialViewImpression","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h;e=h||d("react");var i=e.useCallback,j=e.useContext,k=e.useEffect,l=e.useRef,m={can_delay_log_impression:!1,subsequent_gap_in_ms:6e4},n=5e3;function a(a,e,f,g,h,p){g===void 0&&(g=!1);h===void 0&&(h=null);var q=babelHelpers["extends"]({},m,f),r=l(null),s=l(null),t=l(null),u=l(!1),v=l(!1),w=(f==null?void 0:f.can_delay_log_impression)===!0,x=c("useMinifiedProductAttribution")();k(function(){c("ghlTestUBT")(function(a){u.current=a})},[]);k(function(){return function(){r.current=null,v.current=!1,t.current=null}},[h]);var y=j(c("CometFeedUnitStatusListPassiveContext")),z=j(c("Comet2ndChannelContext")),A=j(c("CometFeedBrandSafetyContext")),B=j(c("CometFeed5sImpressionDelayContext"));f=j(c("CometFeedAdsProductContext"));var C=f.adId,D=f.minGapRule,E=f.minGapType;h=i(function(f){var h=f.entry,i=f.visibleTime;c("DebugOwl").perch(h.target);b("cr:1813330")==null||b("cr:1813330").setNewsFeedStoryPosition(e);var j=function(b,f){f=Date.now();var g=c("CometTimeSpentNavigation").getPathInfo(),h=d("CometGHLTracker").c(b.target);c("DebugOwl").fly(b.target);var j=e,k=Math.floor(f/1e3),l=f+"_"+(c("randomInt")(0,4294967295)+1),m=h,n=g?g.name:null,q=d("WebSession").getId(),r=b.visiblePercentage,s=a,t=c("uuidv4")(),u=d("CometFeedBrandSafetyLoggingUtil").getBrandSafetyFieldForAdImpression(y,A,e,w),z;if(c("justknobx")._("616")){j==null&&c("FBLogger")("comet_impression").mustfix("storyPosition param %s is invalid. event_trace_id: %s, aidv2: %s",j,t,x);z=(f=j==null?void 0:j.toString())!=null?f:"0"}else z=j.toString();c("CometMetricsViewableImpressionFalcoEvent").logImmediately(function(){return{aidv2:x,brs:u,csp:z,cts:k.toString(),etid:l,event_trace_id:t,hba:m,isv:"1",me:n,sk:q,vp:r.toString(),xt:s}});if(y){h=y();((g=h[j])==null?void 0:g.category)==="SPONSORED"&&(B.hasAnyAdImpressionAlreadyBeenLogged===!1&&(B.hasAnyAdImpressionAlreadyBeenLogged=!0,B.firstLoggedAdImpressionStoryPosition=e))}o(u,p,i,e);d("CometAdsProductLogger").logCometAdsProductGapRule({adId:C,csp:z,cts:k.toString(),endPoint:n,getFeedUnitStatusList:y,hba:m,isv:"1",minGapRule:D,minGapType:E,sessionKey:q,tracking:s,vp:r.toString()});c("registerSourceForView")(null,s);v.current=!0},k={boundingClientRect:h.boundingClientRect,impressedAt:i,intersectionRect:h.intersectionRect,invisibleReason:null,rootBounds:h.rootBounds,status:"ENTER",target:h.target,visible:!0,visiblePercentage:h.intersectionRatio};g&&c("sendImpressionEnterActionValidationData")("impression_api_comet_enter",k,null,{csp:e,pre_rs:r.current,xt:a});if(z){f=z();d("CometImpressionLoggingUtil").logChannelData(C,a,k,f,d("CometImpressionLoggingUtil").TwoMFirstChannel)}if(t.current||s.current)return;if(q.can_delay_log_impression===!0&&(u.current||d("CometGHLTracker").b()||c("gkx")("23488"))){B.hasUserSeenAnyAd===!1&&(B.hasUserSeenAnyAd=!0,B.firstAdStoryPosition=e);h=c("gkx")("23490");f=h;h=d("CometGHLTracker").b();var l=!B.hasAnyAdImpressionAlreadyBeenLogged;f=f||h||l?n:0;c("gkx")("1718")?h=f:h=n;s.current=c("setTimeout")(function(){j&&j(k,"AD_BLOCKER"),s.current=null},h)}else j&&j(k,v.current?"DEDUP":"ORIGINAL")},[g,q.can_delay_log_impression,e,a,x]);f=i(function(b){var d=b.hiddenReason,f=b.visibleDuration;b=b.visibleTime;g&&c("sendImpressionExitActionValidationData")("impression_api_comet_exit",{impressedAt:b,invisibleReason:d,visiblePercentage:0},null,{csp:e,duration:f,pre_rs:r.current,xt:a});r.current=d;if(t.current)return;(v.current||s.current)&&(t.current=c("setTimeout")(function(){v.current=!1,t.current=null},q.subsequent_gap_in_ms))},[q.subsequent_gap_in_ms,e,a,g]);return c("usePartialViewImpression")({onImpressionEnd:f,onImpressionStart:h})}function o(a,b,d,e){var f=a==null?void 0:a.brs_filter_setting;if(c("BrandSafetyOpportunityLossRateFalcoEvent")!=null&&parseInt(f,10)>0){var g=a==null?void 0:a.unit_after,h=a==null?void 0:a.unit_before;c("BrandSafetyOpportunityLossRateFalcoEvent").log(function(){var a;return{ad_insertion_status:"INSERTED",ad_insertion_sub_status:"VALID_COMPATIBLE",ad_inventory_filter:String(f),adjacent_edges_info:{unit_after:g!=null?{brs_content_label:(a=g.brs_content_label)!=null?a:"",organic_tracking:(a=g.organic_tracking)!=null?a:""}:null,unit_before:h!=null?{brs_content_label:(a=h.brs_content_label)!=null?a:"",organic_tracking:(a=h.organic_tracking)!=null?a:""}:null},client_token:b!=null?b:"",feed_session_id:"",impression_original_timestamp_ms:String(d),slot_position:String(e)}})}}g["default"]=a}),98);
__d("useViewabilityImpression",["react-compiler-runtime","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("react-compiler-runtime").c(3);a=a.onIntersection;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={thresholdOverride:"MODERATE"},b[0]=e):e=b[0];b[1]!==a?(e={onIntersection:a,options:e},b[1]=a,b[2]=e):e=b[2];return c("useVisibilityObserver")(e)}g["default"]=a}),98);
__d("useStoryViewabilityDurationLogger",["Banzai","CometMetricsViewabilityFalcoEvent","PercentVisible","react","react-compiler-runtime","useViewabilityImpression","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useRef;function j(a,b,d){c("CometMetricsViewabilityFalcoEvent").logImmediately(function(){return{cumulative:a.cumulative.toString(),duration:a.duration.toString(),event_trace_id:b,interval:a.interval.toString(),segment_id:a.segmentid.toString(),start_ts:a.startTs.toString(),view_event_type:a.eventType.toString(),xt:d}})}function a(a,b,e){b=d("react-compiler-runtime").c(4);var f=i(null),g=i(null),h=i(null);b[0]!==a?(e=function(b){var e=b.entry;b=b.isElementVisible;var i=k,m=function(b){var d=c("uuidv4")(),e={cumulative:b.cumulative,duration:b.duration,event_trace_id:d,eventType:b.eventType,interval:b.interval,segmentid:b.segmentid,startTs:b.startTs,xt:a};j(b,d,a);b=babelHelpers["extends"]({},c("Banzai").VITAL,{signal:!1});c("Banzai").post("comet_metrics:viewability",e,b)},n=function(a,b,c){if(c==null)return null;b=i(a,c);m(b);return null},o=function(a,b,c){c==null?b={cumulative:0,duration:0,eventType:b,interval:0,segmentid:0,startTs:a}:b=i(a,c);b.segmentid<=2&&m(b);return b};!b?(f.current=n(e.time,d("PercentVisible").VISIBLE_0_PCT,f.current),g.current=n(e.time,d("PercentVisible").VISIBLE_50_PCT,g.current),h.current=n(e.time,d("PercentVisible").VISIBLE_100_PCT,h.current)):e.intersectionRatio<.5?(f.current=o(e.time,d("PercentVisible").VISIBLE_0_PCT,f.current),g.current=n(e.time,d("PercentVisible").VISIBLE_50_PCT,g.current),h.current=n(e.time,d("PercentVisible").VISIBLE_100_PCT,h.current)):e.intersectionRatio>=.5&&e.intersectionRatio<1?(f.current=o(e.time,d("PercentVisible").VISIBLE_0_PCT,f.current),g.current=o(e.time,d("PercentVisible").VISIBLE_50_PCT,g.current),h.current=n(e.time,d("PercentVisible").VISIBLE_100_PCT,h.current)):(f.current=o(e.time,d("PercentVisible").VISIBLE_0_PCT,f.current),g.current=o(e.time,d("PercentVisible").VISIBLE_50_PCT,g.current),h.current=o(e.time,d("PercentVisible").VISIBLE_100_PCT,h.current))},b[0]=a,b[1]=e):e=b[1];e=e;var l;b[2]!==e?(l={onIntersection:e},b[2]=e,b[3]=l):l=b[3];return c("useViewabilityImpression")(l)}function k(a,b){return{cumulative:a-b.startTs,duration:a-b.startTs,eventType:b.eventType,interval:a-b.cumulative-b.startTs,segmentid:b.segmentid+1,startTs:b.startTs}}g["default"]=a}),98);
__d("useStoryViewabilityLogger",["mergeRefs","react","useCometGHLFeedSurvey","useStoryFullViewLogger","useStoryObserverImpressionLogger","useStoryVPVDLogger","useStoryViewabilityDurationLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo;function k(a,b,c){return l}function l(){return null}function a(a){var b=a.clientToken,d=a.clientViewConfig;d=d===void 0?null:d;var e=a.contentIdentifier;e=e===void 0?null:e;var f=a.disabledViewabilityEventTypes,g=a.encryptedTracking,h=a.position,l=a.shouldDisableGHLSurvey,m=l===void 0?!1:l,n=a.viewabilityConfig;l=a.vpvdOptionalData;a=[];function o(a,b){return n&&n.includes(a)&&(!f||!f.includes(a))?b:null}var p=!!n&&n.some(function(a){return a===7}),q=o(8,c("useStoryObserverImpressionLogger")(g,h,d,p,e,b)),r=o(7,k(g,h,d)),s=o(2,c("useStoryFullViewLogger")(g,h,d)),t=o(3,c("useStoryViewabilityDurationLogger")(g,h,d));p=c("useStoryVPVDLogger")(babelHelpers["extends"]({},l,{position:h,trackable:g}));e=p[0];b=p[1];a.push(b);var u=o(5,e),v=c("useCometGHLFeedSurvey")({clientViewConfig:d,encryptedToken:g,isDisabled:m,position:h});l=j(function(){return c("mergeRefs")(q,r,s,t,u,m?null:v,null)},[q,r,s,t,u,m,v]);return{debuggingInfoLoggers:a.map(function(a,b){return i.jsx("div",{children:a},b)}),ref:l}}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("EBMessageRangeQueryWithPersistenceQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24417890567818094"}),null);
__d("EBMessageRangeQueryWithPersistenceQuery.graphql",["EBMessageRangeQueryWithPersistenceQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"app_id"},c={defaultValue:null,kind:"LocalArgument",name:"restore_payload_string"},d={defaultValue:null,kind:"LocalArgument",name:"restore_type"},e=[{kind:"Variable",name:"app_id",variableName:"app_id"},{kind:"Variable",name:"restore_payload_string",variableName:"restore_payload_string"},{kind:"Variable",name:"restore_type",variableName:"restore_type"}],f={alias:null,args:null,kind:"ScalarField",name:"encryption_version",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"epoch_anon_id",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"epoch_id",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"encrypted_protobuf_stanza",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"protobuf_timestamp_ms",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"sk_ciphertext",storageKey:null},l=[g,h];return{fragment:{argumentDefinitions:[a,c,d],kind:"Fragment",metadata:null,name:"EBMessageRangeQueryWithPersistenceQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"encrypted_backup",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackupMailbox",kind:"LinkedField",name:"mailbox",plural:!1,selections:[{alias:null,args:e,concreteType:"XFBEncryptedBackupMessages",kind:"LinkedField",name:"messages",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"handleRestoreMessagesGraphQLResponse_XFBEncryptedBackupMessages"}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,d,a],kind:"Operation",name:"EBMessageRangeQueryWithPersistenceQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"encrypted_backup",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackupMailbox",kind:"LinkedField",name:"mailbox",plural:!1,selections:[{alias:null,args:e,concreteType:"XFBEncryptedBackupMessages",kind:"LinkedField",name:"messages",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackupMessage",kind:"LinkedField",name:"encrypted_messages",plural:!0,selections:[{alias:null,args:null,concreteType:"XFBEchoDocument",kind:"LinkedField",name:"echo_document",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"echo_document_string",storageKey:null},f,g,h,{alias:null,args:null,kind:"ScalarField",name:"epoch_fingerprint",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"otid",storageKey:null},{alias:null,args:null,concreteType:"XFBProtobufStanzas",kind:"LinkedField",name:"protobuf_stanzas",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message_tags",storageKey:null},{alias:null,args:null,concreteType:"XFBProtobufStanza",kind:"LinkedField",name:"top_level_protobuf",plural:!1,selections:[i,f,g,h,j,k],storageKey:null},{alias:null,args:null,concreteType:"XFBProtobufStanza",kind:"LinkedField",name:"supplemental_protobufs",plural:!0,selections:[i,f,g,h,j,k,{alias:null,args:null,kind:"ScalarField",name:"supplemental_key",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"backup_id",storageKey:null},{alias:null,args:null,concreteType:"XFBMessageRangeInfo",kind:"LinkedField",name:"message_range_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_more_before",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_more_after",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"next_message_timestamp_ms_before",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"next_message_timestamp_ms_after",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_delete_mailbox",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"exception_string",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_not_found",storageKey:null},{alias:null,args:null,concreteType:"XFBEpochDerivationSet",kind:"LinkedField",name:"epoch_derivation_set",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackupsEpochEdge",kind:"LinkedField",name:"epoch_edges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"backward_edge",storageKey:null},{alias:null,args:null,concreteType:"XFBEpochForwardEdge",kind:"LinkedField",name:"forward_edge",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"auth_public_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"encrypted_entropy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entropy_fingerprint",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"epoch_storage_public_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"psk_fingerprint",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBEpochIds",kind:"LinkedField",name:"from_epoch",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"XFBEpochIds",kind:"LinkedField",name:"to_epoch",plural:!1,selections:l,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"from_epoch_fingerprint",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"to_epoch_fingerprint",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("EBMessageRangeQueryWithPersistenceQuery_facebookRelayOperation"),metadata:{},name:"EBMessageRangeQueryWithPersistenceQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("EBMessageRangeQueryWithPersistence",["Base64Utils","EBAPIDecryptionModule","EBAPIQPLPoints","EBAPISharedUtils","EBAPIWorkerCheck","EBDeriveAndStoreEpochs","EBMessageRangeQueryUtils","EBMessageRangeQueryWithPersistenceQuery.graphql","I64","LSDatabaseSingleton","LSDecryptMessageProtobufsStoredProcedure","LSDecryptMessagesStoredProcedure","LSEncryptedBackupsMessagesRangeQueryDirection","LSFactory","LSIntEnum","LSMEBTaskCreationSource","LSShape","LSVec","MAWCurrentUser","MAWEBRestoreTrackingUtils","MAWJids","MAWJobDefinitions","MAWMiActGetThreadLifecycleState","MAWMiActThreadLifecycleState","QPLFlow","WAHashStringToNumber","WAJids","WAResultOrError","WATagsLogger","WorkerRelay","WorkerRelayNetwork","getErrorSafe","gkx","handleRestoreMessagesGraphQLResponse","justknobx","promiseDone","qpl","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E=c("requireDeferred")("LSEBUnifiedRestoreUtils").__setRef("EBMessageRangeQueryWithPersistence"),F=c("requireDeferred")("LSRestoreEchoBlobs.nop").__setRef("EBMessageRangeQueryWithPersistence"),G=c("requireDeferred")("LSRestoreProtobufs.nop").__setRef("EBMessageRangeQueryWithPersistence"),H=d("WATagsLogger").TAGS(["labyrinth_web","EBMessageRangeQueryWithPersistence"]),I=h!==void 0?h:h=b("EBMessageRangeQueryWithPersistenceQuery.graphql");async function a(a){var b=a.chatJid,e=a.direction,g=a.includeOffset;g=g===void 0?!1:g;var h=a.numMessages,p=a.sortOrderMs,q=a.source,r=a.traceId;if(d("EBAPIWorkerCheck").runningInWorker())return d("WAResultOrError").makeError("unsupported-context");d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.paginated.gql");var s=d("WAHashStringToNumber").hashStringToNumber(r),t=c("qpl")._(521471755,"2586"),u=d("QPLFlow").startQPLFlow(t,{annotations:{bool:{mainThreadRestore:!0,workerThreadRestore:!1},int:{num_messages_requested:h,source:q!=null?q:c("LSMEBTaskCreationSource").UNKNOWN},string:{request_args:JSON.stringify(a)}},instanceKey:s,timeoutInMs:c("justknobx")._("2950")});try{H.LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[","] Issuing messageRangeQuery with args: ",""])),r,JSON.stringify(a));d("MAWEBRestoreTrackingUtils").markEBRestorePaginated(q,r,"GQL_MAIN_THREAD");var v=await (B||(B=d("LSDatabaseSingleton"))).getLSDatabaseSingletonPromiseOrValue(),w;await v.runInTransaction(async function(a){var c;u.addPoint("get_client_state_start");w=await d("handleRestoreMessagesGraphQLResponse").getClientState(v,a);d("MAWEBRestoreTrackingUtils").addQPLRestorePointWithAnnotations({annotations:{string:{device_id:(C||(C=d("I64"))).to_string((c=(c=w)==null?void 0:c.device_id)!=null?c:(C||(C=d("I64"))).zero)}},pointName:"client_state_retrieved",traceId:r});u.addPoint("get_client_state_end",{string:{device_id:C.to_string((c=(c=w)==null?void 0:c.device_id)!=null?c:(C||(C=d("I64"))).zero)}});c=await d("MAWMiActGetThreadLifecycleState").getThreadLifecycleStateByJid(a,d("MAWJids").convertChatJidToIntJid(b),"GQL_range_restore_eb_api_call");if(c.type===d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MAPPING_ROW||c.type===d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MI_THREAD){d("MAWEBRestoreTrackingUtils").addQPLRestorePointWithAnnotations({annotations:{string:{thread_state_by_jid:c.type}},pointName:"chat_jid_not_found_in_act_mapping_table",traceId:r});u.addPoint("chat_jid_not_found_in_act_mapping_table");d("MAWEBRestoreTrackingUtils").markEBRestoreSuccess(r,!1);u.endSuccess();d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.paginated.gql.thread.missing.error");return d("WAResultOrError").makeError("thread-not-found-in-mi-act-mapping-table")}else d("MAWEBRestoreTrackingUtils").addQPLRestorePointWithAnnotations({annotations:{string:{thread_state_by_jid:c.type}},pointName:"chat_jid_exists_in_act_mapping_table",traceId:r}),u.addPoint("chat_jid_exists_in_act_mapping_table")},"readwrite",void 0,void 0,f.id+":192");if(w==null){H.ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["No client state found - unable to restore"])));u.endFail(d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.NO_CLIENT_STATE,{string:{error_description:d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.NO_CLIENT_STATE}});d("MAWEBRestoreTrackingUtils").markEBRestoreFail(r,!1,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.NO_CLIENT_STATE);d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.paginated.gql.error");return d("WAResultOrError").makeError("no-client-state")}t=w;s=t.backupId;a=t.device_id;var x=t.locally_available_epochs,y=t.mailboxRootKey;t=t.ocmfClientStateBlob;if(s==null||a==null||y==null||t==null){H.ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["mandatory params of client state are null"])));u.endFail(d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.INVALID_CLIENT_STATE,{string:{error_description:d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.INVALID_CLIENT_STATE}});d("MAWEBRestoreTrackingUtils").markEBRestoreFail(r,!1,"client_state_null");d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.paginated.gql.error");return d("WAResultOrError").makeError("invalid-client-state")}var z=d("MAWCurrentUser").getAppID();d("MAWEBRestoreTrackingUtils").addQPLRestorePoint({pointName:"app_id_retrieved",traceId:r});u.addPoint("app_id_retrieved");var A=d("WAJids").threadIdForChatJid(b);d("MAWEBRestoreTrackingUtils").addQPLRestorePoint({pointName:"converted_chatjid_to_threadid",traceId:r});u.addPoint("converted_chatjid_to_threadid");e=e==="before"?c("LSEncryptedBackupsMessagesRangeQueryDirection").BEFORE:c("LSEncryptedBackupsMessagesRangeQueryDirection").AFTER;x={restore_context:{act_thread_id:d("MAWJobDefinitions").toThreadJidPrimaryId(A),site:"www",tam_thread_subtype:0},success:babelHelpers.extends({device_context:{device_id:(C||(C=d("I64"))).to_string(a),locally_available_epochs:x,raw_tokens:{mailbox_root_key:d("Base64Utils").fromArrayBuffer(y),ocmf_client_state_blob:d("Base64Utils").fromArrayBuffer(t)}},direction:e,include_offset:g,query_num_messages:h,server_thread_key:A},p!=null?{reference_timestamp:d("EBMessageRangeQueryUtils").safeTimestampMsString(p)}:{})};u.addPoint(d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.GRAPHQL_QUERY_START);d("MAWEBRestoreTrackingUtils").addQPLRestorePoint({pointName:"graphql_query_start",traceId:r});var D;try{await d("WorkerRelayNetwork").createWorkerNetworkExecute(),D=await d("WorkerRelay").createWorkerQuery(I,{app_id:String(z!=null?z:"0"),restore_payload_string:JSON.stringify(x),restore_type:"RANGE_QUERY_RESTORE"}),u.addPoint(d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.GRAPHQL_QUERY_END),d("MAWEBRestoreTrackingUtils").addQPLRestorePoint({pointName:"graphql_query_end",traceId:r})}catch(a){y=c("getErrorSafe")(a);u.endFail(d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.GRAPHQL_QUERY_EXCEPTION,{string:{error_description:d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.GRAPHQL_QUERY_EXCEPTION,errorStackTrace:y.stack}});return d("WAResultOrError").makeError("invalid-graphql-response")}if(D==null||((t=D)==null||(t=t.viewer)==null||(t=t.encrypted_backup)==null?void 0:t.mailbox)==null){u.endFail(d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.INVALID_GRAPHQL_RESPONSE,{string:{error_description:d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.INVALID_GRAPHQL_RESPONSE}});d("MAWEBRestoreTrackingUtils").markEBRestoreFail(r,!1,"gql_range_restore_exception");d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.paginated.gql.error");return d("WAResultOrError").makeError("invalid-graphql-response")}g=(e=D)==null||(e=e.viewer)==null||(e=e.encrypted_backup)==null||(e=e.mailbox)==null?void 0:e.messages;if(g==null){H.ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["GQL worker range restore query returned null for message response"])));u.endFail(d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.INVALID_GRAPHQL_RESPONSE,{string:{error_description:d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.INVALID_GRAPHQL_RESPONSE}});d("MAWEBRestoreTrackingUtils").markEBRestoreFail(r,!1,"gql_range_restore_exception");d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.paginated.gql.error");return d("WAResultOrError").makeError("invalid-graphql-response")}h=g;if((h==null?void 0:h.encrypted_messages)==null){u.endFail(d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.NULL_MESSAGES,{string:{error_description:d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.NULL_MESSAGES}});d("MAWEBRestoreTrackingUtils").markEBRestoreFail(r,!1,"null_messages");d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.paginated.gql.error");return d("WAResultOrError").makeError("invalid-graphql-response")}A=h.backup_id;z=h.encrypted_messages;x=h.epoch_derivation_set;y=h.exception_string;t=h.message_range_info;e=h.should_delete_mailbox;g=h.thread_not_found;u.addAnnotations({bool:{should_delete_mailbox:e!=null?e:!1},int:{response_messages:z.length},string:{message_range_info:JSON.stringify(t)}});if(y!=null){H.ERROR(m||(m=babelHelpers.taggedTemplateLiteralLoose(["server side exception during graphql restore - ",""])),y);if(g!=null&&g){u.addPoint("thread_not_found_on_server");d("MAWEBRestoreTrackingUtils").addQPLRestorePoint({pointName:"thread_not_found_on_server",traceId:r});u.endSuccess();d("MAWEBRestoreTrackingUtils").markEBRestoreSuccess(r,!1);return d("WAResultOrError").makeError("thread-not-found-on-server")}e===!0&&(u.addPoint(d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.DELETE_MAILBOX),d("MAWEBRestoreTrackingUtils").addQPLRestorePoint({pointName:"delete_mailbox",traceId:r}));u.endFail(d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.SERVER_SIDE_EXCEPTION,{string:{error_description:d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.SERVER_SIDE_EXCEPTION,exception:y}});d("MAWEBRestoreTrackingUtils").markEBRestoreFail(r,!1,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.SERVER_SIDE_EXCEPTION,{string:{exception:y}});d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.paginated.gql.error");return d("WAResultOrError").makeError("server-side-exception")}u.addPoint(d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.DERIVE_AND_STORE_EPOCHS_START);c("gkx")("7473")?await d("EBDeriveAndStoreEpochs").deriveAndStoreEpochsNonLS(v,x):await d("handleRestoreMessagesGraphQLResponse").deriveAndStoreEpochs(x,v,a,r);u.addAnnotations({bool:{hasEpochs:x!=null&&x.epoch_edges.length>0,nonLS:c("gkx")("7473")}});u.addPoint(d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.DERIVE_AND_STORE_EPOCHS_END);A==null&&(H.WARN(n||(n=babelHelpers.taggedTemplateLiteralLoose(["backup_id is null during graphQL restore"]))),u.addPoint(d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.BACKUP_ID_NULL),d("MAWEBRestoreTrackingUtils").addQPLRestorePoint({pointName:"backup_id_null",traceId:r}));h=await J(v,b,z,A!=null?A:(C||(C=d("I64"))).to_string(s),t,r,u);if(h.success===!1)return h;K(v,b,h.value,p,q,r);return d("WAResultOrError").makeResult()}catch(a){g=c("getErrorSafe")(a);H.ERROR(o||(o=babelHelpers.taggedTemplateLiteralLoose(["graphQL range restore error ",""])),g);u.endFail(d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.RUNTIME_ERROR,{string:{error_description:d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.RUNTIME_ERROR,errorStackTrace:(e=g.stack)!=null?e:""}});d("MAWEBRestoreTrackingUtils").markEBRestoreFail(r,!1,"gql_range_restore_exception");d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.paginated.gql.error");return d("WAResultOrError").DEPRECATED_makeError("runtime-error",g)}}async function J(a,b,e,g,h,i,j){var k=d("WAJids").threadIdForChatJid(b),l=d("WAHashStringToNumber").hashStringToNumber(i),m=c("qpl")._(521471755,"2586");e.length===0&&(H.LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["No messages to restore"]))),j.addAnnotations({bool:{hasMessagesToRestore:!1}}),d("MAWEBRestoreTrackingUtils").addQPLRestorePoint({pointName:"no_messages",traceId:i}));if(h==null){H.ERROR(q||(q=babelHelpers.taggedTemplateLiteralLoose(["message range info is null - cannot proceed with graphQL restore"])));j.endFail(d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.MISSING_RANGE_INFO,{string:{error_description:d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.MISSING_RANGE_INFO}});d("MAWEBRestoreTrackingUtils").markEBRestoreFail(i,!1,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.MISSING_RANGE_INFO);d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.paginated.gql.error");return d("WAResultOrError").makeError("missing-message-range-info")}var n=h.has_more_after,o=h.has_more_before,B=h.next_message_timestamp_ms_after;h=h.next_message_timestamp_ms_before;if(o==null||n==null||B==null||h==null){H.ERROR(r||(r=babelHelpers.taggedTemplateLiteralLoose(["message range info is not complete - cannot proceed with graphQL restore"])));j.endFail(d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.MISSING_RANGE_INFO,{string:{error_description:d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.MISSING_RANGE_INFO}});d("MAWEBRestoreTrackingUtils").markEBRestoreFail(i,!1,"message_range_info_null");d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.paginated.gql.error");return d("WAResultOrError").makeError("missing-message-range-info")}if(e.length===0){j.addPoint(d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.NO_MESSAGES_TO_RESTORE);j.endSuccess();d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.paginated.gql.success");return d("WAResultOrError").makeResult({echo:[],messageRangeInfo:{has_more_after:n,has_more_before:o,next_message_timestamp_ms_after:B,next_message_timestamp_ms_before:h},protobuf:[]})}g=d("handleRestoreMessagesGraphQLResponse").processMessageArray(e,g,m,l);var C=g.encryptedLSEchoMessages,D=g.encryptedMessagesWithProtobufs;m=g.encryptedNonLSEchoMessages;l=g.encryptedNonLSProtobufs;j.addAnnotations({bool:{hasEchoMessages:C.length>0,hasProtobufMessages:D.length>0}});if(c("gkx")("7473")){j.addPoint("native_decryption_start");g=d("WAJids").threadIdForChatJid(b);b=await d("EBAPIDecryptionModule").decryptUsingNativeJS(a,g,l,m);if(!b.success){j.endFail("native_decryption_error",{string:{error_description:"native_decryption_error"}});return d("WAResultOrError").makeError("native-decryption-error")}g=b.value.decryptedEchoMessages;b=b.value.decryptedProtobufs;g=d("EBAPIDecryptionModule").convertNativeDecryptionResponseToDecryptedMessageType(g,b);j.addPoint("native_decryption_success");return d("WAResultOrError").makeResult({echo:c("LSVec").toArray(g.echo),messageRangeInfo:{has_more_after:n,has_more_before:o,next_message_timestamp_ms_after:B,next_message_timestamp_ms_before:h},protobuf:c("LSVec").toArray(g.protobuf)})}e.length!==C.length+D.length&&j.addAnnotations({bool:{hasEchoProtobufCountMismatch:!0}});H.LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[","] messageRangeQuery echo: "," protobuf: "," nonLsEcho: "," nonLSProtobuf: ",""])),i,C.length,D.length,m.length,l.length);var E,F;if(C.length>0&&D.length>0){j.addPoint(d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.RESTORING_MIXED_ECHO_PROTOBUF_PAYLOAD);j.addAnnotations({int:{echoMessagesPayloadSize:C.length,protobufMessagesPayloadSize:D.length,totalRestorePayloadSize:C.length+D.length}});j.addPoint(d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.DECRYPT_MESSAGES_ECHO_AND_PROTOBUF_START);b=await a.runInTransaction(async function(a){var b=await c("LSDecryptMessagesStoredProcedure")(c("LSFactory")(a),{actThreadId:k,encryptedMessages:c("LSVec").ofArray(C)}),e=b[0];b=b[1];if(b!=null){var f=d("LSShape").toRecord(b);H.ERROR(t||(t=babelHelpers.taggedTemplateLiteralLoose(["[mixed][echo] decryptMessageEcho failed with an error."])));H.WARN(u||(u=babelHelpers.taggedTemplateLiteralLoose(["[mixed][echo] decryptMessageEcho failed with error: ",""])),f.error_message);j.addAnnotations({string:{echo_decryption_error:f.error_message}});d("MAWEBRestoreTrackingUtils").markEBRestoreFail(i,!1,"ECHO_DECRYPTION_FAILURE",{string:{error_description:f.error_message}});d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.paginated.gql.error")}f=await c("LSDecryptMessageProtobufsStoredProcedure")(c("LSFactory")(a),{actThreadId:k,encryptedMessagesWithProtobufs:c("LSVec").ofArray(D)});a=f[0];f=f[1];if(f!=null){f=d("LSShape").toRecord(f);H.ERROR(v||(v=babelHelpers.taggedTemplateLiteralLoose(["[mixed][protobuf] decryptMessageProtobufs failed with an error."])));H.WARN(w||(w=babelHelpers.taggedTemplateLiteralLoose(["[mixed][protobuf] decryptMessageProtobufs failed with error: ",""])),f.error_message);j.endFail("PROTOBUF_DECRYPTION_FAILURE",{string:{error_description:f.error_message}});d("MAWEBRestoreTrackingUtils").markEBRestoreFail(i,!1,"PROTOBUF_DECRYPTION_FAILURE",{string:{error_description:f.error_message}});d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.paginated.gql.error");return d("WAResultOrError").makeError("protobuf-decryption-failure")}f=a==null?0:c("LSVec").toArray(a).length;b!=null&&f>0&&j.addAnnotations({bool:{continuedAfterEchoDecryptFailure:!0}});return{decryptedEchoMsgs:e,decryptedProtobufMsgs:a}},"readwrite",void 0,void 0,f.id+":775");g=b.decryptedEchoMsgs;e=b.decryptedProtobufMsgs;j.addPoint(d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.DECRYPT_MESSAGES_ECHO_AND_PROTOBUF_END);var G;g!=null&&(G=c("LSVec").toArray(g).map(function(a){return d("LSShape").toRecord(a).value}));E=G;F=e==null?[]:c("LSVec").toArray(e)}else if(D.length===0){j.addPoint(d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.DECRYPT_MESSAGES_ECHO_START);m=await a.runInTransaction(function(a){return c("LSDecryptMessagesStoredProcedure")(c("LSFactory")(a),{actThreadId:k,encryptedMessages:c("LSVec").ofArray(C)})},"readwrite",void 0,void 0,f.id+":879");l=m[0];b=m[1];if(b!=null){g=d("LSShape").toRecord(b);H.ERROR(x||(x=babelHelpers.taggedTemplateLiteralLoose(["[echo-only][echo] decryptMessageEcho failed with an error."])));H.WARN(y||(y=babelHelpers.taggedTemplateLiteralLoose(["[echo-only][echo] decryptMessageEcho failed with error: ",""])),g.error_message);j.endFail("ECHO_DECRYPTION_FAILURE",{string:{error_description:g.error_message}});d("MAWEBRestoreTrackingUtils").markEBRestoreFail(i,!1,"ECHO_DECRYPTION_FAILURE",{string:{error_description:g.error_message}});d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.paginated.gql.error");return d("WAResultOrError").makeError("echo-decryption-failure")}j.addPoint(d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.DECRYPT_MESSAGES_ECHO_END);if(l!=null){e=c("LSVec").toArray(l).map(function(a){return d("LSShape").toRecord(a).value});E=e}}else{j.addPoint(d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.DECRYPT_MESSAGES_PROTOBUF_START);m=await a.runInTransaction(function(a){return c("LSDecryptMessageProtobufsStoredProcedure")(c("LSFactory")(a),{actThreadId:k,encryptedMessagesWithProtobufs:c("LSVec").ofArray(D)})},"readwrite",void 0,void 0,f.id+":928");b=m[0];g=m[1];if(g!=null){l=d("LSShape").toRecord(g);H.ERROR(z||(z=babelHelpers.taggedTemplateLiteralLoose(["[protobuf-only] decryptMessageProtobufs failed with an error"])));H.WARN(A||(A=babelHelpers.taggedTemplateLiteralLoose(["[protobuf-only] decryptMessageProtobufs failed with error: ",""])),l.error_message);j.endFail("PROTOBUF_DECRYPTION_FAILURE",{string:{error_description:l.error_message}});d("MAWEBRestoreTrackingUtils").markEBRestoreFail(i,!1,"PROTOBUF_DECRYPTION_FAILURE",{string:{error_description:l.error_message}});d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.paginated.gql.error");return d("WAResultOrError").makeError("protobuf-decryption-failure")}j.addPoint(d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.DECRYPT_MESSAGES_PROTOBUF_END);F=b==null?[]:c("LSVec").toArray(b)}j.endSuccess();d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.paginated.gql.success");return d("WAResultOrError").makeResult({echo:E!=null?E:[],messageRangeInfo:{has_more_after:n,has_more_before:o,next_message_timestamp_ms_after:B,next_message_timestamp_ms_before:h},protobuf:F!=null?F:[]})}function K(a,b,e,g,h,i){var j=e.echo,k=e.messageRangeInfo,l=e.protobuf,m=d("WAJids").threadIdForChatJid(b);j.length>0&&l.length>0?c("promiseDone")(E.load().then(function(a){return a.echoProtobufConsolidatedRestoreHelper(m,c("LSVec").ofArray(l),k.has_more_before,(C||(C=d("I64"))).of_string(k.next_message_timestamp_ms_before),k.has_more_after,C.of_string(k.next_message_timestamp_ms_after),!1,i,g,void 0,c("LSVec").ofArray(j),(D||(D=d("LSIntEnum"))).ofNumber(h!=null?h:c("LSMEBTaskCreationSource").UNKNOWN),b)})):j.length>0?c("promiseDone")(F.load().then(function(e){return a.runInTransaction(function(a){return e(a,0,(C||(C=d("I64"))).zero,c("LSVec").ofArray(j),k.has_more_before,C.of_string(k.next_message_timestamp_ms_before),k.has_more_after,C.of_string(k.next_message_timestamp_ms_after),!1,m,i,g,(D||(D=d("LSIntEnum"))).ofNumber(h!=null?h:c("LSMEBTaskCreationSource").UNKNOWN),b)},"readwrite",void 0,void 0,f.id+":1017")})):c("promiseDone")(G.load().then(function(e){return a.runInTransaction(function(a){return e(a,0,m,c("LSVec").ofArray(l),k.has_more_before,(C||(C=d("I64"))).of_string(k.next_message_timestamp_ms_before),k.has_more_after,C.of_string(k.next_message_timestamp_ms_after),!1,i,g,void 0,c("LSVec").ofArray([]),(D||(D=d("LSIntEnum"))).ofNumber(h!=null?h:c("LSMEBTaskCreationSource").UNKNOWN),b)},"readwrite",void 0,void 0,f.id+":1040")}))}g.query=I;g.messageRangeQueryWithPersistence_DEPRECATED_DO_NOT_USE=a}),98);
__d("FBNucleusCautionCircleOutline20Icon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M10 4.25a.75.75 0 0 1 .75.75v6a.75.75 0 0 1-1.5 0V5a.75.75 0 0 1 .75-.75zM10 15a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"}),i.jsx("path",{d:"M.5 10a9.5 9.5 0 1 1 19 0 9.5 9.5 0 0 1-19 0zM10 2a8 8 0 1 0 0 16 8 8 0 0 0 0-16z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._size=20;a._isSVG=!0;b=a;g["default"]=b}),98);
__d("MWRestoreMessagesFromEB",["EBIsEbEnabled","EBMessageRangeQueryWithPersistence","I64","MAWAsyncEBPendingQueryPromise","MAWMainTraceUtils","MWEncryptedBackUpEBNotEnabledError","Promise","WATagsLogger","err","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a){var e=a.chatJid,f=a.newerNumMessages,g=a.passedTraceId,k=a.sortOrderMs,l=a.source;a=a.storage;if(!c("gkx")("23914"))return null;var m=g!=null?g:d("MAWMainTraceUtils").createTraceId();c("promiseDone")(d("EBIsEbEnabled").isEbEnabledLS(a.tables).then(function(a){if(a)return d("EBMessageRangeQueryWithPersistence").messageRangeQueryWithPersistence_DEPRECATED_DO_NOT_USE({chatJid:e,direction:(j||(j=d("I64"))).to_float(f)>0?"after":"before",includeOffset:c("gkx")("5340"),sortOrderMs:(j||(j=d("I64"))).to_string(k),source:l,traceId:m}).then(function(a){a.success||d("MAWAsyncEBPendingQueryPromise").rejectPendingQueryIfPresent(m,c("err")(a.error))});else{d("WATagsLogger").TAGS(["labyrinth_web","eb_restore"]).WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Issuing message range query for chatJid: "," skipped. EB not enabled"])),e);d("MAWAsyncEBPendingQueryPromise").rejectPendingQueryIfPresent(m,c("err")(d("MWEncryptedBackUpEBNotEnabledError").EB_NOT_ENABLED));return(i||(i=b("Promise"))).resolve()}}));return m}g["default"]=a}),98);
__d("MAWEBFetch",["EBFormatUtils","FBLogger","I64","LSMEBTaskCreationSource","MAWAsyncEBPendingQueryPromise","MWEncryptedBackUpEBNotEnabledError","MWRestoreMessagesFromEB","WAResultOrError","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h;b=c("justknobx")._("3177");var i=Math.max(3,b-5);async function a(a){var b=a.chatJid,e=a.count,f=a.db,g=a.direction,i=a.timestampMs;a=a.traceId;e=d("EBFormatUtils").adjustCount(e,g);var k=e[0];e=e[1];b=c("MWRestoreMessagesFromEB")({chatJid:b,newerNumMessages:(h||(h=d("I64"))).of_int32(e),numMessages:h.of_int32(k),passedTraceId:a,sortOrderMs:d("EBFormatUtils").adjustTs(i,g),source:c("LSMEBTaskCreationSource").MESSENGER_MESSAGE_LIST_PAGINATION,storage:f});if(b==null)return d("WAResultOrError").makeResult({hasMoreAfter:!1,hasMoreBefore:!1,isEndOfCurrentFormat:!1,messages:[],restoreType:"none"});e=d("MAWAsyncEBPendingQueryPromise").getWaitForRestorePromiseFromTrace(b);k=await e.then(function(a){return d("WAResultOrError").makeResult(a)}).catch(function(a){if(a&&(a==null?void 0:a.message)===d("MWEncryptedBackUpEBNotEnabledError").EB_NOT_ENABLED)return d("WAResultOrError").makeError(d("MWEncryptedBackUpEBNotEnabledError").EB_NOT_ENABLED);c("FBLogger")("messenger_web").catching(a).mustfix("[EBFetch] Failed to fetch");return d("WAResultOrError").makeError((a=a==null?void 0:a.message)!=null?a:"unknown")});if(k.success===!1)return k;a=k.value;i=a.hasMoreAfter;f=a.hasMoreBefore;b=a.messages;e=a.restoreType;return d("WAResultOrError").makeResult({hasMoreAfter:i,hasMoreBefore:f,isEndOfCurrentFormat:j(g,i,f,b),messages:b,restoreType:e})}function j(a,b,c,d){if(a==="before"&&c===!1)return!1;return a==="after"&&b===!1?!1:d.length<i}g.default=a}),98);/*FB_PKG_DELIM*/
__d("BizKitRelayEnvironmentFactory",["cr:9515"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:9515")}),98);
__d("BizKitScopingContext",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({assets:[],businessUnifiedMultiAssetScopingSelectorQueryReference:null,globalScope:null,setAssets:c("emptyFunction"),setGlobalScope:c("emptyFunction")});b.displayName="BizKitScopingContext";e=b;g["default"]=e}),98);
__d("BusinessAssetTypeEnum.facebook",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum").Mirrored(["ADS_EVENT_SOURCE","ADVANCED_ANALYTICS_INSTANCE","AD_ACCOUNT","AD_ACCOUNT_CREATION_REQUEST","AD_DRAFT_WORKSPACE","AD_IMAGE","AD_STUDY","APP","BANK","BLOCK_LIST","BRAND","BUSINESS_CREATIVE_ASSET","BUSINESS_CREATIVE_FOLDER","BUSINESS_FRANCHISE_CONFIG","BUSINESS_IMAGE","BUSINESS_LOCATIONS_WRAPPER","BUSINESS_LOYALTY_PROGRAM","BUSINESS_PAYOUT_ACCOUNT","BUSINESS_PERSON","BUSINESS_REQUEST","BUSINESS_RESOURCE_GROUP","BUSINESS_UNIT","BUSINESS_VIDEO","CAIPT_ASSET","CLOUD_PLAYABLE_ASSET","CONTENT_BLOCK_LIST","CREATOR_MARKETPLACE_BRAND_PROFILE","CREATOR_SELLER_PROFILE","CREDENTIAL_SHARE_REQUEST","CREDIT_CARD","CREDIT_PARTITION","CREDIT_PARTITION_CONFIG","CUSTOM_AUDIENCE","CUSTOM_CONVERSION","DYNAMIC_CONTENT_SET","EVENTS_DATASET","EVENTS_DATASET_AND_PIXEL","EVENTS_DATASET_NEW","EVENT_SOURCE_GROUP","EXAMPLE_CAT","FINANCE","FUNDING_SOURCE","GRP_PLAN","HOTEL_PRICE_FETCHER_PULL_CONFIG","INSTAGRAM_ACCOUNT","INSTAGRAM_ACCOUNT_V2","INSTAGRAM_BUSINESS_ASSET","IP","LEADS_ACCESS","LEGACY_LOGIN","LEGAL_ENTITY","MARKETPLACE_PARTNER_BILLABLE_ACCOUNT","MESSAGING_DATASET","MONETIZATION_PROPERTY","MV4B_BILLABLE_ACCOUNT","NEWS_PAGE","NME_BUSINESS_SUBSCRIPTION_ASSET","OFFLINE_CONVERSION_DATA_SET","OFFSITE_EMAIL_ACCOUNT","OWNED_DOMAIN","PAGE","PAGE_FOR_LOCATIONS","PAYOUT_ACCOUNT","PHOTO","PIXEL","PLACE_PAGE_SET","PLATFORM_CUSTOM_AUDIENCE","PRODUCT_CATALOG","PROFILE_PLUS","PROJECT","PUBLISHER_WHITE_LIST","RECEIPT","REGISTERED_TRADEMARK","RESELLER_VETTING_OE_REQUEST","SAVED_AUDIENCE","SELLER_PROFILE","SIGNALS_EVENT_NAME","SIGNAL_SEGMENT","SLICED_EVENT_SOURCE_GROUP","SPACO_DS_DATA_COLLECTION","SYSTEM_USER","UNKNOWN","USER","VIDEO_ASSET","WHATSAPP_BUSINESS_ACCOUNT","WHATSAPP_BUSINESS_PRESENCE","WHATSAPP_MARKETING_MESSAGE_SUBSCRIBER_POOL"]);c=a;f["default"]=c}),66);
__d("BusinessCometRelayEnvironmentFactory",["cr:9829"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:9829")}),98);
__d("E2eeStateTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";c=(a=b("$InternalEnum"))({NONE:0,NEGOTIATED:1,STATIC:2});d=a({NONE:0,MEDIA_CHANNEL_KEY_PROTOCOL:1});f=a({SENDER_KEY:0,SESSION_KEY:1});b=a({NOT_SET:0,CONTROL:1,TEST:2});var g=a({NOT_SET:0,CONTROL:1,TEST:2});a=a({ENABLED:0,DISABLED:1,FALLBACK:2});e.exports={E2eeKeyNegotiationProtocolEnum:f,E2eeStateCapabilitiesEnum:d,E2eeStateP2PSFrameExpStatus:g,InfraMandatedExpStatus:b,KeyNegotiationModeEnum:c,SignalingKeyMessageProtocolEnum:a}}),null);
__d("FDSRefreshLeftFilled16Icon",["cr:14077"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:14077")}),98);
__d("LSUpdateBackupsTable",["LSAppendDataTraceAddon","LSArrayGetObjectAt","LSDeleteAndReenrollDeviceState","LSDeleteBackupOnClient","LSFlushDataTrace.nop","LSIsEncryptionVersionSecure","LSIsMobileClient","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsUpdateBackupsTableStoredProcedure] Beginning execution."),c.sequence([function(d){return a[5]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),a[5],c.i64.cast([0,1467]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[7]=a[0],a})},function(a){return d[7]?d[8]=!0:d[8]=!1,d[8]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[10]="LSDataTraceMciTraceLog native op not supported",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBTraceUtils] ","",d[10]].join("")),d[9]=c.createArray(),void 0!==void 0?d[11]=(d[9].push(void 0),d[9]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils",d[10],d[9],c.i64.cast([0,3]))):c.resolve()}])},function(e){return a[0]?c.sequence([function(a){return c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}).next().then(function(a,b){b=a.done;a=a.value;return b?d[7]=!1:(a.item,d[7]=!0)})},function(e){return d[7]&&!0?c.sequence([function(a){return c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,e){var f=a.done;a=a.value;return f?(f=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,1]),void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,20]),void 0,void 0],d[11]=f[0],d[12]=f[1],d[13]=f[2],d[14]=f[3],d[15]=f[4],d[16]=f[5],d[17]=f[6],d[18]=f[7],d[19]=f[8],d[20]=f[9],d[21]=f[10],d[22]=f[11],d[23]=f[12],d[24]=f[13],d[25]=f[14],d[26]=f[15],d[27]=f[16],d[28]=f[17],f):(e=a.item,c.sequence([function(a){return d[37]=e.backupTenancy,d[36]=e.encryptionVersion,d[32]=void 0,c.i64.neq(d[32],void 0)?c.resolve(d[33]=d[32]):c.sequence([function(a){return d[38]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[39]=a[0],a})},function(a){return d[39]?d[48]=(d[38].push(c.i64.cast([0,0])),d[38]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[40]=a[0],a})},function(a){return d[40]?d[48]=(d[38].push(c.i64.cast([0,2])),d[38]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[41]=a[0],a})},function(a){return d[41]?d[48]=(d[38].push(c.i64.cast([0,3])),d[38]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[42]=a[0],a})},function(a){return d[42]?d[48]=(d[38].push(c.i64.cast([0,4])),d[38]):0,d[43]=c.createArray(),d[44]=c.i64.of_int32(d[38].length),c.i64.gt(d[44],c.i64.cast([0,0]))?c.loopAsync(d[44],function(a){return d[48]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[38],d[48]).then(function(a){return a=a,d[49]=a[0],d[50]=a[1],a})},function(a){return d[51]=(d[43].push(d[49]),d[43])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[48]=c.createArray(),d[49]=c.i64.of_int32(d[43].length),c.i64.gt(d[49],c.i64.cast([0,0]))?c.loopAsync(d[49],function(a){return d[51]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[43],d[51]).then(function(a){return a=a,d[52]=a[0],d[53]=a[1],a})},function(a){return d[54]=(d[48].push(c.i64.to_string(d[52])),d[48])}])}):c.resolve()},function(a){return d[50]=d[48].join(","),d[45]=d[50]}])},function(a){return d[43].some(function(a){return c.i64.eq(d[36],a)})?d[46]=d[36]:d[46]=void 0,c.i64.neq(d[46],void 0)?d[47]=d[46]:d[47]=void 0,d[33]=d[47]}])},function(a){return c.i64.neq(d[33],void 0)?d[34]=d[33]:d[34]=c.i64.cast([0,0]),c.i64.neq(d[37],void 0)?d[35]=d[37]:d[35]=c.i64.cast([0,1]),a=[e.backupId,e.deviceId,e.mailboxRootKeyBlob,e.ocmfClientStateBlob,void 0,void 0,d[34],d[35],e.epochAuthPublicKeyBlob,e.epochAuthPrivateKeyBlob,e.devicePublicKeyBlob,e.devicePrivateKeyBlob,e.epochStoragePublicKeyBlob,e.epochStoragePrivateKeyBlob,e.obliviousValidationTokenBlob,e.authorityLevel,void 0,void 0],d[11]=a[0],d[12]=a[1],d[13]=a[2],d[14]=a[3],d[15]=a[4],d[16]=a[5],d[17]=a[6],d[18]=a[7],d[19]=a[8],d[20]=a[9],d[21]=a[10],d[22]=a[11],d[23]=a[12],d[24]=a[13],d[25]=a[14],d[26]=a[15],d[27]=a[16],d[28]=a[17]}]))})},function(e){return d[30]=!1,d[31]=c.i64.of_int32(a[3].length),c.i64.gt(d[31],c.i64.cast([0,0]))?c.loopAsync(d[31],function(e){return d[32]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[3],d[32]).then(function(a){return a=a,d[33]=a[0],d[34]=a[1],a})},function(a){return d[35]=d[33].get("device_id"),d[30]=d[30]||c.i64.eq(d[12],d[35])}])}):c.resolve()},function(e){return d[30]?c.resolve():(function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsUpdateBackupsTableStoredProcedure] Client device id not in the list of device ids associated with the backupDeleting backup client state"),c.i64.neq(d[12],void 0)?c.storedProcedure(b("LSDeleteBackupOnClient"),void 0,void 0,!1,a[5],void 0,!0):c.storedProcedure(b("LSDeleteBackupOnClient"),void 0,void 0,!1,a[5],void 0,!0))}]):c.resolve()},function(a){return c.forEach(c.filter(c.db.table(184).fetch(),function(a){return c.i64.neq(a.removalStatus,c.i64.cast([0,2]))}),function(a){return a["delete"]()})},function(e){return d[9]=c.i64.of_int32(a[2].length),c.i64.gt(d[9],c.i64.cast([0,0]))?c.loopAsync(d[9],function(e){return d[11]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[2],d[11]).then(function(a){return a=a,d[12]=a[0],d[13]=a[1],a})},function(a){return d[14]=d[12].get("virtual_devices"),d[14]?d[15]=!1:d[15]=!0,d[15]?c.resolve():(d[16]=c.i64.of_int32(d[14].length),c.i64.gt(d[16],c.i64.cast([0,0]))?c.loopAsync(d[16],function(a){return d[17]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[14],d[17]).then(function(a){return a=a,d[18]=a[0],d[19]=a[1],a})},function(a){return d[20]=d[18].get("virtual_device_id"),d[21]=d[18].get("virtual_device_type"),d[22]=d[18].get("creation_time"),d[23]=d[18].get("device_created_on"),d[24]=d[18].get("cloud_service_account"),d[25]=d[18].get("hsm_pin_normalization_status"),d[26]=d[18].get("requires_hsm_migration"),d[27]=d[18].get("hsm_migration_status"),d[28]=d[18].get("security_question_type"),d[29]=d[18].get("trusted_contact_id"),d[30]=d[12].get("backup_id"),c.count(c.filter(c.db.table(184).fetch(),function(a){return c.i64.eq(a.backupId,d[30])&&c.blobs.eq(a.virtualDeviceId,d[20])})).then(function(a){return d[31]=a})},function(a){return c.i64.eq(d[31],c.i64.cast([0,0]))?(d[32]=d[12].get("backup_id"),c.db.table(184).add({pk:void 0,backupId:d[32],virtualDeviceId:d[20],virtualDeviceType:d[21],creationTime:d[22],deviceCreatedOn:d[23],requiresHsmMigration:d[26]})):c.resolve()}])}):c.resolve())}])}):c.resolve()},function(a){return c.forEach(c.db.table(172).fetch(),function(a){return a["delete"]()})},function(e){return d[10]=c.i64.of_int32(a[1].length),c.i64.gt(d[10],c.i64.cast([0,0]))?c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[1],c.i64.cast([0,0])).then(function(a){return a=a,d[11]=a[0],d[12]=a[1],a})},function(a){return d[13]=d[11].get("backup_id"),d[14]=d[11].get("backup_tenancy"),c.forEach(c.filter(c.db.table(172).fetch([[[c.i64.cast([0,1])]]]),function(a){return c.i64.eq(a.pk,c.i64.cast([0,1]))&&c.i64.lt(a.authorityLevel,c.i64.cast([0,80]))}),function(a){return a["delete"]()})},function(b){return c.db.table(172).add({pk:c.i64.cast([0,1]),backupId:d[13],authorityLevel:c.i64.cast([0,80]),backupTenancy:d[14],isUserOptedOut:a[6],hasOtcEligibleDevices:a[7],encryptionManagementDelegatorId:a[8]})}]):c.sequence([function(a){return c.forEach(c.filter(c.db.table(172).fetch([[[c.i64.cast([0,1])]]]),function(a){return c.i64.eq(a.pk,c.i64.cast([0,1]))&&c.i64.lt(a.authorityLevel,c.i64.cast([0,80]))}),function(a){return a["delete"]()})},function(b){return c.db.table(172).add({pk:c.i64.cast([0,1]),authorityLevel:c.i64.cast([0,80]),isUserOptedOut:a[6],hasOtcEligibleDevices:a[7],encryptionManagementDelegatorId:a[8]})}])}]):c.sequence([function(e){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsUpdateBackupsTableStoredProcedure] Fetch backup task did not succeed."),d[7]=c.createArray(),a[5]!==void 0?d[8]=(d[7].push(a[5]),d[7]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsUpdateBackupsTableStoredProcedure","Fetch backup task did not succeed.",d[7],c.i64.cast([0,3]))},function(a){return c.forEach(c.db.table(172).fetch(),function(a){return a["delete"]()})},function(a){return c.forEach(c.filter(c.db.table(172).fetch([[[c.i64.cast([0,1])]]]),function(a){return c.i64.eq(a.pk,c.i64.cast([0,1]))&&c.i64.lt(a.authorityLevel,c.i64.cast([0,80]))}),function(a){return a["delete"]()})},function(a){return c.db.table(172).add({pk:c.i64.cast([0,1]),backupId:c.i64.cast([-1,4294967295]),authorityLevel:c.i64.cast([0,80]),hasOtcEligibleDevices:!1})},function(e){return c.sequence([function(d){return a[5]!==void 0?c.nativeOperation(b("LSFlushDataTrace.nop"),a[5]):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[8]=a[0],a})},function(a){return d[8]?d[9]=!0:d[9]=!1,d[9]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[11]="LSDataTraceMciTraceLog native op not supported",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBTraceUtils] ","",d[11]].join("")),d[10]=c.createArray(),void 0!==void 0?d[12]=(d[10].push(void 0),d[10]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils",d[11],d[10],c.i64.cast([0,3]))):c.resolve()}])}])},function(e){return c.sequence([function(d){return a[5]!==void 0?c.nativeOperation(b("LSFlushDataTrace.nop"),a[5]):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[7]=a[0],a})},function(a){return d[7]?d[8]=!0:d[8]=!1,d[8]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[10]="LSDataTraceMciTraceLog native op not supported",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBTraceUtils] ","",d[10]].join("")),d[9]=c.createArray(),void 0!==void 0?d[11]=(d[9].push(void 0),d[9]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils",d[10],d[9],c.i64.cast([0,3]))):c.resolve()}])},function(a){return d[1]=c.i64.of_float(Date.now()),d[2]=c.i64.random(),d[4]="Finishing execution. Execution time: ",d[5]=c.i64.to_string(c.i64.sub(d[1],d[0])),d[6]=" ms",d[3]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsUpdateBackupsTableStoredProcedure] ",d[3],d[4],d[3],d[5],d[3],d[6]].join("")),c.i64.eq(c.i64.mod_(d[2],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[7]=",",d[8]=c.createArray(),void 0!==void 0?d[9]=(d[8].push(void 0),d[8]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsUpdateBackupsTableStoredProcedure",[d[4],d[7],d[5],d[7],d[6]].join(""),d[8],c.i64.cast([0,4]))):c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsUpdateBackupsTableStoredProcedure";a.__tables__=["secure_encrypted_backups_client_state","encrypted_backups_virtual_devices","encrypted_backups"];e.exports=a}),null);
__d("MDSIcon.react",["BaseTheme.react","Box.react","FDSIcon.react","SVGIcon","XPlatReactEnvironment","getMDSIconColorCometFallback","react","react-compiler-runtime","useMDSIconColors"],(function(a,b,c,d,e,f,g){"use strict";var h=["ref","backgroundEnabled","color"],i,j=i||(i=d("react"));i.useMemo;var k={iconBackground:{alignItems:"x6s0dn4",backgroundColor:"x1qhmfi1",borderStartStartRadius:"xd4w7er",borderStartEndRadius:"x1u1g78z",borderEndEndRadius:"x3n7fbn",borderEndStartRadius:"xljgxep",display:"x78zum5",justifyContent:"xl56j7k",paddingTop:"x1iorvi4",paddingInlineEnd:"x11lfxj5",paddingBottom:"xjkvuk6",paddingInlineStart:"x135b78x",$$css:!0},themeWrapper:{display:"xt0psk2",$$css:!0}},l={dark:{"secondary-button-background":"rgba(255, 255, 255, 0.14)"},light:{"secondary-button-background":"rgba(0, 0, 0, 0.04)"},type:"VARIABLES"};function a(a){var b=d("react-compiler-runtime").c(19),e,f,g,i;b[0]!==a?(g=a.ref,i=a.backgroundEnabled,e=a.color,f=babelHelpers.objectWithoutPropertiesLoose(a,h),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=i):(e=b[1],f=b[2],g=b[3],i=b[4]);a=i===void 0?!1:i;i=c("useMDSIconColors")(!0);i=e!=null&&e!=="primary"?i[e]:void 0;var m;b[5]!==i?(m=i!=null?{dark:{"primary-icon":i},light:{"primary-icon":i},type:"VARIABLES"}:void 0,b[5]=i,b[6]=m):m=b[6];i=m;m=i;i=f.icon instanceof d("SVGIcon").SVGIcon;var n;b[7]!==e||b[8]!==i?(n=i?"primary":d("getMDSIconColorCometFallback").getMDSIconColorCometFallback(e),b[7]=e,b[8]=i,b[9]=n):n=b[9];b[10]!==f||b[11]!==g||b[12]!==n?(e=j.jsx(c("FDSIcon.react"),babelHelpers["extends"]({color:n,ref:g},f)),b[10]=f,b[11]=g,b[12]=n,b[13]=e):e=b[13];i=e;if(m!=null){b[14]!==m||b[15]!==i?(f=j.jsx(c("BaseTheme.react"),{config:m,xstyle:d("XPlatReactEnvironment").isWeb()?k.themeWrapper:null,children:i}),b[14]=m,b[15]=i,b[16]=f):f=b[16];i=f}if(a){b[17]!==i?(g=j.jsx(c("BaseTheme.react"),{config:l,children:j.jsx(c("Box.react"),{xstyle:k.iconBackground,children:i})}),b[17]=i,b[18]=g):g=b[18];return g}return i}g["default"]=a}),98);
__d("RTWebCometIncomingUnsupportedDialogNameQuery$Parameters",["RTWebCometIncomingUnsupportedDialogNameQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("RTWebCometIncomingUnsupportedDialogNameQuery_facebookRelayOperation"),metadata:{},name:"RTWebCometIncomingUnsupportedDialogNameQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("RTWebCometIncomingUnsupportedDialog.entrypoint",["JSResourceForInteraction","RTWebCometIncomingUnsupportedDialogNameQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.id;return{queries:{queryReference:{parameters:b("RTWebCometIncomingUnsupportedDialogNameQuery$Parameters"),variables:{id:a}}}}},root:c("JSResourceForInteraction")("RTWebCometIncomingUnsupportedDialog.react").__setRef("RTWebCometIncomingUnsupportedDialog.entrypoint")};g["default"]=a}),98);
__d("RTWebDropInUtils",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";var h="drop_in_metadata";a=function(a){var b;return b={},b[h]=JSON.stringify({is_drop_in:a?"1":"0"}),b};b=function(a){a=i(a);a=a.isDropIn;return a};var i=function(a){a=a==null?void 0:a[h];if(a!=null)try{a=JSON.parse(a);return{isDropIn:a.is_drop_in==="1"}}catch(a){c("FBLogger")("rtc_www").catching(a).warn("Failed to parse drop_in_metadata app message");return{isDropIn:!1}}return{isDropIn:!1}};g.getDropInAppMessages=a;g.isDropInFromAppMessages=b}),98);
__d("RTWebUnsupportedUpsellDialogWrapper.react",["CometPlaceholder.react","RTWebCometIncomingUnsupportedDialog.entrypoint","RelayHooks","react","react-compiler-runtime","useCometRelayEntrypointContextualEnvironmentProvider"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(9),e=a.inviterID,f=a.onClose;a=a.threadType;var g=c("useCometRelayEntrypointContextualEnvironmentProvider")(),h;b[0]!==g||b[1]!==e?(h=d("RelayHooks").loadEntryPoint(g,c("RTWebCometIncomingUnsupportedDialog.entrypoint"),{id:e}),b[0]=g,b[1]=e,b[2]=h):h=b[2];g=h;b[3]!==f||b[4]!==a?(e={onClose:f,threadType:a},b[3]=f,b[4]=a,b[5]=e):e=b[5];b[6]!==g||b[7]!==e?(h=i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(d("RelayHooks").EntryPointContainer,{entryPointReference:g,props:e})}),b[6]=g,b[7]=e,b[8]=h):h=b[8];return h}g["default"]=a}),98);
__d("XBizSuiteControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/latest/{?*rest}",Object.freeze({boosted_auto_open:!1,auto_open_saved_replies:!1,auto_open_order_tip:!1,auto_open_promote:!1,launch_notifications:!1,launch_onboarding:!1,partnership_messages:!1,preloaded_with_autodraft:!1,unified_composer_mode:"REEL",should_open_edit_fb_profile:!1,long_form_to_reels_playlist_flow:!1,redirect_notice:!1}),void 0);b=a;g["default"]=b}),98);
__d("XCometGamingVanityControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/gaming/{vanity}/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("getAssetsByType",[],(function(a,b,c,d,e,f){"use strict";function a(a){return{adAccount:a.filter(function(a){return a.type==="AD_ACCOUNT"}),appAccount:a.filter(function(a){return a.type==="APP"}),igAccount:a.filter(function(a){return a.type==="INSTAGRAM_ACCOUNT_V2"}),pageAccount:a.filter(function(a){return a.type==="PAGE"}),wabAccount:a.filter(function(a){return a.type==="WHATSAPP_BUSINESS_ACCOUNT"})}}f["default"]=a}),66);
__d("getFirstAssetOfType",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return a.find(function(a){return a.type===b})}f["default"]=a}),66);
__d("useBizKitSelectedAssets",["BizKitScopingContext","getAssetsByType","getFirstAssetOfType","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){var a=i(c("BizKitScopingContext")),b=a.assets,d=a.setAssets;a=(a=(a=c("getFirstAssetOfType")(b,"PAGE"))!=null?a:b[0])!=null?a:null;return{assetID:a==null?void 0:a.id,assets:b,assetsByType:c("getAssetsByType")(b),assetType:a==null?void 0:a.type,setAssets:d,setSelectedLinkedAsset:function(a){d(a.assets)}}}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("FBIconShieldKeyholeOutline20.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-446 -398)",children:i.jsxs(d("XPlatReactSVG").G,{children:[i.jsx(d("XPlatReactSVG").Path,{d:"M103 201.5a2 2 0 1 1-4 0 2 2 0 0 1 4 0",transform:"translate(355 204)"}),i.jsx(d("XPlatReactSVG").Path,{d:"m101 201.5 1.843 4.423a.416.416 0 0 1-.385.577h-2.916a.416.416 0 0 1-.385-.577L101 201.5z",transform:"translate(355 204)"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M107.312 208.579a6.456 6.456 0 0 0 1.688-4.347v-7.118a1.57 1.57 0 0 0-1.196-1.523l-.588-.142c-2.347-.558-4.602-.949-6.216-.949-1.749 0-4.252.46-6.804 1.091A1.57 1.57 0 0 0 93 197.114v7.118c0 1.606.601 3.153 1.688 4.347 1.759 1.933 3.637 3.602 5.521 4.706a1.568 1.568 0 0 0 1.49.05l.092-.05c1.884-1.104 3.764-2.774 5.521-4.706zm-6.28 3.412a.069.069 0 0 1-.064 0c-1.73-1.014-3.505-2.59-5.17-4.422a4.956 4.956 0 0 1-1.298-3.337v-7.118c0-.03.022-.058.057-.067C96.991 196.445 99.413 196 101 196c1.587 0 4.007.444 6.443 1.047.035.009.057.037.057.067v7.118a4.957 4.957 0 0 1-1.298 3.337c-1.588 1.747-3.279 3.264-4.933 4.28l-.237.142z",transform:"translate(355 204)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("LSOptimisticallyUpdateMessagingPrivacySettings",["LSGetViewerFBID","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[0]=a[0],a})},function(b){return c.forEach(c.db.table(288).fetch([[[d[0]]]]),function(b){var c=b.update;b.item;return c({readReceiptsDisabled:a[0]})})},function(e){return d[1]=new c.Map(),d[1].set("read_receipts_disabled",a[0]),d[2]=c.toJSON(d[1]),c.storedProcedure(b("LSIssueNewTask"),"toggle_rr",c.i64.cast([0,731]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSOmnistoreSettingsOptimisticallyUpdateMessagingPrivacySettingsStoredProcedure";a.__tables__=["messaging_privacy_settings"];e.exports=a}),null);
__d("LSOptimisticallyUpdateMessagingPrivacySettingsStoredProcedure",["LSOptimisticallyUpdateMessagingPrivacySettings","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSOptimisticallyUpdateMessagingPrivacySettings"),e.readReceiptsDisabled);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MWXIconMenuItemHouseKeyhole",["MWXSvgIcon","SVGIcon","cr:22704","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgMenuItemIcon(d("SVGIcon").svgIcon(b("cr:22704")),c("gkx")("23219"));g["default"]=a}),98);
__d("MAWSecurityAlertsBadgeMenuItem.react",["fbt","FDSNumberedBadge.react","JSResourceForInteraction","MWJewelPopoverDialogContext.react","MWPBumpEntityKey","MWXIconMenuItemHouseKeyhole","MWXMenuItem.react","gkx","react","react-compiler-runtime","useMWXLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useContext,l=c("JSResourceForInteraction")("MAWSecurityAlertsDialog.react").__setRef("MAWSecurityAlertsBadgeMenuItem.react");function a(a){var b=d("react-compiler-runtime").c(12);a=a.count;var e=c("useMWXLazyDialog")(l),f=e[0];e=k(c("MWJewelPopoverDialogContext.react"));var g=e.setIsOpenForDialog;e=c("gkx")("23219");var i;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(i=h._(/*BTDS*/"View security alerts"),b[0]=i):i=b[0];i=i;var m;b[1]!==a?(m=h._(/*BTDS*/"_j{\"*\":\"{number} security alerts\",\"_1\":\"1 security alert\"}",[h._plural(a,"number")]),b[1]=a,b[2]=m):m=b[2];b[3]!==a||b[4]!==m?(e={badge:j.jsx(c("FDSNumberedBadge.react"),{accessibilityText:m,color:e?"red":"lightBlue",value:a}),type:"numberedBadge"},b[3]=a,b[4]=m,b[5]=e):e=b[5];b[6]!==g||b[7]!==f?(a=function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.sidebar","security_alerts"),g(!0),f({})},b[6]=g,b[7]=f,b[8]=a):a=b[8];b[9]!==e||b[10]!==a?(m=j.jsx(c("MWXMenuItem.react"),{auxItem:e,icon:c("MWXIconMenuItemHouseKeyhole"),id:"security_alerts_badge_menu_item",onClick:a,primaryText:i}),b[9]=e,b[10]=a,b[11]=m):m=b[11];return m}g["default"]=a}),226);
__d("MAWSecurityAlertsBadgeMenuItemWrapper.react",["MAWSecurityAlertsBadgeMenuItem.react","react","react-compiler-runtime","useMAWSecurityAlertsPreferences"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useMemo;function a(a){var b=d("react-compiler-runtime").c(3);a=a.value;var e=c("useMAWSecurityAlertsPreferences")();e=e.securityAlertsPreferences;e==null||e.allowSecurityAlertForSelf;var f;b[0]!==(e==null?void 0:e.allowSecurityAlertForSelf)||b[1]!==a?(f=e!=null&&e.allowSecurityAlertForSelf?i.jsx(c("MAWSecurityAlertsBadgeMenuItem.react"),{count:a}):null,b[0]=e==null?void 0:e.allowSecurityAlertForSelf,b[1]=a,b[2]=f):f=b[2];e=f;return e}g["default"]=a}),98);
__d("MAWSecurityAlertsMenuItem.react",["fbt","JSResourceForInteraction","MWJewelPopoverDialogContext.react","MWPBumpEntityKey","MWXMenuItem.react","react","react-compiler-runtime","useMWXLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useContext,l=c("JSResourceForInteraction")("MAWSecurityAlertsDialog.react").__setRef("MAWSecurityAlertsMenuItem.react");function a(){var a=d("react-compiler-runtime").c(7),b=c("useMWXLazyDialog")(l),e=b[0];b=k(c("MWJewelPopoverDialogContext.react"));var f=b.setIsOpenForDialog;a[0]!==f||a[1]!==e?(b=function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.sidebar","security_alerts"),f(!0),e({})},a[0]=f,a[1]=e,a[2]=b):b=a[2];var g,i;a[3]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._(/*BTDS*/"Security alerts"),i=h._(/*BTDS*/"View and manage alerts for logins and key changes"),a[3]=g,a[4]=i):(g=a[3],i=a[4]);a[5]!==b?(g=j.jsx(c("MWXMenuItem.react"),{onClick:b,primaryText:g,secondaryText:i,testid:void 0}),a[5]=b,a[6]=g):g=a[6];return g}g["default"]=a}),226);
__d("MAWXMAPreviewsSettingsMenuItem.react",["fbt","JSResourceForInteraction","MWXMenuItem.react","react","react-compiler-runtime","useMWXLazyDialog","useXMAPreviewsDisabledSetting"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=h._(/*BTDS*/"Previews"),l=h._(/*BTDS*/"See previews of Facebook content"),m=c("JSResourceForInteraction")("MAWXMAPreviewSettingsDialog.react").__setRef("MAWXMAPreviewsSettingsMenuItem.react");function a(){var a=d("react-compiler-runtime").c(9),b=c("useXMAPreviewsDisabledSetting")(),e=c("useMWXLazyDialog")(m),f=e[0];a[0]!==b?(e=b?h._(/*BTDS*/"Off"):h._(/*BTDS*/"On"),a[0]=b,a[1]=e):e=a[1];a[2]!==e?(b={auxText:e,type:"text"},a[2]=e,a[3]=b):b=a[3];a[4]!==f?(e=function(){return f({})},a[4]=f,a[5]=e):e=a[5];var g;a[6]!==b||a[7]!==e?(g=j.jsx(c("MWXMenuItem.react"),{auxItem:b,onClick:e,primaryText:k,secondaryText:l}),a[6]=b,a[7]=e,a[8]=g):g=a[8];return g}g["default"]=a}),226);
__d("MWChatEncryptedBackupsSettingsDialogQuery$Parameters",["MWChatEncryptedBackupsSettingsDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWChatEncryptedBackupsSettingsDialogQuery_facebookRelayOperation"),metadata:{},name:"MWChatEncryptedBackupsSettingsDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWChatEncryptedBackupsSettingsDialog.entrypoint",["JSResourceForInteraction","MWChatEncryptedBackupsSettingsDialogQuery$Parameters","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=(a=c("gkx")("14827"))!=null?a:!1;b={getPreloadProps:function(){return{queries:{queryReference:{parameters:c("MWChatEncryptedBackupsSettingsDialogQuery$Parameters"),variables:{labyrinthOnePointOneSecurityUX:h}}}}},root:c("JSResourceForInteraction")("MWChatEncryptedBackupsSettingsDialog.react").__setRef("MWChatEncryptedBackupsSettingsDialog.entrypoint")};g["default"]=b}),98);
__d("MWChatSidebarEncryptedBackupsMenuItem.react",["fbt","MAWEncryptedBackupsStateManager","MWChatEncryptedBackupsSettingsDialog.entrypoint","MWEBEntrypointsKillswitch.enum","MWJewelPopoverDialogContext.react","MWXMenuItem.react","promiseDone","react","react-compiler-runtime","requireDeferred","useMWEBBackupState","useMWXEntryPointDialog","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react")),l=j.useContext,m=c("requireDeferred")("MWEncryptedBackupsFetchBackupMetadata").__setRef("MWChatSidebarEncryptedBackupsMenuItem.react"),n=h._(/*BTDS*/"Message storage"),o=h._(/*BTDS*/"Manage how you store and access your chat history.");function a(){var a=d("react-compiler-runtime").c(13),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={},a[0]=b):b=a[0];b=c("useMWXEntryPointDialog")(c("MWChatEncryptedBackupsSettingsDialog.entrypoint"),b);var e=b[0];b=l(c("MWJewelPopoverDialogContext.react"));var f=b.setIsOpenForDialog,g=(i||(i=c("useReStore")))();a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b={entrypoint:c("MWEBEntrypointsKillswitch.enum").EB_SETTINGS},a[1]=b):b=a[1];var j=c("useMWEBBackupState")(b);a[2]!==j||a[3]!==f||a[4]!==e||a[5]!==g?(b=function(){d("MAWEncryptedBackupsStateManager").eligibleForEBUX(j)&&m.onReady(function(a){a=a.fetchBackupMetadata;c("promiseDone")(a(g))}),f(!0),e({})},a[2]=j,a[3]=f,a[4]=e,a[5]=g,a[6]=b):b=a[6];b=b;var p=j===-1||j===1,q;a[7]!==j||a[8]!==p?(q=p?void 0:{auxText:j===3?h._(/*BTDS*/"On"):h._(/*BTDS*/"Off"),type:"text"},a[7]=j,a[8]=p,a[9]=q):q=a[9];a[10]!==b||a[11]!==q?(p=k.jsx(c("MWXMenuItem.react"),{auxItem:q,onClick:b,primaryText:n,role:"button",secondaryText:o,testid:void 0}),a[10]=b,a[11]=q,a[12]=p):p=a[12];return p}g["default"]=a}),226);
__d("MWChatSidebarSettingsE2EEChatsMenu.react",["fbt","MAWSecurityAlertsMenuItem.react","MAWXMAPreviewsSettingsMenuItem.react","MWXDivider.react","MWXMenuItemWithSubmenu.react","cr:3079","cr:6692","cr:6733","cr:7398","cr:8596","cr:8597","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={divider:{marginTop:"x1gslohp",marginBottom:"x12nagc",marginInlineStart:"xyqm7xq",marginInlineEnd:"x1ys307a",marginLeft:null,marginRight:null,$$css:!0}},l=h._(/*BTDS*/"End-to-end encrypted chats"),m=h._(/*BTDS*/"Manage your end-to-end encrypted chat settings"),n=(f=(e=b("cr:8596"))!=null?e:b("cr:8597"))!=null?f:b("cr:6733");function a(){var a=d("react-compiler-runtime").c(4),e,f,g;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={title:l},f=n!=null?j.jsx(n,{},"encrypted-backups-comet"):null,g=j.jsx(c("MAWSecurityAlertsMenuItem.react"),{},"security-alerts-after-redesign"),a[0]=e,a[1]=f,a[2]=g):(e=a[0],f=a[1],g=a[2]);a[3]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsx(c("MWXMenuItemWithSubmenu.react"),{primaryText:l,secondaryText:m,submenu:{header:e,items:[f,g,j.jsxs(j.Fragment,{children:[j.jsx(c("MWXDivider.react"),{xstyle:k.divider}),j.jsx(c("MAWXMAPreviewsSettingsMenuItem.react"),{})]},"settings-xma-previews"),b("cr:3079")!=null?j.jsx(b("cr:3079"),{},"encrypted-backups-dev-options"):null,b("cr:6692")&&j.jsx(b("cr:6692"),{},"persisted-eb-state-menu"),b("cr:7398")!=null?j.jsx(b("cr:7398"),{},"reset-menu"):null]},testid:void 0}),a[3]=e):e=a[3];return e}g["default"]=a}),226);
__d("MWSupportInboxDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="30713211601625757"}),null);
__d("MWSupportInboxDialogQuery$Parameters",["MWSupportInboxDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWSupportInboxDialogQuery_facebookRelayOperation"),metadata:{},name:"MWSupportInboxDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWSupportInboxDialog.entrypoint",["JSResourceForInteraction","MWSupportInboxDialogQuery$Parameters","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{queryReference:{options:{fetchPolicy:"network-only"},parameters:c("MWSupportInboxDialogQuery$Parameters"),variables:{scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("MWSupportInboxDialog.react").__setRef("MWSupportInboxDialog.entrypoint")};g["default"]=a}),98);
__d("XSupportInboxControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/support/",Object.freeze({second:!1,shimmed_in_item:!1}),void 0);b=a;g["default"]=b}),98);
__d("MWSupportInboxMenuItem.react",["fbt","MWJewelPopoverDialogContext.react","MWPBumpEntityKey","MWSupportInboxDialog.entrypoint","MWXMenuItem.react","MessengerWebUXLogger","QPLUserFlow","XSupportInboxControllerRouteBuilder","gkx","qpl","react","react-compiler-runtime","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useContext;function a(){var a=d("react-compiler-runtime").c(12),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={},a[0]=b):b=a[0];b=c("useMWXEntryPointDialog")(c("MWSupportInboxDialog.entrypoint"),b);var e=b[0];b=k(c("MWJewelPopoverDialogContext.react"));var f=b.setIsOpenForDialog,g=c("MessengerWebUXLogger").useInteractionLogger();a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b={eventName:"support_inbox_entrypoint_impression"},a[1]=b):b=a[1];b=c("MessengerWebUXLogger").useImpressionLoggerRef(b);var i;a[2]===Symbol["for"]("react.memo_cache_sentinel")?(i=c("gkx")("23433")?void 0:c("XSupportInboxControllerRouteBuilder").buildURL({}),a[2]=i):i=a[2];var l;a[3]!==g||a[4]!==f||a[5]!==e?(l=function(){g==null||g({eventName:"support_inbox_entrypoint_click"}),c("gkx")("23433")&&(c("QPLUserFlow").start(c("qpl")._(25305734,"469")),d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.sidebar","support_inbox"),f(!0),e({}))},a[3]=g,a[4]=f,a[5]=e,a[6]=l):l=a[6];var m;a[7]===Symbol["for"]("react.memo_cache_sentinel")?(m=h._(/*BTDS*/"Reported chats"),a[7]=m):m=a[7];var n;a[8]===Symbol["for"]("react.memo_cache_sentinel")?(n=h._(/*BTDS*/"View updates about your reports"),a[8]=n):n=a[8];a[9]!==b||a[10]!==l?(i=j.jsx(c("MWXMenuItem.react"),{href:i,onClick:l,primaryText:m,ref:b,secondaryText:n}),a[9]=b,a[10]=l,a[11]=i):i=a[11];return i}g["default"]=a}),226);
__d("MWChatSidebarSettingsPrivacyMenu.react",["fbt","FDSMenuSeparator.react","MWEBEntrypointsKillswitch.enum","MWPBumpEntityKey","MWSupportInboxMenuItem.react","MWXIconMenuItemHouseKeyhole","MWXMenuItemWithSubmenu.react","cr:20183","cr:21358","cr:7253","react","react-compiler-runtime","useMWEBBackupState"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){var a=d("react-compiler-runtime").c(10),e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={entrypoint:c("MWEBEntrypointsKillswitch.enum").SIDEBAR_SETTINGS_PRIVACY_MENU},a[0]=e):e=a[0];e=c("useMWEBBackupState")(e);var f;if(a[1]!==e){f=[];if(b("cr:7253")!=null){var g;a[3]===Symbol["for"]("react.memo_cache_sentinel")?(g=j.jsx(b("cr:7253"),{},"settings-e2ee-chats"),a[3]=g):g=a[3];f.push(g)}if(b("cr:20183")!=null){a[4]===Symbol["for"]("react.memo_cache_sentinel")?(g=j.jsx(b("cr:20183"),{},"settings-read-receipts"),a[4]=g):g=a[4];f.push(g)}a[5]===Symbol["for"]("react.memo_cache_sentinel")?(g=j.jsx(c("MWSupportInboxMenuItem.react"),{},"settings-support-inbox"),a[5]=g):g=a[5];f.push(g);if(b("cr:21358")!=null&&e===3){a[6]===Symbol["for"]("react.memo_cache_sentinel")?(g=j.jsxs(j.Fragment,{children:[j.jsx(c("FDSMenuSeparator.react"),{}),j.jsx(b("cr:21358"),{})]},"settings-verify-keys-in-chat"),a[6]=g):g=a[6];f.push(g)}a[1]=e;a[2]=f}else f=a[2];a[7]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._(/*BTDS*/"Privacy & safety"),a[7]=g):g=a[7];a[8]!==f?(e=j.jsx(c("MWXMenuItemWithSubmenu.react"),{icon:c("MWXIconMenuItemHouseKeyhole"),onClick:k,primaryText:g,submenu:{items:f},testid:void 0}),a[8]=f,a[9]=e):e=a[9];return e}function k(){return d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.sidebar","privacy_submenu")}g["default"]=a}),226);
__d("useMWDropEBDbMenuDialog",["fbt","EBDB","promiseDone","react-compiler-runtime","setTimeout","useMWXConfirmationDialog"],(function(a,b,c,d,e,f,g,h){"use strict";function a(){var a=d("react-compiler-runtime").c(3),b=c("useMWXConfirmationDialog")(),e;a[0]===Symbol.for("react.memo_cache_sentinel")?(e=async function(){await d("EBDB").clearAll()},a[0]=e):e=a[0];var f=e;a[1]!==b?(e=function(){return b({body:h._(/*BTDS*/"Confirm deleting persisted state for encrypted backups?"),cancel:h._(/*BTDS*/"Cancel"),confirm:h._(/*BTDS*/"Delete"),title:h._(/*BTDS*/"Clear Messaging Data")},function(){c("promiseDone")(f().then(i))})},a[1]=b,a[2]=e):e=a[2];return e}function i(){c("setTimeout")(j,500)}function j(){window.location.reload()}g.default=a}),226);
__d("MWDropEBDbMenu.react",["cr:5086","react","react-compiler-runtime","useMWDropEBDbMenuDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(){var a=d("react-compiler-runtime").c(2),e=c("useMWDropEBDbMenuDialog")(),f;a[0]!==e?(f=b("cr:5086")!=null?i.jsx(b("cr:5086"),{onClick:e,primaryText:"[Fb-only] Clear persisted EB DB"}):null,a[0]=e,a[1]=f):f=a[1];return f}g["default"]=a}),98);
__d("MWFDSMenuItemHouseKeyhole.svg.react",["cr:21952"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:21952")}),98);
__d("MWReadReceiptsMenuItem.react",["fbt","FDSMenuItemCheckbox.react","I64","LSFactory","LSIntEnum","LSOptimisticallyUpdateMessagingPrivacySettingsStoredProcedure","LSReadReceiptSettingState","MWXMenuItemWithSubmenu.react","MWXText.react","ReadReceiptControlSettingChangedFalcoEvent","promiseDone","react","react-compiler-runtime","useAsyncReStore","useDebouncedOnChange","useMWIsReadReceiptsDisabledForUser"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||(i=d("react"));i.useCallback;var m=250;function n(){var a=d("react-compiler-runtime").c(10),b=c("useAsyncReStore")(),e=c("useMWIsReadReceiptsDisabledForUser")(),g;a[0]!==b?(g=function(a){c("promiseDone")(b,function(b){var e=a?(j||(j=d("LSIntEnum"))).ofNumber(c("LSReadReceiptSettingState").DISABLED):(j||(j=d("LSIntEnum"))).ofNumber(c("LSReadReceiptSettingState").ENABLED);c("ReadReceiptControlSettingChangedFalcoEvent").log(function(){return{is_account_level:!0,setting_enabled:!(k||(k=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReadReceiptSettingState").DISABLED))}});c("promiseDone")(b.runInTransaction(function(a){return c("LSOptimisticallyUpdateMessagingPrivacySettingsStoredProcedure")(c("LSFactory")(a),{readReceiptsDisabled:e})},"readwrite",void 0,void 0,f.id+":50"))})},a[0]=b,a[1]=g):g=a[1];g=g;e=c("useDebouncedOnChange")(e,g,m);var i=e[0],n=e[1];g=!i;a[2]!==n||a[3]!==i?(e=function(){return n(!i)},a[2]=n,a[3]=i,a[4]=e):e=a[4];var o;a[5]===Symbol["for"]("react.memo_cache_sentinel")?(o=h._(/*BTDS*/"Show read receipts"),a[5]=o):o=a[5];var p;a[6]===Symbol["for"]("react.memo_cache_sentinel")?(p=l.jsx(c("MWXText.react"),{color:"secondary",type:"body4",children:h._(/*BTDS*/"People wont be able to see when you've read their messages, and you won't be able to see when they've read yours.")}),a[6]=p):p=a[6];a[7]!==g||a[8]!==e?(o=l.jsx(c("FDSMenuItemCheckbox.react"),{asSwitch:!0,isSelected:g,onClick:e,preventClosingMenuOnSelect:!0,primaryText:o,secondaryText:p}),a[7]=g,a[8]=e,a[9]=o):o=a[9];return o}function a(){var a=d("react-compiler-runtime").c(6),b=c("useMWIsReadReceiptsDisabledForUser")(),e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"Read receipts"),a[0]=e):e=a[0];var f;a[1]!==b?(f=b?h._(/*BTDS*/"Off"):h._(/*BTDS*/"On"),a[1]=b,a[2]=f):f=a[2];a[3]===Symbol["for"]("react.memo_cache_sentinel")?(b={header:{title:h._(/*BTDS*/"Read receipts")},items:[l.jsx(n,{},"read-receipts")]},a[3]=b):b=a[3];a[4]!==f?(e=l.jsx(c("MWXMenuItemWithSubmenu.react"),{primaryText:e,secondaryText:f,submenu:b}),a[4]=f,a[5]=e):e=a[5];return e}g["default"]=a}),226);
__d("useMWSettingsButtonSecurityAlertsBadge",["react","useDeviceAlertCount","useMAWSecurityAlertsPreferences"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useMemo;function a(){var a=c("useMAWSecurityAlertsPreferences")();a=a.securityAlertsPreferences;var b=d("useDeviceAlertCount").useDeviceAlertCount();a==null||a.allowSecurityAlertForSelf;a=a!=null&&a.allowSecurityAlertForSelf&&b>0?b:null;return a}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("BrowserPushCommands",[],(function(a,b,c,d,e,f){a="browser_push_ack";b="browser_push_redirect";c="browser_push_window_visible";d="should_reuse_m_dot_com_tab";e="should_reuse_m_dot_com_tab_response";a={ACK:a,REDIRECT:b,WINDOW_VISIBLE:c,SHOULD_REUSE_M_DOT_COM_TAB:d,SHOULD_REUSE_M_DOT_COM_TAB_RESPONSE:e};f["default"]=a}),66);
__d("NotifUserSettingActionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6085");b=d("FalcoLoggerInternal").create("notif_user_setting_action",a);e=b;g["default"]=e}),98);
__d("BrowserPushMessageHandler",["BrowserPushCommands","EventListener","URI","URISchemes","cr:6901","isFacebookURI"],(function(a,b,c,d,e,f,g){var h,i;function j(a){if(a.data.command&&a.data.command===c("BrowserPushCommands").REDIRECT){if(typeof window.onbeforeunload==="function"&&window.onbeforeunload()===void 0)a.ports[0].postMessage({command:c("BrowserPushCommands").ACK,success:!0});else{a.ports[0].postMessage({command:c("BrowserPushCommands").ACK,success:!1});return}a=a.data.uri;if(/^([^.:/?#]+):/.test(a)&&!(i||(i=d("URISchemes"))).isAllowed(/^([^.:/?#]+):/.exec(a)[1])||!c("isFacebookURI")(new(h||(h=c("URI")))(a)))throw new Error("goURI: URI scheme rejected, URI: "+a);b("cr:6901")(a)&&(window.location.href=a)}}a={registerRedirectHandler:function(){c("EventListener").listen(window,"message",function(a){a.origin===""&&j(a)}),navigator.serviceWorker&&navigator.serviceWorker.addEventListener&&(navigator.serviceWorker.addEventListener("message",function(a){(navigator.serviceWorker&&navigator.serviceWorker.controller&&a.target&&a.target.controller&&a.target.controller===navigator.serviceWorker.controller||new RegExp("^"+window.location.protocol+"//"+window.location.host+"$").test(a.origin))&&j(a)}),navigator.serviceWorker.addEventListener("message",function(a){var b;b=(b=a.data)!=null?b:{};b=b.command;if(b!==c("BrowserPushCommands").SHOULD_REUSE_M_DOT_COM_TAB)return;b=[].concat(a==null?void 0:a.ports);a={command:c("BrowserPushCommands").SHOULD_REUSE_M_DOT_COM_TAB_RESPONSE,value:!1};b==null||b[0].postMessage(a)}))}};e=a;g["default"]=e}),98);
__d("BrowserPushVisibilityChanger",["BrowserPushCommands","ClientServiceWorkerMessage","Visibility"],(function(a,b,c,d,e,f,g){function h(){new(c("ClientServiceWorkerMessage"))(c("BrowserPushCommands").WINDOW_VISIBLE,null).sendViaController()}a={listenForVisibility:function(){c("Visibility").isHidden()||h(),c("Visibility").addListener(c("Visibility").VISIBLE,h)}};b=a;g["default"]=b}),98);
__d("NuxWizardFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1039");b=d("FalcoLoggerInternal").create("nux_wizard",a);e=b;g["default"]=e}),98);
__d("MPushPermissionUtil",["BanzaiLogger","NuxWizardFalcoEvent","gkx"],(function(a,b,c,d,e,f,g){function a(a,b){b===void 0&&(b=!1);var d=c("gkx")("21006");d&&c("BanzaiLogger").log("ChromePushPermissionEventsLoggerConfig",{event:a});if(b){var e=null,f="step";a==="allow"?(e="allow",f="conversion"):a==="deny"?e="deny":a==="install_ignore"?e="ignore":a==="turn_on_attempt"&&(e="show_browser_dialog");e!==null&&c("NuxWizardFalcoEvent").log(function(){return{event:e,event_type:f,platform:"mobile",step:"turn_on_notification"}})}}g.logEvent=a}),98);
__d("PushRegistrationUtils",[],(function(a,b,c,d,e,f){"use strict";function g(a){var b=a.endpoint;"subscriptionId"in a&&!new RegExp("/"+a.subscriptionId+"$").test(b)&&(b+="/"+a.subscriptionId);return b}function a(a,b){var c=g(a),d=null;a.toJSON?d=a.toJSON().keys:a.keys&&(d=a.keys);return{app_id:b,push_endpoint:c,subscription_keys:JSON.stringify(d)}}f.normalizeSubscriptionEndpoint=g;f.setupPushRegistrationData=a}),66);
__d("ServiceWorkerRegistration",["ClientServiceWorkerMessage","EventListener","Promise","Run","promiseDone"],(function(a,b,c,d,e,f){var g,h=!!navigator.serviceWorker,i={};function j(){var a=navigator.serviceWorker;if(!h||!a)throw new Error("serviceWorker is not supported in this browser");return a}var k={isSupported:function(){return h},registerWorkerIfUnregisteredAfterDD:function(a){b("Run").onAfterLoad(function(){k.registerWorkerIfUnregistered(a)})},registerWorkerIfUnregistered:function(a){if(i[a])return i[a];var c=j(),d=i[a]=new(g||(g=b("Promise")))(function(d,e){b("promiseDone")(k.getWorkerRegistration(a),function(f){if(!f){var h=b("EventListener").listen(window,"message",function(a){var b;(a==null||(b=a.data)==null?void 0:b.command)==="ServiceWorkerInstallError"&&e()});b("promiseDone")((g||(g=b("Promise"))).resolve(c.register(a,{updateViaCache:"all"})),function(){h.remove(),b("promiseDone")((g||(g=b("Promise"))).resolve(c.ready),d)})}else d(f)})});return d},unregisterControllingWorker:function(){return new(g||(g=b("Promise")))(function(a,c){c=new(b("ClientServiceWorkerMessage"))("unregister",{},function(){a(!0)});c.sendViaController()})},getWorkerRegistration:function(a){var b=j();return b.getRegistration(a)},isAWorkerActivated:function(){return!navigator.serviceWorker||!navigator.serviceWorker.getRegistration?(g||(g=b("Promise"))).resolve(!1):navigator.serviceWorker.getRegistration().then(function(a){return!!(a&&a.active)})}};e.exports=k}),null);
__d("XAsyncPushMuteController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/notifications/settings/push/mute/",{appid:{type:"Int",required:!0},push_endpoint:{type:"String",required:!0},mute_for:{type:"Enum",enumType:0}})}),null);
__d("XAsyncPushMuteStateController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/notifications/settings/push/mute/state/",{appid:{type:"Int",required:!0},push_endpoint:{type:"String",required:!0}})}),null);
__d("PushRegistration",["BrowserPushMessageHandler","BrowserPushPubKey","BrowserPushVisibilityChanger","MPushPermissionUtil","Promise","PushRegistrationUtils","ServiceWorkerRegistration","XAsyncPushMuteController","XAsyncPushMuteStateController","emptyFunction","gkx","promiseDone"],(function(a,b,c,d,e,f){var g,h=window.Notification,i=new Map(),j=65,k=4;a=function(){"use strict";function a(b,c){this.$3=b,this.appID=c,!a.$1&&!a.$2&&(a.$1=!1,a.$2=!1)}a.get=function(b,c){if(i.has(c))return i.get(c);b=new a(b,c);i.set(c,b);return b};var c=a.prototype;c.getPushSubscription=function(){var c=this;return new(g||(g=b("Promise")))(function(d,e){a.pushPermissionIsDenied()&&(b("MPushPermissionUtil").logEvent("permission_denied_or_blocked"),e(new Error("No permission or not supported"))),b("ServiceWorkerRegistration").getWorkerRegistration(c.$3).then(function(a){if(!a){d(null);return}a.pushManager.getSubscription().then(function(a){d(a)})["catch"](e)})["catch"](e)})};c.$4=function(a,c,d){a=a.getURIBuilder().getURI();c=new c(a);c.setData(b("PushRegistrationUtils").setupPushRegistrationData(d,this.appID));c.setMethod("post");c.send()};c.getMutedUntilInServer=function(a){var c=this;return new(g||(g=b("Promise")))(function(d,e){c.getPushSubscription().then(function(f){if(f){f=b("PushRegistrationUtils").normalizeSubscriptionEndpoint(f);f=b("XAsyncPushMuteStateController").getURIBuilder().setString("push_endpoint",f).setInt("appid",c.appID).getURI();f=new a(f);f.listen("done",function(a){d(a.payload.muteUntilTimestampSec)});f.send()}else e("cannot check mute status for unsubscribed endpoint")})["catch"](e)})};c.muteNotifications=function(a,c){var d=this;return new(g||(g=b("Promise")))(function(e,f){d.getPushSubscription().then(function(g){if(g){g=b("PushRegistrationUtils").normalizeSubscriptionEndpoint(g);g=b("XAsyncPushMuteController").getURIBuilder().setEnum("mute_for",a).setString("push_endpoint",g).setInt("appid",d.appID).getURI();g=new c(g);g.setMethod("POST");g.listen("done",function(b){a!==0&&b.payload.muteUntilTimestampSec===0?f("operation failed in server"):e(b.payload.muteUntilTimestampSec)});g.send()}else f("no subscription found")})["catch"](f)})};c.getSubscription=function(){var a=this;return new(g||(g=b("Promise")))(function(c,d){a.getPushSubscription().then(function(a){a?c(b("PushRegistrationUtils").normalizeSubscriptionEndpoint(a)):c(null)})["catch"](d)})};c.maybeRegisterPushAgain=function(a,c){var d=this;return new(g||(g=b("Promise")))(function(e,f){d.getPushSubscription().then(function(f){f?(d.$4(a,c,f),e(b("PushRegistrationUtils").normalizeSubscriptionEndpoint(f))):e(null)})["catch"](function(){e(null)})})};c.$5=function(c,d,e){var f=this;return new(g||(g=b("Promise")))(function(b,g){if(a.$2&&!e){g(new Error("sending disable info already"));return}a.$2=!0;var h=c.getURIBuilder().getURI();h=new d(h.toString());h.setData({appid:f.appID,from_browser_settings:e});h.setMethod("post");h.listen?(h.listen("finally",b),h.listen("fail",function(){a.$2=!1,g()})):h.setErrorHandler&&h.setHandler?(h.setErrorHandler(function(){a.$2=!1,g()}),h.setHandler(b)):b();h.send()})};c.isPushRegistered=function(c,d,e,f,h,i){var j=this;h===void 0&&(h=!1);i===void 0&&(i=!1);b("BrowserPushMessageHandler").registerRedirectHandler();return new(g||(g=b("Promise")))(function(g,k){j.getPushSubscription().then(function(k){g(!!k||c&&!a.pushPermissionIsPending());var l=j.$6();l=j.$7(k,l);if(k&&l)h?j.$4(d,f,k):b("BrowserPushVisibilityChanger").listenForVisibility();else if((!k||!l)&&c){k=j.$8(k,!l);a.pushPermissionIsOn()?k.then(function(a){return j.registerPush(d,f,i)})["catch"](function(){}):j.$5(e,f,!1)}})["catch"](function(){c&&j.$5(e,f,!1),i&&b("ServiceWorkerRegistration").unregisterControllingWorker(),k()})})};c.$8=function(a,c){if(!!a&&c)return a.unsubscribe().then(function(a){return!!a})["catch"](function(a){throw new Error("Unsubscribing invalid PushToken failed")});else return(g||(g=b("Promise"))).resolve(!0)};c.$7=function(a,c){if(!b("gkx")("21098"))return!0;if(!a)return!1;var d=this.$9(a);return c?!d?!1:this.$10(a,b("BrowserPushPubKey").appServerKey):!d};c.$10=function(a,b){a=this.$11(a);if(!a)return!1;a=new Uint8Array(a);a=window.btoa(String.fromCharCode.apply(null,a));a=a.replace("/","_").replace("=","");return a===b};c.$9=function(a){a=this.$11(a);if(!!a&&a.byteLength===j){a=new Uint8Array(a);return a[0]===k}return!1};c.$11=function(a){return!!a&&!!a.options&&!!a.options.applicationServerKey?a.options.applicationServerKey:null};c.$12=function(){return new(g||(g=b("Promise")))(function(a,b){h.requestPermission(a)})};c.registerPushAndWaitForEndpoint=function(a,c,d){var e=this;d===void 0&&(d=!1);return new(g||(g=b("Promise")))(function(b,f){e.$13(a,c,!0,null,d).then(function(a){if(typeof a!=="string"){f(new Error("registerPushImpl did not return an endpoint"));return}b(a)})["catch"](f)})};c.registerPushOnKaiOS=function(a,c,d){var e=this;return new(g||(g=b("Promise")))(function(f,g){b("promiseDone")(d.waitForKaiOS(),function(){d.registerPush(function(d){d=JSON.parse(d.get("push_endpoint"));e.$4(a,c,d);f(b("PushRegistrationUtils").normalizeSubscriptionEndpoint(d))})})})};c.registerPush=function(a,c,d,e){d===void 0&&(d=!1);e===void 0&&(e=b("emptyFunction"));return this.registerPushWithFinishedCallBack(a,c,e,d)};c.registerPushWithFinishedCallBack=function(a,c,d,e){var f=this;e===void 0&&(e=!1);return new(g||(g=b("Promise")))(function(b,g){f.$13(a,c,!1,d,e).then(function(a){if(typeof a!=="boolean"){g(new Error("registerPushImpl did not return a boolean"));return}b(a)})["catch"](g)})};c.$13=function(c,d,e,f,h){var i=this;if(a.$1)return new(g||(g=b("Promise")))(function(a,b){b(new Error("registering already"))});if(!self.PushManager)return(g||(g=b("Promise"))).reject(new Error("PushManager not found."));a.$1=!0;return new(g||(g=b("Promise")))(function(j,k){var l=b("ServiceWorkerRegistration").registerWorkerIfUnregistered(i.$3),m=i.$12();(g||(g=b("Promise"))).all([l,m]).then(function(g){var l=g[0];if(!a.pushPermissionIsOn()){h&&l.unregister();throw new Error("Push permission was denied")}e||j(!0);g=b("BrowserPushPubKey").appServerKey;var m=i.$6();m=m?{userVisibleOnly:!0,applicationServerKey:g}:{userVisibleOnly:!0};l.pushManager.subscribe(m).then(function(a){e&&j(b("PushRegistrationUtils").normalizeSubscriptionEndpoint(a)),i.$4(c,d,a),f&&f(),b("BrowserPushVisibilityChanger").listenForVisibility()})["catch"](function(b){a.$1=!1,h&&l.unregister(),k(b)})})["catch"](function(b){a.$1=!1,k(b)})})};c.$6=function(){var a=b("BrowserPushPubKey").appServerKey;return b("gkx")("21099")&&a!=null&&a!=""};c.unregisterPushAndSWOnKaiOS=function(a,c,d,e){var f=this;return new(g||(g=b("Promise")))(function(b,g){f.$5(a,c,e).then(function(){d.unregisterPush(),b()})["catch"](g)})};c.unregisterPushAndSW=function(a,c){var d=this;return new(g||(g=b("Promise")))(function(e,f){d.$5(a,c,!0).then(function(){b("promiseDone")(b("ServiceWorkerRegistration").unregisterControllingWorker(),e)})["catch"](f)})};c.unregisterPushOnly=function(a,c){var d=this;return new(g||(g=b("Promise")))(function(b,e){d.getPushSubscription().then(function(f){f?f.unsubscribe().then(d.$5(a,c,!0)).then(function(){b(!0)})["catch"](e):e()})["catch"](e)})};a.pushPermissionIsPending=function(){return window.Notification&&window.Notification.permission==="default"};a.pushPermissionIsOn=function(){return window.Notification&&window.Notification.permission==="granted"};a.pushPermissionIsDenied=function(){return window.Notification&&window.Notification.permission==="denied"};return a}();e.exports=a}),null);
__d("XBrowserPushDisabledController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/notifications/client/push/disabled/",{})}),null);
__d("XBrowserPushXOutController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/notifications/client/push/xout/",{})}),null);
__d("XPushRegisterServiceWorkerController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/push/register/service_worker/",{})}),null);
__d("incognito",["UserAgent","WebStorage"],(function(a,b,c,d,e,f,g){"use strict";var h;async function a(){var a=window.RequestFileSystem||window.webkitRequestFileSystem;if(a)return new Promise(function(b){return a(window.TEMPORARY,10,function(){return b(!1)},function(){return b(!0)})});if(c("UserAgent").isBrowser("IE >= 10")||c("UserAgent").isBrowser("Edge"))return!window.indexedDB;if(c("UserAgent").isBrowser("Firefox >= 16"))return new Promise(function(a){var b=window.indexedDB.open("__test__");b.onsuccess=function(){return a(!1)};b.onerror=function(b){b.preventDefault(),a(!0)}});return c("UserAgent").isBrowser("Safari")?!(h||(h=c("WebStorage"))).getLocalStorage():!1}g.default=a}),98);
__d("BrowserPushDirectPromptInstallerComet",["AsyncRequest","BanzaiLogger","NotifUserSettingActionFalcoEvent","Promise","PushNotificationsEventEmitter","PushRegistration","QE2Logger","XBrowserPushDisabledController","XBrowserPushXOutController","XPushRegisterServiceWorkerController","incognito"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,b,d){d===void 0&&(d="prompt");b=babelHelpers["extends"]({appID:b,event:a,surface:d},i);c("BanzaiLogger").log("BrowserPushLoggerConfig",b)}function a(a,b,d,e,f,g){c("NotifUserSettingActionFalcoEvent").log(function(){return{app_id:b,controller_class:g,cur_state:f,event_type:d,medium:"push",prev_state:e,recip_id:a,source:"web_settings_page"}})}function l(){i!=null&&i.xout_count===0&&j&&d("QE2Logger").logExposureForUser(j)}function m(a){var b=c("XBrowserPushXOutController").getURIBuilder().getURI();new(c("AsyncRequest"))().setURI(b).setMethod("POST").send();k("xout",a)}function e(a,b){a=c("PushRegistration").get(a,b);return a.getSubscription()}function f(a,b){a=c("PushRegistration").get(a,b);k("turn_off",b);return a.unregisterPushAndSW(c("XBrowserPushDisabledController"),c("AsyncRequest"))}function n(a,b,d,e,f){a=c("PushRegistration").get(a,b);k("turn_on",b);return a.registerPushAndWaitForEndpoint(c("XPushRegisterServiceWorkerController"),c("AsyncRequest"),e).then(function(){c("PushNotificationsEventEmitter").emit("closeInstallPush"),k("install",b),f==null||f()})["catch"](function(a){c("PushNotificationsEventEmitter").emit("closeInstallPush"),c("PushRegistration").pushPermissionIsDenied()?(c("PushNotificationsEventEmitter").emit("openPushBlockedNotice",d),k("deny",b)):k("install_ignore",b),m(b)})}function o(a,d,e,f,g,i,j,k){var m=c("PushRegistration").get(a,d);m=m.isPushRegistered(e,c("XPushRegisterServiceWorkerController"),c("XBrowserPushDisabledController"),c("AsyncRequest"),!!g,j);(h||(h=b("Promise"))).all([m,c("incognito")()]).then(function(b){var e=b[0];b=b[1];if(e||b)return;l();if(c("PushRegistration").pushPermissionIsPending()){if(!k||f)return;c("PushNotificationsEventEmitter").emit("openInstallPush",{appID:d,browserName:i,path:a,workerIsForPushOnly:j})}else f||n(a,d,i,j)})["catch"](function(){c("PushNotificationsEventEmitter").emit("closeInstallPush"),c("PushRegistration").pushPermissionIsDenied()&&l()})}function p(a){i=a}function q(a){j=a}g.logUserSettingAction=a;g.genPushSubscription=e;g.genDisableNotifications=f;g.genEnableNotifications=n;g.installPush=o;g.setLogExtraData=p;g.setQEUniverseName=q}),98);
__d("BrowserPushMessageRedirectUtil",["Bootloader"],(function(a,b,c,d,e,f,g){function a(a){var b="(messages)(.*?)(?:(tid=))([^&]*)";a=a.match(b);if(!a)return!0;var d=a.pop();c("Bootloader").loadModules(["FantaTabActions"],function(a){a.openTab(d)},"BrowserPushMessageRedirectUtil");return!1}g["default"]=a}),98);
__d("LoginDialog",["Cookie","setInterval"],(function(a,b,c,d,e,f,g){function a(){c("setInterval")(function(){c("Cookie").get("c_user")&&window.location.reload()},5e3)}function b(){window.location.reload()}g.pollLoginCookies=a;g.onClose=b}),98);
__d("legacy:cookie",["Cookie"],(function(a,b,c,d,e,f){a.getCookie=b("Cookie").get,a.setCookie=b("Cookie").set,a.clearCookie=b("Cookie").clear}),3);/*FB_PKG_DELIM*/
__d("CometFeedStoryCallToActionTriggerContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({setTriggeredEvent:function(a){},triggeredBumperRegistry:{},triggeredEvent:null});g["default"]=b}),98);
__d("CometResharesDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24701397762779536"}),null);
__d("CometShortenedExternalUrlEntityRenderer_entity.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{mask:!1},name:"CometShortenedExternalUrlEntityRenderer_entity",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"external_url",storageKey:null}],type:"ExternalUrl",abstractKey:null}],type:"Entity",abstractKey:"__isEntity"};e.exports=a}),null);
__d("CometShortenedExternalUrlEntityRenderer",["CometShortenedExternalUrlEntityRenderer_entity.graphql","cr:2169","cr:3118","cr:3119","cr:3258","cr:3749","isValidURL","memoizeStringOnly","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k=c("memoizeStringOnly")(c("isValidURL")),l=60;h!==void 0?h:h=b("CometShortenedExternalUrlEntityRenderer_entity.graphql");function m(a){var c=a.entity,d=a.node;a=a.originalText;c=c.external_url;if(c==null||a==null)return d;if(b("cr:3749")!=null&&b("cr:3258")!=null){var e=b("cr:3258").extractDataFromGenericLinkUrl(c);if(e!=null)return j.jsx(b("cr:3749"),{data:e.data,type:e.type})}if(b("cr:3118")!==null&&b("cr:3119")!==null&&b("cr:3119").isPixelcloudLink(c)){e=b("cr:3119").pixelcloudInlineLink(a);if(e!==null)return j.jsx(b("cr:3118"),{location:"FEED",pixelcloudID:e,pixelcloudURL:c})}if(!k(a))return d;if(!c.endsWith(a)&&!c.startsWith(a))return d;e=b("cr:2169")(c,l);return e.length<a.length?e:d}m.displayName=m.name+" [from "+f.id+"]";a=function(a,b,c,d){return j.jsx(m,{entity:b,node:a,originalText:d})};g["default"]=a}),98);
__d("CometUFICommentListLayoutContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({narrow:null});g["default"]=b}),98);
__d("UFICommonInteractionEvents",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({COMET_UFI_COMMENT_REACTION:"CometUFICommentReaction",COMET_UFI_COMPOSER_KEYPRESS_LATENCY:"CometUFIComposerKeypressLatency",COMET_UFI_OPTIMISTIC_COMMENT:"CometUFIOptimisticComment",COMET_UFI_OPTIMISTIC_COMMENT_EDIT:"CometUFIOptimisticCommentEdit",COMET_UFI_PERSISTED_COMMENT:"CometUFIPersistedComment",COMET_UFI_PERSISTED_COMMENT_EDIT:"CometUFIPersistedCommentEdit",COMET_UFI_REPLY_COMMENTS_PAGINATION:"CometUFIReplyCommentsPagination",COMET_UFI_STORY_REACTION:"CometUFIStoryReaction",COMET_UFI_TOP_LEVEL_COMMENTS_PAGINATION:"CometUFITopLevelCommentsPagination",UFI_COMMENT_REACTION:"UFICommentReaction",UFI_COMPOSER_INPUT_FOCUS:"UFIComposerInputFocus",UFI_COMPOSER_KEYPRESS_LATENCY:"UFIComposerKeypressLatency",UFI_OPTIMISTIC_COMMENT:"UFIOptimisticComment",UFI_PERSISTED_COMMENT:"UFIPersistedComment",UFI_SHARE_DIALOG_OPENS:"UFIShareDialogOpens",UFI_STORY_REACTION:"UFIStoryReaction",UFI_TOP_LEVEL_COMMENTS_PAGINATION:"UFITopLevelCommentsPagination",UFI2_COMMENT_REACTION:"UFI2CommentReaction",UFI2_COMPOSER_KEYPRESS_LATENCY:"UFI2ComposerKeypressLatency",UFI2_OPTIMISTIC_COMMENT:"UFI2OptimisticComment",UFI2_OPTIMISTIC_COMMENT_EDIT:"UFI2OptimisticCommentEdit",UFI2_PERSISTED_COMMENT:"UFI2PersistedComment",UFI2_PERSISTED_COMMENT_EDIT:"UFI2PersistedCommentEdit",UFI2_REPLY_COMMENTS_PAGINATION:"UFI2ReplyCommentsPagination",UFI2_SHARE_DIALOG_OPENS:"UFI2ShareDialogOpens",UFI2_STORY_REACTION:"UFI2StoryReaction",UFI2_TOP_LEVEL_COMMENTS_PAGINATION:"UFI2TopLevelCommentsPagination"});c=a;f["default"]=c}),66);
__d("UFICommonInteractionLogger",["QuickPerformanceLogger","UFICommonInteractionEvents","performanceAbsoluteNow","qpl","requestAnimationFrameAcrossTransitions","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=new Map(),k=0;function l(){return c("uuidv4")()}function a(a,b){var d=(h||(h=c("performanceAbsoluteNow")))();b=b!=null?b:l();a=n(a);var e;if(a){var f=k++;e={event:a,markerKey:f};(i||(i=c("QuickPerformanceLogger"))).markerStart(a,f,d)}j.set(b,{qplInfo:e,startTimestamp:d});return b}function b(a){c("requestAnimationFrameAcrossTransitions")(function(){m(a)})}function m(a,b){var d=j.get(a);if(d){d=d.qplInfo;j["delete"](a);if(d){a=(h||(h=c("performanceAbsoluteNow")))();(i||(i=c("QuickPerformanceLogger"))).markerEnd(d.event,b===!0?3:2,d.markerKey,a)}}}function n(a){switch(a){case c("UFICommonInteractionEvents").UFI_OPTIMISTIC_COMMENT:return c("qpl")._(3735589,"1811");case c("UFICommonInteractionEvents").UFI_PERSISTED_COMMENT:return c("qpl")._(3735591,"5737");case c("UFICommonInteractionEvents").UFI2_OPTIMISTIC_COMMENT:return c("qpl")._(3735590,"6043");case c("UFICommonInteractionEvents").UFI2_PERSISTED_COMMENT:return c("qpl")._(3735592,"2960");case c("UFICommonInteractionEvents").COMET_UFI_OPTIMISTIC_COMMENT:return c("qpl")._(3735618,"7148");case c("UFICommonInteractionEvents").COMET_UFI_PERSISTED_COMMENT:return c("qpl")._(3735619,"7056");case c("UFICommonInteractionEvents").UFI2_OPTIMISTIC_COMMENT_EDIT:return c("qpl")._(3735593,"7493");case c("UFICommonInteractionEvents").UFI2_PERSISTED_COMMENT_EDIT:return c("qpl")._(3735594,"1099");case c("UFICommonInteractionEvents").COMET_UFI_OPTIMISTIC_COMMENT_EDIT:return c("qpl")._(3735626,"5992");case c("UFICommonInteractionEvents").COMET_UFI_PERSISTED_COMMENT_EDIT:return c("qpl")._(3735627,"6752");case c("UFICommonInteractionEvents").UFI_TOP_LEVEL_COMMENTS_PAGINATION:return c("qpl")._(3735595,"4690");case c("UFICommonInteractionEvents").UFI2_TOP_LEVEL_COMMENTS_PAGINATION:return c("qpl")._(3735596,"3289");case c("UFICommonInteractionEvents").COMET_UFI_TOP_LEVEL_COMMENTS_PAGINATION:return c("qpl")._(3735620,"232");case c("UFICommonInteractionEvents").UFI2_REPLY_COMMENTS_PAGINATION:return c("qpl")._(3735597,"1585");case c("UFICommonInteractionEvents").COMET_UFI_REPLY_COMMENTS_PAGINATION:return c("qpl")._(3735622,"1891");case c("UFICommonInteractionEvents").UFI_SHARE_DIALOG_OPENS:return c("qpl")._(3735598,"7109");case c("UFICommonInteractionEvents").UFI2_SHARE_DIALOG_OPENS:return c("qpl")._(3735599,"1269");case c("UFICommonInteractionEvents").UFI_COMPOSER_INPUT_FOCUS:return c("qpl")._(3735600,"6153");case c("UFICommonInteractionEvents").UFI_STORY_REACTION:return c("qpl")._(3735601,"3455");case c("UFICommonInteractionEvents").UFI_COMMENT_REACTION:return c("qpl")._(3735604,"6177");case c("UFICommonInteractionEvents").UFI2_STORY_REACTION:return c("qpl")._(3735602,"4694");case c("UFICommonInteractionEvents").UFI2_COMMENT_REACTION:return c("qpl")._(3735603,"6895");case c("UFICommonInteractionEvents").COMET_UFI_STORY_REACTION:return c("qpl")._(3735623,"54");case c("UFICommonInteractionEvents").COMET_UFI_COMMENT_REACTION:return c("qpl")._(3735624,"702");case c("UFICommonInteractionEvents").UFI_COMPOSER_KEYPRESS_LATENCY:return c("qpl")._(3735605,"622");case c("UFICommonInteractionEvents").UFI2_COMPOSER_KEYPRESS_LATENCY:return c("qpl")._(3735606,"5054");case c("UFICommonInteractionEvents").COMET_UFI_COMPOSER_KEYPRESS_LATENCY:return c("qpl")._(3735625,"7813")}}g.makeTrackingID=l;g.startInteraction=a;g.endInteractionAtEndOfFrame=b;g.endInteraction=m}),98);
__d("useCometUFICodedErrorDialog",["CometPlaceholder.react","JSResourceForInteraction","SilenceableErrorMessageUtils","lazyLoadComponent","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.useState,k=c("lazyLoadComponent")(c("JSResourceForInteraction")("CometUFICodedErrorDialog.react").__setRef("useCometUFICodedErrorDialog"));function a(){var a=d("react-compiler-runtime").c(7),b=j(null),e=b[0],f=b[1];a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=function(a){a.code!=null&&f(a)},a[0]=b):b=a[0];b=b;var g;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(g=function(){return f(null)},a[1]=g):g=a[1];g=g;if(e==null){var h;a[2]===Symbol["for"]("react.memo_cache_sentinel")?(h={errorDialog:null,setError:b},a[2]=h):h=a[2];return h}if(a[3]!==e){h=d("SilenceableErrorMessageUtils").getMetadataFromError(e);h=d("SilenceableErrorMessageUtils").shouldHideErrorMessage(h)?null:i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(i.Fragment,{}),children:i.jsx(k,{error:e,onClose:g})});a[3]=e;a[4]=h}else h=a[4];a[5]!==h?(g={errorDialog:h,setError:b},a[5]=h,a[6]=g):g=a[6];return g}g["default"]=a}),98);
__d("DataAttributeUtils",["cr:6669","vulture"],(function(a,b,c,d,e,f){var g=[];function h(a,b){a=a;while(a){if(b(a))return a;a=a.parentNode}return null}function i(a,b){a=h(a,function(a){return a instanceof Element&&!!a.getAttribute(b)});return a instanceof Element?a:null}var j={LEGACY_CLICK_TRACKING_ATTRIBUTE:"data-ft",CLICK_TRACKING_DATASTORE_KEY:"data-ft",ENABLE_STORE_CLICK_TRACKING:"data-fte",IMPRESSION_TRACKING_CONFIG_ATTRIBUTE:"data-xt-vimp",IMPRESSION_TRACKING_CONFIG_DATASTORE_KEY:"data-xt-vimp",REMOVE_LEGACY_TRACKING:"data-ftr",getDataAttribute:function(a,b){return k[b]?k[b](a):a.getAttribute(b)},setDataAttribute:function(a,c,d){b("vulture")("4Lu3FLmMjrQLLrcn2EWCQmlxy8I=");return l[c]?l[c](a,d):a.setAttribute(c,d)},getDataFt:function(a){if(a.getAttribute(j.ENABLE_STORE_CLICK_TRACKING)){var c=b("cr:6669").get(a,j.CLICK_TRACKING_DATASTORE_KEY);c||(c=j.moveClickTrackingToDataStore(a,a.getAttribute(j.REMOVE_LEGACY_TRACKING)));return c}return a.getAttribute(j.LEGACY_CLICK_TRACKING_ATTRIBUTE)},setDataFt:function(a,c){b("vulture")("udipsc6pHDBpYf1B82yT_X07kUQ=");if(a.getAttribute(j.ENABLE_STORE_CLICK_TRACKING)){b("cr:6669").set(a,j.CLICK_TRACKING_DATASTORE_KEY,c);return}a.setAttribute(j.LEGACY_CLICK_TRACKING_ATTRIBUTE,c)},moveXTVimp:function(a){j.moveAttributeToDataStore(a,j.IMPRESSION_TRACKING_CONFIG_ATTRIBUTE,j.IMPRESSION_TRACKING_CONFIG_DATASTORE_KEY),g.push(a.id)},getXTrackableElements:function(){var a=g.map(function(a){return document.getElementById(a)}).filter(function(a){return!!a}),b=document.querySelectorAll("[data-xt-vimp]");for(var c=0;c<b.length;c++)a.push(b[c]);return a},getDataAttributeGeneric:function(a,c,d){d=b("cr:6669").get(a,d);return d!==void 0?d:a.getAttribute(c)},moveAttributeToDataStore:function(a,c,d){var e=a.getAttribute(c);e&&(b("cr:6669").set(a,d,e),a.removeAttribute(c))},moveClickTrackingToDataStore:function(a,c){var d=a.getAttribute(j.LEGACY_CLICK_TRACKING_ATTRIBUTE);d&&(b("cr:6669").set(a,j.CLICK_TRACKING_DATASTORE_KEY,d),c&&a.removeAttribute(j.LEGACY_CLICK_TRACKING_ATTRIBUTE));return d},getClickTrackingParent:function(a){a=i(a,j.LEGACY_CLICK_TRACKING_ATTRIBUTE)||i(a,j.ENABLE_STORE_CLICK_TRACKING);return a},getClickTrackingElements:function(a){b("vulture")("UD4mgJGkBuRrGcZUyC1Vmuz5VdU=");return a.querySelectorAll("["+j.LEGACY_CLICK_TRACKING_ATTRIBUTE+"], ["+j.ENABLE_STORE_CLICK_TRACKING+"]")},getParentByAttributeOrDataStoreKey:function(a,c,d){while(a&&(!a.getAttribute||!a.getAttribute(c))&&b("cr:6669").get(a,d)===void 0)a=a.parentNode;return a}},k={"data-ft":j.getDataFt,"data-xt-vimp":function(a){return j.getDataAttributeGeneric(a,"data-xt-vimp","data-xt-vimp")},"data-ad":function(a){return j.getDataAttributeGeneric(a,"data-ad","data-ad")},"data-xt":function(a){return j.getDataAttributeGeneric(a,"data-xt","data-xt")}},l={"data-ft":j.setDataFt,"data-xt":function(a,c){b("vulture")("1Ugsn9aTvy7Oqk3EO6sw5w69Kt0="),b("cr:6669").set(a,"data-xt",c)}};e.exports=j}),null);
__d("getContextualParent",["ge"],(function(a,b,c,d,e,f,g){function a(a,b){b===void 0&&(b=!1);var d=!1;a=a;do{if(a instanceof Element){var e=a.getAttribute("data-ownerid");if(e){a=c("ge")(e);d=!0;continue}}a=a.parentNode}while(b&&a&&!d);return a}g["default"]=a}),98);
__d("collectDataAttributes",["DataAttributeUtils","getContextualParent"],(function(a,b,c,d,e,f){var g="normal";function a(a,c,d){var e={},f=[],h=c.length,i;for(i=0;i<h;++i)e[c[i]]={},f.push("data-"+c[i]);if(d){e[g]={};for(i=0;i<(d||[]).length;++i)f.push(d[i])}d={tn:"","tn-debug":","};a=a;while(a){if(a.getAttribute)for(i=0;i<f.length;++i){var j=f[i],k=b("DataAttributeUtils").getDataAttribute(a,j);if(k){if(i>=h){e[g][j]===void 0&&(e[g][j]=k);continue}j=JSON.parse(k);for(k in j)d[k]!==void 0?(e[c[i]][k]===void 0&&(e[c[i]][k]=[]),e[c[i]][k].push(j[k])):e[c[i]][k]===void 0&&(e[c[i]][k]=j[k])}}a=b("getContextualParent")(a)}for(k in e)for(j in d)e[k][j]!==void 0&&(e[k][j]=e[k][j].join(d[j]));return e}e.exports=a}),null);
__d("getReferrerURI",["ErrorGuard","URI","isFacebookURI"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function b(){if(a.PageTransitions&&a.PageTransitions.isInitialized())return a.PageTransitions.getReferrerURI();else{var b=(h||(h=c("ErrorGuard"))).applyWithGuard(function(a){return(i||(i=c("URI"))).tryParseURI(a)},null,[document.referrer]);return b&&c("isFacebookURI")(b)?b:null}}g["default"]=b}),98);
__d("useCometTrackingCodeForMutationProperties",["CometTrackingCodeContext","getReferrerURI","react","react-compiler-runtime","useMigrateURLParamsToRouteParams"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext;b.useMemo;function a(){var a=d("react-compiler-runtime").c(9),b=c("useMigrateURLParamsToRouteParams")();if(a[0]===Symbol["for"]("react.memo_cache_sentinel")){var e=c("getReferrerURI")();e=e?e.getPath():void 0;a[0]=e}else e=a[0];e=e;var f=i(c("CometTrackingCodeContext")),g=b.notif_id;b=b.notif_t;var h=null;if(g!=null){var j;a[1]!==g||a[2]!==b?(j=JSON.stringify({alert_id:g,notif_source:"notif_tab",notif_type:b}),a[1]=g,a[2]=b,a[3]=j):j=a[3];h=j}a[4]!==h||a[5]!==f.encrypted_tracking?(g=h!=null?[h].concat(f.encrypted_tracking):f.encrypted_tracking,a[4]=h,a[5]=f.encrypted_tracking,a[6]=g):g=a[6];b=g;a[7]!==b?(j={feedback_referrer:e,is_tracking_encrypted:!0,tracking:b},a[7]=b,a[8]=j):j=a[8];h=j;return h}g["default"]=a}),98);
__d("useTrackingCodeFnForComet",["react","react-compiler-runtime","useCometTrackingCodeForMutationProperties"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(){var a=d("react-compiler-runtime").c(2),b=c("useCometTrackingCodeForMutationProperties")(),e;a[0]!==b?(e=function(){return b},a[0]=b,a[1]=e):e=a[1];return e}g["default"]=a}),98);
__d("useTriggeredStoryCTAHandler",["CometFeedStoryCallToActionTriggerContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useContext;function a(){var a=d("react-compiler-runtime").c(4),b=i(c("CometFeedStoryCallToActionTriggerContext")),e;a[0]!==b?(e=function(a){var c=Object.prototype.hasOwnProperty.call(b.triggeredBumperRegistry,a);c&&b.setTriggeredEvent(a)},a[0]=b,a[1]=e):e=a[1];e=e;var f;a[2]!==e?(f=[e],a[2]=e,a[3]=f):f=a[3];return f}g["default"]=a}),98);
__d("CometVideoTimeIndexEntityRenderer_entity.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{mask:!1},name:"CometVideoTimeIndexEntityRenderer_entity",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"time_index",storageKey:null}],type:"VideoTimeIndex",abstractKey:null}],type:"Entity",abstractKey:"__isEntity"};e.exports=a}),null);
__d("CometVideoTimeIndexEntityRenderer",["CometLink.react","CometVideoTimeIndexEntityRenderer_entity.graphql","react","react-compiler-runtime","useCometUFIVideoPlayerStateAndController"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");h!==void 0?h:h=b("CometVideoTimeIndexEntityRenderer_entity.graphql");function k(a){var b=d("react-compiler-runtime").c(8),e=a.entity;a=a.node;var f=c("useCometUFIVideoPlayerStateAndController")();if(e.time_index==null||f==null)return a;var g;b[0]!==e.time_index||b[1]!==f?(g=function(){e.time_index!=null&&f.controller.seek(e.time_index)},b[0]=e.time_index,b[1]=f,b[2]=g):g=b[2];var h;b[3]!==a?(h=j.jsx("strong",{children:a}),b[3]=a,b[4]=h):h=b[4];b[5]!==g||b[6]!==h?(a=j.jsx(c("CometLink.react"),{onClick:g,ref:l,children:h}),b[5]=g,b[6]=h,b[7]=a):a=b[7];return a}function l(a){var b=null;a&&(a.onmousedown=function(){b=document.activeElement},a.onmouseup=function(){a.blur(),b&&b.focus()})}a=function(a,b){return j.jsx(k,{entity:b,node:a})};g["default"]=a}),98);
__d("UFI2RealtimeContext",["react","warning"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(function(){c("warning")(!1,"UFI2RealtimeContext: Using default context. Put an instance of `UFI2RealtimeRoot` in the tree.");return{dispose:function(){}}});e=b;g["default"]=e}),98);
__d("UFI2RealtimeContainer.react",["UFI2RealtimeContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext,k=b.useEffect;function a(a){var b=a.children;a=a.subscribe;var d=j(c("UFI2RealtimeContext"));return i.jsx(l,{factory:d,subscribe:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function l(a){var b=a.factory,c=a.subscribe;a=a.children;k(function(){var a=b(new m(c));return function(){a.dispose()}},[b,c]);return a!=null?a:null}l.displayName=l.name+" [from "+f.id+"]";var m=function(){function a(a){this.$1=a}var b=a.prototype;b.subscribe=function(){this.$2||(this.$2=this.$1())};b.unsubscribe=function(){this.$2&&(this.$2.dispose(),this.$2=null)};return a}();g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("CometNotificationsActionsMenu.react",["fbt","ix","FDSCheckmarkOutline20Icon","FDSMenu.react","FDSMenuItem.react","FDSSettingsOutline20Icon","XCometNotificationsControllerRouteBuilder","XCometSettingsControllerRouteBuilder","fbicon","gkx","react","requireDeferred","useCometRouterState"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l=c("requireDeferred")("NotifSeeAllFalcoEvent").__setRef("CometNotificationsActionsMenu.react");function a(a){var b,e,f=a.actorId,g=a.notificationsListRef,j=a.onSeeAllClick;a=c("useCometRouterState")();a=(a==null?void 0:a.main.route.tabKey)==="notifications";var m=function(){g.current!=null&&g.current.markAllNotificationsAsRead!=null&&g.current.markAllNotificationsAsRead()},n=function(){g.current!=null&&g.current.handleDebugModeClick!=null&&g.current.handleDebugModeClick()},o=g==null||(b=g.current)==null||(b=b.debugModeEnabled)==null?void 0:b.current;e=(e=c("gkx")("23784"))!=null?e:!1;return k.jsxs(c("FDSMenu.react"),{"aria-label":h._(/*BTDS*/"Notifications list actions"),withArrow:!0,children:[k.jsx(c("FDSMenuItem.react"),{icon:c("FDSCheckmarkOutline20Icon"),onClick:m,primaryText:h._(/*BTDS*/"Mark all as read"),testid:void 0}),k.jsx(c("FDSMenuItem.react"),{href:c("XCometSettingsControllerRouteBuilder").buildURL({tab:"notifications"}),icon:c("FDSSettingsOutline20Icon"),primaryText:h._(/*BTDS*/"Notification settings")}),e?k.jsx(c("FDSMenuItem.react"),{icon:d("fbicon")._(i("874274"),20),onClick:n,primaryText:"[FB Only] "+(o===!0?"Disable":"Enable")+" Debug Mode"}):null,!a&&c("gkx")("23785")?k.jsx(c("FDSMenuItem.react"),{href:c("XCometNotificationsControllerRouteBuilder").buildURL({}),icon:d("fbicon")._(i("1529371"),20),onClick:function(){j&&j(),l.onReady(function(a){a=a.log;return a(function(){return{notification_data:{user_id:f},ref:"www_tab"}})})},primaryText:h._(/*BTDS*/"Open Notifications")}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("CometNotificationsRankingErrorFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743388");b=d("FalcoLoggerInternal").create("comet_notifications_ranking_error",a);e=b;g["default"]=e}),98);
__d("CometNotificationsReceiveLiveQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9784489068321501"}),null);
__d("CometNotificationsReceiveLiveQuery.graphql",["CometTextWithEntitiesRelay_textWithEntities$normalization.graphql","CometNotificationsReceiveLiveQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"count"},c={defaultValue:null,kind:"LocalArgument",name:"environment"},d={defaultValue:null,kind:"LocalArgument",name:"filter_tokens"},e={defaultValue:null,kind:"LocalArgument",name:"notif_cache_ids"},f={defaultValue:null,kind:"LocalArgument",name:"refresh_num"},g={defaultValue:null,kind:"LocalArgument",name:"scale"},h={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},j=[i],k=[{kind:"Variable",name:"environment_alias_override",variableName:"environment"},{kind:"Variable",name:"filter_tokens",variableName:"filter_tokens"},{kind:"Variable",name:"first",variableName:"count"},{kind:"Variable",name:"notif_cache_ids",variableName:"notif_cache_ids"},{kind:"Literal",name:"notif_query_flags",value:["IS_COMET","INCLUDE_WA_P2B_NOTIFS"]},{kind:"Literal",name:"source",value:"unknown"}],l={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},m=[l],n={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:m,storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"tracking",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"prefetch_score",storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"notif_id",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"notif_cache_id",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"seen_state",storageKey:null},t={alias:"creation_time",args:null,concreteType:"CreationTimeWithRelativeText",kind:"LinkedField",name:"creation_time_with_relative_text",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"timestamp",storageKey:null}],storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"notif_type",storageKey:null};return{fragment:{argumentDefinitions:[a,c,d,e,f,g],kind:"Fragment",metadata:null,name:"CometNotificationsReceiveLiveQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometNotificationsReceiveLiveQuery_notificationsListViewer"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,d,g,e,a,f],kind:"Operation",name:"CometNotificationsReceiveLiveQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[h,{kind:"TypeDiscriminator",abstractKey:"__isActor"},i,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"environment",value:"COMET"},{kind:"Literal",name:"query_ego_units",value:!1},{kind:"Variable",name:"refresh_num",variableName:"refresh_num"}],concreteType:"SideFeedConnection",kind:"LinkedField",name:"side_feed",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[h,{kind:"InlineFragment",selections:[{args:null,documentName:"CometRightSideHeaderCards_viewerSideFeed",fragmentName:"PagesCometHomeAdminContainer_pagesPanel",fragmentPropName:"pagesPanel",kind:"ModuleImport"}],type:"PagesSideFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometRightSideHeaderCards_viewerSideFeed",fragmentName:"FriendingCometHomeInlineRHCContainer_friendsPanel",fragmentPropName:"friendsPanel",kind:"ModuleImport"}],type:"FriendingRequestsSideFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometRightSideHeaderCards_viewerSideFeed",fragmentName:"CometHomeRemindersContainer_reminderPanel",fragmentPropName:"reminderPanel",kind:"ModuleImport"}],type:"RemindersSideFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:j,type:"Node",abstractKey:"__isNode"},{kind:"InlineFragment",selections:j,type:"AdsSideFeedUnitItem",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Variable",name:"environment",variableName:"environment"}],kind:"ScalarField",name:"notifications_unseen_count",storageKey:null},{alias:null,args:k,concreteType:"ViewerNotificationsPageConnection",kind:"LinkedField",name:"notifications_page",plural:!1,selections:[{alias:null,args:null,concreteType:"NotifPageFilterConfig",kind:"LinkedField",name:"filter_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"selected_filter_tokens",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"filters",plural:!0,selections:[h,{kind:"InlineFragment",selections:[n,{alias:null,args:null,kind:"ScalarField",name:"notif_filter_token",storageKey:null}],type:"NotifPageSingleFilter",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"query_id",storageKey:null},{alias:null,args:null,concreteType:"ViewerNotificationsPageEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[h,{alias:null,args:null,kind:"ScalarField",name:"row_type",storageKey:null},o,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"bucket_type",storageKey:null},{alias:null,args:null,concreteType:"NotifPageBucketHeaderLink",kind:"LinkedField",name:"header_link",plural:!1,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},n],type:"NotifPageBucketHeaderRow",abstractKey:null},{kind:"InlineFragment",selections:[p,{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notif",plural:!1,selections:[q,i,r,s,t,o],storageKey:null}],type:"NotifPageCachedNotificationRow",abstractKey:null},{kind:"InlineFragment",selections:[p,{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notif",plural:!1,selections:[q,s,i,r,{alias:null,args:null,kind:"ScalarField",name:"notif_tags",storageKey:null},o,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"notif_attachments",plural:!0,selections:[h,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"sound_urls",storageKey:null}],type:"NotifSoundAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemFriendRequestAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"FriendRequestNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemInlineCTAAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"InlineCTACometNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemPageInviteAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"PageInviteNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemQuickPromotionAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"QuickPromotionNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemInlineSurveyAttachment_attachment",fragmentPropName:"attachment",kind:"ModuleImport"},{alias:null,args:null,concreteType:"StructuredSurveySession",kind:"LinkedField",name:"inline_survey",plural:!1,selections:[h],storageKey:null}],type:"InlineSurveyNotifAttachment",abstractKey:null}],storageKey:null},t,u,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"body",plural:!1,selections:[{args:null,fragment:b("CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"),kind:"FragmentSpread"},l],storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:56},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:56}],concreteType:"Image",kind:"LinkedField",name:"notif_image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"site",value:"comet"}],kind:"ScalarField",name:"url",storageKey:'url(site:"comet")'},{alias:null,args:null,kind:"ScalarField",name:"cache_timestamp",storageKey:null},{alias:null,args:null,concreteType:"GlyphIconData",kind:"LinkedField",name:"icon_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"glyph_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"glyph_icon_url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"NotificationContextInfo",kind:"LinkedField",name:"context_info",plural:!1,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"short_text",plural:!1,selections:m,storageKey:null},{alias:null,args:null,concreteType:"XFBUfiIconsAndCounts",kind:"LinkedField",name:"ufi_icons_and_counts",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"ufi_counts",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ufi_icon_name",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"NotifNavigationEndpoint",kind:"LinkedField",name:"navigation_endpoint",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"44kVfU"}],concreteType:null,kind:"LinkedField",name:"comet_custom_renderer",plural:!1,selections:[h,{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometTopFansFanNotificationListItem_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"TopFansFanNotificationRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometRisingFanNotificationListItem_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"RisingFanNotificationRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometCrossProfileNotificationsListItem_cpnInfo",fragmentPropName:"cpnInfo",kind:"ModuleImport"}],type:"CrossProfileNotificationInfo",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometBusinessMessageNotificationListItem_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"BusinessMessageNotificationRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometGroupsNotificationsListItem_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"GroupsNotificationRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometXIPaidexNotificationsListItem_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"XIPaidexNotificationRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometAPPlusPostWaitlistNotificationsListItem_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"APPlusPostWaitlistNotificationRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometCustomBadgeNameIsLiveNotificationListItem_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CreatorCustomBadgeNameIsLiveNotificationRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometCreatorCustomBadgeUserUpgradeNotificationListItem_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CreatorCustomBadgeUserUpgradeNotificationRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometFXFetaUpgradeSuccessNotificationListItem_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"FXFetaUpgradeSuccessNotificationRenderer",abstractKey:null}],storageKey:'comet_custom_renderer(supported:"44kVfU")'}],storageKey:null},{kind:"ClientExtension",selections:[{alias:"id_for_entrypoint",args:null,kind:"ScalarField",name:"__id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_hidden",storageKey:null}]}],storageKey:null}],type:"NotifPageNotificationRow",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"invalidation_reason",storageKey:null},{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notif",plural:!1,selections:[q,u,i],storageKey:null}],type:"NotifPageDebugInvalidationRow",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"see_previous_text",storageKey:null}],type:"NotifPageSeePreviousButtonRow",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:null},{alias:null,args:k,filters:["environment_alias_override"],handle:"comet_notifications_thin_client",key:"CometNotificationsList_notifications_page",kind:"LinkedHandle",name:"notifications_page"},{alias:null,args:null,kind:"ScalarField",name:"last_update_timestamp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"notifications_sound_path",storageKey:null},{alias:null,args:[{kind:"Literal",name:"promptType",value:"FOOTER"},{kind:"Literal",name:"surface",value:"JEWEL_COMET"}],concreteType:"XFBCometPushTurnOnStatus",kind:"LinkedField",name:"comet_push_turn_on_status",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_comet_push_turn_on_eligible",storageKey:null}],storageKey:'comet_push_turn_on_status(promptType:"FOOTER",surface:"JEWEL_COMET")'},{alias:null,args:null,concreteType:"BrowserPushConfig",kind:"LinkedField",name:"browser_push_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"browser_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"service_worker_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"app_id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("CometNotificationsReceiveLiveQuery_facebookRelayOperation"),metadata:{live:{config_id:"comet_notifications_live_query_experimental"}},name:"CometNotificationsReceiveLiveQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometNotificationsReceiveLiveQuery_notificationsListViewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"count"},{kind:"RootArgument",name:"environment"},{kind:"RootArgument",name:"filter_tokens"},{kind:"RootArgument",name:"notif_cache_ids"}],kind:"Fragment",metadata:null,name:"CometNotificationsReceiveLiveQuery_notificationsListViewer",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometToastNotification_actor"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CometRightSideHeaderCards_viewerSideFeed"},{alias:null,args:[{kind:"Variable",name:"environment",variableName:"environment"}],kind:"ScalarField",name:"notifications_unseen_count",storageKey:null},{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"filter_tokens",variableName:"filter_tokens"},{kind:"Variable",name:"notif_cache_ids",variableName:"notif_cache_ids"}],kind:"FragmentSpread",name:"CometNotificationsList_viewerConnection"},{args:null,kind:"FragmentSpread",name:"CometNotificationsList_viewerData"},{alias:null,args:null,kind:"ScalarField",name:"last_update_timestamp",storageKey:null}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("requestLiveQueryExperimental",["invariant","LiveQueryEventsLoggingResolver","ODS","RelayAPIConfig","RelayGraphQLRequestUtils","makeGraphQLLiveQueryRequest","nullthrows","promiseDone","relay-runtime","relay-runtime/store/RelayConcreteVariables"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function j(a,b){var e={access_token:c("RelayAPIConfig").accessToken,actor_id:c("RelayAPIConfig").actorID,config_id:c("nullthrows")(a.params.metadata.live.config_id,"config_id should not be null")};a={doc_id:c("nullthrows")(a.params.id,"id in request params should not be null"),operation_name:a.params.name,config_id:e.config_id,actor_id:e.actor_id,variables:b};e.access_token!==""&&(a=babelHelpers["extends"]({},a,{access_token:e.access_token}));b=d("LiveQueryEventsLoggingResolver").tempResolveLoggingContext();b!=null&&(a=babelHelpers["extends"]({},a,{logging_context:b}));return a}function a(a,b){var e=b.query;b=b.variables;var f=d("relay-runtime").getRequest(e);e=k(f,b);var g=j(f,e),l,m=e;e=d("relay-runtime").createOperationDescriptor(f,b);b=d("relay-runtime").Observable.create(function(a){l=c("makeGraphQLLiveQueryRequest")(g).onResponse(function(b){var e;try{e=c("RelayGraphQLRequestUtils").parsePayload(b),typeof e==="object"||h(0,12937)}catch(b){(i||(i=d("ODS"))).bumpEntityKey(97,"comet_notifications.new_notification","lq.receive_invalid_payload");return a.error(b)}if(!("errors"in e)&&!("data"in e)){(i||(i=d("ODS"))).bumpEntityKey(97,"comet_notifications.new_notification","lq.receive_empty_response");return a.error(d("relay-runtime").RelayError.createWarning("EmptyResponseError","Parsed network response is empty"))}if(e.errors)for(b of e.errors)if(b.severity==="CRITICAL"){var f=c("RelayGraphQLRequestUtils").createErrorFromPayload(b);(i||(i=d("ODS"))).bumpEntityKey(97,"comet_notifications.new_notification","lq.receive_critical_error");return a.error(f)}a.closed||((i||(i=d("ODS"))).bumpEntityKey(97,"comet_notifications.new_notification","lq.receive_notification"),a.next(e))}).onRetryUpdateRequestBody(function(){return JSON.stringify({variables:m})}).send();return function(){c("promiseDone")(l,function(a){a.cancel()})}});a.executeWithSource({operation:e,source:b}).subscribe({});var n=!1,o;return{dispose:function(){!n&&l!=null&&(c("promiseDone")(l,function(a){a.cancel()}),n=!0)},updateVariables:function(a){if(!n&&l!=null){o=a;c("promiseDone")(l,function(a){if(o!=null&&!n){var b=k(f,o);a.amendExperimental({new_variables:b});m=b;o=null}});return!0}return!1}}}function k(a,b){return d("relay-runtime/store/RelayConcreteVariables").getOperationVariables(a.operation,a.params.providedVariables,b)}g["default"]=a}),98);
__d("CometNotificationsReceiveLiveQuery",["CometNotificationsReceiveLiveQuery.graphql","CometNotificationsReceiveLiveQuery_notificationsListViewer.graphql","requestLiveQueryExperimental"],(function(a,b,c,d,e,f,g){"use strict";var h,i;h!==void 0?h:h=b("CometNotificationsReceiveLiveQuery_notificationsListViewer.graphql");var j=i!==void 0?i:i=b("CometNotificationsReceiveLiveQuery.graphql");function a(a,b){return c("requestLiveQueryExperimental")(a,{query:j,variables:b})}g.subscribeToNotificationUpdates=a}),98);
__d("CometSeeMoreButtonClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6039");b=d("FalcoLoggerInternal").create("comet_see_more_button_click",a);e=b;g["default"]=e}),98);
__d("CometSeeMoreButtonImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6040");b=d("FalcoLoggerInternal").create("comet_see_more_button_impression",a);e=b;g["default"]=e}),98);
__d("FDSRefreshLeftFilled16PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("534218"),16);b=a;g["default"]=b}),98);
__d("GriffinTabOpenFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743657");b=d("FalcoLoggerInternal").create("griffin_tab_open",a);e=b;g["default"]=e}),98);
__d("NoNotificationsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1894842");b=d("FalcoLoggerInternal").create("no_notifications",a);e=b;g["default"]=e}),98);
__d("NotifDebugModeFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1836246");b=d("FalcoLoggerInternal").create("notif_debug_mode",a);e=b;g["default"]=e}),98);
__d("NotifFilterClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1836768");b=d("FalcoLoggerInternal").create("notif_filter_click",a);e=b;g["default"]=e}),98);
__d("NotifFilterImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1871");b=d("FalcoLoggerInternal").create("notif_filter_impression",a);e=b;g["default"]=e}),98);
__d("NotifListBottomCollisionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744067");b=d("FalcoLoggerInternal").create("notif_list_bottom_collision",a);e=b;g["default"]=e}),98);
__d("NotifSeeAllFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1836151");b=d("FalcoLoggerInternal").create("notif_see_all",a);e=b;g["default"]=e}),98);
__d("OpenJewelOptionsMenuFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1836319");b=d("FalcoLoggerInternal").create("open_jewel_options_menu",a);e=b;g["default"]=e}),98);